{"version":3,"sources":["webpack://AlloyEditor/webpack/bootstrap","webpack://AlloyEditor/./node_modules/react/index.js","webpack://AlloyEditor/./src/components/buttons/button-icon.jsx","webpack://AlloyEditor/./src/adapter/editor-context.js","webpack://AlloyEditor/./src/components/base/button-state-classes.js","webpack://AlloyEditor/./src/components/base/button-command.js","webpack://AlloyEditor/./src/oop/lang.js","webpack://AlloyEditor/./src/components/base/button-style.js","webpack://AlloyEditor/./node_modules/react-dom/index.js","webpack://AlloyEditor/./src/components/base/widget-focus-manager.js","webpack://AlloyEditor/./src/components/base/button-command-active.js","webpack://AlloyEditor/./src/components/base/button-props.js","webpack://AlloyEditor/./src/components/buttons/button-dropdown.jsx","webpack://AlloyEditor/./node_modules/prop-types/index.js","webpack://AlloyEditor/./src/components/base/button-keystroke.js","webpack://AlloyEditor/./src/components/buttons/button-commands-list.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles-list.jsx","webpack://AlloyEditor/./src/components/base/button-action-style.js","webpack://AlloyEditor/./src/selections/selection-test.js","webpack://AlloyEditor/./src/oop/oop.js","webpack://AlloyEditor/./src/components/base/widget-exclusive.js","webpack://AlloyEditor/./src/components/buttons/button-link-edit.jsx","webpack://AlloyEditor/./src/components/base/widget-dropdown.js","webpack://AlloyEditor/./src/plugins/index.js","webpack://AlloyEditor/./node_modules/object-assign/index.js","webpack://AlloyEditor/./src/oop/attribute.js","webpack://AlloyEditor/./src/selections/selections.js","webpack://AlloyEditor/./src/selections/selection-arrowbox.js","webpack://AlloyEditor/./src/selections/selection-position.js","webpack://AlloyEditor/./src/components/buttons/button-styles-list-item.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles-list-item-remove.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles-list-header.jsx","webpack://AlloyEditor/./src/components/buttons/button-camera-image.jsx","webpack://AlloyEditor/./src/components/buttons/button-command-list-item.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed-edit.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed-video-edit.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-autocomplete-list.jsx","webpack://AlloyEditor/./src/components/buttons/button-link.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-target-edit.jsx","webpack://AlloyEditor/./src/components/buttons/button-target-list.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-edit-browse.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-edit.jsx","webpack://AlloyEditor/./src/components/base/toolbar-buttons.js","webpack://AlloyEditor/./src/components/base/widget-arrow-box.js","webpack://AlloyEditor/./src/components/base/widget-position.js","webpack://AlloyEditor/./src/adapter/main.js","webpack://AlloyEditor/./src/adapter/core.js","webpack://AlloyEditor/./src/core/index.js","webpack://AlloyEditor/./src/core/debounce.js","webpack://AlloyEditor/./src/core/link.js","webpack://AlloyEditor/./src/core/plugins.js","webpack://AlloyEditor/./src/core/selection-region.js","webpack://AlloyEditor/./src/core/table.js","webpack://AlloyEditor/./src/core/tools.js","webpack://AlloyEditor/./src/core/uicore.js","webpack://AlloyEditor/./src/plugins/addimages.js","webpack://AlloyEditor/./src/plugins/autolink.js","webpack://AlloyEditor/./src/plugins/autolist.js","webpack://AlloyEditor/./src/plugins/dragresize.js","webpack://AlloyEditor/./src/plugins/dragresize_ie.js","webpack://AlloyEditor/./src/plugins/dragresize_ie11.js","webpack://AlloyEditor/./src/plugins/embed.js","webpack://AlloyEditor/./src/plugins/priorities.js","webpack://AlloyEditor/./src/plugins/embedurl.js","webpack://AlloyEditor/./src/plugins/Resizer.es.js","webpack://AlloyEditor/./src/plugins/DragEvent.es.js","webpack://AlloyEditor/./src/plugins/imagealignment.js","webpack://AlloyEditor/./src/plugins/pasteimages.js","webpack://AlloyEditor/./src/plugins/placeholder.js","webpack://AlloyEditor/./src/plugins/selectionkeystrokes.js","webpack://AlloyEditor/./src/plugins/tableresize.js","webpack://AlloyEditor/./src/plugins/tabletools.js","webpack://AlloyEditor/./src/components/uibridge/index.js","webpack://AlloyEditor/./src/components/uibridge/button.jsx","webpack://AlloyEditor/./node_modules/react/cjs/react.production.min.js","webpack://AlloyEditor/./src/components/uibridge/menu-button.jsx","webpack://AlloyEditor/./node_modules/react-dom/cjs/react-dom.production.min.js","webpack://AlloyEditor/./node_modules/scheduler/index.js","webpack://AlloyEditor/./node_modules/scheduler/cjs/scheduler.production.min.js","webpack://AlloyEditor/(webpack)/buildin/global.js","webpack://AlloyEditor/./src/components/uibridge/menu.jsx","webpack://AlloyEditor/./src/components/uibridge/panel-menu-button.jsx","webpack://AlloyEditor/./src/components/uibridge/richcombo.jsx","webpack://AlloyEditor/./src/components/uibridge/uibridge.js","webpack://AlloyEditor/./src/oop/base.js","webpack://AlloyEditor/./src/components/main.jsx","webpack://AlloyEditor/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://AlloyEditor/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://AlloyEditor/./src/commands/index.js","webpack://AlloyEditor/./src/commands/remove-image.js","webpack://AlloyEditor/./src/components/buttons/index.js","webpack://AlloyEditor/./src/components/buttons/button-accessibility-image-alt.jsx","webpack://AlloyEditor/./src/components/buttons/button-background-color.jsx","webpack://AlloyEditor/./src/components/buttons/button-bold.jsx","webpack://AlloyEditor/./src/components/buttons/button-camera.jsx","webpack://AlloyEditor/./src/components/buttons/button-code.jsx","webpack://AlloyEditor/./src/components/buttons/button-color.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed-video.jsx","webpack://AlloyEditor/./src/components/buttons/button-h1.jsx","webpack://AlloyEditor/./src/components/buttons/button-h2.jsx","webpack://AlloyEditor/./src/components/buttons/button-hline.jsx","webpack://AlloyEditor/./src/components/buttons/button-image-align-center.jsx","webpack://AlloyEditor/./src/components/buttons/button-image-align-left.jsx","webpack://AlloyEditor/./src/components/buttons/button-image-align-right.jsx","webpack://AlloyEditor/./src/components/buttons/button-image.jsx","webpack://AlloyEditor/./src/components/buttons/button-indent-block.jsx","webpack://AlloyEditor/./src/components/buttons/button-italic.jsx","webpack://AlloyEditor/./src/components/buttons/button-item-selector-audio.jsx","webpack://AlloyEditor/./src/components/buttons/button-item-selector-image.jsx","webpack://AlloyEditor/./src/components/buttons/button-item-selector-video.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-browse.jsx","webpack://AlloyEditor/./src/components/buttons/button-ol.jsx","webpack://AlloyEditor/./src/components/buttons/button-outdent-block.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-align.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-align-left.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-align-right.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-center.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-justify.jsx","webpack://AlloyEditor/./src/components/buttons/button-quote.jsx","webpack://AlloyEditor/./src/components/buttons/button-remove-format.jsx","webpack://AlloyEditor/./src/components/buttons/button-remove-image.jsx","webpack://AlloyEditor/./src/components/buttons/button-separator.jsx","webpack://AlloyEditor/./src/components/buttons/button-spacing.jsx","webpack://AlloyEditor/./src/components/buttons/button-strike.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles.jsx","webpack://AlloyEditor/./src/components/buttons/button-subscript.jsx","webpack://AlloyEditor/./src/components/buttons/button-superscript.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-cell.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-column.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-heading.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-remove.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-row.jsx","webpack://AlloyEditor/./src/components/buttons/button-table.jsx","webpack://AlloyEditor/./src/components/buttons/button-twitter.jsx","webpack://AlloyEditor/./src/components/buttons/button-ul.jsx","webpack://AlloyEditor/./src/components/buttons/button-underline.jsx","webpack://AlloyEditor/./src/components/toolbars/index.js","webpack://AlloyEditor/./src/components/toolbars/toolbar-add.jsx","webpack://AlloyEditor/./src/components/toolbars/toolbar-styles.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ButtonIcon","_react","_editorContext","_ref","symbol","_ref$className","className","undefined","_react2","default","createElement","_editorContext2","Consumer","_ref2","editor","nativeEditor","spritemap","config","path","classNamePrefix","combinedClassName","width","height","href","EditorContext","React","createContext","toProps","Component","forwardingComponent","forwardRef","props","ref","context","_extends","_lang","WrappedComponent","_WrappedComponent","ButtonStateClasses","_classCallCheck","this","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","arguments","_inherits","_createClass","stateClasses","Lang","isFunction","isActive","isDisabled","_class","_temp2","ButtonCommand","_temp","_this","_ret","_len","length","args","Array","_key","concat","execCommand","data","command","modifiesSelection","selectionChange","fire","contextType","isArray","toString","isBoolean","isNull","isNumber","isFinite","isObject","valueType","_typeof","isString","mix","receiver","supplier","toInt","parseInt","ButtonStyle","_get","style","parts","split","currentMember","shift","_style","CKEDITOR","elementPath","getStyle","checkActive","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","_reactDom","DIRECTION_NONE","DIRECTION_NEXT","DIRECTION_PREV","ACTION_NONE","ACTION_MOVE_FOCUS","ACTION_DISMISS_FOCUS","WidgetFocusManager","focus","event","_isValidTarget","target","_descendants","activeDescendantEl","_activeDescendant","document","activeElement","focusFirstChild","indexOf","stopPropagation","preventDefault","handleKey","action","_getFocusAction","type","_moveFocus","direction","onDismiss","_refresh","keys","_getFocusMoveDirection","dismissAction","_getFocusDismissAction","dismiss","focusMoveDirection","_isValidKey","keyCode","dismissNext","dismissPrev","circular","next","prev","shifKey","element","tagName","toLowerCase","numDescendants","descendant","setAttribute","Math","max","min","domNode","ReactDOM","findDOMNode","descendants","querySelectorAll","priorityDescendants","slice","forEach","item","dataTabIndex","getAttribute","push","sort","a","b","some","index","ButtonCommandActive","getCommand","state","TRISTATE_ON","ButtonCfgProps","buttonCfg","tools","merge","_widgetFocusManager","ButtonDropdown","onFocus","onKeyDown","tabIndex","role","children","defaultProps","_widgetFocusManager2","ButtonKeystroke","keystroke","commandName","random","exec","keystrokeFn","fn","addCommand","_defaultKeystrokeCommand","keystrokeHandler","keystrokes","setKeystroke","_buttonCommandListItem","ButtonCommandsList","createRef","current","id","listId","_renderActions","commands","items","map","_buttonCommandListItem2","description","label","icon","_buttonDropdown","_buttonStylesListItem","_buttonStylesListItemRemove","_buttonStylesListHeader","ButtonStylesList","blockStyles","inlineStyles","objectStyles","styles","STYLE_BLOCK","STYLE_INLINE","STYLE_OBJECT","_blockStyles","_inlineStyles","_objectStyles","removeStylesItem","showRemoveStylesItem","_buttonStylesListItemRemove2","toggleDropdown","_buttonDropdown2","_buttonStylesListHeader2","AlloyEditor","Strings","_renderStylesItems","_this2","_buttonStylesListItem2","activeStyle","ButtonActionStyle","applyStyle","getSelection","lock","removeStyle","unlock","_isRangeAtElementEnd","range","getText","endOffset","equals","startContainer","endContainer","startOffset","embedSelectionTest","payload","selectionData","embedUrlSelectionTest","headingTextSelectionTest","headings","selectionEmpty","isSelectionEmpty","region","getCommonAncestor","isReadOnly","contains","linkSelectionTest","getRanges","Link","getFromSelection","elementIsNotImage","getName","imageSelectionTest","hasImage","findOne","isImage","textSelectionTest","tableSelectionTest","table","Table","isEditable","SelectionTest","embed","embedUrl","header","image","link","text","extend","protoProps","staticProps","Error","supplierProto","receiverProto","constructor","superclass","WidgetExclusive","requestExclusive","itemExclusive","setState","nextProps","filter","obj","itemKey","cancelExclusive","renderExclusive","_buttonProps","_buttonIcon","_buttonLinkAutocompleteList","_buttonLinkTargetEdit","_widgetDropdown","ButtonLinkEdit","_clearLink","linkHref","_focusLinkInput","_handleKeyDown","_updateLink","autocompleteSelected","advanceSelection","_handleLinkHrefChange","_handleLinkTargetChange","itemDropdown","linkTarget","_removeLink","linkUtils","selection","bookmarks","createBookmarks","remove","advance","selectBookmarks","appendProtocol","linkAttrs","modifySelection","update","linkInput","_getInitialState","manualSelection","targetSelector","allowedTargets","handleLinkTargetChange","selectedTarget","linkTargetDefault","mergeDropdownProps","ButtonLinkTargetEdit","autocompleteDropdown","dataFn","autocompleteDropdownProps","handleLinkAutocompleteClick","_handleLinkAutocompleteClick","setAutocompleteState","_setAutocompleteState","term","ButtonLinkAutocompleteList","_buttonLinkAutocompleteList2","buttonClearLink","aria-label","clearInput","onClick","title","clear","_buttonIcon2","placeholderProp","env","ie","placeholder","editLink","removeLink","disabled","showTargetSelector","_buttonLinkTargetEdit2","onChange","confirm","_isValidState","defaultLinkTarget","initialLink","instance","focusLinkEl","window","requestAnimationFrame","setTimeout","validState","selected","autocompleteUrl","customIndexStart","_buttonProps2","_widgetDropdown2","WidgetDropdown","expanded","dropdownTrigger","toggleDirection","moveFocus","_embedurl","embedurl","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","join","test3","letter","source","from","symbols","to","Attribute","__config__","__ATTRS__","attr","currentAttr","ATTRS","_isInitialized","_init","curValue","_callStringOrFunction","set","readOnly","writeOnce","validator","setter","stringOrFunction","result","_toConsumableArray","hasDefaultValue","hasPassedValueViaConfig","valueFn","_selectionArrowbox","_selectionPosition","_selectionTest","Selections","buttons","test","setPosition","SelectionSetPosition","full","simple","getArrowBoxClasses","SelectionGetArrowBoxClasses","tableSelectionGetArrowBoxClasses","DEFAULT_GUTTER","left","top","centerToolbar","toolbar","rect","toolbarNode","uiNode","body","uiNodeStyle","getComputedStyle","uiNodeMarginLeft","getPropertyValue","uiNodeMarginRight","totalWidth","clientWidth","halfNodeWidth","offsetWidth","scrollPosition","dom","getScrollPosition","gutter","widgetXY","getWidgetXYPoint","x","y","SELECTION_BOTTOM_TO_TOP","endPosition","offsetHeight","moveToPoint","imageSelectionSetPosition","editorEvent","getClientRect","tableSelectionSetPosition","scrollTop","_buttonActionStyle","_buttonStyle","ButtonStylesListItem","_onClick","styleCfg","margin","_preview","buildPreview","dangerouslySetInnerHTML","__html","_buttonActionStyle2","_buttonStyle2","ButtonStylesListItemRemove","_removeStyles","removeBlocks","blockItem","blockStyle","normal","ButtonsStylesListHeader","ButtonCameraImage","takePhoto","videoEl","_videoContainerRef","canvasEl","_canvasContainerRef","getContext","_videoHeight","videoWidth","drawImage","imgURL","toDataURL","el","createFromHtml","insertElement","_handleStreamError","alert","_handleStreamSuccess","stream","addEventListener","videoHeight","isNaN","_stream","navigator","mozGetUserMedia","mozSrcObject","srcObject","play","_buttonTakePhotoRef","stop","getVideoTracks","track","getUserMedia","webkitGetUserMedia","msGetUserMedia","video","audio","_buttonCommand","ButtonCommandListItem","_getClassName","_buttonCommand2","KEY_ENTER","KEY_ESC","ButtonEmbedEdit","_embedLink","url","_removeEmbed","embedWrapper","getAscendant","hasClass","getInitialState","selectedElement","getSelectedElement","clearLinkStyle","opacity","deleteEmbed","data-type","ButtonEmbedVideoEdit","_embedVideoURL","videoURL","_focusVideoUrlInput","refs","_handleVideoURLChange","replaceState","initialEmbed","inputPlaceholder","pasteVideoLink","clearVideoURLStyle","clearTimeout","_timeout","_updateItems","delay","_renderAutocompleteItems","nextState","data-value","_this3","promise","Promise","resolve","then","_buttonKeystroke","_buttonLinkEdit","_buttonStateClasses","ButtonLink","_requestExclusive","cssClass","getStateClasses","mergeButtonCfgProps","_buttonLinkEdit2","CTRL","_buttonKeystroke2","_buttonStateClasses2","_buttonTargetList","allowedLinkTargets","aria-expanded","_buttonTargetList2","ButtonTargetList","listTargets","_renderListTargets","linkTargetSelf","linkTargetBlank","linkTargetParent","linkTargetTop","targets","_getAllowedTargetItems","ButtonLinkEditBrowse","_browseClick","documentBrowseLinkUrl","browseLinkCallback","documentBrowseLinkCallback","linkEditButtonRef","changeLinkCallback","selectedItem","linkTitle","plugins","creole","location","origin","ButtonTableEdit","_createTable","tableUtils","attrs","tableAttributes","cols","rows","_handleChange","inputName","rowsRef","colsRef","time","Date","now","rowsId","colsId","htmlFor","columns","border","cellPadding","cellSpacing","ToolbarButtons","additionalProps","reduce","list","button","getToolbarButtons","buttonProps","toolbarButtons","filterExclusive","Buttons","cfg","mergeExclusiveProps","tabKey","trigger","WidgetArrowBox","arrowBoxClasses","getInteractionPoint","SELECTION_TOP_TO_BOTTOM","WidgetPosition","cancelAnimationFrame","_animationFrameId","viewPaneSize","getViewPaneSize","eventPayload","nativeEvent","pos","pageX","endRect","startRect","_getXPoint","_getYPoint","eventX","right","leftDist","abs","rightDist","elementTarget","$","offsetTop","bottom","SELECTION_LEFT_TO_RIGHT","SELECTION_RIGHT_TO_LEFT","domElement","startPoint","endPoint","setStyles","removeClass","_animate","addClass","isVisible","interactionPoint","finalX","finalY","initialX","initialY","parseFloat","constrainToViewport","res","getConstrainedPosition","xy","callback","_core","_buttons","_toolbars","_selections","_attribute","_oop","BRIDGE_BUTTONS","editable","node","srcNode","implementEventTarget","Core","getBasePath","ALLOYEDITOR_BASEPATH","scripts","getElementsByTagName","match","src","regexBasePath","loadLanguageResources","once","_langResourceRequested","languages","userLanguage","language","lang","locale","scriptLoader","load","getUrl","loaded","resource","basePath","timestamp","charAt","on","implementOn","getButtons","acc","registerBridgeButton","buttonName","pluginName","OOP","Toolbars","_base","_main","_commands","EMBED_VIDEO_WIDTH","EMBED_VIDEO_HEIGHT","_oop2","Base","initializer","inline","allowedContent","toolbars","removePlugins","extraPlugins","embedProviders","placeholderClass","pasteFromWordRemoveStyles","pasteFromWordRemoveFontStyles","selectionKeystrokes","edge","plugin","version","replace","_addReadOnlyLinkClickListener","extraCommands","extraCommandKeys","_editor","_renderUI","destructor","_destroyed","_editorUIElement","unmountComponentAtNode","parentNode","removeChild","_clearSelections","destroy","isMSSelection","empty","getWindow","removeAllRanges","_defaultReadOnlyClickFn","mouseEvent","hasCtrlKey","ctrlKey","metaKey","shouldOpen","listenerData","ckElement","getTarget","lastElement","attributes","_redirectLink","_getNativeEditor","open","editorUIElement","appendChild","callbackRef","_mainUI","render","Provider","_main2","eventsDelay","_toElement","getElementById","_validateAllowedContent","_validateToolbars","tpl","urlSchemes","enableContentEditable","removeImage","removeImageCommand","SHIFT","add","selections","_debounce","debounce","timeout","debounceHandle","callFn","callArgs","callContext","detach","REGEX_BOOKMARK_SCHEME","REGEX_EMAIL_SCHEME","REGEX_URI_SCHEME","moveToElementEditEnd","nextNode","getNextEditableNode","whitespace","offset","setStart","setEnd","selectRanges","URI","collapsed","insertNode","selectNodeContents","_getCompleteURI","data-cke-saved-href","applyToRange","select","is","getChildren","count","getItem","shrink","SHRINK_TEXT","alwaysRemoveElement","selectElement","getStartElement","uri","setAttributes","removeAttrs","setAttrs","removeAttributes","wrapPluginLifecycle","methods","methodName","override","originalPluginMethod","phase","__processingPlugin__","filterUnwantedDependencies","requires","require","pluginsLoad","names","scope","SelectionRegion","createSelectionFromPoint","createSelectionFromRange","startX","startY","endX","endY","end","start","caretPositionFromPoint","offsetNode","createRange","caretRangeFromPoint","createTextRange","endRange","duplicate","setEndPoint","getCaretRegion","bookmarkNodeEl","startNode","display","scrollPos","getSelectionData","getNative","getSelectedText","getSelectionRegion","getClientRectsRegion","getSelectionDirection","ranges","getType","SELECTION_NONE","nativeSelection","defaultRect","clientRects","Infinity","getClientRects","rangeCount","getRangeAt","anchorNode","compareDocumentPosition","position","focusNode","anchorOffset","focusOffset","Node","DOCUMENT_POSITION_PRECEDING","init","IE_NON_DIRECTLY_EDITABLE_ELEMENT","col","colgroup","tbody","td","tfoot","th","thead","tr","HEADING_BOTH","HEADING_COL","HEADING_NONE","HEADING_ROW","_createElement","append","row","j","cell","appendBogus","setHeading","heading","firstCell","cells","moveToPosition","POSITION_AFTER_START","webkit","NODE_ELEMENT","hasAttribute","getParent","getHeading","rowHeadingSettings","tHead","colHeadingSettings","nodeName","headingSettings","parent","getChildCount","POSITION_BEFORE_START","newCell","tableHead","tableBody","getElementsByTag","tableHeading","hadColHeading","needColHeading","needRowHeading","tableFirstRow","tableFirstRowChildCount","getChild","renameNode","createTHead","previousFirstRow","getFirst","newFirstRow","newFirstRowChildCount","removeAttribute","insertBefore","hasColHeading","headingCommands","jsonp","urlTemplate","urlParams","errorCallback","callbackKey","getNextNumber","_","jsonpCallbacks","response","cleanUp","scriptElement","output","getBody","cancel","simulate","eventInstance","createEvent","initEvent","dispatchEvent","ariaState","ariaElement","_createAriaElement","uiTasksTimeout","uicore","handleUI","allowEsc","handleAria","_event","innerHTML","handleMouseLeave","aeUINodes","found","relatedTarget","message","focusHandler","attachListener","removeListener","statusElement","isIE","_onDragEnter","_onDragOver","_onDragDrop","_onPaste","_handleFiles","files","file","imageFiles","_processFile","transferFiles","dataTransfer","clientX","clientY","_preventEvent","clipboardData","pastedData","imageFile","getAsFile","reader","FileReader","bin","imageData","readAsDataURL","userAgent","KEY_BACK","KEY_COMMA","KEY_SEMICOLON","KEY_SPACE","DELIMITERS","REGEX_LAST_WORD","REGEX_URL","REGEX_EMAIL","_onKeyUp","method","dataValue","RegExp","_isValidURL","_isValidEmail","_getLastWord","previousText","_currentKeyCode","previousNode","getPrevious","lastChild","getLast","_startContainer","_offset","substring","lastWord","pop","email","_onKeyDown","_ckLink","_replaceContentByLink","content","ckLink","linkNode","_subscribeToKeyEvent","nextEditableNode","enclosedNode","getEnclosedNode","caretOffset","getNext","newRange","setEndAfter","DEFAULT_CONFIG","regex","_checkForBackspaceAndUndo","insertHtml","bullet","_getListConfig","configRegex","autolist","textContainer","regexLen","autolistCfg","regexItem","_createList","listConfig","setText","IMAGE_HANDLES","both","scale","POSITION_ELEMENT_FN","bl","handle","box","positionElement","bm","round","br","lm","tl","_box","tm","rm","IMAGE_SNAP_TO_SIZE","isFirefox","documentElement","isWebKit","enablePlugin","snapToSize","imageScaleResize","resizer","Resizer","mouseDownListener","e","isHandle","initDrag","show","hide","html","self","resizeElement","removeEventListener","resizeTimeout","DragEvent","events","mousemove","keydown","mouseup","toArray","len","arr","ctx","getBoundingBox","getBoundingClientRect","pageXOffset","pageYOffset","addCss","onLoad","_evt","container","preview","handles","handleName","createHandle","classList","otherImages","splice","showHandles","elements","getElementsByClassName","hideHandles","drag","onStart","showPreview","isDragging","onDrag","calculateSize","updatePreview","previewBox","updateHandles","onRelease","hidePreview","onComplete","resizeComplete","backgroundImage","delta","ratio","others","other","startPos","currentPos","shiftKey","ctrl","alt","altKey","which","release","alignmentsObj","center","cursor","regexPercent","template","widgetDef","widgets","initOn","alignClasses","image2_alignClasses","captionedClass","image2_captionedClass","helpers","image2","hasCaption","caption","ready","checkHasNaturalRatio","wrapper","align","alignElement","setData","image2_disableResizer","setupResizer","getStyleableElement","getWidgetAllowedContent","contentTransformations","features","checkFeature","contenteditable","data-cke-saved-src","oldData","classes","dimension","setDimensions","downcast","downcastWidgetElement","draggable","editables","selector","getWidgetFeatures","getClasses","classRegex","repository","parseElementClasses","getLabel","pathName","requiredContent","styleableElements","upcast","upcastWidgetElement","isCenterWrapper","centerWrapperChecker","dimensions","figure","replaceWith","isLinkedOrStandaloneImage","attrsHolder","resizeWrapper","img","parseCssText","wrapWith","htmlParser","class","isEmpty","writeCssText","validChildren","div","child","enterMode","ENTER_P","widget","doc","imageOrLink","oldResizeWrapper","evt","factor","screenX","screenY","startWidth","startHeight","clientHeight","listeners","cursorClass","nativeEvt","newWidth","newHeight","updateData","moveDiffX","moveDiffY","attachToDocuments","collection","globalDoc","onMouseMove","onMouseUp","widgetElement","rules","figcaption","hidpi","icons","natural","getNatural","naturalWidth","naturalHeigh","Image","heigh","templateBlock","afterInit","block","integrate","alignCommandIntegrator","ae_dragresize_ie11","stateShifter","ae_dragresize_ie11_alignClasses","ae_dragresize_ie11_captionedClass","shiftables","stateActions","oldValue","newValue","changed","marginLeft","marginRight","newData","deflate","wrapInCentering","unwrapFromCentering","setStyle","captionPlaceholder","replaceSafely","needsDeflate","newEl","wrapInLink","getLinkAttributesGetter","removed","unwrapFromLink","attribsAndStyles","text-align","activeEnterMode","move","linkData","replacing","replaced","insertElementIntoRange","inflate","naturalHeight","getLinkAttributes","getLinkAttributesParser","parseLinkAttributes","removeWidgetAlignment","imageAlignment","deflated","focused","setWrapperAlign","shiftState","advanced","advCSSClasses","trim","ae_dragresize_ie11_disableResizer","TRISTATE_OFF","unlink","querySelector","resizerNE","resizerNW","resizerSE","resizerSW","factorX","factorY","adjustToX","adjustToY","execCallbacks","enabled","refresh","getFocusedWidget","allowed","registered","TRISTATE_DISABLED","_priorities","REGEX_HTTP","REGEX_DEFAULT_LINK","DEFAULT_AE_EMBED_URL_TPL","DEFAULT_AE_EMBED_WIDGET_TPL","DEFAULT_AE_EMBED_DEFAULT_LINK_TPL","AE_EMBED_URL_TPL","embedUrlTemplate","AE_EMBED_WIDGET_TPL","embedWidgetTpl","AE_EMBED_DEFAULT_LINK_TPL","embedLinkDefaultTpl","defaultEmbedWidgetUpcastFn","mask","encodeURIComponent","createATag","setHtml","_msg","aTagHtml","embedWidgetUpcastFn","HIGH_PRIORITY","addElementCallback","FILTER_SKIP_TREE","DEFAULT_PRIORITY","_Resizer","DEFAULT_LFR_EMBED_WIDGET_TPL","EMBED_ALIGNMENT","CENTER","LEFT","RIGHT","ALIGN_VALUES","CENTERED_EMBED_STYLE","getEmbedAlignment","embedAlignment","centeredEmbed","every","styleCheck","vendorPrefixes","vendorPrefix","removeEmbedAlignment","setEmbedAlignment","alignment","wrapperElement","parentElement","pwidth","floor","JSON","parse","stringify","iframeElement","selectWidget","root","find","elementList","imageElement","currentAlignment","currentElement","LFR_EMBED_WIDGET_TPL","providers","provider","scheme","generateEmbedContent","helpMessage","videoPlaybackDisabled","helpMessageIcon","Liferay","Util","getLexiconIconTpl","upcastWidget","iframe","embedContent","getOuterHtml","widgetFragment","fragment","fromHtml","showError","errorMsg","validProvider","embedId","_selectEmbedWidget","platformNotSupported","enterValidUrl","stylesJSON","bounds","alignValue","selectedEmbed","sender","_DragEvent","editorBounds","IMAGE_ALIGNMENT","CENTERED_IMAGE_STYLE","getImageAlignment","centeredImage","imageContainer","textAlign","removeImageAlignment","setImageAlignment","refreshCommands","onload","brFiller","needsBrFiller","enterModeEmptyValue","1","2","3","_checkEmptyData","_removePlaceholderClass","editableNode","innerHtml","editorNode","selectionKeystroke","pxUnit","cssLength","getWidth","getBorderWidth","side","computed","borderMap","thin","medium","thick","getMasterPillarRow","$rows","maxCells","cellsCount","$elected","$tr","buildTableColumnPillars","pillars","pillarIndex","rtl","tBodies","tbodyPosition","getDocumentPosition","nextTd","colSpan","pillarLeft","pillarRight","pillarWidth","getPillarAtPosition","positionX","pillar","ColumnResizer","isResizing","resizing","currentShift","leftSideCells","rightSideCells","leftShiftBoundary","rightShiftBoundary","onMouseDown","resizeStart","columnIndex","buildTableMap","leftColumnCells","rightColumnCells","leftMinSize","Number","MAX_VALUE","rightMinSize","leftCell","rightCell","setOpacity","resizeEnd","resizeColumn","removeCustomData","_loop","leftOldWidth","rightOldWidth","tableWidth","sizeShift","getPageOffset","getDocumentElement","posX","resizerNewPosition","clearPillarsCache","dest","toElement","isInline","getCustomData","setCustomData","cellNodeRegex","getSelectedCells","retval","database","moveOutOfCellGuard","setMarker","nearestCell","walker","guard","dtd","clearAllMarkers","getFocusElementAfterDelCells","cellsToDelete","last","focusedCell","insertRow","getDocument","startRow","startRowIndex","rowIndex","lastCell","endRowIndex","rowSpan","endRow","cloneRow","nextRow","newRow","clone","insertAfter","deleteRows","selectionOrRow","rowsToDelete","mapRow","cellRowIndex","nextMapRow","cursorPosition","getCellColIndex","isStart","rowCells","colIndex","mapCell","getColumnsIndices","insertColumn","startCol","lastCol","cloneCol","nextCol","nextCell","deleteColumns","selectionOrCell","startColIndex","endColIndex","firstRowCells","insertCell","startElement","deleteCells","cellToFocus","placeCursorInCell","trimCell","bogus","getBogus","placeAtEnd","docInner","docOuter","collapse","cellInRow","tableMap","oRow","cellInCol","oCol","mergeCells","mergeDirection","isDetect","commonAncestor","mapHeight","mapWidth","startColumn","targetCell","rowspan","colspan","er","lastRowIndex","totalRowSpan","totalColSpan","frag","documentFragment","cellFirstChild","isBlockBoundary","whitespaces","moveChildren","trs","nodeList","tailTr","verticalSplitCell","newRowSpan","newCellRowSpan","newRowIndex","ceil","newCellTr","newCellRow","candidateCell","cellsInSameRow","horizontalSplitCell","newColSpan","newCellColSpan","cellsInSameCol","createDef","def","contextSensitive","addCmd","cmd","addFeature","aRows","aMap","oCell","iColSpan","iRowSpan","rs","cs","BUTTON_DEFS","generateButtonBridge","buttonDefinition","ButtonBridge","_handleClick","buttonCommand","buttonOnClick","_React$Component","buttonClassName","buttonDisplayName","buttonLabel","buttonType","iconClassName","iconStyle","cssStyle","skin","getIconStyle","cssStyleParts","backgroundPosition","backgroundSize","displayName","UI_BUTTON","beforeInit","ui","addButton","addHandler","k","for","q","u","v","w","z","aa","ba","A","iterator","ca","g","h","f","framesToPop","B","C","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","D","E","updater","F","G","isReactComponent","forceUpdate","H","isPureReactComponent","I","J","K","L","__self","__source","M","$$typeof","_owner","da","N","escape","=",":","O","P","Q","keyPrefix","func","R","S","T","done","U","ea","fa","V","W","X","Children","only","PureComponent","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","_context","lazy","_ctor","_status","_result","memo","compare","useCallback","useContext","useEffect","useImperativeHandle","useDebugValue","useLayoutEffect","useMemo","useReducer","useRef","useState","Fragment","StrictMode","Suspense","cloneElement","createFactory","isValidElement","unstable_ConcurrentMode","unstable_Profiler","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","ReactCurrentOwner","Y","Z","MENUBUTTON_DEFS","generateMenuButtonBridge","menuButtonName","menuButtonDefinition","MenuButtonBridge","panelMenuButtonDisplayName","_getMenuItems","onMenu","menuItems","menuItem","getMenuItem","menuItemDefinition","definition","menuItemState","UI_MENU_BUTTON","addMenuButton","UI_MENUBUTTON","onError","ha","ia","ja","ka","la","ma","na","oa","pa","extractEvents","eventTypes","ra","phasedRegistrationNames","sa","registrationName","ta","ua","dependencies","va","wa","xa","ya","currentTarget","za","Aa","Ba","Ca","_dispatchListeners","_dispatchInstances","isPropagationStopped","isPersistent","Da","injectEventPluginOrder","injectEventPluginsByName","Ea","stateNode","Fa","Ga","Ha","Ia","Ja","tag","Ka","La","Ma","Na","return","Oa","dispatchConfig","Pa","_targetInst","Qa","Ra","Sa","Ta","Ua","Va","animationend","animationiteration","animationstart","transitionend","Wa","Xa","Ya","animation","transition","Za","$a","ab","bb","cb","db","eb","fb","gb","textContent","hb","ib","Interface","isDefaultPrevented","defaultPrevented","returnValue","kb","eventPool","lb","jb","getPooled","cancelBubble","persist","eventPhase","bubbles","cancelable","timeStamp","isTrusted","mb","nb","ob","pb","qb","documentMode","rb","sb","tb","ub","beforeInput","bubbled","captured","compositionEnd","compositionStart","compositionUpdate","wb","xb","yb","detail","zb","Ab","Bb","char","Cb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","color","date","datetime","datetime-local","month","number","password","search","tel","week","Pb","Qb","srcElement","correspondingUseElement","nodeType","Sb","Tb","Ub","getOwnPropertyDescriptor","configurable","getValue","setValue","stopTracking","_valueTracker","Vb","Wb","checked","Xb","Yb","Zb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","_debugOwner","_debugSource","fileName","lineNumber","oc","pc","qc","rc","sc","tc","acceptsBooleans","uc","attributeName","attributeNamespace","mustUseProperty","propertyName","vc","wc","toUpperCase","xc","setAttributeNS","yc","zc","defaultChecked","defaultValue","_wrapperState","initialChecked","Ac","initialValue","controlled","Bc","Cc","Dc","Ec","ownerDocument","Fc","change","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","detachEvent","Oc","Pc","attachEvent","Qc","Rc","Sc","Tc","_isInputEventSupported","Uc","view","Vc","Alt","Control","Meta","Shift","Wc","getModifierState","Xc","Yc","Zc","$c","ad","bd","pageY","fromElement","movementX","movementY","cd","pointerId","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","dd","mouseEnter","mouseLeave","pointerEnter","pointerLeave","ed","defaultView","parentWindow","alternate","fd","gd","hd","kd","effectTag","ld","md","sibling","nd","od","animationName","elapsedTime","pseudoElement","pd","qd","rd","charCode","sd","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","ud","repeat","vd","wd","touches","targetTouches","changedTouches","xd","yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","zd","Ad","Bd","Cd","isInteractive","Dd","isInteractiveTopLevelEventType","Ed","Fd","Gd","targetInst","ancestors","containerInfo","topLevelType","Hd","Id","Jd","Kd","Ld","Md","Nd","Od","Pd","Qd","firstChild","Rd","nextSibling","Sd","Td","HTMLIFrameElement","contentDocument","Ud","contentEditable","Vd","Wd","Xd","Yd","Zd","$d","ae","selectionStart","selectionEnd","be","onSelect","ce","de","ee","options","defaultSelected","fe","ge","he","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","je","mathml","svg","ke","le","me","ne","MSApp","execUnsafeLocalFunction","namespaceURI","oe","nodeValue","pe","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qe","re","se","setProperty","te","menuitem","area","base","hr","input","keygen","meta","param","wbr","ue","ve","we","blur","xe","ye","ze","Ae","autoFocus","Be","Ce","De","Ee","unstable_scheduleCallback","Fe","unstable_cancelCallback","Ge","wasMultiple","multiple","He","Ie","Set","Je","Ke","Le","Me","Oe","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","childContextTypes","Pe","Qe","Re","Se","getChildContext","Te","__reactInternalMemoizedMergedChildContext","Ue","Ve","We","Xe","Ye","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","Ze","elementType","pendingProps","contextDependencies","memoizedState","updateQueue","memoizedProps","lastEffect","firstEffect","nextEffect","childExpirationTime","expirationTime","$e","af","bf","cf","df","ef","ff","gf","pendingChildren","implementation","hf","didError","earliestPendingTime","latestPendingTime","jf","kf","latestPingedTime","earliestSuspendedTime","latestSuspendedTime","lf","nextExpirationTimeToWorkOn","mf","nf","of","baseState","xf","_reactInternalFiber","pf","qf","rf","sf","tf","uf","vf","wf","yf","shouldComponentUpdate","zf","Af","Bf","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Cf","Df","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ef","Ff","_stringRef","Gf","Hf","Map","delete","If","Jf","Kf","Lf","Mf","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","queue","baseUpdate","ug","vg","wg","dispatch","xg","eagerReducer","eagerState","yg","deps","zg","Bg","Cg","Dg","Eg","readContext","Fg","Gg","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","Vg","Wg","Xg","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","Yg","getDerivedStateFromError","Zg","pendingContext","$g","timedOutAt","fallback","ah","bh","hydrate","hidden","first","observedBits","unstable_observedBits","ch","dh","eh","fh","gh","hh","ih","jh","firstUpdate","lastUpdate","firstCapturedUpdate","lastCapturedUpdate","firstCapturedEffect","lastCapturedEffect","kh","lh","mh","nh","oh","ph","qh","rh","stack","sh","wh","xh","yh","zh","onclick","Ah","WeakSet","Bh","Ch","Dh","Eh","Fh","Gh","componentWillUnmount","Hh","Ih","Jh","_reactRootContainer","Kh","Lh","has","Mh","WeakMap","Nh","Oh","Ph","componentDidCatch","Qh","componentStack","Rh","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","ei","fi","gi","createElementNS","createTextNode","hi","ii","pendingCommitExpirationTime","ji","maxDuration","pingCache","ki","finishedWork","li","mi","ni","oi","pi","qi","ri","si","ti","vi","wi","xi","yi","zi","Ai","unstable_now","Bi","Ci","Di","Ei","Fi","Gi","timeoutHandle","Hi","Ii","Ji","nextScheduledRoot","Ki","Li","Mi","unstable_shouldYield","_onComplete","Oi","firstBatch","_expirationTime","_defer","vb","focusedElem","selectionRange","Ag","Ni","__reactInternalSnapshotBeforeUpdate","addRange","scrollLeft","qa","Rb","dj","uh","ej","jd","vh","Ne","Pi","Qi","Ri","Si","Ti","Ui","Vi","Wi","_root","_callbacks","_next","_hasChildren","_didComplete","_children","Xi","_didCommit","_onCommit","Yi","_internalRoot","Zi","$i","aj","legacy_renderSubtreeIntoContainer","bj","form","commit","unmount","createBatch","fj","createPortal","unstable_renderSubtreeIntoContainer","unstable_createPortal","unstable_batchedUpdates","unstable_interactiveUpdates","flushSync","unstable_createRoot","cj","unstable_flushControlled","Events","findFiberByHostInstance","overrideProps","currentDispatcherRef","findHostInstanceByFiber","bundleType","rendererPackageName","gj","hj","global","previous","priorityLevel","performance","_schedMock","MessageChannel","port2","port1","onmessage","postMessage","unstable_ImmediatePriority","unstable_UserBlockingPriority","unstable_NormalPriority","unstable_IdlePriority","unstable_LowPriority","unstable_runWithPriority","unstable_wrapCallback","unstable_getCurrentPriorityLevel","unstable_continueExecution","unstable_pauseExecution","unstable_getFirstCallbackNode","Function","groups","groupsOrder","menuGroups","addMenuGroup","addMenuItem","group","addMenuItems","definitions","itemName","removeMenuItem","PANEL_MENU_DEFS","generatePanelMenuButtonBridge","panelMenuButtonName","panelMenuButtonDefinition","PanelMenuButtonBridge","panel","_getPanel","panelMenuButtonOnBlock","onBlock","blockElement","getHtml","UI_PANELBUTTON","addPanelMenuButton","RICH_COMBO_DEFS","generateRichComboBridge","richComboName","richComboDefinition","RichComboBridge","currentValue","editorCombo","_items","_setValue","onRender","_cacheValue","richComboLabel","_getItems","richCombo","UI_RICHCOMBO","addRichCombo","originalUIAddFn","typeHandler","handlers","_callChain","wat","ctor","reverse","_propTypes","_widgetExclusive","UI","_onDismissToolbarFocus","_onEditorInteraction","_onActionPerformed","_onEditorKey","_mousedownListener","_setUIHidden","_keyDownListener","prevProps","prevState","_getAvailableToolbarsMessage","ariaUpdate","_ariaUpdateTemplates","_getAriaUpdates","ariaUpdates","noToolbar","ariaUpdateNoToolbar","oneToolbar","ariaUpdateOneToolbar","manyToolbars","ariaUpdateManyToolbars","toolbarsNodeList","toolbarNames","_getAriaUpdateTemplate","domEvent","targetNode","propTypes","PropTypes","isRequired","_widgetExclusive2","ReactPropTypesSecret","emptyFunction","shim","propName","componentName","propFullName","secret","getShim","ReactPropTypes","array","bool","string","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","_removeImage","nextRange","native","_buttonAccessibilityImageAlt","_buttonBackgroundColor","_buttonBold","_buttonCameraImage","_buttonCamera","_buttonCode","_buttonColor","_buttonCommandsList","_buttonEmbedEdit","_buttonEmbed","_buttonEmbedVideoEdit","_buttonEmbedVideo","_buttonH","_buttonH3","_buttonHline","_buttonImageAlignCenter","_buttonImageAlignLeft","_buttonImageAlignRight","_buttonImage","_buttonIndentBlock","_buttonItalic","_buttonItemSelectorAudio","_buttonItemSelectorImage","_buttonItemSelectorVideo","_buttonLinkBrowse","_buttonLinkEditBrowse","_buttonLink","_buttonOl","_buttonOutdentBlock","_buttonParagraphAlign","_buttonParagraphAlignLeft","_buttonParagraphAlignRight","_buttonParagraphCenter","_buttonParagraphJustify","_buttonQuote","_buttonRemoveFormat","_buttonRemoveImage","_buttonSeparator","_buttonSpacing","_buttonStrike","_buttonStylesList","_buttonStyles","_buttonSubscript","_buttonSuperscript","_buttonTableCell","_buttonTableColumn","_buttonTableEdit","_buttonTableHeading","_buttonTableRemove","_buttonTableRow","_buttonTable","_buttonTwitter","_buttonUl","_buttonUnderline","ButtonAccessibilityImageAlt","ButtonBackgroundColor","ButtonBold","ButtonCamera","ButtonCode","ButtonColor","ButtonEmbed","ButtonEmbedVideo","ButtonH1","ButtonH2","ButtonHline","ButtonImageAlignCenter","ButtonImageAlignLeft","ButtonImageAlignRight","ButtonImage","ButtonIndentBlock","ButtonItalic","ButtonItemSelectorAudio","ButtonItemSelectorImage","ButtonItemSelectorVideo","ButtonLinkBrowse","ButtonOl","ButtonOutdentBlock","ButtonParagraphAlign","ButtonParagraphAlignLeft","ButtonParagraphAlignRight","ButtonParagraphCenter","ButtonParagraphJustify","ButtonQuote","ButtonRemoveFormat","ButtonRemoveImage","ButtonSeparator","ButtonSpacing","ButtonStrike","ButtonStylesListHeader","ButtonStyles","ButtonSubscript","ButtonSuperscript","ButtonTableCell","ButtonTableColumn","ButtonTableHeading","ButtonTableRemove","ButtonTableRow","ButtonTable","ButtonTwitter","ButtonUl","ButtonUnderline","_initialiseProps","imageAlt","_handleAltChange","_updateImageAlt","focusAltEl","refAltInput","_focusAltInput","activeColor","activeColorClass","colors","_getColors","itemStyle","styleClass","_checkActive","_props","buttonStylesProps","_buttonStylesList2","styleConfig","styleFn","_applyStyle","primary","success","danger","warning","info","bold","aria-pressed","_buttonCameraImage2","protocol","cameraDisabled","camera","code","_buttonEmbedEdit2","_buttonEmbedVideoEdit2","h1","h2","horizontalrule","_buttonCommandActive","alignCenter","_buttonCommandActive2","alignLeft","alignRight","handleClick","fileInput","click","inputSyle","accept","_onInputChange","inputEl","indent","italic","_buttonLinkEditBrowse2","_buttonLink2","ButtonOrderedList","numberedlist","outdent","buttonCommandsList","buttonCommandsListId","_buttonCommandsList2","_getCommands","inlineIcons","activeCommand","aria-owns","alignJustify","quote","removeformat","activeSpacing","spacings","_getSpacings","active","strike","_getStyles","buttonStylesList","formatted","cite","subscript","superscript","cellInsertBefore","cellInsertAfter","cellDelete","cellMerge","cellMergeDown","cellMergeRight","cellSplitHorizontal","cellSplitVertical","column","columnInsertBefore","columnInsertAfter","columnDelete","activeHeading","activeHeadingIntro","headers","activeHeadingLabel","headersNone","headersRow","headersColumn","headersBoth","_removeTable","deleteTable","rowInsertBefore","rowInsertAfter","rowDelete","_buttonTableEdit2","MAX_TWEET_LENGTH","_getHref","twitter","selectedText","via","twitterHref","ButtonUnorderedlist","bulletedlist","underline","_toolbarAdd","_toolbarStyles","ToolbarAdd","ToolbarStyles","_toolbarButtons","_widgetArrowBox","_widgetPosition","POSITION_LEFT","POSITION_RIGHT","_updatePosition","_prevProps","_prevState","isContentEditable","_getButtons","_getToolbarClassName","data-tabindex","updatePosition","clientRect","offsetLeft","gutterExclusive","cancelAnimation","_widgetArrowBox2","_widgetPosition2","_toolbarButtons2","currentSelection","_getCurrentSelection","getArrowBoxClassesFn","_getSelectionFunction","cssClasses","buttonsGroup","getToolbarButtonGroups","selectionType","hasGroups","selectionFn","selectionFunction","testFn","setPositionFn"],"mappings":"kCACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,qBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,mCC/EAhC,EAAAD,QAAmBF,EAAQ,6FCAHoC,EAHxB,IAAAC,EAAArC,EAAA,UACAsC,EAAAtC,EAAA,6DAEe,SAASoC,EAATG,GAA8C,IAAzBC,EAAyBD,EAAzBC,OAAyBC,EAAAF,EAAjBG,iBAAiBC,IAAAF,EAAL,GAAKA,EAC5D,OACCG,EAAAC,QAAAC,cAACC,EAAAF,QAAcG,SAAf,KACE,SAAAC,GAAc,IAAZC,EAAYD,EAAZC,OACIC,EAAeD,EAAOjC,IAAI,gBAC1BmC,EAAYD,EAAaE,OAAOD,WAAa,GAC7CE,EAAUF,EAAV,IAAuBZ,EACvBe,EAAkBb,MAAgBA,EAAc,GAChDc,gBAAkCD,EAExC,OACCX,EAAAC,QAAAC,cAAA,OAAKJ,UAAWc,EAAmBC,MAAM,KAAKC,OAAO,MACpDd,EAAAC,QAAAC,cAAA,OAAKa,KAAML,+PCfjBjB,EAAArC,EAAA,6DAMA,IAAM4D,EAAgBC,UAAMC,cAAc,IAU1CF,EAAcG,QAAU,SAAAC,GACvB,IAAMC,EAAsBJ,UAAMK,WAAW,SAACC,EAAOC,GAAR,OAC5CxB,EAAAC,QAAAC,cAACc,EAAcZ,SAAf,KACE,SAAAqB,GAAA,OAAWzB,EAAAC,QAAAC,cAACkB,EAADM,EAAA,GAAeH,EAAf,CAAsBE,QAASA,EAASD,IAAKA,SAI3D,OADAH,EAAoBtC,IAAMqC,EAAUrC,IAC7BsC,aAGOL,0UC1BfW,EAAAvE,EAAA,soBAYe,SAAAwE,GAAA,gBAAAC,GAAA,SAAAC,IAAA,OAAAC,EAAAC,KAAAF,GAAAG,EAAAD,MAAAF,EAAAI,WAAAhE,OAAAiE,eAAAL,IAAAM,MAAAJ,KAAAK,YAAA,OAAAC,EAAAR,EAAAD,GAAAU,EAAAT,EAAA,EAAA/C,IAAA,kBAAAN,MAAA,WAYZ,IAAI+D,EAAe,GAYnB,OATIC,UAAKC,WAAWV,KAAKW,WAAaX,KAAKW,aAC1CH,GAAgB,qBAIbC,UAAKC,WAAWV,KAAKY,aAAeZ,KAAKY,eAC5CJ,GAAgB,uBAGVA,MAxBKV,EAAA,CACmBF,mFCblC,IAAAlC,EAAAtC,EAAA,soBAOe,SAAAwE,GAAA,IAAAiB,EAAAC,EAAA,OAAAA,EAAAD,EAAA,SAAAhB,GAAA,SAAAkB,IAAA,IAAApD,EAAAqD,EAAAC,EAAAC,EAAAnB,EAAAC,KAAAe,GAAA,QAAAI,EAAAd,UAAAe,OAAAC,EAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAlB,UAAAkB,GAAA,OAAAN,EAAAhB,EAAAD,MAAArC,EAAAoD,EAAAb,WAAAhE,OAAAiE,eAAAY,IAAApF,KAAAyE,MAAAzC,EAAA,CAAAqC,MAAAwB,OAAAH,KAAAL,EAAAC,IAYbQ,YAAc,SAAAC,GACb,IAAMpD,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEvCiC,EAAOmD,YAAYR,EAAK1B,MAAMoC,QAASD,GAEnCT,EAAK1B,MAAMqC,mBACdtD,EAAOuD,iBAAgB,GAGxBvD,EAAOwD,KAAK,kBAAZb,IArBYC,EAAAF,EAAAf,EAAAgB,EAAAC,GAAA,OAAAZ,EAAAS,EAAAlB,GAAAkB,EAAA,CACcnB,GADdiB,EAENkB,YAAc/C,UAFR8B,qSCFTL,EAAO,CAUZuB,QAAS,SAASvF,GACjB,MAAiD,mBAA1CP,OAAOkB,UAAU6E,SAAStG,KAAKc,IAYvCyF,UAAW,SAASzF,GACnB,MAAwB,mBAAVA,GAYfiE,WAAY,SAASjE,GACpB,MAAwB,oBAAVA,GAYf0F,OAAQ,SAAS1F,GAChB,OAAiB,OAAVA,GAYR2F,SAAU,SAAS3F,GAClB,MAAwB,kBAAVA,GAAsB4F,SAAS5F,IAY9C6F,SAAU,SAAS7F,GAClB,IAAI8F,EAAA,qBAAmB9F,EAAnB,YAAA+F,EAAmB/F,GAEvB,OAAOA,IAAwB,WAAd8F,GAA0B9B,EAAKC,WAAWjE,KAY5DgG,SAAU,SAAShG,GAClB,MAAwB,kBAAVA,GAcfiG,IAAK,SAASC,EAAUC,GACvB,IAAIvF,EAAiBnB,OAAOkB,UAAUC,eAEtC,IAAK,IAAIN,KAAO6F,EACXvF,EAAe1B,KAAKiH,EAAU7F,KACjC4F,EAAS5F,GAAO6F,EAAS7F,KAc5B8F,MAAO,SAASpG,GACf,OAAOqG,SAASrG,EAAO,gBAIVgE,skBCtIf/C,EAAAtC,EAAA,UACAuE,EAAAvE,EAAA,soBAQe,SAAAwE,GAAA,IAAAiB,EAAAG,EAAA,OAAAA,EAAAH,EAAA,SAAAhB,GAAA,SAAAkD,IAAA,OAAAhD,EAAAC,KAAA+C,GAAA9C,EAAAD,MAAA+C,EAAA7C,WAAAhE,OAAAiE,eAAA4C,IAAA3C,MAAAJ,KAAAK,YAAA,OAAAC,EAAAyC,EAAAlD,GAAAU,EAAAwC,EAAA,EAAAhG,IAAA,qBAAAN,MAAA,WAYRgE,UAAKC,WAALsC,EAAAD,EAAA3F,UAAA8C,WAAAhE,OAAAiE,eAAA4C,EAAA3F,WAAA,qBAAA4C,QACHgD,EAAAD,EAAA3F,UAAA8C,WAAAhE,OAAAiE,eAAA4C,EAAA3F,WAAA,qBAAA4C,MAAArE,KAAAqE,MAGD,IAAIiD,EAAQjD,KAAKT,MAAM0D,MAEvB,GAAIxC,UAAKgC,SAASQ,GAAQ,CACzB,IAAIC,EAAQD,EAAME,MAAM,KACpBC,EAAgBpD,KAAKP,QAAQnB,OAAOjC,IAAI,gBAC1CoC,OACEtB,EAAW+F,EAAMG,QAErB,MACClG,GACAsD,UAAK6B,SAASc,IACd3C,UAAK6B,SAASc,EAAcjG,IAE5BiG,EAAgBA,EAAcjG,GAC9BA,EAAW+F,EAAMG,QAGd5C,UAAK6B,SAASc,KACjBH,EAAQG,GAIVpD,KAAKsD,OAAS,IAAIC,SAASN,MAAMA,KAtCrB,CAAAlG,IAAA,uBAAAN,MAAA,WAiDRgE,UAAKC,WAALsC,EAAAD,EAAA3F,UAAA8C,WAAAhE,OAAAiE,eAAA4C,EAAA3F,WAAA,uBAAA4C,QACHgD,EAAAD,EAAA3F,UAAA8C,WAAAhE,OAAAiE,eAAA4C,EAAA3F,WAAA,uBAAA4C,MAAArE,KAAAqE,MAGDA,KAAKsD,OAAS,OArDF,CAAAvG,IAAA,WAAAN,MAAA,WAiEZ,OAAOuD,KAAKsD,SAjEA,CAAAvG,IAAA,WAAAN,MAAA,WA6EZ,IAAM6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBACjCmH,EAAclF,EAAOkF,cAC3B,OAAOxD,KAAKyD,WAAWC,YAAYF,EAAalF,OA/EpCyE,EAAA,CACYnD,GADZiB,EAENkB,YAAc/C,UAFRgC,iCCPf,SAAA2C,IAEA,GACA,qBAAAC,gCACA,oBAAAA,+BAAAD,SAFA,CAMM,EAUN,IAEAC,+BAAAD,YACG,MAAAE,GAGHC,QAAAC,MAAAF,KAOAF,IACApI,EAAAD,QAAmBF,EAAQ,wkBClC3BuE,EAAAvE,EAAA,UACA4I,EAAA5I,EAAA,4nBAEA,IAAI6I,EAAiB,EACjBC,EAAiB,EACjBC,GAAkB,EAElBC,EAAc,EACdC,EAAoB,EACpBC,EAAuB,YAQZ,SAAA1E,GAAA,gBAAAC,GAAA,SAAA0E,IAAA,IAAA5G,EAAAqD,EAAAC,EAAAC,EAAAnB,EAAAC,KAAAuE,GAAA,QAAApD,EAAAd,UAAAe,OAAAC,EAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAlB,UAAAkB,GAAA,OAAAN,EAAAhB,EAAAD,MAAArC,EAAA4G,EAAArE,WAAAhE,OAAAiE,eAAAoE,IAAA5I,KAAAyE,MAAAzC,EAAA,CAAAqC,MAAAwB,OAAAH,KAAAL,EAAAC,IA2CbuD,MAAQ,SAAAC,GACP,KAAKA,GAASxD,EAAKyD,eAAeD,EAAME,UACnC1D,EAAK2D,cAAgB3D,EAAK2D,aAAaxD,OAAQ,CAClD,IAAIyD,EAAqB5D,EAAK2D,aAC7B3D,EAAK6D,mBAOLC,SAASC,gBAAkBH,GAC1B5D,EAAK1B,MAAM0F,kBAKJ,IAFPhE,EAAK2D,aAAaM,QACjBH,SAASC,gBAGVH,EAAmBL,QAIjBC,IACHA,EAAMU,kBACNV,EAAMW,oBApEGnE,EAkFboE,UAAY,SAAAZ,GACX,GAAIxD,EAAKyD,eAAeD,EAAME,SAAW1D,EAAK2D,aAAc,CAC3D,IAAIU,EAASrE,EAAKsE,gBAAgBd,GAE9Ba,EAAOE,OACVf,EAAMU,kBACNV,EAAMW,iBAEFE,EAAOE,OAASnB,GACnBpD,EAAKwE,WAAWH,EAAOI,WAGpBJ,EAAOE,OAASlB,GACnBrD,EAAK1B,MAAMoG,UAAUL,EAAOI,cA/FnBxE,EAAAF,EAAAf,EAAAgB,EAAAC,GAAA,OAAAZ,EAAAiE,EAAA1E,GAAAU,EAAAgE,EAAA,EAAAxH,IAAA,oBAAAN,MAAA,WAURgE,UAAKC,WAALsC,EAAAuB,EAAAnH,UAAA8C,WAAAhE,OAAAiE,eAAAoE,EAAAnH,WAAA,oBAAA4C,QACHgD,EAAAuB,EAAAnH,UAAA8C,WAAAhE,OAAAiE,eAAAoE,EAAAnH,WAAA,oBAAA4C,MAAArE,KAAAqE,MAGDA,KAAK4F,aAdO,CAAA7I,IAAA,qBAAAN,MAAA,WA0BRgE,UAAKC,WAALsC,EAAAuB,EAAAnH,UAAA8C,WAAAhE,OAAAiE,eAAAoE,EAAAnH,WAAA,qBAAA4C,QACHgD,EAAAuB,EAAAnH,UAAA8C,WAAAhE,OAAAiE,eAAAoE,EAAAnH,WAAA,qBAAA4C,MAAArE,KAAAqE,MAGDA,KAAK4F,aA9BO,CAAA7I,IAAA,YAAAN,MAAA,SA6GHiJ,GACTA,EAAYjF,UAAK2B,SAASsD,GAAaA,EAAY,EAEnD1F,KAAKyF,WAAWC,KAhHJ,CAAA3I,IAAA,kBAAAN,MAAA,SA8HGgI,GACf,IAAIa,EAAS,CACZE,KAAMpB,GAGP,GAAIpE,KAAKT,MAAMsG,KAAM,CACpB,IAAIH,EAAY1F,KAAK8F,uBAAuBrB,GAExCiB,IACHJ,EAAOI,UAAYA,EACnBJ,EAAOE,KAAOnB,GAGf,IAAI0B,EAAgB/F,KAAKgG,uBACxBvB,EACAiB,GAGGK,EAAcE,UACjBX,EAAOI,UAAYK,EAAcL,UACjCJ,EAAOE,KAAOlB,GAIhB,OAAOgB,IAtJK,CAAAvI,IAAA,yBAAAN,MAAA,SAyKUgI,EAAOyB,GAC7B,IAAIH,EAAgB,CACnBL,UAAWQ,EACXD,SAAS,GAkCV,OA/BIjG,KAAKT,MAAMoG,YACV3F,KAAKmG,YAAY1B,EAAM2B,QAASpG,KAAKT,MAAMsG,KAAKI,WACnDF,EAAcE,SAAU,GAGxBjG,KAAKmG,YAAY1B,EAAM2B,QAASpG,KAAKT,MAAMsG,KAAKQ,eAEhDN,EAAcE,SAAU,EACxBF,EAAcL,UAAYxB,GAG1BlE,KAAKmG,YAAY1B,EAAM2B,QAASpG,KAAKT,MAAMsG,KAAKS,eAEhDP,EAAcE,SAAU,EACxBF,EAAcL,UAAYvB,GAIzB4B,EAAcE,SACdjG,KAAKT,MAAMgH,WACZL,IAEAH,EAAcE,QACZC,IAAuB/B,GACI,IAA3BnE,KAAK8E,mBACLoB,IAAuBhC,GACvBlE,KAAK8E,oBACJ9E,KAAK4E,aAAaxD,OAAS,IAIzB2E,IA9MK,CAAAhJ,IAAA,yBAAAN,MAAA,SA4NUgI,GACtB,IAAIiB,EAAYzB,EAahB,OAXIjE,KAAKmG,YAAY1B,EAAM2B,QAASpG,KAAKT,MAAMsG,KAAKW,QACnDd,EAAYxB,GAETlE,KAAKmG,YAAY1B,EAAM2B,QAASpG,KAAKT,MAAMsG,KAAKY,QACnDf,EAAYvB,GAGTM,EAAMiC,UACThB,IAAc,GAGRA,IA1OK,CAAA3I,IAAA,cAAAN,MAAA,SAwPD2J,EAASP,GACpB,OAAOpF,UAAKuB,QAAQ6D,IACU,IAA3BA,EAAKX,QAAQkB,GACbA,IAAYP,IA3PH,CAAA9I,IAAA,iBAAAN,MAAA,SAyQEkK,GACd,IAAIC,EAAUD,EAAQC,QAAQC,cAE9B,MACa,UAAZD,GACY,WAAZA,GACY,aAAZA,IA/QW,CAAA7J,IAAA,aAAAN,MAAA,SA4RFiJ,GACV,IAAIoB,EAAiB9G,KAAK4E,aAAaxD,OAEnC2F,EAAa/G,KAAK4E,aAAa5E,KAAK8E,mBAExCiC,EAAWC,aAAa,YAAa,GAErChH,KAAK8E,mBAAqBY,EAEtB1F,KAAKT,MAAMgH,SAGdvG,KAAK8E,mBACF9E,KAAK8E,kBAAoBgC,EAC1BA,GACDA,EAED9G,KAAK8E,kBAAoBmC,KAAKC,IAC7BD,KAAKE,IAAInH,KAAK8E,kBAAmBgC,EAAiB,GAClD,GAIFC,EAAa/G,KAAK4E,aAAa5E,KAAK8E,mBAEpCiC,EAAWC,aAAa,WAAY,GACpCD,EAAWvC,UAtTC,CAAAzH,IAAA,WAAAN,MAAA,WAkUZ,IAAI2K,EAAUC,UAASC,YAAYtH,MAEnC,GAAIoH,EAAS,CACZ,IAAIG,EAAcH,EAAQI,iBACzBxH,KAAKT,MAAMgI,aAGRE,EAAsB,GAE1BzH,KAAK4E,aAAe,GAEpBtD,MAAMlE,UAAUsK,MAAM/L,KAAK4L,GAAaI,QACvC,SAASC,GACR,IAAIC,EAAeD,EAAKE,aAAa,iBAEjCD,EACHJ,EAAoBM,KAAKH,GAEzB5H,KAAK4E,aAAamD,KAAKH,IAEvB5K,KAAKgD,OAGRyH,EAAsBA,EAAoBO,KAAK,SAASC,EAAGC,GAC1D,OACCzH,UAAKoC,MAAMoF,EAAEH,aAAa,kBAC1BrH,UAAKoC,MAAMqF,EAAEJ,aAAa,oBAI5B9H,KAAK4E,aAAe6C,EAAoBjG,OACvCxB,KAAK4E,cAGN5E,KAAK8E,kBAAoB,EAEzB9E,KAAK4E,aAAauD,KACjB,SAASP,EAAMQ,GACd,GAAsC,MAAlCR,EAAKE,aAAa,YAIrB,OAHA9H,KAAK8E,kBAAoBsD,EACzBpI,KAAKwE,SAEE,GAEPxH,KAAKgD,YA9WGuE,EAAA,CACmB3E,4UClBlClC,EAAAtC,EAAA,soBAQe,SAAAwE,GAAA,IAAAiB,EAAAG,EAAA,OAAAA,EAAAH,EAAA,SAAAhB,GAAA,SAAAwI,IAAA,OAAAtI,EAAAC,KAAAqI,GAAApI,EAAAD,MAAAqI,EAAAnI,WAAAhE,OAAAiE,eAAAkI,IAAAjI,MAAAJ,KAAAK,YAAA,OAAAC,EAAA+H,EAAAxI,GAAAU,EAAA8H,EAAA,EAAAtL,IAAA,WAAAN,MAAA,WAaZ,IAAM6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCsF,EAAUrD,EAAOgK,WAAWtI,KAAKT,MAAMoC,SAE7C,QAAOA,GAAUA,EAAQ4G,QAAUhF,SAASiF,gBAjBhCH,EAAA,CACoBzI,GADpBiB,EAENkB,YAAc/C,UAFRgC,2UCRftD,EAAAtC,EAAA,soBAQe,SAAAwE,GAAA,IAAAiB,EAAAG,EAAA,OAAAA,EAAAH,EAAA,SAAAhB,GAAA,SAAA4I,IAAA,OAAA1I,EAAAC,KAAAyI,GAAAxI,EAAAD,MAAAyI,EAAAvI,WAAAhE,OAAAiE,eAAAsI,IAAArI,MAAAJ,KAAAK,YAAA,OAAAC,EAAAmI,EAAA5I,GAAAU,EAAAkI,EAAA,EAAA1L,IAAA,sBAAAN,MAAA,WAe2B,IAApB8C,EAAoBc,UAAAe,OAAA,QAAArD,IAAAsC,UAAA,GAAAA,UAAA,GAAZL,KAAKT,MAC1BhB,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBACvCqM,EAAYnK,EAAaE,OAAOiK,WAAa,GACnD,OAAOnF,SAASoF,MAAMC,MAAMrJ,EAAOmJ,EAAU,iBAlBjCD,EAAA,CACe7I,GADfiB,EAENkB,YAAc/C,UAFRgC,2UCRf6H,EAAAzN,EAAA,UACAqC,EAAArC,EAAA,goBAQM0N,oKAuCJ,OACC9K,EAAAC,QAAAC,cAAA,OACCJ,UAAU,iDACViL,QAAS/I,KAAKwE,MACdwE,UAAWhJ,KAAKqF,UAChB4D,SAAS,KACTjL,EAAAC,QAAAC,cAAA,MAAIJ,UAAU,aAAaoL,KAAK,WAC9BlJ,KAAKT,MAAM4J,kBA9CYlK,UAAMG,WAA7B0J,EAQEM,aAAe,CACrB7C,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAhBJqC,EA4BE/L,IAAM,sBAyBC,EAAAsM,EAAApL,SAAmB6K,oBCpClCvN,EAAAD,QAAmBF,EAAQ,GAARA,ukBC1BnBsC,EAAAtC,EAAA,UACAuE,EAAAvE,EAAA,soBAQe,SAAAwE,GAAA,IAAAiB,EAAAG,EAAA,OAAAA,EAAAH,EAAA,SAAAhB,GAAA,SAAAyJ,IAAA,OAAAvJ,EAAAC,KAAAsJ,GAAArJ,EAAAD,MAAAsJ,EAAApJ,WAAAhE,OAAAiE,eAAAmJ,IAAAlJ,MAAAJ,KAAAK,YAAA,OAAAC,EAAAgJ,EAAAzJ,GAAAU,EAAA+I,EAAA,EAAAvM,IAAA,qBAAAN,MAAA,WAYRgE,UAAKC,WAALsC,EAAAsG,EAAAlM,UAAA8C,WAAAhE,OAAAiE,eAAAmJ,EAAAlM,WAAA,qBAAA4C,QACHgD,EAAAsG,EAAAlM,UAAA8C,WAAAhE,OAAAiE,eAAAmJ,EAAAlM,WAAA,qBAAA4C,MAAArE,KAAAqE,MAGD,IAAMzB,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBACvCkN,EAAYvJ,KAAKT,MAAMgK,UAEvBC,EACLD,EAAUxN,OAA0B,IAAhBkL,KAAKwC,WAAoB,GAAGxH,WAE7CN,EAAUpD,EAAa+J,WAAWkB,GAEjC7H,IACJA,EAAU,IAAI4B,SAAS5B,QAAQpD,EAAc,CAC5CmL,KAAM,SAASpL,GACd,IAAIqL,EAAcJ,EAAUK,GAExBnJ,UAAKgC,SAASkH,GACjB3J,KAAK2J,GAAahO,KAAKqE,KAAM1B,GACnBmC,UAAKC,WAAWiJ,IAC1BA,EAAYhO,KAAKqE,KAAM1B,IAEvBtB,KAAKgD,QAGRzB,EAAasL,WAAWL,EAAa7H,IAGtC3B,KAAK8J,yBACJvL,EAAawL,iBAAiBC,WAAWT,EAAU1D,MAEpDtH,EAAa0L,aAAaV,EAAU1D,KAAM2D,KA3C9B,CAAAzM,IAAA,uBAAAN,MAAA,WAsDRgE,UAAKC,WAALsC,EAAAsG,EAAAlM,UAAA8C,WAAAhE,OAAAiE,eAAAmJ,EAAAlM,WAAA,uBAAA4C,QACHgD,EAAAsG,EAAAlM,UAAA8C,WAAAhE,OAAAiE,eAAAmJ,EAAAlM,WAAA,uBAAA4C,MAAArE,KAAAqE,MAGDA,KAAKP,QAAQnB,OACXjC,IAAI,gBACJ4N,aACAjK,KAAKT,MAAMgK,UAAU1D,KACrB7F,KAAK8J,8BA9DKR,EAAA,CACgB1J,GADhBiB,EAENkB,YAAc/C,UAFRgC,2UCTfvD,EAAArC,EAAA,UACA8O,EAAA9O,EAAA,WACAyN,EAAAzN,EAAA,goBASM+O,cA+BL,SAAAA,EAAY5K,GAAOQ,EAAAC,KAAAmK,GAAA,IAAAlJ,EAAAhB,EAAAD,MAAAmK,EAAAjK,WAAAhE,OAAAiE,eAAAgK,IAAAxO,KAAAqE,KACZT,IADY,OAElB0B,EAAKtD,KAAOsB,UAAMmL,YAFAnJ,+DAelBjB,KAAKrC,KAAK0M,QAAQ7F,yCAYlB,OACCxG,EAAAC,QAAAC,cAAA,OACCJ,UAAU,iDACViL,QAAS/I,KAAKwE,MACdwE,UAAWhJ,KAAKqF,UAChB7F,IAAKQ,KAAKrC,KACVsL,SAAS,KACTjL,EAAAC,QAAAC,cAAA,MACCJ,UAAU,aACVwM,GAAItK,KAAKT,MAAMgL,OACfrB,KAAK,WACJlJ,KAAKwK,eAAexK,KAAKT,MAAMkL,mDAerBA,GACd,IAAIC,SAoBJ,OAlBID,GAAYA,EAASrJ,SACxBsJ,EAAQD,EAASE,IAAI,SAAS/C,GAC7B,OACC5J,EAAAC,QAAAC,cAAA,MAAInB,IAAK6K,EAAKjG,QAASuH,KAAK,UAC3BlL,EAAAC,QAAAC,cAAC0M,EAAA3M,QAAD,CACC0D,QAASiG,EAAKjG,QACdkJ,YACuB,kBAAfjD,EAAKkD,MACTlD,EAAKkD,MACLlD,EAAKkD,QAETC,KAAMnD,EAAKmD,WAOTL,SAzGwBzL,UAAMG,WAAjC+K,EASEf,aAAe,CACrB7C,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAjBJ0D,EA6BEpN,IAAM,gCAgFC,EAAAsM,EAAApL,SAAmBkM,2UCxHlCa,EAAA5P,EAAA,WACA6P,EAAA7P,EAAA,WACA8P,EAAA9P,EAAA,WACA+P,EAAA/P,EAAA,WACAqC,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,UACAyN,EAAAzN,EAAA,goBASMgQ,+KA0CJ/D,UAASC,YAAYtH,MAAMwE,qDAW3B,IAAM6G,EAAc,GACdC,EAAe,GACfC,EAAe,GAErBvL,KAAKT,MAAMiM,OAAO7D,QAAQ,SAASC,GAClC,IAAM3E,EAAQ,IAAIM,SAASN,MAAM2E,EAAK3E,OAElCA,EAAMuC,OAASjC,SAASkI,YAC3BJ,EAAYtD,KAAKH,GACP3E,EAAMuC,OAASjC,SAASmI,aAClCJ,EAAavD,KAAKH,GACR3E,EAAMuC,OAASjC,SAASoI,cAClCJ,EAAaxD,KAAKH,KAIpB5H,KAAK4L,aAAeP,EACpBrL,KAAK6L,cAAgBP,EACrBtL,KAAK8L,cAAgBP,mCAYrB,IAAIQ,SAUJ,OARI/L,KAAKT,MAAMyM,uBACdD,EACC/N,EAAAC,QAAAC,cAAC+N,EAAAhO,QAAD,CACC0H,UAAW3F,KAAKT,MAAM2M,kBAMxBlO,EAAAC,QAAAC,cAACiO,EAAAlO,QAAmB+B,KAAKT,MACvBwM,EAED/N,EAAAC,QAAAC,cAACkO,EAAAnO,QAAD,CACClC,KAAMsQ,YAAYC,QAAQjB,YAC1BG,OAAQxL,KAAK4L,eAEb5L,KAAKuM,mBAAmBvM,KAAK4L,cAE9B5N,EAAAC,QAAAC,cAACkO,EAAAnO,QAAD,CACClC,KAAMsQ,YAAYC,QAAQhB,aAC1BE,OAAQxL,KAAK6L,gBAEb7L,KAAKuM,mBAAmBvM,KAAK6L,eAE9B7N,EAAAC,QAAAC,cAACkO,EAAAnO,QAAD,CACClC,KAAMsQ,YAAYC,QAAQf,aAC1BC,OAAQxL,KAAK8L,gBAEb9L,KAAKuM,mBAAmBvM,KAAK8L,2DAedN,GAAQ,IAAAgB,EAAAxM,KACtB0K,SAgBJ,OAdIc,GAAUA,EAAOpK,SACpBsJ,EAAQc,EAAOb,IAAI,SAAA/C,GAClB,OACC5J,EAAAC,QAAAC,cAAA,MAAInB,IAAK6K,EAAK7L,KAAMmN,KAAK,UACxBlL,EAAAC,QAAAC,cAACuO,EAAAxO,QAAD,CACCyO,YAAaF,EAAKjN,MAAMmN,YACxB3Q,KAAM6L,EAAK7L,KACXkH,MAAO2E,EAAK3E,YAOVyH,SAjJsBzL,UAAMG,WAA/BgM,EASEhC,aAAe,CACrB7C,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,KAERuF,sBAAsB,GAnBlBZ,EA8BErO,IAAM,8BAuHC,EAAAsM,EAAApL,SAAmBmN,kFCpKlC,IAAA1N,EAAAtC,EAAA,UACAuE,EAAAvE,EAAA,soBAae,SAAAwE,GAAA,IAAAiB,EAAAC,EAAA,OAAAA,EAAAD,EAAA,SAAAhB,GAAA,SAAA8M,IAAA,IAAAhP,EAAAqD,EAAAC,EAAAC,EAAAnB,EAAAC,KAAA2M,GAAA,QAAAxL,EAAAd,UAAAe,OAAAC,EAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAlB,UAAAkB,GAAA,OAAAN,EAAAhB,EAAAD,MAAArC,EAAAgP,EAAAzM,WAAAhE,OAAAiE,eAAAwM,IAAAhR,KAAAyE,MAAAzC,EAAA,CAAAqC,MAAAwB,OAAAH,KAAAL,EAAAC,IAWb2L,WAAa,WACZ,GACCnM,UAAKC,WAAWO,EAAKN,WACrBF,UAAKC,WAAWO,EAAKwC,UACpB,CACD,IAAMnF,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEvCiC,EAAOuO,eAAeC,OAElB7L,EAAKN,WACRrC,EAAOyO,YAAY9L,EAAKwC,YAExBnF,EAAOsO,WAAW3L,EAAKwC,YAGxBnF,EAAOuO,eAAeG,SAEtB1O,EAAOwD,KAAK,kBAAZb,KA5BWC,EAAAF,EAAAf,EAAAgB,EAAAC,GAAA,OAAAZ,EAAAqM,EAAA9M,GAAA8M,EAAA,CACkB/M,GADlBiB,EAENkB,YAAc/C,UAFR8B,kFCdf,IAAImM,EAAuB,SAASC,EAAOvG,GAQ1C,OACCA,EAAQwG,UAAU/L,SAAW8L,EAAME,WAClCzG,EAAQ0G,OAAOH,EAAMI,iBACrB3G,EAAQ0G,OAAOH,EAAMK,eACrBL,EAAMM,cAAgBN,EAAME,WACR,IAApBF,EAAME,WAILK,EAAqB,SAASC,GACjC,IAAIC,EAAgBD,EAAQhM,KAAKiM,cAEjC,SACCA,EAAchH,SACwC,aAAtDgH,EAAchH,QAAQmB,aAAa,iBAI/B8F,EAAwB,SAASF,GACtC,IAAMC,EAAgBD,EAAQhM,KAAKiM,cAEnC,SACCA,EAAchH,SACwC,aAAtDgH,EAAchH,QAAQmB,aAAa,iBAI/B+F,EAA2B,SAASH,GACzC,IAAMI,EAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAC1CvP,EAAemP,EAAQpP,OAAOjC,IAAI,gBAClCsR,EAAgBD,EAAQhM,KAAKiM,cAC7BI,EAAiBxP,EAAayP,mBAEpC,QACEL,EAAchH,UACfgH,EAAcM,QACbF,GACAxP,EACCsO,eACAqB,oBACAC,eACF5P,EAAaiF,cAAc4K,SAASN,KAIlCO,EAAoB,SAASX,GAChC,IAAInP,EAAemP,EAAQpP,OAAOjC,IAAI,gBAClC6Q,EAAQ3O,EAAasO,eAAeyB,YAAY,GAChDX,EAAgBD,EAAQhM,KAAKiM,cAE7BhH,EAAU,IAAIpD,SAASgL,KAAKhQ,GAAciQ,mBAC1CR,EAAmBzP,EAAayP,mBAChCS,GAAoBd,EAAchH,SACC,QAApCgH,EAAchH,QAAQ+H,UAGzB,UACCV,GACAS,GACA9H,GACAA,EAAQwG,UAAU/L,SAAW8L,EAAME,WACnCzG,IACCA,EAAQwH,cACRlB,EAAqBC,EAAOvG,KAIzBgI,EAAqB,SAASjB,GACnC,IAAMC,EAAgBD,EAAQhM,KAAKiM,cAC7BhH,EAAUgH,EAAchH,QACxBiI,IAAajI,KAAaA,EAAQkI,QAAQ,OAC1CC,IAAYnI,GAAiC,QAAtBA,EAAQ+H,UAErC,SAAU/H,IAAYiI,IAAYE,IAG/BC,EAAoB,SAASrB,GAChC,IAAInP,EAAemP,EAAQpP,OAAOjC,IAAI,gBAElC0R,EAAiBxP,EAAayP,mBAE9BL,EAAgBD,EAAQhM,KAAKiM,cAEjC,QACEA,EAAchH,UACfgH,EAAcM,QACbF,GACAxP,EACCsO,eACAqB,oBACAC,eAIAa,EAAqB,SAAStB,GACjC,IAAInP,EAAemP,EAAQpP,OAAOjC,IAAI,gBAElC4S,EAAQ,IAAI1L,SAAS2L,MAAM3Q,GAC3BoI,EAAUsI,EAAMT,mBAEpB,SAAU7H,IAAWsI,EAAME,WAAWxI,KAGjCyI,EAAgB,CACrBC,MAAO5B,EACP6B,SAAU1B,EACV2B,OAAQ1B,EACR2B,MAAOb,EACPc,KAAMpB,EACNY,MAAOD,EACPU,KAAMX,aAGQK,iFCzHf,IAAAzP,EAAAvE,EAAA,6DAeA,IAAMuU,EAAS,SAAShN,EAAUC,EAAUgN,EAAYC,GACvD,IAAKjN,IAAaD,EACjB,MAAM,IAAImN,MAAM,sCAGjB,IAAIC,EAAgBnN,EAASxF,UAEzB4S,EAAgB9T,OAAOY,OAAOiT,GAwBlC,OAvBApN,EAASvF,UAAY4S,EAErBA,EAAcC,YAActN,EAC5BA,EAASuN,WAAaH,EAIrBnN,IAAa1G,QACb6T,EAAcE,cAAgB/T,OAAOkB,UAAU6S,cAE/CF,EAAcE,YAAcrN,GAIzBgN,GACHnP,UAAKiC,IAAIsN,EAAeJ,GAIrBC,GACHpP,UAAKiC,IAAIC,EAAUkN,GAGblN,aAGOgN,skBCjDfhQ,EAAAvE,EAAA,soBAUe,SAAAwE,GAAA,gBAAAC,GAAA,SAAAsQ,IAAA,IAAAxS,EAAAqD,EAAAC,EAAAC,EAAAnB,EAAAC,KAAAmQ,GAAA,QAAAhP,EAAAd,UAAAe,OAAAC,EAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAlB,UAAAkB,GAAA,OAAAN,EAAAhB,EAAAD,MAAArC,EAAAwS,EAAAjQ,WAAAhE,OAAAiE,eAAAgQ,IAAAxU,KAAAyE,MAAAzC,EAAA,CAAAqC,MAAAwB,OAAAH,KAAAL,EAAAC,IA8FbmP,iBAAmB,SAAAC,GAClBpP,EAAKqP,SAAS,CACbD,cAAeA,KAhGJnP,EAAAF,EAAAf,EAAAgB,EAAAC,GAAA,OAAAZ,EAAA6P,EAAAtQ,GAAAU,EAAA4P,EAAA,EAAApT,IAAA,kBAAAN,MAAA,SAUG4T,GACXrQ,KAAKuI,MAAM8H,gBAAkBA,GAChCrQ,KAAKsQ,SAAS,CACbD,cAAe,SAbL,CAAAtT,IAAA,4BAAAN,MAAA,SA4Ba8T,GACrB9P,UAAKC,WAALsC,EAAAmN,EAAA/S,UAAA8C,WAAAhE,OAAAiE,eAAAgQ,EAAA/S,WAAA,4BAAA4C,QACHgD,EAAAmN,EAAA/S,UAAA8C,WAAAhE,OAAAiE,eAAAgQ,EAAA/S,WAAA,4BAAA4C,MAAArE,KAAAqE,KAAgCuQ,GAMjCvQ,KAAKsQ,SAAS,CACbD,cAAe,SArCJ,CAAAtT,IAAA,kBAAAN,MAAA,SAkDGiO,GACf,OAAOA,EAAM8F,OACZ,SAAS5I,GACR,OAAI5H,KAAKuI,MAAM8H,cACVrQ,KAAKuI,MAAM8H,gBAAkBzI,EAAK7K,IAC9B6K,OADR,EAIOA,GAEP5K,KAAKgD,SA5DI,CAAAjD,IAAA,sBAAAN,MAAA,SA8EOgU,EAAKC,GACxB,OAAOnN,SAASoF,MAAMC,MAAM6H,EAAK,CAChCE,gBAAiB3Q,KAAK2Q,gBAAgB3T,KAAKgD,KAAM0Q,GACjDE,gBAAiB5Q,KAAKuI,MAAM8H,gBAAkBK,EAC9CN,iBAAkBpQ,KAAKoQ,iBAAiBpT,KAAKgD,KAAM0Q,SAlFxCP,EAAA,CACgBvQ,gfCX/BnC,EAAArC,EAAA,UACAyV,EAAAzV,EAAA,WACA0V,EAAA1V,EAAA,UACA2V,EAAA3V,EAAA,WACA4V,EAAA5V,EAAA,WACAsC,EAAAtC,EAAA,UACAuE,EAAAvE,EAAA,UACA6V,EAAA7V,EAAA,WACAyN,EAAAzN,EAAA,goBAWM8V,cAsCL,SAAAA,EAAY3R,GAAOQ,EAAAC,KAAAkR,GAAA,IAAAjQ,EAAAhB,EAAAD,MAAAkR,EAAAhR,WAAAhE,OAAAiE,eAAA+Q,IAAAvV,KAAAqE,KACZT,IADY,OAAA0B,EAiMnBkQ,WAAa,WACZlQ,EAAKqP,SAAS,CACbc,SAAU,KAGXnQ,EAAKoQ,mBAtMapQ,EA0OnBqQ,eAAiB,SAAA7M,GAKhB,GAJsB,KAAlBA,EAAM2B,SAAoC,KAAlB3B,EAAM2B,SACjC3B,EAAMW,iBAGe,KAAlBX,EAAM2B,QACTnF,EAAKsQ,mBACC,GAAsB,KAAlB9M,EAAM2B,QAChBnF,EAAKqP,SAAS,CACbkB,sBAAsB,SAEjB,GAAsB,KAAlB/M,EAAM2B,QAAgB,CAChC,IAAM9H,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEvC,IAAIkH,SAASgL,KAAKjQ,GAAQmT,mBAE1BxQ,EAAKxB,QAAQnB,OACXjC,IAAI,gBACJyF,KAAK,kBAFPb,KA1PiBA,EAyQnByQ,sBAAwB,SAAAjN,GACvBxD,EAAKqP,SAAS,CACbc,SAAU3M,EAAME,OAAOlI,QAGxBwE,EAAKoQ,mBA9QapQ,EA0RnB0Q,wBAA0B,SAAAlN,GACzBxD,EAAKqP,SAAS,CACbsB,aAAc,KACdC,WAAYpN,EAAME,OAAOmD,aAAa,gBAGvC7G,EAAKoQ,mBAhSapQ,EAiVnB6Q,YAAc,WACb,IAAMxT,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBACjC0V,EAAY,IAAIxO,SAASgL,KAAKjQ,GAC9B0T,EAAY1T,EAAOuO,eACnBoF,EAAYD,EAAUE,kBAE5BH,EAAUI,OAAOlR,EAAKsH,MAAM5B,QAAS,CAACyL,SAAS,IAE/CJ,EAAUK,gBAAgBJ,GAI1BhR,EAAK1B,MAAMoR,kBAEXrS,EAAOwD,KAAK,kBAAZb,IA/VkBA,EAyXnBsQ,YAAc,WACb,IAAMjT,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBACjC0V,EAAY,IAAIxO,SAASgL,KAAKjQ,EAAQ,CAC3CgU,eAAgBrR,EAAK1B,MAAM+S,iBAEtBC,EAAY,CACjB5N,OAAQ1D,EAAKsH,MAAMsJ,YAEdW,EAAkB,CAACJ,SAAS,GAE9BnR,EAAKsH,MAAM6I,WACVnQ,EAAKsH,MAAM5B,SACd4L,EAAUxT,KAAOkC,EAAKsH,MAAM6I,SAE5BW,EAAUU,OACTF,EACAtR,EAAKsH,MAAM5B,QACX6L,IAGDT,EAAUjV,OACTmE,EAAKsH,MAAM6I,SACXmB,EACAC,GAIFlU,EAAOwD,KAAK,kBAAZb,IAKDA,EAAK1B,MAAMoR,mBAtZX1P,EAAKyR,UAAYzT,UAAMmL,YACvBnJ,EAAKsH,MAAQtH,EAAK0R,mBAJA1R,gEAkBdjB,KAAKT,MAAMqR,iBAAmB5Q,KAAKT,MAAMqT,kBAG5C5S,KAAKqR,sEAaNrR,KAAKsQ,SAAStQ,KAAK2S,qDAYnB,IAAIE,EAAiB,CACpBC,eAAgB9S,KAAKT,MAAMuT,eAC3BxU,OAAQ0B,KAAKP,QAAQnB,OACrByU,uBAAwB/S,KAAK2R,wBAC7BqB,eACChT,KAAKuI,MAAMsJ,YAAcxF,YAAYC,QAAQ2G,mBAG/CJ,EAAiB7S,KAAKkT,mBACrBL,EACAM,UAAqBpW,KAGtB,IAAIqW,SAEJ,GAAIpT,KAAKT,MAAMmC,KAAM,CACpB,IAAI2R,EAASrT,KAAKT,MAAMmC,KAExB,IAAKjB,UAAKC,WAAW2S,GAAS,CAC7B,IAAM3I,EAAQ1K,KAAKT,MAAMmC,KAEzB2R,EAAS,kBAAM3I,GAGhB,IAAI4I,EAA4B,CAC/B9B,qBAAsBxR,KAAKuI,MAAMiJ,qBACjC9P,KAAM2R,EACN/U,OAAQ0B,KAAKP,QAAQnB,OACrBiV,4BAA6BvT,KAAKwT,6BAClC7N,UAAW3F,KAAKT,MAAM2M,eACtBuH,qBAAsBzT,KAAK0T,sBAC3BC,KAAM3T,KAAKuI,MAAM6I,UAGlBkC,EAA4BtT,KAAKkT,mBAChCI,EACAM,UAA2B7W,KAG5BqW,EACCpV,EAAAC,QAAAC,cAAC2V,EAAA5V,QAA+BqV,GAIlC,IAAIQ,SAEA9T,KAAKuI,MAAM6I,WACd0C,EACC9V,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ0H,WAChClW,UAAU,4BACVmW,QAASjU,KAAKmR,WACd+C,MAAO7H,YAAYC,QAAQ6H,OAC3BnW,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBAKtB,IAAMyW,EAAkB,GAMxB,OAJK9Q,SAAS+Q,IAAIC,IAAMlI,YAAYC,UACnC+H,EAAgBG,YAAcnI,YAAYC,QAAQmI,UAIlDzW,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,0BACdE,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQoI,WAChC5W,UAAU,YACV6W,UAAW3U,KAAKuI,MAAM5B,QACtBsN,QAASjU,KAAK8R,YACdoC,MAAO7H,YAAYC,QAAQ6F,QAC3BnU,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBAEpBI,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,0BACbkC,KAAKT,MAAMqV,oBACX5W,EAAAC,QAAAC,cAAC2W,EAAA5W,QAAyB4U,GAE3B7U,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,sBACdE,EAAAC,QAAAC,cAAA,QAAAwB,EAAA,CACC5B,UAAU,WACVgX,SAAU9U,KAAK0R,sBACf1I,UAAWhJ,KAAKsR,gBACZ+C,EAJL,CAKC7U,IAAKQ,KAAK0S,UACVlN,KAAK,OACL/I,MAAOuD,KAAKuI,MAAM6I,YAElBgC,GAEDU,GAEF9V,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQyI,QAChCjX,UAAU,YACV6W,UAAW3U,KAAKgV,gBAChBf,QAASjU,KAAKuR,YACd2C,MAAO7H,YAAYC,QAAQyI,SAC3B/W,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,QAAQE,UAAU,mEAetB,IAEXQ,EAAU0B,KAAKT,MAAME,QAArBnB,OACA2W,EAAqBjV,KAAKT,MAA1B0V,kBAEDxF,EAAO,IAAIlM,SAASgL,KACzBjQ,EAAOjC,IAAI,iBACVmS,mBACIzP,EAAQ0Q,GAAQA,EAAK3H,aAAa,SAAY,GAC9CnD,EACJ8K,GAAQA,EAAK3H,aAAa,WAAcmN,EAE1C,MAAO,CACNzD,sBAAsB,EACtB7K,QAAS8I,EACTyF,YAAa,CACZnW,KAAMA,EACN4F,OAAQA,GAETyM,SAAUrS,EACV8S,WAAYlN,6CA+Bb,IAAMwQ,EAAWnV,KAEXoV,EAAc,WACnBD,EAASzC,UAAUrI,QAAQ7F,SAGxB6Q,OAAOC,sBACVD,OAAOC,sBAAsBF,GAE7BG,WAAWH,EAAa,wDAiFG3Q,GAC5BzE,KAAKsQ,SAAS,CACbsB,aAAc,KACdR,SAAU3M,EAAME,OAAOmD,aAAa,gBAGrC9H,KAAKqR,0DAeL,IAAMmE,EACLxV,KAAKuI,MAAM6I,WACVpR,KAAKuI,MAAM6I,WAAapR,KAAKuI,MAAM2M,YAAYnW,MAC/CiB,KAAKuI,MAAMsJ,aAAe7R,KAAKuI,MAAM2M,YAAYvQ,QAEnD,OAAO6Q,gDAoCcjN,GACrBvI,KAAKsQ,SAAS,CACbkB,qBAAsBjJ,EAAMkN,kBAlZFxW,UAAMG,WAA7B8R,EACEnP,YAAc/C,UADhBkS,EAWE9H,aAAe,CACrBkJ,gBAAgB,EAChBoD,gBAAiB,GACjBnP,UAAU,EACVoP,kBAAkB,EAClBV,kBAAmB,GACnB1N,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,KAERmO,oBAAoB,GAzBhB1D,EAoCEnU,IAAM,qBA+ZCiC,UAAcG,SAC5B,EAAAyW,EAAA3X,UAAe,EAAA4X,EAAA5X,UAAe,EAAAoL,EAAApL,SAAmBiT,8uBCvdlDvR,EAAAvE,EAAA,UACA4I,EAAA5I,EAAA,soBAOe,SAAAwE,GAAA,gBAAAC,GAEb,SAAAiW,EAAYvW,GAAOQ,EAAAC,KAAA8V,GAAA,IAAA7U,EAAAhB,EAAAD,MAAA8V,EAAA5V,WAAAhE,OAAAiE,eAAA2V,IAAAna,KAAAqE,KACZT,IADY,OAAA0B,EA0CnBiS,mBAAqB,SAACzC,EAAKC,GAC1B,OAAOnN,SAASoF,MAAMC,MAAM6H,EAAK,CAChCsF,SAAU9U,EAAKsH,MAAMqJ,eAAiBlB,EACtCzH,SAAUhI,EAAKsH,MAAMyN,kBAAoBtF,EAAU,GAAK,EACxDxE,eAAgBjL,EAAKiL,eAAelP,KAApBiE,EAA+ByP,MA9C9BzP,EA2DnBiL,eAAiB,SAAC0F,EAAcqE,GAC/BhV,EAAKqP,SACJ,CACC0F,gBAAiBpE,EACjBA,aACCA,IAAiB3Q,EAAKsH,MAAMqJ,aACzBA,EACA,MAEL,WACM3Q,EAAKsH,MAAMqJ,eACX3Q,EAAKiV,UACRjV,EAAKiV,UAAUD,GAEf5O,UAASC,YAATrG,GAA2BuD,YAtE/BvD,EAAKsH,MAAL7I,EAAA,GACIuB,EAAKsH,MADT,CAECyN,gBAAiB,KACjBpE,aAAc,OANG3Q,EAFN,OAAAX,EAAAwV,EAAAjW,GAAAU,EAAAuV,EAAA,EAAA/Y,IAAA,4BAAAN,MAAA,SAoBa8T,GACrB9P,UAAKC,WAALsC,EAAA8S,EAAA1Y,UAAA8C,WAAAhE,OAAAiE,eAAA2V,EAAA1Y,WAAA,4BAAA4C,QACHgD,EAAA8S,EAAA1Y,UAAA8C,WAAAhE,OAAAiE,eAAA2V,EAAA1Y,WAAA,4BAAA4C,MAAArE,KAAAqE,KAAgCuQ,GAGjCvQ,KAAKsQ,SAAS,CACb0F,gBAAiB,KACjBpE,aAAc,WA3BHkE,EAAA,CACelW,qGCT9BxE,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACA,IAAA+a,EAAA/a,EAAA,8DACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,MAEQgb,iDCPR,IAAAC,EAAAna,OAAAma,sBACAhZ,EAAAnB,OAAAkB,UAAAC,eACAiZ,EAAApa,OAAAkB,UAAAmZ,qBAEA,SAAAC,EAAAC,GACA,UAAAA,QAAA1Y,IAAA0Y,EACA,UAAAC,UAAA,yDAGA,OAAAxa,OAAAua,GAGA,SAAAE,IACA,IACA,IAAAza,OAAA0a,OACA,SAMA,IAAAC,EAAA,IAAAC,OAAA,OAEA,GADAD,EAAA,QACA,MAAA3a,OAAA6a,oBAAAF,GAAA,GACA,SAKA,IADA,IAAAG,EAAA,GACAxb,EAAA,EAAiBA,EAAA,GAAQA,IACzBwb,EAAA,IAAAF,OAAAG,aAAAzb,MAEA,IAAA0b,EAAAhb,OAAA6a,oBAAAC,GAAArM,IAAA,SAAA1N,GACA,OAAA+Z,EAAA/Z,KAEA,kBAAAia,EAAAC,KAAA,IACA,SAIA,IAAAC,EAAA,GAIA,MAHA,uBAAAjU,MAAA,IAAAwE,QAAA,SAAA0P,GACAD,EAAAC,OAGA,yBADAnb,OAAA2J,KAAA3J,OAAA0a,OAAA,GAAkCQ,IAAAD,KAAA,IAMhC,MAAAtT,GAEF,UAIAtI,EAAAD,QAAAqb,IAAAza,OAAA0a,OAAA,SAAAjS,EAAA2S,GAKA,IAJA,IAAAC,EAEAC,EADAC,EAAAjB,EAAA7R,GAGApH,EAAA,EAAgBA,EAAA8C,UAAAe,OAAsB7D,IAAA,CAGtC,QAAAR,KAFAwa,EAAArb,OAAAmE,UAAA9C,IAEAga,EACAla,EAAA1B,KAAA4b,EAAAxa,KACA0a,EAAA1a,GAAAwa,EAAAxa,IAIA,GAAAsZ,EAAA,CACAmB,EAAAnB,EAAAkB,GACA,QAAA/b,EAAA,EAAkBA,EAAAgc,EAAApW,OAAoB5F,IACtC8a,EAAA3a,KAAA4b,EAAAC,EAAAhc,MACAic,EAAAD,EAAAhc,IAAA+b,EAAAC,EAAAhc,MAMA,OAAAic,kFCxFA,IAAA9X,EAAAvE,EAAA,qLAQA,SAASsc,EAAUjZ,GAClBuB,KAAK2X,WAAalZ,GAAU,GAC5BuB,KAAK4X,UAAY,GAGlBF,EAAUta,UAAY,CACrB6S,YAAayH,EAWbrb,IAAK,SAASwb,GACb,IAAIC,EAAc9X,KAAKiQ,YAAY8H,MAAMF,GAEzC,GAAKC,EAAL,CAIK9X,KAAKgY,eAAeH,IACxB7X,KAAKiY,MAAMJ,GAGZ,IAAIK,EAAWlY,KAAK4X,UAAUC,GAM9B,OAJIC,EAAY9b,SACfkc,EAAWlY,KAAKmY,sBAAsBL,EAAY9b,OAAQkc,IAGpDA,IAYRE,IAAK,SAASP,EAAMpb,GACnB,IAAIqb,EAAc9X,KAAKiQ,YAAY8H,MAAMF,GAEpCC,IAIA9X,KAAKgY,eAAeH,IACxB7X,KAAKiY,MAAMJ,GAGRC,EAAYO,UAIZP,EAAYQ,WAAatY,KAAKgY,eAAeH,IAKhDC,EAAYS,YACXvY,KAAKmY,sBAAsBL,EAAYS,UAAW9b,KAKhDqb,EAAYU,SACf/b,EAAQuD,KAAKmY,sBAAsBL,EAAYU,OAAQ/b,IAGxDuD,KAAK4X,UAAUC,GAAQpb,KAgBxB0b,sBAAuB,SAASM,EAAkBpX,GACjD,IAAIqX,EAAS,KAeb,OAbKjY,UAAKuB,QAAQX,KACjBA,EAAO,CAACA,IAIRZ,UAAKgC,SAASgW,IACdhY,UAAKC,WAAWV,KAAKyY,IAErBC,EAAS1Y,KAAKyY,GAALrY,MAAAJ,KAAA2Y,EAA0BtX,IACzBZ,UAAKC,WAAW+X,KAC1BC,EAASD,EAAiBrY,MAAMJ,KAAMqB,IAGhCqX,GAaRT,MAAO,SAASJ,GACf,IAAIpb,SAEAqb,EAAc9X,KAAKiQ,YAAY8H,MAAMF,GAGrCe,EAAkB1c,OAAOkB,UAAUC,eAAe1B,KACrDmc,EACA,SAEGe,EAA0B3c,OAAOkB,UAAUC,eAAe1B,KAC7DqE,KAAK2X,WACLE,GAID,GAAIC,EAAYgB,QACfrc,EAAQuD,KAAKmY,sBAAsBL,EAAYgB,QAASrc,GAExDuD,KAAK4X,UAAUC,GAAQpb,OAInB,GAAIqb,EAAYO,SACpB5b,EAAQqb,EAAYrb,WAIhB,GAAIqb,EAAYQ,UACpB,GAAIO,EACHpc,EAAQuD,KAAK2X,WAAWE,OAClB,KAAIe,EAGV,OAFAnc,EAAQqb,EAAYrb,WAOboc,EACRpc,EAAQuD,KAAK2X,WAAWE,GACde,IACVnc,EAAQqb,EAAYrb,OAMrB,GACCqb,EAAYS,WACZM,IACC7Y,KAAKmY,sBAAsBL,EAAYS,UAAW9b,GAClD,CACD,IAAImc,EAGH,OAFAnc,EAAQqb,EAAYrb,MAQlBqb,EAAYU,QAAUK,IACzBpc,EAAQuD,KAAKmY,sBAAsBL,EAAYU,OAAQ/b,IAIxDuD,KAAK4X,UAAUC,GAAQpb,GAexBub,eAAgB,SAASH,GACxB,OAAO3b,OAAOkB,UAAUC,eAAe1B,KAAKqE,KAAK4X,UAAWC,eAI/CH,iFCxNf,IAAAqB,EAAA3d,EAAA,WACA4d,EAAA5d,EAAA,WACA6d,EAAA7d,EAAA,8DAEA,IAAM8d,EAAa,CAClB,CACCnd,KAAM,QACNod,QAAS,CAAC,cAAe,aACzBC,KAAMhK,UAAcC,OAErB,CACCtT,KAAM,WACNod,QAAS,CAAC,aAAc,kBACxBC,KAAMhK,UAAcE,UAErB,CACCvT,KAAM,OACNod,QAAS,CAAC,YACVC,KAAMhK,UAAcK,MAErB,CACC1T,KAAM,QACNod,QAAS,CAAC,YAAa,cAAe,aAAc,eACpDE,YAAaC,UAAqB9J,MAClC4J,KAAMhK,UAAcI,OAErB,CACCzT,KAAM,OACNod,QAAS,CACRI,KAAM,CACL,CACC,OACA,WACA,YACA,OACA,SACA,YACA,SACA,YACA,QAED,CACC,iBACA,YACA,KACA,KACA,YACA,KACA,KACA,YACA,cACA,eACA,YACA,YACA,UACA,YACA,OACA,QACA,YACA,iBAIFC,OAAQ,CAAC,SAAU,OAAQ,SAAU,YAAa,SAEnDJ,KAAMhK,UAAcM,MAErB,CACC3T,KAAM,QACNod,QAAS,CACR,eACA,WACA,cACA,YACA,eAEDM,mBAAoBC,UAA4BzK,MAChDoK,YAAaC,UAAqBrK,MAClCmK,KAAMhK,UAAcH,kBAIPiK,iFClFf,IAAIS,EAAmC,WACtC,MAAO,oCAGFD,EAA8B,CACnCzK,MAAO0K,aAGOD,iFCRf,IAAA1V,EAAA5I,EAAA,6DAGA,IAAIwe,EAAiB,CACpBC,KAAM,EACNC,IAAK,GAUFC,EAAgB,SAASC,EAASC,GACrC,IAAIC,EAAc7S,UAASC,YAAY0S,GAEnCzb,EAAeyb,EAAQva,QAAQnB,OAAOjC,IAAI,gBAC1C8d,EAAS5b,EAAaE,OAAO0b,QAAUpV,SAASqV,KAChDC,EAAcC,iBAAiBH,GAC/BI,EAAmBzX,SACtBuX,EAAYG,iBAAiB,eAC7B,IAEGC,EAAoB3X,SACvBuX,EAAYG,iBAAiB,gBAC7B,IAEGE,EAAaH,EAAmBJ,EAAOQ,YAAcF,EAErDG,EAAgBV,EAAYW,YAAc,EAC1CC,EAAiB,IAAIvX,SAASwX,IAAI1F,OAAOA,QAAQ2F,oBAEjDC,EAASjB,EAAQza,MAAM0b,QAAUrB,EAEjCsB,EAAWlB,EAAQmB,iBACtBlB,EAAKJ,KAAOI,EAAKpb,MAAQ,EAAIic,EAAeM,EAC5CnB,EAAKH,IAAMgB,EAAeO,EAC1B9X,SAAS+X,yBAGNC,EAAc,CACjBtB,EAAKJ,KAAOI,EAAKpb,MAAQ,EAAI+b,EAAgBE,EAAeM,EAC5DnB,EAAKH,IAAMI,EAAYsB,aAAeV,EAAeO,EAAIJ,EAAOnB,KAG7DyB,EAAY,GAAK,EACpBA,EAAY,GAAK,EACPA,EAAY,GAAKb,EAAaR,EAAYW,cACpDU,EAAY,GAAKb,EAAaR,EAAYW,aAG3Cb,EAAQyB,YAAYP,EAAUK,IAW3BG,EAA4B,SAAShO,GACxC,IAAIC,EAAgBD,EAAQC,cACzBD,EAAQC,cACRD,EAAQiO,YACRjO,EAAQiO,YAAYja,KAAKiM,cACzB,KAEH,GAAIA,GAAiBA,EAAchH,QAGlC,OAFAoT,EAAc/Z,KAAM2N,EAAchH,QAAQiV,kBAEnC,GAYLC,EAA4B,SAASnO,GACxC,IAAInP,EAAemP,EAAQpP,OAAOjC,IAAI,gBAClC8d,EAAS5b,EAAaE,OAAO0b,OAE7B2B,EAAY3B,EAASA,EAAO2B,UAAY,EAExC7M,EAAQ,IAAI1L,SAAS2L,MAAM3Q,GAAciQ,mBACzCyL,EAAOhL,EAAM2M,gBAKjB,OAJA3B,EAAKH,KAAOgC,EAEZ/B,EAAc/Z,KAAMia,IAEb,GAGFX,EAAuB,CAC5B9J,MAAOkM,EACPzM,MAAO4M,aAGOvC,0UC1GfyC,EAAA3gB,EAAA,WACA4gB,EAAA5gB,EAAA,UACAsC,EAAAtC,EAAA,UACAqC,EAAArC,EAAA,goBAUM6gB,qNAuELC,SAAW,WAIVjb,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAAgBoF,YAAY,gBAEpDR,EAAK2L,uFAtDL,IAAIuP,EAAW,CACdxV,QAAS,OACT6E,OAAQ,CACP4Q,OAAQ,IAIVD,EAAW5Y,SAASoF,MAAMC,MAAMuT,EAAUnc,KAAKT,MAAM0D,OAErDjD,KAAKqc,SAAW,IAAI9Y,SAASN,MAAMkZ,GAAUG,aAC5Ctc,KAAKT,MAAMxD,uCAeZ,IAAM+B,EACLkC,KAAKT,MAAMxD,OAASiE,KAAKT,MAAMmN,YAC5B,4BACA,qBAEJ,OACC1O,EAAAC,QAAAC,cAAA,UACCJ,UAAWA,EACXye,wBAAyB,CAACC,OAAQxc,KAAKqc,UACvCpI,QAASjU,KAAKkc,SACdjT,SAAUjJ,KAAKT,MAAM0J,kBA1DUhK,UAAMG,WAAnC6c,EACEla,YAAc/C,UADhBid,EAWElf,IAAM,kCAsEC,EAAA0f,EAAAxe,UAAkB,EAAAye,EAAAze,SAAYge,4UC9F7Cxe,EAAArC,EAAA,UACAsC,EAAAtC,EAAA,goBAQMuhB,qNAsDLC,cAAgB,WACf,IAAMte,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEvCiC,EAAOmD,YAAY,gBAEnBR,EAAK1B,MAAMsd,aAAalV,QAAQ,SAASmV,GACxC,IAAMC,EAAa,IAAIxZ,SAASN,MAAM,CAAC0D,QAASmW,IAEhDxe,EAAOyO,YAAYgQ,KAGpBze,EAAOwD,KAAK,kBAAZb,iEA/BA,OACCjD,EAAAC,QAAAC,cAAA,MAAIgL,KAAK,UACRlL,EAAAC,QAAAC,cAAA,UACCJ,UAAU,qBACVmW,QAASjU,KAAK4c,cACd3T,SAAUjJ,KAAKT,MAAM0J,UACpBoD,YAAYC,QAAQ0Q,gBAxCe/d,UAAMG,WAAzCud,EACE5a,YAAc/C,UADhB2d,EAWEvT,aAAe,CACrByT,aAAc,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,QAZ/CF,EAuBE5f,IAAM,uCA8CC4f,0UC9Eflf,EAAArC,EAAA,goBAOM6hB,oKAYJ,OAAIjd,KAAKT,MAAMiM,QAAUxL,KAAKT,MAAMiM,OAAOpK,OACnCpD,EAAAC,QAAAC,cAAA,QAAMJ,UAAU,kBAAkBkC,KAAKT,MAAMxD,MAE7C,YAf4BkD,UAAMG,WAAtC6d,EACElgB,IAAM,mCAmBCkgB,0UC3Bfxf,EAAArC,EAAA,UACAsC,EAAAtC,EAAA,goBAOM8hB,cAuBL,SAAAA,EAAY3d,GAAOQ,EAAAC,KAAAkd,GAAA,IAAAjc,EAAAhB,EAAAD,MAAAkd,EAAAhd,WAAAhE,OAAAiE,eAAA+c,IAAAvhB,KAAAqE,KACZT,IADY,OAAA0B,EA4FnBkc,UAAY,WACX,IAAMC,EAAUnc,EAAKoc,mBAAmBhT,QAClCiT,EAAWrc,EAAKsc,oBAAoBlT,QAEpC5K,EAAU6d,EAASE,WAAW,MAE9B1e,EAASmC,EAAKwc,aACd5e,EAAQoC,EAAK1B,MAAMme,WAEzB,GAAI7e,GAASC,EAAQ,CACpBwe,EAASze,MAAQA,EACjBye,EAASxe,OAASA,EAElBW,EAAQke,UAAUP,EAAS,EAAG,EAAGve,EAAOC,GAExC,IAAM8e,EAASN,EAASO,UAAU,aAE5BC,EAAKva,SAASwX,IAAIpU,QAAQoX,eAC/B,aAAeH,EAAS,MAGnBtf,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEvCiC,EAAO0f,cAAcF,GAErB7c,EAAK1B,MAAMoR,kBAEXrS,EAAOwD,KAAK,kBAAZb,GAEA3C,EAAOwD,KAAK,iBAAkBgc,KAzHb7c,EAsInBgd,mBAAqB,SAAAla,GACpBsR,OAAO6I,MAAM,sBAAwBna,IAvInB9C,EAoJnBkd,qBAAuB,SAAAC,GACtB,IAAMhB,EAAUnc,EAAKoc,mBAAmBhT,QAClCiT,EAAWrc,EAAKsc,oBAAoBlT,QAE1C+S,EAAQiB,iBACP,UACA,WACC,IAAIvf,EACHse,EAAQkB,aACPlB,EAAQM,WAAazc,EAAK1B,MAAMme,YAE9Ba,MAAMzf,KACTA,EAASmC,EAAK1B,MAAMme,YAAc,EAAI,IAGvCN,EAAQpW,aAAa,QAAS/F,EAAK1B,MAAMme,YACzCN,EAAQpW,aAAa,SAAUlI,GAC/Bwe,EAAStW,aAAa,QAAS/F,EAAK1B,MAAMme,YAC1CJ,EAAStW,aAAa,SAAUlI,GAEhCmC,EAAKwc,aAAe3e,IAErB,GAGDmC,EAAKud,QAAUJ,EAEXK,UAAUC,gBACbtB,EAAQuB,aAAeP,EAEvBhB,EAAQwB,UAAYR,EAGrBhB,EAAQyB,OAER5d,EAAK6d,oBAAoBzU,QAAQsK,UAAW,GArL5C1T,EAAK6d,oBAAsB7f,UAAMmL,YACjCnJ,EAAKsc,oBAAsBte,UAAMmL,YACjCnJ,EAAKoc,mBAAqBpe,UAAMmL,YAJdnJ,+DAiBlBjB,KAAK8e,oBAAoBzU,QAAQ7F,uDAW7BxE,KAAKwe,UACJxe,KAAKwe,QAAQO,KAChB/e,KAAKwe,QAAQO,OACH/e,KAAKwe,QAAQQ,gBACvBhf,KAAKwe,QAAQQ,iBAAiBrX,QAAQ,SAASsX,GAC9CA,EAAMF,SAGR/e,KAAKwe,QAAU,uCAahB,IAAMU,EACLT,UAAUS,cACVT,UAAUU,oBACVV,UAAUC,iBACVD,UAAUW,eAYX,OAVAF,EAAavjB,KACZ8iB,UACA,CACCY,OAAO,EACPC,OAAO,GAERtf,KAAKme,qBACLne,KAAKie,oBAILjgB,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,aACdE,EAAAC,QAAAC,cAAA,SAAOsB,IAAKQ,KAAKqd,oBAAjB,+BAGArf,EAAAC,QAAAC,cAAA,UACCJ,UAAU,kBACVmW,QAASjU,KAAKmd,UACd3d,IAAKQ,KAAK8e,qBAHX,cAMA9gB,EAAAC,QAAAC,cAAA,UACCJ,UAAU,mBACV0B,IAAKQ,KAAKud,8BArGiBte,UAAMG,WAAhC8d,EACEnb,YAAc/C,UADhBke,EASE9T,aAAe,CACrBsU,WAAY,KAVRR,EAqBEngB,IAAM,wBAqMCmgB,0UClOfqC,EAAAnkB,EAAA,UACAqC,EAAArC,EAAA,goBASMokB,oKAoBJ,OACCxhB,EAAAC,QAAAC,cAAA,UACC6V,aAAY/T,KAAKT,MAAMsL,YACvB/M,UAAWkC,KAAKyf,gBAChBxL,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,UACpBjJ,KAAKT,MAAMsL,qDAed,IAAM/M,EAAY,kCAElB,OAAOA,SA3C2BmB,UAAMG,WAApCogB,EASEziB,IAAM,mCAsCC,EAAA2iB,EAAAzhB,SAAcuhB,2UCzD7B/hB,EAAArC,EAAA,UACA0V,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,4nBAEA,IAAMukB,EAAY,GACZC,EAAU,GAQVC,cAaL,SAAAA,EAAYtgB,GAAOQ,EAAAC,KAAA6f,GAAA,IAAA5e,EAAAhB,EAAAD,MAAA6f,EAAA3f,WAAAhE,OAAAiE,eAAA0f,IAAAlkB,KAAAqE,KACZT,IADY,OAAA0B,EA6InBkQ,WAAa,WACZlQ,EAAKqP,SAAS,CACbc,SAAU,MA/IOnQ,EA2JnB6e,WAAa,WACZ,IAAMvhB,EAAe0C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAE7CkC,EAAakD,YAAY,WAAY,CACpCse,IAAK9e,EAAKsH,MAAM6I,WAKjBnQ,EAAK1B,MAAMoR,mBApKO1P,EA+KnBoQ,gBAAkB,WACjBpQ,EAAKyR,UAAUrI,QAAQ7F,SAhLLvD,EA8LnBqQ,eAAiB,SAAA7M,GAKhB,GAJIA,EAAM2B,UAAYuZ,GAAalb,EAAM2B,UAAYwZ,GACpDnb,EAAMW,iBAGHX,EAAM2B,UAAYuZ,EACrB1e,EAAK6e,kBACC,GAAIrb,EAAM2B,UAAYwZ,EAAS,CACrC,IAAMthB,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAIvC4E,EAAK1B,MAAMoR,kBAEXrS,EAAOwD,KAAK,kBAAZb,KA5MiBA,EAyNnByQ,sBAAwB,SAAAjN,GACvBxD,EAAKqP,SAAS,CACbc,SAAU3M,EAAME,OAAOlI,SA3NNwE,EAyPnB+e,aAAe,WACd,IAAM1hB,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEjC4jB,EAAehf,EAAKsH,MAAM5B,QAAQuZ,aAAa,SAASvZ,GAC7D,OAAOA,EAAQwZ,SAAS,wBAGzBF,EAAa9N,SAEb7T,EAAOwD,KAAK,kBAAZb,IA/PAA,EAAKyR,UAAYzT,UAAMmL,YACvBnJ,EAAKsH,MAAQtH,EAAKmf,kBAJAnf,gEAkBdjB,KAAKT,MAAMqR,iBAAmB5Q,KAAKT,MAAMqT,mBAGxCyC,OAAOC,sBACVD,OAAOC,sBAAsBtV,KAAKqR,iBAElCkE,WAAWvV,KAAKqR,gBAAiB,wDAcnCrR,KAAKsQ,SAAStQ,KAAKogB,6DAanB,IAAM9hB,EAAS0B,KAAKT,MAAME,QAAQnB,OAAOjC,IAAI,gBACzCgT,SAEE2C,EAAY1T,EAAOuO,eAEzB,GAAImF,EAAW,CACd,IAAMqO,EAAkBrO,EAAUsO,qBAE9BD,IACHhR,EAAQgR,EAAgBxR,QAAQ,6BAIlC,IAAM9P,EAAOsQ,EAAQA,EAAMvH,aAAa,qBAAuB,GAE/D,MAAO,CACNnB,QAAS0I,EACT6F,YAAa,CACZnW,KAAMA,GAEPqS,SAAUrS,oCAaX,IAAMwhB,EAAiB,CACtBC,QAASxgB,KAAKuI,MAAM6I,SAAW,EAAI,GAGpC,OACCpT,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,0BACdE,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQmU,YAChC3iB,UAAU,YACV4iB,YAAU,sBACV/L,UAAW3U,KAAKuI,MAAM5B,QACtBsN,QAASjU,KAAKggB,aACd/W,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQmU,aAC3BziB,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,QAAQE,UAAU,uBAEtCE,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,0BACdE,EAAAC,QAAAC,cAAA,SACCJ,UAAU,WACVgX,SAAU9U,KAAK0R,sBACf1I,UAAWhJ,KAAKsR,eAChBkD,YAAanI,YAAYC,QAAQmI,SACjCjV,IAAKQ,KAAK0S,UACVlN,KAAK,OACL/I,MAAOuD,KAAKuI,MAAM6I,WAEnBpT,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ0H,WAChClW,UAAU,4BACVmW,QAASjU,KAAKmR,WACdlO,MAAOsd,EACPrM,MAAO7H,YAAYC,QAAQ6H,OAC3BnW,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBAGrBI,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQyI,QAChCjX,UAAU,YACV6W,UAAW3U,KAAKgV,gBAChBf,QAASjU,KAAK8f,WACd5L,MAAO7H,YAAYC,QAAQyI,SAC3B/W,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,QAAQE,UAAU,gEA6GxC,IAAM0X,EACLxV,KAAKuI,MAAM6I,UACXpR,KAAKuI,MAAM6I,WAAapR,KAAKuI,MAAM2M,YAAYnW,KAEhD,OAAOyW,SA3PqBvW,UAAMG,WAA9BygB,EACE9d,YAAc/C,UADhB6gB,EAWE9iB,IAAM,sBAwQCiC,UAAcG,QAAQ0gB,2UChSrC/O,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,UACAqC,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,4nBAEA,IAAMukB,EAAY,GACZC,EAAU,GASVe,cAKL,SAAAA,EAAYphB,GAAOQ,EAAAC,KAAA2gB,GAAA,IAAA1f,EAAAhB,EAAAD,MAAA2gB,EAAAzgB,WAAAhE,OAAAiE,eAAAwgB,IAAAhlB,KAAAqE,KACZT,IADY,OAAA0B,EAmJnB2f,eAAiB,WAChB,IAAMriB,EAAe0C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAE7CkC,EAAakD,YAAY,WAAY,CACpC+D,KAAM,QACNua,IAAK9e,EAAKsH,MAAMsY,WAKjB5f,EAAK1B,MAAMoR,mBA7JO1P,EAwKnB6f,oBAAsB,WACrBzZ,UAASC,YAAYrG,EAAK8f,KAAKrO,WAAWlO,SAzKxBvD,EAuLnBqQ,eAAiB,SAAA7M,GACZA,EAAM2B,UAAYuZ,GAAalb,EAAM2B,UAAYwZ,GACpDnb,EAAMW,iBAGHX,EAAM2B,UAAYuZ,EACrB1e,EAAK2f,iBACKnc,EAAM2B,UAAYwZ,GAC5B3e,EAAK1B,MAAMoR,mBA/LM1P,EA4MnB+f,sBAAwB,SAAAvc,GACvBxD,EAAKqP,SAAS,CACbuQ,SAAUpc,EAAME,OAAOlI,SA3MxBwE,EAAKsH,MAAQtH,EAAKmf,kBAHAnf,gEAiBdjB,KAAKT,MAAMqR,iBAAmB5Q,KAAKT,MAAMqT,mBAGxCyC,OAAOC,sBACVD,OAAOC,sBAAsBtV,KAAK8gB,qBAElCvL,WAAWvV,KAAK8gB,oBAAqB,wDAcvC9gB,KAAKihB,aAAajhB,KAAKogB,6DAavB,IAAM9hB,EAAS0B,KAAKT,MAAME,QAAQnB,OAAOjC,IAAI,gBACzCsK,SAEEqL,EAAY1T,EAAOuO,eAEzB,GAAImF,EAAW,CACd,IAAMqO,EAAkBrO,EAAUsO,qBAE9BD,IACH1Z,EAAU0Z,EAAgBxR,QAAQ,+BAIpC,IAAMgS,EAAWla,EACdA,EAAQmB,aAAa,wBACrB,GAEH,MAAO,CACNnB,UACAua,aAAc,CACbL,YAEDA,6CAaD,IAAMM,EAAmB9U,YAAYC,QAAQ8U,eAEvCC,EAAqB,CAC1Bb,QAASxgB,KAAKuI,MAAMsY,SAAW,EAAI,GAGpC,OACC7iB,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,iCACdE,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,0BACdE,EAAAC,QAAAC,cAAA,SACCJ,UAAU,WACVgX,SAAU9U,KAAKghB,sBACfhY,UAAWhJ,KAAKsR,eAChBkD,YAAa2M,EACb3hB,IAAI,YACJgG,KAAK,OACL/I,MAAOuD,KAAKuI,MAAMsY,WAEnB7iB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ0H,WAChClW,UAAU,2BACVmW,QAASjU,KAAKmR,WACdlO,MAAOoe,EACPnN,MAAO7H,YAAYC,QAAQ6H,SAG7BnW,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQyI,QAChCjX,UAAU,YACV6W,UAAW3U,KAAKgV,gBAChBf,QAASjU,KAAK4gB,eACd1M,MAAO7H,YAAYC,QAAQyI,SAC3B/W,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,iDAiBtBoC,KAAKsQ,SAAS,CACbuQ,SAAU,6CAsFX,IAAMrL,EACLxV,KAAKuI,MAAMsY,UACX7gB,KAAKuI,MAAMsY,WAAa7gB,KAAKuI,MAAM2Y,aAAaL,SAEjD,OAAOrL,SAtO0BvW,UAAMG,WAAnCuhB,EACE5e,YAAc/C,UADhB2hB,EAGE5jB,IAAM,2BAuOCiC,UAAcG,QAAQwhB,2UCzPrC3V,EAAA5P,EAAA,WACAqC,EAAArC,EAAA,UACAyN,EAAAzN,EAAA,goBASMwY,cAiCL,SAAAA,EAAYrU,GAAOQ,EAAAC,KAAA4T,GAAA,IAAA3S,EAAAhB,EAAAD,MAAA4T,EAAA1T,WAAAhE,OAAAiE,eAAAyT,IAAAjY,KAAAqE,KACZT,IADY,OAGlB0B,EAAKsH,MAAQ,CACZmC,MAAO,IAJUzJ,qEAgBOsP,GACpBA,EAAUoD,MAAQpD,EAAUoD,OAAS3T,KAAKT,MAAMoU,OACpD2N,aAAathB,KAAKuhB,UAEdhR,EAAUoD,KACb3T,KAAKuhB,SAAWhM,WAAWvV,KAAKwhB,aAAcxhB,KAAKT,MAAMkiB,OAEzDzhB,KAAKsQ,SAAS,CACb5F,MAAO,MAKN6F,EAAUiB,uBACb+D,WAAWvV,KAAKwE,MAAO,GACvBxE,KAAKT,MAAMkU,qBAAqB,CAC/BgC,UAAU,oDAaZ6L,aAAathB,KAAKuhB,2CAYlB,OAAKvhB,KAAKT,MAAMwW,UAAa/V,KAAKuI,MAAMmC,MAAMtJ,OAK7CpD,EAAAC,QAAAC,cAACiO,EAAAlO,QAAD,KACE+B,KAAK0hB,yBAAyB1hB,KAAKuI,MAAMmC,QALpC,mDAoBa6F,EAAWoR,GAChC,OACCpR,EAAUwF,WAAa/V,KAAKT,MAAMwW,UAClCxF,EAAUoD,OAAS3T,KAAKT,MAAMoU,MAC9BgO,EAAUjX,QAAU1K,KAAKuI,MAAMmC,uDAcRA,GAAO,IAAA8B,EAAAxM,KAC/B0K,EAAQA,GAAS,GAEjB,IAAM6I,EAA8BvT,KAAKT,MACvCgU,4BAEF,OAAO7I,EAAMC,IAAI,SAAA/C,GAChB,IAAM9J,EACL0O,EAAKjN,MAAMoU,OAAS/L,EAAKmY,IACtB,4BACA,qBAEJ,OACC/hB,EAAAC,QAAAC,cAAA,MAAInB,IAAK6K,EAAKmY,IAAK7W,KAAK,UACvBlL,EAAAC,QAAAC,cAAA,UACCJ,UAAWA,EACXmW,QAASV,EACTqO,aAAYha,EAAKmY,KAChBnY,EAAKsM,iDAeI,IAAA2N,EAAA7hB,KACd,GAAKA,KAAKT,MAAMoU,KAAhB,CAIA,IAAMmO,EAAUC,QAAQC,QAAQhiB,KAAKT,MAAMmC,KAAK1B,KAAKT,MAAMoU,OAE3DmO,EAAQG,KAAK,SAAAvX,GACRA,EAAMtJ,SACRygB,EAAKtiB,MAAMwW,UAAY8L,EAAKtiB,MAAM2M,iBAGpC2V,EAAKvR,SAAS,CACb5F,MAAOA,cA/K8BzL,UAAMG,WAAzCwU,EASExK,aAAe,CACrB7C,UAAU,EACV7E,KAAM,GACN+f,MAAO,IACPla,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAnBJmN,EA+BE7W,IAAM,wCAsJC,EAAAsM,EAAApL,SAAmB2V,2UChMlC/C,EAAAzV,EAAA,WACA0V,EAAA1V,EAAA,UACA8mB,EAAA9mB,EAAA,WACA+mB,EAAA/mB,EAAA,WACAgnB,EAAAhnB,EAAA,UACAsC,EAAAtC,EAAA,UACAqC,EAAArC,EAAA,goBAcMinB,qNAkFLC,kBAAoB,WACnBrhB,EAAK1B,MAAM6Q,iBAAiBiS,EAAWtlB,qEA9CvC,OAG0B,OAFzB,IAAIwG,SAASgL,KACZvO,KAAKP,QAAQnB,OAAOjC,IAAI,iBACvBmS,oDAaH,IAAM+T,eAAwBviB,KAAKwiB,kBAEnC,GAAIxiB,KAAKT,MAAMqR,gBAAiB,CAC/B,IAAMrR,EAAQS,KAAKyiB,sBAEnB,OAAOzkB,EAAAC,QAAAC,cAACwkB,EAAAzkB,QAAmBsB,GAE3B,OACCvB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQmD,KAChC3R,UAAWykB,EACX7B,YAAU,cACVzM,QAASjU,KAAKsiB,kBACdrZ,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQmD,MAC3BzR,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,iBApECqB,UAAMG,WAAzBijB,EACEtgB,YAAc/C,UADhBqjB,EAWEjZ,aAAe,CACrBG,UAAW,CACVK,GAAI,oBACJ/D,KAAMtC,SAASof,KAAO,KAdnBN,EA0BEtlB,IAAM,kBA6DC,EAAA6Y,EAAA3X,UAAe,EAAA2kB,EAAA3kB,UAAgB,EAAA4kB,EAAA5kB,SAAmBokB,6UC3GjEvR,EAAA1V,EAAA,UACA0nB,EAAA1nB,EAAA,WACAqC,EAAArC,EAAA,goBAQM+X,oKAoBJ,IAAMJ,EAAyB/S,KAAKT,MAAMwT,uBACpCgQ,EAAqB/iB,KAAKT,MAAMuT,eAEtC,OACC9U,EAAAC,QAAAC,cAAA,OACCJ,UAAU,mGACVmL,SAAS,KACTjL,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAY/T,KAAKT,MAAMyT,eACvBlV,UAAU,qBACVmW,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAOlU,KAAKT,MAAMyT,gBAClBhV,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gBACdE,EAAAC,QAAAC,cAAA,QAAMJ,UAAU,uCACdkC,KAAKT,MAAMyT,gBAEbhV,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBAGpBoC,KAAKT,MAAMwW,UACX/X,EAAAC,QAAAC,cAAC+kB,EAAAhlB,QAAD,CACC0H,UAAW3F,KAAKT,MAAM2M,eACtB6W,mBAAoBA,EACpBhQ,uBAAwBA,EACxBC,eAAgBhT,KAAKT,MAAMyT,gEAiBVzC,GACrB,OACCA,EAAUwF,WAAa/V,KAAKT,MAAMwW,UAClCxF,EAAUyC,iBAAmBhT,KAAKT,MAAMyT,sBAnER/T,UAAMG,WAAnC+T,EASEpW,IAAM,2BA+DCoW,0UClFfnI,EAAA5P,EAAA,WACAqC,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,UACAyN,EAAAzN,EAAA,goBASM8nB,+KAsCJ7b,UAASC,YAAYtH,MAAMwE,yCAY3B,IAAM2e,EAAcnjB,KAAKojB,qBAEzB,OAAOplB,EAAAC,QAAAC,cAACiO,EAAAlO,QAAmB+B,KAAKT,MAAQ4jB,oDAaxC,OACCnjB,KAAKT,MAAMwjB,oBAAsB,CAChC,CACCjY,MAAOuB,YAAYC,QAAQ2G,kBAC3BxW,MAAO,IAER,CACCqO,MAAOuB,YAAYC,QAAQ+W,eAC3B5mB,MAAO,SAER,CACCqO,MAAOuB,YAAYC,QAAQgX,gBAC3B7mB,MAAO,UAER,CACCqO,MAAOuB,YAAYC,QAAQiX,iBAC3B9mB,MAAO,WAER,CACCqO,MAAOuB,YAAYC,QAAQkX,cAC3B/mB,MAAO,sDAeU,IAAA+P,EAAAxM,KAChByjB,EAAUzjB,KAAK0jB,yBAEb3Q,EAAyB/S,KAAKT,MAAMwT,uBAoB1C,OAlBA0Q,EAAUA,EAAQ9Y,IAAI,SAAAhG,GACrB,IAAM7G,EACL0O,EAAKjN,MAAMyT,iBAAmBrO,EAAOlI,MAClC,4BACA,qBAEJ,OACCuB,EAAAC,QAAAC,cAAA,MAAInB,IAAK4H,EAAOlI,MAAOyM,KAAK,UAC3BlL,EAAAC,QAAAC,cAAA,UACCJ,UAAWA,EACX8jB,aAAYjd,EAAOlI,MACnBwX,QAASlB,GACRpO,EAAOmG,UAML2Y,SA3HsBxkB,UAAMG,WAA/B8jB,EAQE9Z,aAAe,CACrB7C,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAhBJyc,EA4BEnmB,IAAM,wBAmGC,EAAAsM,EAAApL,SAAmBilB,+eC3IlCzlB,EAAArC,EAAA,UACA0V,EAAA1V,EAAA,UACA+mB,EAAA/mB,EAAA,WACAsC,EAAAtC,EAAA,UACAuE,EAAAvE,EAAA,goBASMuoB,cASL,SAAAA,EAAYpkB,GAAOQ,EAAAC,KAAA2jB,GAAA,IAAA1iB,EAAAhB,EAAAD,MAAA2jB,EAAAzjB,WAAAhE,OAAAiE,eAAAwjB,IAAAhoB,KAAAqE,KACZT,IADY0B,EA6CnB2iB,aAAe,WACd,IAAMtlB,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBACjC0jB,EAAMzhB,EAAOG,OAAOolB,sBACpBC,EAAqBxlB,EAAOG,OAAOslB,2BACnClS,EAAa5Q,EAAK+iB,kBAAkB3Z,QACvCpJ,EAAK+iB,kBAAkB3Z,QAAQ9B,MAAMsJ,WACrC,GAEGoS,EAAqB,SAAAC,GAC1BjjB,EAAKsQ,YAAY2S,EAAaznB,MAAOoV,EAAYqS,EAAanlB,OAG3D0B,UAAKC,WAAWojB,IACnBA,EAAmB1jB,MAAM,KAAM,CAAC9B,EAAQyhB,EAAKkE,KA1D5BhjB,EAwEnBsQ,YAAc,SAACH,EAAUS,EAAYsS,GACpC,IAAM7lB,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBACjC0V,EAAY,IAAIxO,SAASgL,KAAKjQ,EAAQ,CAACgU,gBAAgB,IACvDC,EAAY,CACjB5N,OAAQkN,GAEHW,EAAkB,CAACJ,SAAS,GAE9BhB,IACC9S,EAAO8lB,SAAW9lB,EAAO8lB,QAAQC,SAAWF,IAC/C/S,EAAWkT,SAASC,OAASnT,GAG1BnQ,EAAKsH,MAAM5B,SACd4L,EAAUxT,KAAOqS,EAEjBW,EAAUU,OACTF,EACAtR,EAAKsH,MAAM5B,QACX6L,IAGDT,EAAUjV,OAAOsU,EAAUmB,EAAWC,GAGvClU,EAAOwD,KAAK,kBAAZb,KA9FD,IAAMwO,EAAO,IAAIlM,SAASgL,KAEzBtN,EAAK1B,MAAME,QAAQnB,OAAOjC,IAAI,iBAC7BmS,mBAEIzP,EAAO0Q,EAAOA,EAAK3H,aAAa,QAAU,GAR9B,OAUlB7G,EAAK+iB,kBAAoB/kB,UAAMmL,YAE/BnJ,EAAKsH,MAAQ,CACZ5B,QAAS8I,EACT2B,SAAUrS,GAdOkC,oDAyBlB,OACCjD,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,iCACdE,EAAAC,QAAAC,cAACwkB,EAAAzkB,QAADyB,EAAA,CAAgBF,IAAKQ,KAAKgkB,mBAAuBhkB,KAAKT,QACtDvB,EAAAC,QAAAC,cAAA,UACC6V,aAAW,SACXjW,UAAU,YACVmW,QAASjU,KAAK4jB,aACd1P,MAAM,UACNlW,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,oBA1CWqB,UAAMG,WAAnCukB,EACE5hB,YAAc/C,UADhB2kB,EAGE5mB,IAAM,2BA4GCiC,UAAcG,QAAQwkB,2UC5HrClmB,EAAArC,EAAA,UACA0V,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,4nBAEA,IAAMukB,EAAY,GACZC,EAAU,GAQV4E,cAoCL,SAAAA,EAAYjlB,GAAOQ,EAAAC,KAAAwkB,GAAA,IAAAvjB,EAAAhB,EAAAD,MAAAwkB,EAAAtkB,WAAAhE,OAAAiE,eAAAqkB,IAAA7oB,KAAAqE,KACZT,IADY,OAAA0B,EAiCnBwjB,aAAe,WACd,IAAMnmB,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBACjCqoB,EAAa,IAAInhB,SAAS2L,MAAM5Q,GAEtComB,EAAW5nB,OAAO,CACjB6nB,MAAO1jB,EAAK1B,MAAMqlB,gBAClBC,KAAM5jB,EAAKsH,MAAMsc,KACjBC,KAAM7jB,EAAKsH,MAAMuc,OAGlB7jB,EAAK1B,MAAMoR,kBAEXrS,EAAOwD,KAAK,kBAAZb,IA7CkBA,EA0DnB8jB,cAAgB,SAACC,EAAWvgB,GAC3B,IAAM8D,EAAQ,GACdA,EAAMyc,GAAavgB,EAAME,OAAOlI,MAEhCwE,EAAKqP,SAAS/H,IA9DItH,EA4EnBqQ,eAAiB,SAAA7M,GACZA,EAAM2B,UAAYuZ,GAAalb,EAAM2B,UAAYwZ,GACpDnb,EAAMW,iBAGHX,EAAM2B,UAAYuZ,EACrB1e,EAAKwjB,eACKhgB,EAAM2B,UAAYwZ,GAC5B3e,EAAK1B,MAAMoR,mBAjFZ1P,EAAKgkB,QAAUhmB,UAAMmL,YACrBnJ,EAAKikB,QAAUjmB,UAAMmL,YACrBnJ,EAAKsH,MAAQ,CACZsc,KAAM,EACNC,KAAM,GAPW7jB,+DAsBlBjB,KAAKilB,QAAQ5a,QAAQ7F,yCA2ErB,IAAM2gB,EAAOC,KAAKC,MACZC,EAASH,EAAO,OAChBI,EAASJ,EAAO,OAEtB,OACCnnB,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,2BACdE,EAAAC,QAAAC,cAAA,SAAOsnB,QAASF,GAASjZ,YAAYC,QAAQwY,MAC7C9mB,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,4BACdE,EAAAC,QAAAC,cAAA,SACCJ,UAAU,WACVwM,GAAIgb,EACJxQ,SAAU9U,KAAK+kB,cAAc/nB,KAAKgD,KAAM,QACxCmH,IAAI,IACJ6B,UAAWhJ,KAAKsR,eAChBkD,YAAY,OACZhV,IAAKQ,KAAKilB,QACVzf,KAAK,SACL/I,MAAOuD,KAAKuI,MAAMuc,QAIpB9mB,EAAAC,QAAAC,cAAA,SAAOsnB,QAASD,GAASlZ,YAAYC,QAAQmZ,SAC7CznB,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,4BACdE,EAAAC,QAAAC,cAAA,SACCJ,UAAU,WACVwM,GAAIib,EACJzQ,SAAU9U,KAAK+kB,cAAc/nB,KAAKgD,KAAM,QACxCmH,IAAI,IACJ6B,UAAWhJ,KAAKsR,eAChBkD,YAAY,SACZhV,IAAKQ,KAAKklB,QACV1f,KAAK,SACL/I,MAAOuD,KAAKuI,MAAMsc,QAIpB7mB,EAAAC,QAAAC,cAAA,UACC6V,aAAW,UACXjW,UAAU,YACVmW,QAASjU,KAAKykB,cACdzmB,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBA7KMqB,UAAMG,WAA9BolB,EACEziB,YAAc/C,UADhBwlB,EAUEpb,aAAe,CACrBwb,gBAAiB,CAChBc,OAAQ,EACRC,YAAa,EACbC,YAAa,EACb3iB,MAAO,gBAfJuhB,EA2BEznB,IAAM,sBAyJCynB,0UCjMf9mB,EAAAtC,EAAA,UACAuE,EAAAvE,EAAA,UACAqC,EAAArC,EAAA,soBAQe,SAAAwE,GAAA,IAAAiB,EAAAG,EAAA,OAAAA,EAAAH,EAAA,SAAAhB,GAAA,SAAAgmB,IAAA,OAAA9lB,EAAAC,KAAA6lB,GAAA5lB,EAAAD,MAAA6lB,EAAA3lB,WAAAhE,OAAAiE,eAAA0lB,IAAAzlB,MAAAJ,KAAAK,YAAA,OAAAC,EAAAulB,EAAAhmB,GAAAU,EAAAslB,EAAA,EAAA9oB,IAAA,yBAAAN,MAAA,SAaU0c,EAAS2M,GAAiB,IAAAtZ,EAAAxM,KAKhD,OAJIS,UAAKC,WAAWyY,KACnBA,EAAUA,EAAQxd,KAAKqE,OAAS,IAG1BmZ,EAAQ4M,OAAO,SAACC,EAAMC,GAC5B,OAAI3kB,MAAMU,QAAQikB,IACjBD,EAAKje,KAAKyE,EAAK0Z,kBAAkBD,EAAQH,IAClCE,GAEAxZ,EAAK0Z,kBAAkB/M,EAAS2M,IAEtC,MAzBS,CAAA/oB,IAAA,oBAAAN,MAAA,SAuCK0c,EAAS2M,GAC1B,IAAIK,EAAc,GAEd5nB,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBACvCqM,EAAYnK,EAAaE,OAAOiK,WAAa,GAE7CjI,UAAKC,WAAWyY,KACnBA,EAAUA,EAAQxd,KAAKqE,OAAS,IAGjC,IAAIomB,EAAiBpmB,KAAKqmB,gBACzBlN,EACE3I,OAAO,SAASyV,GAChB,OACCA,IACC5Z,YAAYia,QAAQL,IACpB5Z,YAAYia,QAAQL,EAAOlqB,SAG7B4O,IAAI,SAASsb,GAcb,OAbIxlB,UAAKgC,SAASwjB,IACjBE,EAAYF,GAAUvd,EAAUud,GAChCA,EAAS5Z,YAAYia,QAAQL,IACnBxlB,UAAKgC,SAASwjB,EAAOlqB,QAC/BoqB,EACC9Z,YAAYia,QAAQL,EAAOlqB,MAAMgB,KAC9BwG,SAASoF,MAAMC,MAClBF,EAAUud,GACVA,EAAOM,KAERN,EAAS5Z,YAAYia,QAAQL,EAAOlqB,OAG9BkqB,KAERtb,IAAI,SAASsb,EAAQ7d,GACtB,IAAI7I,EAAQS,KAAKwmB,oBAChB,CACCloB,OAAQ0B,KAAKP,QAAQnB,OACrBvB,IACgB,cAAfkpB,EAAOlpB,IACJkpB,EAAOlpB,IACJkpB,EAAOlpB,IAFb,IAEoBqL,EACrBqe,OAAQR,EAAOlpB,IACfkM,SACCjJ,KAAKT,MAAMmnB,SACX1mB,KAAKT,MAAMmnB,QAAQnnB,MAAMknB,SAAWR,EAAOlpB,IACxC,GACC,EACL2pB,QAAS1mB,KAAKT,MAAMmnB,SAErBT,EAAOlpB,KAWR,OARAwC,EAAQS,KAAKkT,mBAAmB3T,EAAO0mB,EAAOlpB,KAE1C+oB,IACHvmB,EAAQgE,SAASoF,MAAMC,MAAMrJ,EAAOumB,IAGrCvmB,EAAQgE,SAASoF,MAAMC,MAAMrJ,EAAO4mB,EAAYF,EAAOlpB,MAEhDkC,UAAMf,cAAc+nB,EAAQ1mB,IACjCS,MAEH,OAAOomB,MAxGKP,EAAA,CACejmB,GADfiB,EAENkB,YAAc/C,UAFRgC,2UCVfrB,EAAAvE,EAAA,soBAQe,SAAAwE,GAAA,gBAAAC,GAAA,SAAA8mB,IAAA,OAAA5mB,EAAAC,KAAA2mB,GAAA1mB,EAAAD,MAAA2mB,EAAAzmB,WAAAhE,OAAAiE,eAAAwmB,IAAAvmB,MAAAJ,KAAAK,YAAA,OAAAC,EAAAqmB,EAAA9mB,GAAAU,EAAAomB,EAAA,EAAA5pB,IAAA,qBAAAN,MAAA,WAYZ,IAAImqB,EAAkB,eAgBtB,OAbCnmB,UAAKC,WAAWV,KAAK6mB,sBACrB7mB,KAAK6mB,wBAGJ7mB,KAAK6mB,sBAAsBnhB,YAC3BnC,SAASujB,wBAETF,GAAmB,oBAEnBA,GAAmB,wBAIdA,MA5BKD,EAAA,CACe/mB,gfCT9BoE,EAAA5I,EAAA,UACAsC,EAAAtC,EAAA,soBAQe,SAAAwE,GAAA,IAAAiB,EAAAG,EAAA,OAAAA,EAAAH,EAAA,SAAAhB,GAAA,SAAAknB,IAAA,OAAAhnB,EAAAC,KAAA+mB,GAAA9mB,EAAAD,MAAA+mB,EAAA7mB,WAAAhE,OAAAiE,eAAA4mB,IAAA3mB,MAAAJ,KAAAK,YAAA,OAAAC,EAAAymB,EAAAlnB,GAAAU,EAAAwmB,EAAA,EAAAhqB,IAAA,kBAAAN,MAAA,WA4BR4Y,OAAO2R,sBACV3R,OAAO2R,qBAAqBhnB,KAAKinB,qBA7BtB,CAAAlqB,IAAA,yBAAAN,MAAA,SAkDUkoB,EAAOuC,GAC7BA,EACCA,GACA,IAAI3jB,SAASwX,IAAI1F,OAAOA,QAAQ8R,kBAEjC,IAAI/L,EAAIuJ,EAAM9K,KACVwB,EAAIsJ,EAAM7K,IAUd,OARI6K,EAAM9K,KAAO8K,EAAM9lB,MAAQqoB,EAAaroB,QAC3Cuc,GAAKuJ,EAAM9K,KAAO8K,EAAM9lB,MAAQqoB,EAAaroB,OAG1Cwc,EAAI,IACPA,EAAI,GAGE,CACND,EAAGA,EACHC,EAAGA,KApEQ,CAAAte,IAAA,sBAAAN,MAAA,WA2FZ,IAAI2qB,EAAepnB,KAAKT,MAAMoc,YAC3B3b,KAAKT,MAAMoc,YAAYja,KACvB,KAEH,GAAK0lB,EAAL,CAIA,IAAIzZ,EAAgByZ,EAAazZ,cAE7B0Z,EAAcD,EAAaC,YAE3BC,EAAM,CACTlM,EAAGgM,EAAaC,YAAYE,MAC5BlM,EAAG1N,EAAcM,OAAO6L,KAGrBpU,EAAYiI,EAAcM,OAAOvI,UAEjC8hB,EAAU7Z,EAAcM,OAAOuZ,QAE/BC,EAAY9Z,EAAcM,OAAOwZ,UAEjCD,GAAWC,GAAaA,EAAU3N,MAAQ0N,EAAQ1N,MACrDpU,EAAYnC,SAAS+X,yBAGtB,IAAIF,SACAC,SA0BJ,OArBIiM,EAAIlM,GAAKkM,EAAIjM,GAChBD,EAAIpb,KAAK0nB,WAAW/Z,EAAe2Z,EAAIlM,GAGtCC,EADG3V,IAAcnC,SAAS+X,wBACtBrU,KAAKE,IAAImgB,EAAIjM,EAAG1N,EAAcM,OAAO6L,KAErC7S,KAAKC,IACRogB,EAAIjM,EACJrb,KAAK2nB,WAAWha,EAAe0Z,MAIjCjM,EAAIzN,EAAcM,OAAO4L,KAAOlM,EAAcM,OAAOpP,MAAQ,EAG5Dwc,EADG3V,IAAcnC,SAASujB,wBACtB9mB,KAAK2nB,WAAWha,EAAe0Z,GAE/B1Z,EAAcM,OAAO6L,KAIpB,CACNpU,UAAWA,EACX0V,EAAGA,EACHC,EAAGA,MApJQ,CAAAte,IAAA,aAAAN,MAAA,SAmKFkR,EAAeia,GACzB,IAAI3Z,EAASN,EAAcM,OAEvB4L,EAAO5L,EAAOwZ,UAAYxZ,EAAOwZ,UAAU5N,KAAO5L,EAAO4L,KACzDgO,EAAQ5Z,EAAOuZ,QAAUvZ,EAAOuZ,QAAQK,MAAQ5Z,EAAO4Z,MAEvDzM,SAEJ,GAAIvB,EAAO+N,GAAUC,EAAQD,EAC5BxM,EAAIwM,MACE,CACN,IAAIE,EAAW7gB,KAAK8gB,IAAIlO,EAAO+N,GAC3BI,EAAY/gB,KAAK8gB,IAAIF,EAAQD,GAIhCxM,EAFG0M,EAAWE,EAEVnO,EAEAgO,EAIN,OAAOzM,IAzLK,CAAAre,IAAA,aAAAN,MAAA,SAuMFkR,EAAe0Z,GACzB,IAAIhM,EAAI,EAER,GAAI1N,GAAiB0Z,EAAa,CACjC,IAAIY,EAAgB,IAAI1kB,SAASwX,IAAIpU,QACpC0gB,EAAY1iB,QAOZ0W,EAHA4M,EAAcC,GACyB,SAAvCD,EAAcxkB,SAAS,YAGtB4jB,EAAY1iB,OAAOwjB,UACnBd,EAAY1iB,OAAO6W,aAEhB7N,EAAcM,OAAOma,OAI3B,OAAO/M,IA3NK,CAAAte,IAAA,mBAAAN,MAAA,SA4OIod,EAAMC,EAAKpU,GAC3B,IAAI0B,EAAUC,UAASC,YAAYtH,MAE/Bib,EAASjb,KAAKT,MAAM0b,OAgCxB,OA7BCvV,IAAcnC,SAASujB,yBACvBphB,IAAcnC,SAAS+X,yBAEvBzB,EAAOA,EAAOoB,EAAOpB,KAAOzS,EAAQyT,YAAc,EAElDf,EACCpU,IAAcnC,SAASujB,wBACpBhN,EAAMmB,EAAOnB,IACbA,EAAM1S,EAAQoU,aAAeP,EAAOnB,KAExCpU,IAAcnC,SAAS8kB,yBACvB3iB,IAAcnC,SAAS+kB,0BAEvBzO,EACCnU,IAAcnC,SAAS8kB,wBACpBxO,EAAOoB,EAAOpB,KAAOzS,EAAQoU,aAAe,EAC5C3B,EAAQ,EAAIzS,EAAQoU,aAAgB,EAAIP,EAAOpB,KAEnDC,EAAMA,EAAMmB,EAAOnB,IAAM1S,EAAQoU,aAAe,GAG7C3B,EAAO,IACVA,EAAO,GAGJC,EAAM,IACTA,EAAM,GAGA,CAACD,EAAMC,KA/QF,CAAA/c,IAAA,YAAAN,MAAA,WA2RZ,IAAI2K,EAAUC,UAASC,YAAYtH,MAEnC,GAAIoH,EAAS,CACZ,IAAImhB,EAAa,IAAIhlB,SAASwX,IAAIpU,QAAQS,GAE1C,OAAOmhB,EAAWpI,SAAS,wBAG5B,OAAO,IAnSK,CAAApjB,IAAA,cAAAN,MAAA,SA+SD+rB,EAAYC,GACvB,IAAIF,EAAa,IAAIhlB,SAASwX,IAAIpU,QACjCU,UAASC,YAAYtH,OAGtBuoB,EAAWG,UAAU,CACpB7O,KAAM2O,EAAW,GAAK,KACtB1O,IAAK0O,EAAW,GAAK,KACrBhI,QAAS,IAGV+H,EAAWI,YAAY,0BAEvB3oB,KAAK4oB,SAAS,WACbL,EAAWM,SAAS,yBACpBN,EAAWM,SAAS,wBACpBN,EAAWG,UAAU,CACpB7O,KAAM4O,EAAS,GAAK,KACpB3O,IAAK2O,EAAS,GAAK,KACnBjI,QAAS,QAlUC,CAAAzjB,IAAA,OAAAN,MAAA,WA+UZ,IAAM2K,EAAUC,UAASC,YAAYtH,MAC/Bma,EAASna,KAAKP,QAAQnB,OAAOjC,IAAI,UAEjCyf,EAAY3B,EAASA,EAAO2B,UAAY,EAE9C,IAAK9b,KAAK8oB,aAAe1hB,EAAS,CACjC,IAAI2hB,EAAmB/oB,KAAK6mB,sBAE5B,GAAIkC,EAAkB,CACrB,IAAIR,EAAa,IAAIhlB,SAASwX,IAAIpU,QAAQS,GAEtC4hB,SACAC,SACAC,SACAC,SAKJ,GAHAH,EAASE,EAAWE,WAAWb,EAAW9kB,SAAS,SACnDwlB,EAASE,EAAWC,WAAWb,EAAW9kB,SAAS,QAE/CzD,KAAKT,MAAM8pB,oBAAqB,CACnC,IAAIC,EAAMtpB,KAAKupB,uBAAuB,CACrCzqB,OAAQsqB,WAAWhiB,EAAQoU,cAC3B3B,KAAMmP,EACNlP,IAAKmP,EACLpqB,MAAOuqB,WAAWhiB,EAAQyT,eAG3BmO,EAASM,EAAIlO,EACb6N,EAASK,EAAIjO,EAOb8N,EAHAJ,EAAiBrjB,YACjBnC,SAASujB,wBAGR9mB,KAAKT,MAAMoO,cAAcM,OAAOma,OAAStM,EAGzC9b,KAAKT,MAAMoO,cAAcM,OAAO6L,IAAMgC,EAGxC9b,KAAKyb,YAAY,CAACyN,EAAUC,GAAW,CAACH,EAAQC,QAzXtC,CAAAlsB,IAAA,iBAAAN,MAAA,WAsYZ,IAAIssB,EAAmB/oB,KAAK6mB,sBAExBzf,EAAUC,UAASC,YAAYtH,MAEnC,GAAI+oB,GAAoB3hB,EAAS,CAChC,IAAI+S,EAASna,KAAKP,QAAQnB,OAAOjC,IAAI,WAAa0I,SAASqV,KACvDC,EAAcC,iBAAiBH,GAC/BI,EAAmBzX,SACtBuX,EAAYG,iBAAiB,eAC7B,IAEGC,EAAoB3X,SACvBuX,EAAYG,iBAAiB,gBAC7B,IAEGE,EACHH,EAAmBJ,EAAOQ,YAAcF,EAErCqB,EACgB,SAAnB3B,EAAOvT,QAAqBuT,EAAO2B,UAAY,EAE5C0N,EAAKxpB,KAAKmb,iBACb4N,EAAiB3N,EACjB2N,EAAiB1N,EACjB0N,EAAiBrjB,WAElB8jB,EAAG,IAAM1N,EAEL0N,EAAG,GAAK,IACXA,EAAG,GAAK,GAELA,EAAG,GAAK9O,EAAatT,EAAQyT,cAChC2O,EAAG,GAAK9O,EAAatT,EAAQyT,aAG9B,IAAItX,SAASwX,IAAIpU,QAAQS,GAASshB,UAAU,CAC3C7O,KAAM2P,EAAG,GAAK,KACd1P,IAAK0P,EAAG,GAAK,UA3aH,CAAAzsB,IAAA,WAAAN,MAAA,SAybJgtB,GACJpU,OAAOC,sBACVtV,KAAKinB,kBAAoB5R,OAAOC,sBAAsBmU,GAEtDA,QA7bW1C,EAAA,CACennB,GADfiB,EAENkB,YAAc/C,UAFR6B,EAWNuI,aAXM1J,EAAA,GAYTE,EAAiBwJ,aAZR,CAaZ6R,OAAQ,CACPpB,KAAM,EACNC,IAAK,IAENuP,qBAAqB,IAjBTroB,qWCTf,IAAA0oB,EAAAtuB,EAAA,WACAuE,EAAAvE,EAAA,UAEAuuB,EAAAvuB,EAAA,WACAwuB,EAAAxuB,EAAA,YAEA2d,EAAA3d,EAAA,WACAyuB,EAAAzuB,EAAA,WACA4d,EAAA5d,EAAA,WACA6d,EAAA7d,EAAA,WAEA0uB,EAAA1uB,EAAA,WACA2uB,EAAA3uB,EAAA,8DACAA,EAAA,IAGA,IAAI4uB,EAAiB,GAYfC,EAAW,SAASC,EAAMzrB,GAM/B,OALAA,EAASA,GAAU,GACnBA,EAAO0rB,QAAUD,EAEjB7d,YAAY+d,uBAEL,IAAIC,UAAK5rB,IAcX6rB,EAAc,WAEnB,IAAI5rB,EAAO2W,OAAOkV,sBAAwB,GAE1C,IAAK7rB,EAGJ,IAFA,IAAI8rB,EAAUzlB,SAAS0lB,qBAAqB,UAEnCjvB,EAAI,EAAGA,EAAIgvB,EAAQppB,OAAQ5F,IAAK,CACxC,IAAIkvB,EAAQF,EAAQhvB,GAAGmvB,IAAID,MAAMre,YAAYue,eAE7C,GAAIF,EAAO,CACVhsB,EAAOgsB,EAAM,GACb,OAkBH,IAX4B,IAAxBhsB,EAAKwG,QAAQ,OAAqC,OAArBxG,EAAKgJ,MAAM,EAAG,KAG7ChJ,EADyB,IAAtBA,EAAKwG,QAAQ,KACTof,SAASvlB,KAAK2rB,MAAM,mBAAkB,GAAKhsB,EAI3C4lB,SAASvlB,KAAK2rB,MAAM,gBAAgB,GAAKhsB,IAI7CA,EACJ,MAAM,IAAIoR,MACT,kKAIF,OAAOpR,GAYFmsB,EAAwB,SAASpB,GAatC,GAZApd,YAAY+d,uBAER3pB,UAAKC,WAAW+oB,KACfpd,YAAYC,QACfiJ,WAAWkU,EAAU,GAErBpd,YAAYye,KAAK,0BAA2B,WAC3CvV,WAAWkU,EAAU,OAKnBpd,YAAY0e,uBAAwB,CACxC1e,YAAY0e,wBAAyB,EAErC,IAAIC,EAAY,CACf,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,MAGGC,EAAexM,UAAUyM,UAAYzM,UAAUwM,cAAgB,KAE/D/nB,EAAQ+nB,EAAapkB,cAAc6jB,MAAM,0BACzCS,EAAOjoB,EAAM,GACbkoB,EAASloB,EAAM,GAEf8nB,EAAU9lB,QAAQimB,EAAO,IAAMC,IAAW,EAC7CD,EAAOA,EAAO,IAAMC,GACmB,IAA7BJ,EAAU9lB,QAAQimB,KAC5BA,EAAO,MAGR5nB,SAAS8nB,aAAaC,KACrBjf,YAAYkf,OAAO,qBAAuBJ,EAAO,OACjD,SAASK,GACJA,GACHnf,YAAYvK,KAAK,4BAInB9B,QAkBGurB,EAAS,SAASE,GACvB,IAAIC,EAAWrf,YAAYie,cAmB3B,OAhBgC,IAA5BmB,EAASvmB,QAAQ,OAA0C,IAA1BumB,EAASvmB,QAAQ,OACrDumB,EAAWC,EAAWD,GAKtBloB,SAASooB,WACgC,MAAzCF,EAASG,OAAOH,EAASrqB,OAAS,KACjC,SAASgY,KAAKqS,KAEfA,IACEA,EAASvmB,QAAQ,MAAQ,EAAI,IAAM,KACpC,KACA3B,SAASooB,WAGJF,GAUFrB,EAAuB,WACvB/d,YAAYvK,MAASuK,YAAYwf,IACrCtoB,SAASkB,MAAMqnB,YAAYzf,cAYvBue,EAAgB,qEAmBhBmB,EAAa,SAAS5S,GAC3B,OAAO,WACN,OAAOA,EAAQ4M,OAAO,SAASiG,EAAKvV,GAEnC,OADAA,EAAMuT,EAAevT,IAAQ,CAACA,GACvBuV,EAAIxqB,OAAOiV,IAChB,MAaCwV,EAAuB,SAASC,EAAYC,GAC5CnC,EAAemC,KACnBnC,EAAemC,GAAc,IAG9BnC,EAAemC,GAAYpkB,KAAKmkB,IAO3BE,EAAM,CACXzc,oBAIA+H,sBACA4O,oBACA+D,iBACA5pB,iBACA2rB,QACA1S,wCACAJ,iCACAlK,0BACA8J,uBACAmT,qBACApC,aACAK,gBACAyB,eACAR,WACAnB,yBACAS,0BACAD,kBACAqB,sGC9UD7wB,EAAA,IACAA,EAAA,IAEAA,EAAA,IAEA,IAAAsC,EAAAtC,EAAA,UACA2uB,EAAA3uB,EAAA,WACAuE,EAAAvE,EAAA,UACAkxB,EAAAlxB,EAAA,WACAyuB,EAAAzuB,EAAA,WACAmxB,EAAAnxB,EAAA,WAEAoxB,EAAApxB,EAAA,IAEAqC,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,6DAEA,IAAMqxB,EAAoB,IACpBC,EAAqB,IAU3B,SAASrC,EAAK5rB,GACb4rB,EAAKna,WAAWD,YAAYtU,KAAKqE,KAAMvB,IAGxC,EAAAkuB,EAAA1uB,SACCosB,EACAuC,UACA,CAWCC,YAAa,SAASpuB,GACrB,IAAIyrB,EAAOlqB,KAAK3D,IAAI,WAEhB2D,KAAK3D,IAAI,0BACZ6tB,EAAKljB,aAAa,kBAAmB,QAGtC,IAAI1I,EAASiF,SAASupB,OAAO5C,GAuB7B,GArBA5rB,EAAOG,OAAOsuB,eAAiB/sB,KAAK3D,IAAI,kBAExCiC,EAAOG,OAAOuuB,SAAWhtB,KAAK3D,IAAI,YAElCiC,EAAOG,OAAOwuB,cAAgBjtB,KAAK3D,IAAI,iBAEvCiC,EAAOG,OAAOyuB,aAAeltB,KAAK3D,IAAI,gBAEtCiC,EAAOG,OAAO0uB,eAAiBntB,KAAK3D,IAAI,kBAExCiC,EAAOG,OAAO2uB,iBAAmBptB,KAAK3D,IAAI,oBAE1CiC,EAAOG,OAAO4uB,2BAA4B,EAC1C/uB,EAAOG,OAAO6uB,+BAAgC,EAE9ChvB,EAAOG,OAAO8uB,oBAAsBvtB,KAAK3D,IAAI,uBAE7CiC,EAAOG,OAAOD,UAAYwB,KAAK3D,IAAI,aAEnCoE,UAAKiC,IAAIpE,EAAOG,OAAQA,GAEpB8E,SAAS+Q,IAAIC,KAAOhR,SAAS+Q,IAAIkZ,KAAM,CAC1C,IAAMC,EACoB,KAAzBlqB,SAAS+Q,IAAIoZ,QACV,qBACA,mBAEJpvB,EAAOG,OAAOyuB,aAAe5uB,EAAOG,OAAOyuB,aAAaS,QACvD,gBACAF,GAEDnvB,EAAOG,OAAOwuB,cAAgB3uB,EAAOG,OAAOwuB,cAAcU,QACzD,gBACAF,GAIFnvB,EAAOwsB,KACN,aACA,WACC9qB,KAAK4tB,8BAA8BtvB,GAOnC,IALA,IAAI2rB,EAAW3rB,EAAO2rB,WAElB4D,EAAgB7tB,KAAK3D,IAAI,iBAEvByxB,EAAmB5xB,OAAO2J,KAAKgoB,GAC5BryB,EAAI,EAAGA,EAAIsyB,EAAiB1sB,OAAQ5F,IAAK,CACjD,IAAMgO,EAAcskB,EAAiBtyB,GAEjC8C,EAAOmM,SAASjB,IAIpBlL,EAAOuL,WACNL,EACAqkB,EAAcrkB,IAIhBygB,EAASpB,SAAS,gBACjB7rB,KAAKgD,OAGRA,KAAK+tB,QAAUzvB,EAEf+N,YAAYwe,sBAAsB7qB,KAAKguB,UAAUhxB,KAAKgD,QAYvDiuB,WAAY,WACXjuB,KAAKkuB,YAAa,EAEdluB,KAAKmuB,mBACR9mB,UAAS+mB,uBAAuBpuB,KAAKmuB,kBACrCnuB,KAAKmuB,iBAAiBE,WAAWC,YAChCtuB,KAAKmuB,mBAIP,IAAI5vB,EAAeyB,KAAK3D,IAAI,gBAE5B,GAAIkC,EAAc,CACjB,IAAI0rB,EAAW1rB,EAAa0rB,WAExBA,IACHA,EAAStB,YAAY,eAEjB3oB,KAAK3D,IAAI,0BACZ2D,KAAK3D,IAAI,WAAW2K,aACnB,kBACA,UAKHhH,KAAKuuB,mBAELhwB,EAAaiwB,YAYfD,iBAAkB,WACjB,IAAIhwB,EAAeyB,KAAK3D,IAAI,gBACxBoyB,EAA8C,mBAAvBpZ,OAAOxI,aAE9B4hB,EACHlwB,EAAawG,SAASmjB,EAAElW,UAAU0c,QAElCnwB,EAAawG,SACX4pB,YACAzG,EAAErb,eACF+hB,mBAaJhB,8BAA+B,SAAStvB,GACvCA,EAAO2rB,WAAW4B,GAAG,QAAS7rB,KAAK6uB,wBAAyB7uB,KAAM,CACjE1B,OAAQA,KAeVuwB,wBAAyB,SAASpqB,GACjC,IAAIqqB,EAAarqB,EAAM/C,KAAKwmB,EACxB6G,EAAaD,EAAWE,SAAWF,EAAWG,QAC9CC,EAAalvB,KAAK+tB,QAAQtvB,OAAO4Z,UAAY0W,EAIjD,GAFAD,EAAW1pB,iBAEN8pB,IAO2C,IAF/CzqB,EAAM0qB,aAAa7wB,OACjB2rB,WACA3rB,OAAOwD,KAAK,gBAAiB2C,EAAM/C,MACpC,CACD,IAAI0tB,EAAY,IAAI7rB,SAASwX,IAAIvX,YAChCiB,EAAM/C,KAAK2tB,YACXrvB,MAEGyP,EAAO2f,EAAUE,YAErB,GAAI7f,EAAM,CACT,IAAI1Q,EAAO0Q,EAAKyY,EAAEqH,WAAWxwB,KAC1B0Q,EAAKyY,EAAEqH,WAAWxwB,KAAKtC,MACvB,KACCkI,EAASoqB,EACV,SACAtf,EAAKyY,EAAEqH,WAAW5qB,OAClB8K,EAAKyY,EAAEqH,WAAW5qB,OAAOlI,MACzB,KACHuD,KAAKwvB,cAAczwB,EAAM4F,MAc5B8qB,iBAAkB,WACjB,OAAOzvB,KAAK+tB,SAabyB,cAAe,SAASzwB,EAAM4F,GACzBA,GAAU5F,EACbsW,OAAOqa,KAAK3wB,EAAM4F,GACR5F,IACVsW,OAAOiP,SAASvlB,KAAOA,IAYzBivB,UAAW,WAAW,IAAA/sB,EAAAjB,KACrB,IAAKA,KAAKkuB,WAAY,CACrB,IAAIyB,EAAkB5qB,SAAS7G,cAAc,OAC7CyxB,EAAgB7xB,UAAY,QAE5B,IAAIqc,EAASna,KAAK3D,IAAI,WAAa0I,SAASqV,KAE5CD,EAAOyV,YAAYD,GAEnB,IAAME,EAAc,SAAAlpB,IACd1F,EAAK6uB,SAAWnpB,IACpB1F,EAAK6uB,QAAUnpB,EACf1F,EAAK5E,IAAI,gBAAgByF,KAAK,aAIhCuF,UAAS0oB,OACR/xB,EAAAC,QAAAC,cAACC,EAAAF,QAAc+xB,SAAf,CAAwBvzB,MAAO,CAAC6B,OAAQ0B,OACvChC,EAAAC,QAAAC,cAAC+xB,EAAAhyB,QAAD,CACCiyB,YAAalwB,KAAK3D,IAAI,eACtBmD,IAAKqwB,EACL7C,SAAUhtB,KAAK3D,IAAI,eAGrBszB,GAGD3vB,KAAKmuB,iBAAmBwB,IAiB1BQ,WAAY,SAAS1zB,GAKpB,OAJIgE,UAAKgC,SAAShG,KACjBA,EAAQsI,SAASqrB,eAAe3zB,IAG1BA,GAeR4zB,wBAAyB,SAAS5zB,GACjC,OACCgE,UAAKgC,SAAShG,IACdgE,UAAK6B,SAAS7F,IACdgE,UAAKyB,UAAUzF,IAcjB6zB,kBAAmB,SAAS7zB,GAC3B,OAAOgE,UAAK6B,SAAS7F,IAAUgE,UAAK0B,OAAO1F,KAG7C,CACCsb,MAAO,CAaNgV,eAAgB,CACfxU,UAAW,0BACX9b,OAAO,EACP6b,WAAW,GAcZyL,2BAA4B,CAC3BxL,UAAW9X,UAAKC,WAChBjE,WAAOsB,GAcR8lB,sBAAuB,CACtBtL,UAAW9X,UAAKgC,SAChBhG,WAAOsB,GAYRovB,eAAgB,CACf5U,UAAW9X,UAAKuB,QAChBvF,MAAO,CACN,CACC6N,GAAI,WACJimB,iHAC6C7D,EAD7C,6IAGwCD,EAHxC,WAGoEC,EAHpE,yFAIgED,EAJhE,eAKA+D,WAAY,CACX,kEAGF,CACClmB,GAAI,SACJimB,wFAC6B7D,EAD7B,8IAG2CD,EAH3C,cAIA+D,WAAY,CACX,yDAGF,CACClmB,GAAI,QACJimB,uDAAwD7D,EAAxD,wJAEkDD,EAFlD,cAGA+D,WAAY,CACX,oEACA,+DACA,sEACA,kDAGF,CACClmB,GAAI,UACJimB,mGAC6B7D,EAD7B,oIAG4BD,EAH5B,cAIA+D,WAAY,CACX,8DAiBJC,sBAAuB,CACtBlY,UAAW9X,UAAKyB,UAChBzF,OAAO,EACP6b,WAAW,GAWZ4X,YAAa,CACZ3X,UAAW9X,UAAK2B,SAChB3F,MAAO,KAWRoxB,cAAe,CACdtV,UAAW9X,UAAK6B,SAChB7F,MAAO,CACNi0B,YAAaC,sBAEdrY,WAAW,GAcZ4U,aAAc,CACb3U,UAAW9X,UAAKgC,SAChBhG,MACC,2SAGD6b,WAAW,GAYZ3b,KAAM,CACL4b,UAAW9X,UAAKgC,SAChBhG,MAAO,UAYR8B,aAAc,CACbvC,OAAQ,mBACRqc,UAAU,GAeX+U,iBAAkB,CACjB7U,UAAW9X,UAAKgC,SAChBhG,MAAO,iBACP6b,WAAW,GAqBZ2U,cAAe,CACd1U,UAAW9X,UAAKgC,SAChBhG,MAAO,yDACP6b,WAAW,GAcZiV,oBAAqB,CACpBhV,UAAW9X,UAAKuB,QAChBvF,MAAO,CACN,CACCoJ,KAAMtC,SAASof,KAAO,GACtB3Q,UAAW,QAEZ,CACCnM,KAAMtC,SAASof,KAAOpf,SAASqtB,MAAQ,GACvC5e,UAAW,WAcdxT,UAAW,CACV+Z,UAAW9X,UAAKgC,SAChBhG,MAAO,sCACP6b,WAAW,GAYZ6R,QAAS,CACR3R,OAAQ,aACRF,WAAW,GAUZ0U,SAAU,CACTzU,UAAW,oBACX9b,MAAO,CACNo0B,IAAK,CACJ1X,QAAS,CAAC,QAAS,QAAS,SAAU,QAAS,SAC/ClQ,SAAU,GAEXuC,OAAQ,CACPslB,WAAY5X,UACZjQ,SAAU,KAcbkR,OAAQ,CACP3B,OAAQ,aACRF,WAAW,MAMf/U,SAASkB,MAAMqnB,YAAYzB,aAEZA,mGC1sBf,IAAA0G,EAAA31B,EAAA,8DACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,MAEQ41B,yKCOR,SAASA,EAASvH,EAAUwH,EAASxxB,GAAoB,IAAX4B,EAAWhB,UAAAe,OAAA,QAAArD,IAAAsC,UAAA,GAAAA,UAAA,GAAJ,GAChD6wB,SAEAC,EAAS,WAAsB,QAAAhwB,EAAAd,UAAAe,OAAVgwB,EAAU9vB,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAV6vB,EAAU7vB,GAAAlB,UAAAkB,GAElC,IAAI8vB,EAAc5xB,GAAWO,KAG7BshB,aAAa4P,GAEbA,EAAiB3b,WAAW,WAC3BkU,EAASrpB,MAAMixB,EAAf,GAAA7vB,OAAgC4vB,EAAhCzY,EAA6CtX,MAC3C4vB,IAOJ,OAJAE,EAAOG,OAAS,WACfhQ,aAAa4P,IAGPC,mDAGR5tB,SAASoF,MAAMqoB,SAAWztB,SAASoF,MAAMqoB,UAAYA,YAEtCA,mPCvCXO,EAAwB,QACxBC,EAAqB,+BACrBC,EAAmB,gCASvB,SAASljB,EAAKjQ,EAAQG,GACrBuB,KAAK+tB,QAAUzvB,EACf0B,KAAKsS,gBACJ7T,IAAoC,IAA1BA,EAAO6T,eAGnB/D,EAAKnR,UAAY,CAChB6S,YAAa1B,EAWbkD,iBAAkB,SAAShC,GAC1BA,EAAOA,GAAQzP,KAAKwO,mBAEpB,IAAItB,EAAQlN,KAAK+tB,QAAQlhB,eAAeyB,YAAY,GAEpD,GAAImB,EAAM,CACTvC,EAAMwkB,qBAAqBjiB,GAE3B,IAAIkiB,EAAWzkB,EAAM0kB,sBAErB,GACCD,IACC3xB,KAAK+tB,QAAQpnB,QAAQ0G,OAAOskB,EAASzjB,kBAAkBuB,IACvD,CACD,IAAIoiB,EAAa,KAAKnoB,KAAKioB,EAASxkB,WAEhC2kB,EAASD,EAAaA,EAAWzpB,MAAQ,EAAI,EAEjD8E,EAAM6kB,SAASJ,EAAUG,GACzB5kB,EAAM8kB,OAAOL,EAAUG,IAIzB9xB,KAAK+tB,QAAQlhB,eAAeolB,aAAa,CAAC/kB,KAa3CpQ,OAAQ,SAASo1B,EAAKvN,EAAOnS,GAC5B,IAAIR,EAAYhS,KAAK+tB,QAAQlhB,eAEzBK,EAAQ8E,EAAU1D,YAAY,GAElC,GAAIpB,EAAMilB,UAAW,CACpB,IAAIziB,EAAO,IAAInM,SAASwX,IAAIrL,KAAKwiB,EAAKlyB,KAAK+tB,QAAQhpB,UACnDmI,EAAMklB,WAAW1iB,GACjBxC,EAAMmlB,mBAAmB3iB,GAG1BwiB,EAAMlyB,KAAKsyB,gBAAgBJ,GAE3B,IAAI3f,EAAYhP,SAASoF,MAAMC,MAC9B,CACC2pB,sBAAuBL,EACvBnzB,KAAMmzB,GAEPvN,GAGG1hB,EAAQ,IAAIM,SAASN,MAAM,CAC9BssB,WAAYhd,EACZ5L,QAAS,MAGV1D,EAAMuC,KAAOjC,SAASmI,aACtBzI,EAAMuvB,aAAatlB,EAAOlN,KAAK+tB,SAE3Bvb,GAAmBA,EAAgBJ,QACtCpS,KAAKyR,mBAELvE,EAAMulB,UAYRjkB,iBAAkB,WACjB,IAAIwD,EAAYhS,KAAK+tB,QAAQlhB,eAEzBwT,EAAkBrO,EAAUsO,qBAEhC,GAAID,GAAmBA,EAAgBqS,GAAG,KACzC,OAAOrS,EAGR,GAAIA,GAAmB9c,SAAS+Q,IAAIC,GAKnC,IAJA,IAAIpL,EAAWkX,EAAgBsS,cAE3BC,EAAQzpB,EAASypB,QAEZp3B,EAAI,EAAGA,EAAIo3B,EAAOp3B,IAAK,CAC/B,IAAI0uB,EAAO/gB,EAAS0pB,QAAQr3B,GAE5B,GAAI0uB,EAAKwI,GAAG,KACX,OAAOxI,EAKV,IAAIhd,EAAQ8E,EAAU1D,YAAY,GAElC,OAAIpB,GACHA,EAAM4lB,OAAOvvB,SAASwvB,aAEf/yB,KAAK+tB,QACVvqB,YAAY0J,EAAMgB,qBAClBE,SAAS,IAAK,IAGV,MAYR+D,OAAQ,SAAS1C,EAAM+C,GACtB,IAAIlU,EAAS0B,KAAK+tB,QAElB,GAAIte,EACC+C,GAAmBA,EAAgBJ,SACtCpS,KAAKyR,mBAGNhC,EAAK0C,OAAO7T,OACN,CACN,IAAI2E,EAAQ,IAAIM,SAASN,MAAM,CAC9B+vB,oBAAqB,EACrBrsB,QAAS,IACTnB,KAAMjC,SAASmI,eAOZsG,EAAY1T,EAAOuO,eACvBmF,EAAUihB,cAAcjhB,EAAUkhB,mBAElC50B,EAAOyO,YAAY9J,KAcrBwP,OAAQ,SAASkS,EAAOlV,EAAM+C,GAC7B,IAAI2C,EAAWnV,KAIf,GAFAyP,EAAOA,GAAQzP,KAAKwO,mBAEC,kBAAVmW,EAAoB,CAC9B,IAAIwO,EAAMhe,EAASmd,gBAAgB3N,GAEnClV,EAAK2jB,cAAc,CAClBb,sBAAuBY,EACvBp0B,KAAMo0B,SAED,GAAqB,YAAjB,qBAAOxO,EAAP,YAAAniB,EAAOmiB,IAAoB,CACrC,IAAI0O,EAAc,GAEdC,EAAW,GAEfp3B,OAAO2J,KAAK8e,GAAOhd,QAAQ,SAAS5K,GACnC,GAAmB,OAAf4nB,EAAM5nB,GACG,SAARA,GACHs2B,EAAYtrB,KAAK,uBAGlBsrB,EAAYtrB,KAAKhL,QAEjB,GAAY,SAARA,EAAgB,CACnB,IAAIo2B,EAAMhe,EAASmd,gBAAgB3N,EAAM5nB,IAEzCu2B,EAAS,uBAAyBH,EAClCG,EAASv2B,GAAOo2B,OAEhBG,EAASv2B,GAAO4nB,EAAM5nB,KAKzB0S,EAAK8jB,iBAAiBF,GACtB5jB,EAAK2jB,cAAcE,GAGhB9gB,GAAmBA,EAAgBJ,SACtCpS,KAAKyR,iBAAiBhC,IAkBxB6iB,gBAAiB,SAASJ,GACzB,OAAIX,EAAsBnY,KAAK8Y,GACvBA,GACGV,EAAmBpY,KAAK8Y,GAClCA,EAAM,UAAYA,EACPT,EAAiBrY,KAAK8Y,KACjCA,EAAMlyB,KAAKsS,eAAiB,UAAY4f,EAAMA,GAGxCA,KAIT3uB,SAASgL,KAAOhL,SAASgL,MAAQA,gCCjQjC,IAAIilB,EAAsB,SAAS/F,GAClC,IAAIgG,EAAU,CAAC,aAAc,OAAQ,aAErCA,EAAQ9rB,QAAQ,SAAS+rB,GACpBjG,EAAOiG,KACVjG,EAAOiG,GAAcnwB,SAASoF,MAAMgrB,SACnClG,EAAOiG,GACP,SAASE,GACR,IAAIlmB,EAAU,CACbmmB,MAAOH,EACPjG,OAAQA,GAGT,OAAO,SAASnvB,GACfA,EAAOw1B,qBAAuBpmB,EAG9BkmB,EAAqBj4B,KAAKqE,KAAM1B,GAEhCA,EAAOw1B,qBAAuB,YAchCC,EAA6B,SAASC,GAKzC,MAJwB,kBAAbA,IACVA,EAAWA,EAAS7wB,MAAM,MAGpB6wB,EAASxjB,OAAO,SAASyjB,GAC/B,MAAmB,YAAZA,KAuBT1wB,SAAS6gB,QAAQkH,KAAO/nB,SAASoF,MAAMgrB,SAASpwB,SAAS6gB,QAAQkH,KAAM,SACtE4I,GAIA,OAAO,SAASC,EAAO1K,EAAU2K,GAEhCF,EAAYv4B,KAAKqE,KAAMm0B,EAAO,SAAS/P,GAClCqF,IACHvtB,OAAO2J,KAAKue,GAASzc,QAAQ,SAASwkB,GACrC,IAAIsB,EAASrJ,EAAQ+H,GAEjBsB,EAAOuG,WACVvG,EAAOuG,SAAWD,EACjBtG,EAAOuG,WAITR,EAAoB/F,KAGrBhE,EAAS9tB,KAAKy4B,EAAOhQ,uCCzFzB,IAAK7gB,SAAS6gB,QAAQ/nB,IAAI,sBAAuB,CAehD,SAASg4B,KAdT9wB,SAASujB,wBAA0B,EACnCvjB,SAAS+X,wBAA0B,EACnC/X,SAAS8kB,wBAA0B,EACnC9kB,SAAS+kB,wBAA0B,EAanC+L,EAAgBj3B,UAAY,CAC3B6S,YAAaokB,EAWbC,yBAA0B,SAASlZ,EAAGC,GACrCrb,KAAKu0B,yBAAyBnZ,EAAGC,EAAGD,EAAGC,IAcxCkZ,yBAA0B,SAASC,EAAQC,EAAQC,EAAMC,GACxD,IAAIC,SACArnB,SACAH,SACAF,SACA2nB,SACAvnB,SACAE,SA0BJ,GAxB+C,oBAApCzI,SAAS+vB,wBACnBD,EAAQ9vB,SAAS+vB,uBAAuBN,EAAQC,GAChDG,EAAM7vB,SAAS+vB,uBAAuBJ,EAAMC,GAE5CrnB,EAAiBunB,EAAME,WACvBxnB,EAAeqnB,EAAIG,WAEnBvnB,EAAcqnB,EAAM/C,OACpB1kB,EAAYwnB,EAAI9C,OAEhB5kB,EAAQlN,KAAKg1B,eACqC,oBAAjCjwB,SAASkwB,sBAC1BJ,EAAQ9vB,SAASkwB,oBAAoBT,EAAQC,GAC7CG,EAAM7vB,SAASkwB,oBAAoBP,EAAMC,GAEzCrnB,EAAiBunB,EAAMvnB,eACvBC,EAAeqnB,EAAItnB,eAEnBE,EAAcqnB,EAAMrnB,YACpBJ,EAAYwnB,EAAIpnB,YAEhBN,EAAQlN,KAAKg1B,eAGV9nB,GAASnI,SAAS8H,aACrBK,EAAM6kB,SACL,IAAIxuB,SAASwX,IAAImP,KAAK5c,GACtBE,GAEDN,EAAM8kB,OAAO,IAAIzuB,SAASwX,IAAImP,KAAK3c,GAAeH,GAElDpN,KAAK6M,eAAeolB,aAAa,CAAC/kB,SAC5B,GAA6C,oBAAlCnI,SAASqV,KAAK8a,gBAAgC,CAC/D,IAAIljB,EAAYhS,KAAK6M,eAErBmF,EAAUhF,SAEVE,EAAQnI,SAASqV,KAAK8a,kBACtBhoB,EAAMuO,YAAY+Y,EAAQC,GAE1B,IAAIU,EAAWjoB,EAAMkoB,YACrBD,EAAS1Z,YAAYiZ,EAAMC,GAE3BznB,EAAMmoB,YAAY,WAAYF,GAC9BjoB,EAAMulB,SAENzyB,KAAK6M,eAAeC,SAgBtBwoB,eAAgB,WACf,IAAItjB,EAAYhS,KAAK6M,eAEjBoB,EAAS,CACZma,OAAQ,EACRvO,KAAM,EACNgO,MAAO,EACP/N,IAAK,GAGF7H,EAAYD,EAAUE,kBAE1B,IAAKD,EAAU7Q,OACd,OAAO6M,EAGR,IAAIsnB,EAAiBtjB,EAAU,GAAGujB,UAAUtN,EAE5CqN,EAAetyB,MAAMwyB,QAAU,eAE/BxnB,EAAS,IAAI1K,SAASwX,IAAIpU,QAAQ4uB,GAAgB3Z,gBAElD2Z,EAAelH,WAAWC,YAAYiH,GAEtC,IAAIG,EAAY,IAAInyB,SAASwX,IAAI1F,OAAOA,QAAQ2F,oBAOhD,OALA/M,EAAOma,OAASsN,EAAUra,EAAIpN,EAAOma,OACrCna,EAAO4L,KAAO6b,EAAUta,EAAInN,EAAO4L,KACnC5L,EAAO4Z,MAAQ6N,EAAUta,EAAInN,EAAO4Z,MACpC5Z,EAAO6L,IAAM4b,EAAUra,EAAIpN,EAAO6L,IAE3B7L,GAcR0nB,iBAAkB,WACjB,IAAI3jB,EAAYhS,KAAK6M,eAErB,IAAKmF,EAAU4jB,YACd,OAAO,KAGR,IAAIld,EAAS,CACZ/R,QAASqL,EAAUsO,qBACnB5Q,KAAMsC,EAAU6jB,mBAKjB,OAFAnd,EAAOzK,OAASjO,KAAK81B,mBAAmB9jB,GAEjC0G,GAiBRod,mBAAoB,WACnB,IAAI7nB,EAASjO,KAAK+1B,uBAOlB,OALA9nB,EAAOvI,UAAY1F,KAAKg2B,wBAExB/nB,EAAOnP,OAASmP,EAAOma,OAASna,EAAO6L,IACvC7L,EAAOpP,MAAQoP,EAAO4Z,MAAQ5Z,EAAO4L,KAE9B5L,GAWRD,iBAAkB,WACjB,IAAIioB,SAEAjkB,EAAYhS,KAAK6M,eAErB,OACCmF,EAAUkkB,YAAc3yB,SAAS4yB,iBAC/BF,EAASjkB,EAAU1D,cACF,IAAlB2nB,EAAO70B,QACP60B,EAAO,GAAG9D,WAiCb4D,qBAAsB,WACrB,IAAI/jB,EAAYhS,KAAK6M,eACjBupB,EAAkBpkB,EAAU4jB,YAE5BS,EAAc,CACjBjO,OAAQ,EACRtpB,OAAQ,EACR+a,KAAM,EACNgO,MAAO,EACP/N,IAAK,EACLjb,MAAO,GAGJoP,EAAS,CACZma,OAAQ,EACRZ,QAAS6O,EACTxc,KAAM,EACNgO,MAAO,EACP/N,IAAK,EACL2N,UAAW4O,GAGZ,IAAKD,EACJ,OAAOnoB,EAGR,IAAIma,EAAS,EACTkO,SACAzc,EAAO0c,IACP1O,GAAS0O,IACTzc,EAAMyc,IAWV,GARCD,EADGF,EAAgBpB,YACLoB,EAAgBpB,cAAcwB,iBAG3CJ,EAAgBK,WAAa,EAC1BL,EAAgBM,WAAW,GAAGF,iBAC9B,GAGsB,IAAvBF,EAAYl1B,OACf6M,EAASjO,KAAKs1B,qBACR,CACN,IAAK,IAAI95B,EAAI,EAAG4F,EAASk1B,EAAYl1B,OAAQ5F,EAAI4F,EAAQ5F,IAAK,CAC7D,IAAIoM,EAAO0uB,EAAY96B,GAEnBoM,EAAKiS,KAAOA,IACfA,EAAOjS,EAAKiS,MAGTjS,EAAKigB,MAAQA,IAChBA,EAAQjgB,EAAKigB,OAGVjgB,EAAKkS,IAAMA,IACdA,EAAMlS,EAAKkS,KAGRlS,EAAKwgB,OAASA,IACjBA,EAASxgB,EAAKwgB,QAIhB,IAAIsN,EAAY,IAAInyB,SAASwX,IAAI1F,OAChCA,QACC2F,oBAOF,GALA/M,EAAOma,OAASsN,EAAUra,EAAI+M,EAC9Bna,EAAO4L,KAAO6b,EAAUta,EAAIvB,EAC5B5L,EAAO4Z,MAAQ6N,EAAUta,EAAIyM,EAC7B5Z,EAAO6L,IAAM4b,EAAUra,EAAIvB,EAEvBwc,EAAYl1B,OAAQ,CACvB,IAAIomB,EAAU8O,EAAYA,EAAYl1B,OAAS,GAC3CqmB,EAAY6O,EAAY,GAE5BroB,EAAOuZ,QAAU,CAChBY,OAAQsN,EAAUra,EAAImM,EAAQY,OAC9BtpB,OAAQ0oB,EAAQ1oB,OAChB+a,KAAM6b,EAAUta,EAAIoM,EAAQ3N,KAC5BgO,MAAO6N,EAAUta,EAAIoM,EAAQK,MAC7B/N,IAAK4b,EAAUra,EAAImM,EAAQ1N,IAC3Bjb,MAAO2oB,EAAQ3oB,OAGhBoP,EAAOwZ,UAAY,CAClBW,OAAQsN,EAAUra,EAAIoM,EAAUW,OAChCtpB,OAAQ2oB,EAAU3oB,OAClB+a,KAAM6b,EAAUta,EAAIqM,EAAU5N,KAC9BgO,MAAO6N,EAAUta,EAAIqM,EAAUI,MAC/B/N,IAAK4b,EAAUra,EAAIoM,EAAU3N,IAC7Bjb,MAAO4oB,EAAU5oB,QAKpB,OAAOoP,GAcR+nB,sBAAuB,WACtB,IAAItwB,EAAYnC,SAASujB,wBACrB9U,EAAYhS,KAAK6M,eACjBupB,EAAkBpkB,EAAU4jB,YAEhC,IAAKQ,EACJ,OAAO1wB,EAGR,IAAIixB,SAEJ,IACEA,EAAaP,EAAgBO,aAC9BA,EAAWC,wBACV,CACD,IAAIC,EAAWF,EAAWC,wBACzBR,EAAgBU,aAIdD,GACDT,EAAgBW,aACfX,EAAgBY,aAClBH,IAAaI,KAAKC,+BAElBxxB,EAAYnC,SAAS+X,yBAIvB,OAAO5V,IAITnC,SAAS6gB,QAAQyM,IAAI,qBAAsB,CAC1CsG,KAAM,SAAS74B,GACd,IAAIuZ,SACAxa,SAIJ,IAAKwa,KAFLxa,EAAiBnB,OAAOkB,UAAUC,eAErBg3B,EAAgBj3B,UAE3BC,EAAe1B,KAAK04B,EAAgBj3B,UAAWya,IACvB,qBAAjBvZ,EAAOuZ,KAEdvZ,EAAOuZ,GAAQwc,EAAgBj3B,UAAUya,sCCxZ9C,IAAIuf,EAAmC,CACtCnoB,MAAO,EACPooB,IAAK,EACLC,SAAU,EACVC,MAAO,EACPC,GAAI,EACJC,MAAO,EACPC,GAAI,EACJC,MAAO,EACPC,GAAI,GAWL,SAAS1oB,EAAM5Q,GACd0B,KAAK+tB,QAAUzvB,EAGhB4Q,EAAM2oB,aAAe,OACrB3oB,EAAM4oB,YAAc,SACpB5oB,EAAM6oB,aAAe,OACrB7oB,EAAM8oB,YAAc,MAEpB9oB,EAAM9R,UAAY,CACjB6S,YAAaf,EAWbpS,OAAQ,SAAS2B,GAChB,IAAIH,EAAS0B,KAAK+tB,QACd9e,EAAQjP,KAAKi4B,eAAe,SAEhCx5B,EAASA,GAAU,GAOnB,IAJA,IAAI84B,EAAQtoB,EAAMipB,OAAOl4B,KAAKi4B,eAAe,UACzCnT,EAAOrmB,EAAOqmB,MAAQ,EACtBD,EAAOpmB,EAAOomB,MAAQ,EAEjBrpB,EAAI,EAAGA,EAAIspB,EAAMtpB,IAEzB,IADA,IAAI28B,EAAMZ,EAAMW,OAAOl4B,KAAKi4B,eAAe,OAClCG,EAAI,EAAGA,EAAIvT,EAAMuT,IAAK,CAC9B,IAAIC,EAAOF,EAAID,OAAOl4B,KAAKi4B,eAAe,OAE1CI,EAAKC,cAIPt4B,KAAKozB,cAAcnkB,EAAOxQ,EAAOkmB,OACjC3kB,KAAKu4B,WAAWtpB,EAAOxQ,EAAO+5B,SAG9Bl6B,EAAO0f,cAAc/O,GAErB,IAAIwpB,EAAY,IAAIl1B,SAASwX,IAAIpU,QAAQsI,EAAMiZ,EAAEpD,KAAK,GAAG4T,MAAM,IAC3DxrB,EAAQ5O,EAAO02B,cAInB,OAHA9nB,EAAMyrB,eAAeF,EAAWl1B,SAASq1B,sBACzC1rB,EAAMulB,SAECxjB,GAWRT,iBAAkB,WACjB,IAAIS,SACA+C,EAAYhS,KAAK+tB,QAAQlhB,eACzB4I,EAAWzD,EAAUsO,qBAEzB,GAAI7K,GAAYA,EAASid,GAAG,SAC3BzjB,EAAQwG,MACF,CACN,IAAIwgB,EAASjkB,EAAU1D,YAEnB2nB,EAAO70B,OAAS,IAKfmC,SAAS+Q,IAAIukB,QAChB5C,EAAO,GAAGnD,OAAOvvB,SAASu1B,cAG3B7pB,EAAQjP,KAAK+tB,QACXvqB,YAAYyyB,EAAO,GAAG/nB,mBAAkB,IACxCE,SAAS,QAAS,IAItB,OAAOa,GAkBRE,WAAY,SAAS2O,GACpB,OAAKva,SAAS+Q,IAAIC,IAAOuJ,EAAG4U,GAAG0E,GAI3BtZ,EAAGib,aAAa,mBAC2B,UAAvCjb,EAAGhW,aAAa,mBAGjB9H,KAAKmP,WAAW2O,EAAGkb,cAPjBlb,EAAG3P,cAmBb8qB,WAAY,SAAShqB,GAGpB,GAFAA,EAAQA,GAASjP,KAAKwO,oBAEjBS,EACJ,OAAO,KAQR,IALA,IAAIiqB,EAAuC,OAAlBjqB,EAAMiZ,EAAEiR,MAE7BC,GAAqB,EAGhBjB,EAAM,EAAGA,EAAMlpB,EAAMiZ,EAAEpD,KAAK1jB,OAAQ+2B,IAAO,CAEnD,IAAIE,EAAOppB,EAAMiZ,EAAEpD,KAAKqT,GAAKO,MAAM,GAEnC,GAAIL,GAAwC,OAAhCA,EAAKgB,SAASxyB,cAAwB,CACjDuyB,GAAqB,EACrB,OAIF,IAAIE,EAAkBpqB,EAAM6oB,aAa5B,OAXImB,IACHI,EAAkBpqB,EAAM8oB,aAGrBoB,IACHE,EACCA,IAAoBpqB,EAAM8oB,YACvB9oB,EAAM2oB,aACN3oB,EAAM4oB,aAGJwB,GAWRnnB,OAAQ,SAASlD,GAChB,IAAI3Q,EAAS0B,KAAK+tB,QAElB,GAAI9e,EACHA,EAAMkD,cAIN,GAFAlD,EAAQ3Q,EAAOkF,cAAc4K,SAAS,QAAS,GAE3Ca,EAAO,CAEV,IAAIsqB,EAAStqB,EAAM+pB,YACf/O,EAAW3rB,EAAO2rB,WAGM,IAA3BsP,EAAOC,iBACND,EAAO7G,GAAG,KAAM,OAChB6G,EAAOlsB,OAAO4c,KAEfhb,EAAQsqB,GAGT,IAAIrsB,EAAQ5O,EAAO02B,cACnB9nB,EAAMyrB,eAAe1pB,EAAO1L,SAASk2B,uBACrCxqB,EAAMkD,WAcTihB,cAAe,SAASnkB,EAAO0V,GAC1BA,GACHzoB,OAAO2J,KAAK8e,GAAOhd,QAAQ,SAASkQ,GACnC5I,EAAMjI,aAAa6Q,EAAM8M,EAAM9M,OAclC0gB,WAAY,SAAStpB,EAAOupB,GAC3BvpB,EAAQA,GAASjP,KAAKwO,mBAEtB,IAAIhT,SACAk+B,SACAC,SACAC,EAAY3qB,EAAM4qB,iBAAiB,SAAShH,QAAQ,GAEpDiH,EAAe95B,KAAKi5B,WAAWhqB,GAC/B8qB,EACHD,IAAiB5qB,EAAM4oB,aACvBgC,IAAiB5qB,EAAM2oB,aAEpBmC,EACHxB,IAAYtpB,EAAM4oB,aAAeU,IAAYtpB,EAAM2oB,aAChDoC,EACHzB,IAAYtpB,EAAM8oB,aAAeQ,IAAYtpB,EAAM2oB,aAIpD,IAAK5oB,EAAMiZ,EAAEiR,OAASc,EAAgB,CACrC,IAAIC,EAAgBN,EAAUC,iBAAiB,MAAMhH,QAAQ,GACzDsH,EAA0BD,EAAcV,gBAG5C,IAAKh+B,EAAI,EAAGA,EAAI2+B,EAAyB3+B,IAAK,CAC7C,IAAI68B,EAAO6B,EAAcE,SAAS5+B,GAIjC68B,EAAK7yB,OAASjC,SAASu1B,cACtBT,EAAK32B,KAAK,kBAEX22B,EAAKgC,WAAW,MAChBhC,EAAKrxB,aAAa,QAAS,QAI7B2yB,EAAY35B,KAAKi4B,eAAehpB,EAAMiZ,EAAEoS,eACxCX,EAAUzB,OAAOgC,EAAc/nB,UAKhC,GAAsB,OAAlBlD,EAAMiZ,EAAEiR,QAAmBc,EAAgB,CAE9CN,EAAY35B,KAAKi4B,eAAehpB,EAAMiZ,EAAEiR,OAExC,IAAIoB,EAAmBX,EAAUY,WAEjC,MAAOb,EAAUH,gBAAkB,EAAG,CACrC,IAAIiB,EAAcd,EAAUa,WACxBE,EAAwBD,EAAYjB,gBAExC,IAAKh+B,EAAI,EAAGA,EAAIk/B,EAAuBl/B,IACtCk+B,EAAUe,EAAYL,SAAS5+B,GAE3Bk+B,EAAQl0B,OAASjC,SAASu1B,eAC7BY,EAAQW,WAAW,MACnBX,EAAQiB,gBAAgB,UAI1BF,EAAYG,aAAaL,GAG1BZ,EAAUxnB,SAGX2nB,EAAe95B,KAAKi5B,WAAWhqB,GAC/B,IAAI4rB,EACHf,IAAiB5qB,EAAM4oB,aACvBgC,IAAiB5qB,EAAM2oB,aAIxB,IAAKgD,GAAiBb,EACrB,IAAKx+B,EAAI,EAAGA,EAAIyT,EAAMiZ,EAAEpD,KAAK1jB,OAAQ5F,IACoB,OAApDyT,EAAMiZ,EAAEpD,KAAKtpB,GAAGk9B,MAAM,GAAGW,SAASxyB,gBACrC6yB,EAAU,IAAIn2B,SAASwX,IAAIpU,QAC1BsI,EAAMiZ,EAAEpD,KAAKtpB,GAAGk9B,MAAM,IAEvBgB,EAAQW,WAAW,MACnBX,EAAQ1yB,aAAa,QAAS,QAOjC,GAAI+yB,IAAkBC,EACrB,IAAKx+B,EAAI,EAAGA,EAAIyT,EAAMiZ,EAAEpD,KAAK1jB,OAAQ5F,IAAK,CACzC,IAAI28B,EAAM,IAAI50B,SAASwX,IAAIpU,QAAQsI,EAAMiZ,EAAEpD,KAAKtpB,IAEd,UAA9B28B,EAAIa,YAAYtqB,YACnBgrB,EAAU,IAAIn2B,SAASwX,IAAIpU,QAAQwxB,EAAIjQ,EAAEwQ,MAAM,IAC/CgB,EAAQW,WAAW,MACnBX,EAAQiB,gBAAgB,YAgB5B1C,eAAgB,SAASl8B,GACxB,OAAO,IAAIwH,SAASwX,IAAIpU,QAAQ5K,EAAMiE,KAAK+tB,QAAQhpB,YAIrDxB,SAASsoB,GAAG,gBAAiB,SAASpnB,GACrC,IAAIq2B,EAAkB,CACrB5rB,EAAM6oB,aACN7oB,EAAM8oB,YACN9oB,EAAM4oB,YACN5oB,EAAM2oB,cAGHnT,EAAa,IAAIxV,EAAMzK,EAAMnG,QAEjCw8B,EAAgBnzB,QAAQ,SAAS6wB,GAChC/zB,EAAMnG,OAAOuL,WAAW,eAAiB2uB,EAAS,CACjD9uB,KAAM,SAASqkB,GACdrJ,EAAW6T,WAAW,KAAMC,UAMhCj1B,SAAS2L,MAAQ3L,SAAS2L,OAASA,gCC5WnC3L,SAASoF,MAAMoyB,MAAQ,SACtBC,EACAC,EACAxR,EACAyR,GAEA,IAAIC,EAAc53B,SAASoF,MAAMyyB,gBAEjCH,EAAYA,GAAa,GACzBA,EAAUxR,SAAW,6BAA+B0R,EAAc,IAE7D53B,SAAS83B,EAAEC,iBACf/3B,SAAS83B,EAAEC,eAAiB,IAG7B/3B,SAAS83B,EAAEC,eAAeH,GAAe,SAASI,GACjDhmB,WAAW,WACVimB,IAEA/R,EAAS8R,MAIX,IAAIE,EAAgB,IAAIl4B,SAASwX,IAAIpU,QAAQ,UAU7C,SAAS60B,IACJC,IACHA,EAActpB,gBACP5O,SAAS83B,EAAEC,eAAeH,GACjCM,EAAgB,MAMlB,OAnBAA,EAAcz0B,aAAa,MAAOg0B,EAAYU,OAAOT,IACrDQ,EAAc5P,GAAG,QAAS,WACzB2P,IAEIN,GACHA,MAYF33B,SAASwB,SAAS42B,UAAUzD,OAAOuD,GAE5B,CACNG,OAAQJ,EACRlxB,GAAI6wB,IAiBN53B,SAASoF,MAAMC,MACdrF,SAASoF,MAAMC,OACf,WAAkB,IACjB,IAAI8P,EAAS,GADIvX,EAAAd,UAAAe,OAANC,EAAMC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAANF,EAAME,GAAAlB,UAAAkB,GAGjB,IAAK,IAAI/F,EAAI,EAAGA,EAAI6F,EAAKD,SAAU5F,EAAG,CACrC,IAAIiV,EAAMpP,EAAK7F,GAEf,IAAK,IAAIuB,KAAO0T,EACXvU,OAAOkB,UAAUC,eAAe1B,KAAK8U,EAAK1T,KAC7C2b,EAAO3b,GAAO0T,EAAI1T,IAKrB,OAAO2b,GAYTnV,SAASoF,MAAMkzB,SAAW,SAASl1B,EAASlC,GAC3C,IAAIq3B,EAAgB/2B,SAASg3B,YAAY,UACzCD,EAAcE,UAAUv3B,GAAO,GAAM,GACrCkC,EAAQs1B,cAAcH,kCChHlBv4B,SAAS6gB,QAAQ/nB,IAAI,cAuDzBkH,SAAS6gB,QAAQyM,IAAI,YAAa,CASjCsG,KAAM,SAAS74B,GACd,IAAI49B,EAAY,GAEZC,EAAcn8B,KAAKo8B,mBAAmB99B,EAAOgM,IAE7C+xB,EAAiB/9B,EAAOG,OAAO69B,OAChCh+B,EAAOG,OAAO69B,OAAOrL,QACrB,GAECsL,EAAWh5B,SAASoF,MAAMqoB,SAAS,SAASvsB,GAG/C,GAFAy3B,EAAY,GAGI,UAAfz3B,EAAM1I,MACmB,KAAzB0I,EAAM/C,KAAKwmB,EAAE9hB,SACb9H,EAAOG,OAAO+9B,SACb,CACD,IAAI7uB,EAAgBrP,EAAOq3B,mBAEvBhoB,GACHrP,EAAOwD,KAAK,oBAAqB,CAChCulB,YAAa5iB,EAAM/C,KAAKwmB,EACxBva,cAAeA,MAIhB0uB,GAECI,EAAal5B,SAASoF,MAAMqoB,SAAS,SAAS0L,GACjDP,EAAYQ,UAAYT,EAAU/kB,KAAK,OACrCklB,GAECO,EAAmBr5B,SAASoF,MAAMqoB,SAAS,SAASvsB,GAKvD,IAJA,IAAIo4B,EAAY93B,SAASyC,iBAAiB,UAEtCs1B,SAEKthC,EAAI,EAAGA,EAAIqhC,EAAUz7B,OAAQ5F,IACrC,GAAIqhC,EAAUrhC,GAAG4S,SAAS3J,EAAM/C,KAAKwmB,EAAE6U,eAAgB,CACtDD,GAAQ,EACR,MAIGA,GACJP,EAAS93B,IAER43B,GAEH/9B,EAAOutB,GAAG,aAAc,SAASpnB,GAOhCy3B,EAAUn0B,KAAKtD,EAAM/C,KAAKs7B,SAE1BP,MAGDn+B,EAAOwsB,KAAK,aAAc,WACzB,IAAIb,EAAW3rB,EAAO2rB,WAEhBgT,EAAehT,EAASiT,eAC7BjT,EACA,QACA,SAASxlB,GACRw4B,EAAaE,iBAEblT,EAASiT,eAAejT,EAAU,QAASsS,GAC3CtS,EAASiT,eAAejT,EAAU,UAAWsS,GAC7CtS,EAASiT,eACRjT,EACA,aACA2S,GAGDL,EAAS93B,OAKZnG,EAAOutB,GAAG,UAAW,SAAS6Q,GAC7BP,EAAY9N,WAAWC,YAAY6N,GAEnCI,EAASjL,YAaX8K,mBAAoB,SAAS9xB,GAC5B,IAAI8yB,EAAgBr4B,SAAS7G,cAAc,OAU3C,OARAk/B,EAAct/B,UAAY,aAE1Bs/B,EAAcp2B,aAAa,YAAa,UACxCo2B,EAAcp2B,aAAa,OAAQ,UACnCo2B,EAAcp2B,aAAa,KAAMsD,EAAK,cAEtCvF,SAASqV,KAAKwV,YAAYwN,GAEnBA,mCC9KV,IAAIC,EAAO95B,SAAS+Q,IAAIC,GAEnBhR,SAAS6gB,QAAQ/nB,IAAI,iBA6BzBkH,SAAS6gB,QAAQyM,IAAI,eAAgB,CAUpCsG,KAAM,SAAS74B,GACdA,EAAOwsB,KACN,aACA,WACC,IAAIb,EAAW3rB,EAAO2rB,WAEtBA,EAASiT,eACRjT,EACA,YACAjqB,KAAKs9B,aACLt9B,KACA,CACC1B,OAAQA,IAIV2rB,EAASiT,eACRjT,EACA,WACAjqB,KAAKu9B,YACLv9B,KACA,CACC1B,OAAQA,IAIV2rB,EAASiT,eACRjT,EACA,OACAjqB,KAAKw9B,YACLx9B,KACA,CACC1B,OAAQA,IAIV2rB,EAASiT,eACRjT,EACA,QACAjqB,KAAKy9B,SACLz9B,KACA,CACC1B,OAAQA,KAGTtB,KAAKgD,QAgBT09B,aAAc,SAASC,EAAOr/B,GAC7B,IAAIs/B,SACApiC,SAEAqiC,EAAa,GAEjB,IAAKriC,EAAI,EAAGA,EAAImiC,EAAMv8B,OAAQ5F,IAC7BoiC,EAAOD,EAAMniC,GAEsB,IAA/BoiC,EAAKp4B,KAAKN,QAAQ,UACrB24B,EAAW91B,KAAK61B,GAIlB,IAAIllB,EAASpa,EAAOwD,KAAK,iBAAkB,CAC1C+7B,WAAYA,IAGb,GAAInlB,EACH,IAAKld,EAAI,EAAGA,EAAIqiC,EAAWz8B,OAAQ5F,IAClCoiC,EAAOC,EAAWriC,GAElBwE,KAAK89B,aAAaF,EAAMt/B,GAI1B,OAAO,GAcRk/B,YAAa,SAAS/4B,GACrB,IAAI4iB,EAAc5iB,EAAM/C,KAAKwmB,EAEzB6V,EAAgB1W,EAAY2W,aAAaL,MAE7C,GAAII,EAAc38B,OAAS,EAAG,CAC7B,IAAImC,SAASwX,IAAItW,MAAM4iB,GAAajiB,iBAEpC,IAAI9G,EAASmG,EAAM0qB,aAAa7wB,OAEhCmG,EAAM0qB,aAAa7wB,OAAOg2B,yBACzBjN,EAAY4W,QACZ5W,EAAY6W,SAGbl+B,KAAK09B,aAAaK,EAAez/B,KAanCg/B,aAAc,SAAS74B,GAClB44B,GACHr9B,KAAKm+B,cAAc15B,IAarB84B,YAAa,SAAS94B,GACjB44B,GACHr9B,KAAKm+B,cAAc15B,IAcrBg5B,SAAU,SAASh5B,GAClB,GACCA,EAAM/C,MACN+C,EAAM/C,KAAKwmB,GACXzjB,EAAM/C,KAAKwmB,EAAEkW,eACb35B,EAAM/C,KAAKwmB,EAAEkW,cAAc1zB,OAC3BjG,EAAM/C,KAAKwmB,EAAEkW,cAAc1zB,MAAMtJ,OAAS,EACzC,CACD,IAAIi9B,EAAa55B,EAAM/C,KAAKwmB,EAAEkW,cAAc1zB,MAAM,GAElD,GAAyC,IAArC2zB,EAAW74B,KAAKN,QAAQ,SAAgB,CAC3C,IAAIo5B,EAAYD,EAAWE,YAE3Bv+B,KAAK89B,aAAaQ,EAAW75B,EAAM0qB,aAAa7wB,WAcnD6/B,cAAe,SAAS15B,GACvBA,EAAQ,IAAIlB,SAASwX,IAAItW,MAAMA,EAAM/C,KAAKwmB,GAE1CzjB,EAAMW,iBACNX,EAAMU,mBAcP24B,aAAc,SAASF,EAAMt/B,GAC5B,IAAIkgC,EAAS,IAAIC,WAEjBD,EAAOngB,iBAAiB,UAAW,WAClC,IAAIqgB,EAAMF,EAAO9lB,OAEboF,EAAKva,SAASwX,IAAIpU,QAAQoX,eAC7B,aAAe2gB,EAAM,MAGtBpgC,EAAO0f,cAAcF,GAErB,IAAI6gB,EAAY,CACf7gB,GAAIA,EACJ8f,KAAMA,GAGPt/B,EAAOwD,KAAK,WAAY68B,KAGzBH,EAAOI,cAAchB,oCC1QxB,IAAKr6B,SAAS6gB,QAAQ/nB,IAAI,eAAgB,CAGrC,uCAAuC+c,KAAKqF,UAAUogB,YACzD95B,SAAStD,YAAY,iBAAiB,GAAO,GAG9C,IAAIq9B,EAAW,EAEXC,EAAY,IAEZpf,EAAY,GAEZqf,EAAgB,IAEhBC,EAAY,GAEZC,EAAa,CAACH,EAAWpf,EAAWqf,EAAeC,GAEnDE,EAAkB,YAElBC,EACH,gOAEGC,EAAc,iDAQlB97B,SAAS6gB,QAAQyM,IAAI,cAAe,CAUnCsG,KAAM,SAAS74B,GACdA,EAAOwsB,KACN,aACA,WACC,IAAIb,EAAW3rB,EAAO2rB,WAEtBA,EAASiT,eACRjT,EACA,QACAjqB,KAAKs/B,SACLt/B,KACA,CACC1B,OAAQA,KAGTtB,KAAKgD,OAGR1B,EAAOutB,GACN,QACA,SAASpnB,GACR,GAA0B,UAAtBA,EAAM/C,KAAK69B,OAAoB,CAClC,GACC96B,EAAM/C,KAAK89B,UAAUt6B,QAAQ,MAAQ,GACrCT,EAAM/C,KAAK89B,UAAUt6B,QAAQ,SAAW,EAYxC,YATCT,EAAM/C,KAAK89B,UAAUt6B,QACpB,qBACI,IAELT,EAAM/C,KAAK89B,UAAY/6B,EAAM/C,KAAK89B,UAAU7R,QAC3C,0CACA,MAMH,IAAIxY,EAAWnV,KAEfyE,EAAM/C,KAAK89B,UAAY/6B,EAAM/C,KAAK89B,UAAU7R,QAC3C8R,OAAOL,EAAW,OAClB,SAASrf,GACR,GAAI5K,EAASuqB,YAAY3f,GACxB,OAAI5K,EAASwqB,cAAc5f,GAEzB,mBACAA,EACA,KACAA,EACA,OAIA,YACAA,EACA,KACAA,EACA,WAOL/iB,KAAKgD,QAcT4/B,aAAc,SAASthC,GACtB,IAAI4O,EAAQ5O,EAAOuO,eAAeyB,YAAY,GAE1CwjB,EAAS5kB,EAAMM,YAEfqyB,EAAe,GAGnB,GAAI7/B,KAAK8/B,kBAAoBngB,EAAW,CACvC,IAAIogB,EAAe7yB,EAAMI,eAAe0yB,cAEpCC,SAEJ,GAAIF,EAAc,CAGjB,OAAQA,EAAaG,QACpBH,EAAeA,EAAaC,cAG7BC,EAAYF,EAAaG,UAKzB,MAAOD,IAAcA,EAAU9yB,UAC9B8yB,EAAYA,EAAUD,cAKlBC,GAAaA,EAAU/X,EAAEnpB,OAC9BiB,KAAKmgC,gBAAkBF,EACvBJ,EAAeI,EAAYA,EAAU9yB,UAAY,GACjDnN,KAAKogC,QAAUP,EAAaz+B,aAG7BpB,KAAKmgC,gBAAkBjzB,EAAMI,eAG7BuyB,EAAe7/B,KAAKmgC,gBAClBhzB,UACAkzB,UAAU,EAAGvO,EAAS,GAExB9xB,KAAKogC,QAAUtO,EAAS,EAGzB,IAAIwO,EAAW,GAEX5V,EAAQmV,EAAanV,MAAMyU,GAM/B,OAJIzU,IACH4V,EAAW5V,EAAM6V,OAGXD,GAaRX,cAAe,SAASa,GACvB,OAAOnB,EAAYjmB,KAAKonB,IAazBd,YAAa,SAASjwB,GACrB,OAAOgwB,OAAOL,EAAW,KAAKhmB,KAAK3J,IAapCgxB,WAAY,SAASh8B,GACpB,IAAI4iB,EAAc5iB,EAAM/C,KAAKwmB,EAEzB5pB,EAASmG,EAAM0qB,aAAa7wB,OAE5B2rB,EAAW3rB,EAAO2rB,WAEtBA,EAASkT,eAAe,UAAWn9B,KAAKygC,YAEpCpZ,EAAYjhB,UAAY04B,IAC3Br6B,EAAMm3B,SACNn3B,EAAM/C,KAAK0D,iBAEXpF,KAAK8R,YAAYxT,IAGlB0B,KAAK0gC,QAAU,MAahBpB,SAAU,SAAS76B,GAClB,IAAI4iB,EAAc5iB,EAAM/C,KAAKwmB,EAI7B,GAFAloB,KAAK8/B,gBAAkBzY,EAAYjhB,SAEe,IAA9C84B,EAAWh6B,QAAQlF,KAAK8/B,iBAAyB,CACpD,IAAIxhC,EAASmG,EAAM0qB,aAAa7wB,OAE5BgiC,EAAWtgC,KAAK4/B,aAAathC,GAE7B0B,KAAK0/B,YAAYY,IACpBtgC,KAAK2gC,sBAAsBriC,EAAQgiC,KAetCK,sBAAuB,SAASriC,EAAQsiC,GACvC,IAAI1zB,EAAQ5O,EAAO02B,cACf9K,EAAO3mB,SAASwX,IAAIpU,QAAQtK,IAAI2D,KAAKmgC,iBACrCrO,EAAS9xB,KAAKogC,QAGlBlzB,EAAM6kB,SAAS7H,EAAM4H,EAAS8O,EAAQx/B,QACtC8L,EAAM8kB,OAAO9H,EAAM4H,GACnB5kB,EAAMulB,SAEN,IAAIoO,EAAS,IAAIt9B,SAASgL,KAAKjQ,GAC/BuiC,EAAO/jC,OAAO8jC,GACd5gC,KAAK0gC,QAAUG,EAEf,IAAIC,EAAWD,EAAOryB,mBAWtB,GAVAlQ,EAAOwD,KAAK,cAAeg/B,GAE3B9gC,KAAK+gC,qBAAqBziC,GAI1B4O,EAAQ5O,EAAOuO,eAAeyB,YAAY,GAItCtO,KAAK8/B,kBAAoBngB,EAAW,CACvC,IAAIqhB,EAAmB9zB,EAAM0kB,sBAE7B1kB,EAAM6kB,SAASiP,EAAkB,GACjC9zB,EAAM8kB,OAAOgP,EAAkB,OACzB,CACN,IAAIC,EAAe/zB,EAAMg0B,kBAEzBh0B,EAAM6kB,SAASkP,EAAc,GAC7B/zB,EAAM8kB,OAAOiP,EAAc,GAG5B/zB,EAAMulB,UAmBP3gB,YAAa,SAASxT,GACrB,IAAI4O,EAAQ5O,EAAOuO,eAAeyB,YAAY,GAC1C6yB,EAAcj0B,EAAMM,YAGpBszB,EACH9gC,KAAKmgC,gBAAgBiB,WAAaphC,KAAKmgC,gBAEpCkB,EAAW/iC,EAAO02B,cACtBqM,EAAStP,SAAS+O,EAAU,GAC5BO,EAASC,YAAYR,GACrBO,EAAS5O,SAETzyB,KAAK0gC,QAAQvuB,SAGbjF,EAAM8kB,OAAO9kB,EAAMI,eAAgB6zB,GACnCj0B,EAAM6kB,SAAS7kB,EAAMI,eAAgB6zB,GAErCj0B,EAAMulB,UAWPsO,qBAAsB,SAASziC,GAC9B,IAAI2rB,EAAW3rB,EAAO2rB,WAKtBA,EAASiT,eACRjT,EACA,UACAjqB,KAAKygC,WACLzgC,KACA,CACC1B,OAAQA,GAET,qCCrXJ,IAAKiF,SAAS6gB,QAAQ/nB,IAAI,eAAgB,CACzC,IAAIyiC,EAAW,EAEXG,EAAY,GAEZsC,EAAiB,CACpB,CACCC,MAAO,OACPh8B,KAAM,gBAEP,CACCg8B,MAAO,QACPh8B,KAAM,iBAURjC,SAAS6gB,QAAQyM,IAAI,cAAe,CAUnCsG,KAAM,SAAS74B,GACdA,EAAOwsB,KACN,aACA,WACC,IAAIb,EAAW3rB,EAAO2rB,WAEtBA,EAASiT,eACRjT,EACA,UACAjqB,KAAKygC,WACLzgC,KACA,CACC1B,OAAQA,KAGTtB,KAAKgD,QAaTyhC,0BAA2B,SAASh9B,GACnC,IAAInG,EAASmG,EAAM0qB,aAAa7wB,OAE5B+oB,EAAc5iB,EAAM/C,KAAKwmB,EAEzB+B,EAAW3rB,EAAO2rB,WAEtBA,EAASkT,eAAe,UAAWn9B,KAAKyhC,2BAEpCpa,EAAYjhB,UAAY04B,IAC3BxgC,EAAOmD,YAAY,QACnBnD,EAAOojC,WAAWj9B,EAAM0qB,aAAawS,OAAS,UAC9Cl9B,EAAM/C,KAAK0D,mBAcbw8B,eAAgB,SAAStjC,GACxB,IAAIujC,EAAcvjC,EAAOG,OAAOqjC,UAAYP,EAExCr0B,EAAQ5O,EAAOuO,eAAeyB,YAAY,GAE1CyzB,EAAgB70B,EAAMK,aAAaJ,UAEnCw0B,EAASI,EAAc1B,UAAU,EAAGnzB,EAAMM,aAE1CkC,EAAOqyB,EAAc1B,UACxBnzB,EAAMM,YACNu0B,EAAc3gC,QAGXgH,EAAQ,EAER45B,EAAWH,EAAYzgC,OAEvB6gC,EAAc,KAElB,OAAQA,GAAeD,EAAW55B,EAAO,CACxC,IAAI85B,EAAYL,EAAYz5B,GAE5B,GAAI85B,EAAUV,MAAMpoB,KAAKuoB,GAAS,CACjCM,EAAc,CACbN,OAAQA,EACRrjC,OAAQA,EACRoR,KAAMA,EACNlK,KAAM08B,EAAU18B,MAGjB,MAGD4C,IAGD,OAAO65B,GAYRE,YAAa,SAASC,GACrB,IAAI9jC,EAAS8jC,EAAW9jC,OAEpB4O,EAAQ5O,EAAOuO,eAAeyB,YAAY,GAE9CpB,EAAMK,aAAa80B,QAAQD,EAAW1yB,MACtCpR,EAAOmD,YAAY2gC,EAAW58B,MAE9B,IAAIykB,EAAW3rB,EAAO2rB,WAItBA,EAASiT,eACRjT,EACA,UACAjqB,KAAKyhC,0BACLzhC,KACA,CACC1B,OAAQA,EACRqjC,OAAQS,EAAWT,QAEpB,IAcFlB,WAAY,SAASh8B,GACpB,IAAI4iB,EAAc5iB,EAAM/C,KAAKwmB,EAE7B,GAAIb,EAAYjhB,UAAY64B,EAAW,CACtC,IAAImD,EAAapiC,KAAK4hC,eAAen9B,EAAM0qB,aAAa7wB,QAEpD8jC,IACH39B,EAAM/C,KAAK0D,iBACXpF,KAAKmiC,YAAYC,uCC1KtB,IAAK7+B,SAAS6gB,QAAQ/nB,IAAI,iBAAkB,CAC3C,IAAIimC,EAAgB,CACnBC,KAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACjDzjC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACvC0jC,MAAO,CAAC,KAAM,KAAM,KAAM,MAC1B3jC,MAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,OAGnC4jC,EAAsB,CACzBC,GAAI,SAASC,EAAQ9oB,EAAMC,EAAK8oB,GAC/BC,EAAgBF,GAAS,EAAI9oB,EAAM+oB,EAAI9jC,OAAS,EAAIgb,IAErDgpB,GAAI,SAASH,EAAQ9oB,EAAMC,EAAK8oB,GAC/BC,EACCF,EACA17B,KAAK87B,MAAMH,EAAI/jC,MAAQ,GAAK,EAAIgb,EAChC+oB,EAAI9jC,OAAS,EAAIgb,IAGnBkpB,GAAI,SAASL,EAAQ9oB,EAAMC,EAAK8oB,GAC/BC,EAAgBF,EAAQC,EAAI/jC,MAAQ,EAAIgb,EAAM+oB,EAAI9jC,OAAS,EAAIgb,IAEhEmpB,GAAI,SAASN,EAAQ9oB,EAAMC,EAAK8oB,GAC/BC,EACCF,GACC,EAAI9oB,EACL5S,KAAK87B,MAAMH,EAAI9jC,OAAS,GAAK,EAAIgb,IAGnCopB,GAAI,SAASP,EAAQ9oB,EAAMC,EAAKqpB,GAC/BN,EAAgBF,EAAQ9oB,EAAO,EAAGC,EAAM,IAEzCspB,GAAI,SAAST,EAAQ9oB,EAAMC,EAAK8oB,GAC/BC,EACCF,EACA17B,KAAK87B,MAAMH,EAAI/jC,MAAQ,GAAK,EAAIgb,GAC/B,EAAIC,IAGP8d,GAAI,SAAS+K,EAAQ9oB,EAAMC,EAAK8oB,GAC/BC,EAAgBF,EAAQC,EAAI/jC,MAAQ,EAAIgb,GAAO,EAAIC,IAEpDupB,GAAI,SAASV,EAAQ9oB,EAAMC,EAAK8oB,GAC/BC,EACCF,EACAC,EAAI/jC,MAAQ,EAAIgb,EAChB5S,KAAK87B,MAAMH,EAAI9jC,OAAS,GAAK,EAAIgb,KAKhCwpB,EAAqB,EAErBC,EAAY,kBAAmBx+B,SAASy+B,gBAAgBvgC,MAExDwgC,EAAW,qBAAsB1+B,SAASy+B,gBAAgBvgC,MAE1DygC,EAAeD,GAAYF,EA6B/B,SAASpM,EAAK74B,GACb,IAAI+W,EAAS/W,EAAO+W,OAAO6S,EAEvBnjB,EAAWzG,EAAOyG,SAASmjB,EAE3Bqb,GAEHx+B,EAAStD,YAAY,wBAAwB,GAAO,GAGrD,IAAIkiC,EAC2B,qBAAvBL,EACJ,KACAA,EAEJhlC,EAAOG,OAAOmlC,iBACbtlC,EAAOG,OAAOmlC,kBAAoB,OAEnC,IAAIC,EAAU,IAAIC,EAAQxlC,EAAQ,CACjCslC,iBAAkBtlC,EAAOG,OAAOmlC,iBAChCD,WAAYA,IAGTI,EAAoB,SAASC,GAC5BH,EAAQI,SAASD,EAAEr/B,SACtBk/B,EAAQK,SAASF,IAMnB,SAASniC,IACR,IAAImQ,EAAY1T,EAAOuO,eAElBmF,IAGJA,EAAUkkB,YAAc3yB,SAAS4yB,gBACjCnkB,EAAUkhB,kBAAkBR,GAAG,OAI7Brd,EAAO5Q,OACP4Q,EAAO5Q,MAAMwhB,QACU,IAAxB5Q,EAAO5Q,MAAMwhB,QAEb4d,EAAQM,KAAKnyB,EAAUkhB,kBAAkBhL,GAG1C2b,EAAQO,QApBVr/B,EAASsZ,iBAAiB,YAAa0lB,GAAmB,GAwB1DzlC,EAAOutB,GAAG,kBAAmBhqB,GAE7BvD,EAAOutB,GAAG,UAAW,SAASmY,GAC7B,IAAIK,EAAOL,EAAEtiC,KAAK89B,WAAa,GAC/B6E,EAAOA,EAAK1W,QAAQ,uCAAwC,IAC5D0W,EAAOA,EAAK1W,QAAQ,kBAAmB,IACvCqW,EAAEtiC,KAAK89B,UAAY6E,IAGpB/lC,EAAOutB,GAAG,kBAAmB,WAE5BgY,EAAQO,SAGT9lC,EAAOutB,GAAG,iBAAkB,WAE3BhqB,MAGDvD,EAAOutB,GAAG,OAAQ,WAEjBgY,EAAQO,SAGT9lC,EAAOutB,GAAG,mBAAoB,SAASyY,IACtChmC,EAAO6+B,eAAe,mBAAoBmH,GAC1CT,EAAQO,SAGT9lC,EAAOutB,GAAG,UAAW,WACpB,IAAI0Y,EAAgBx/B,EAASqrB,eAAe,YAExCmU,GACHA,EAAcpyB,SAGXoxB,GACHx+B,EAAStD,YAAY,wBAAwB,GAAO,GAGrDsD,EAASy/B,oBAAoB,YAAaT,KAI3C,IAAIU,SACJnmC,EAAO+W,OAAOwW,GAAG,SAAU,WAE1BvK,aAAamjB,GAEbA,EAAgBlvB,WAAW1T,EAAiB,MAI9C,SAASiiC,EAAQxlC,EAAQioB,GACxBvmB,KAAK1B,OAASA,EACd0B,KAAKqV,OAAS/W,EAAO+W,OAAO6S,EAC5BloB,KAAK+E,SAAWzG,EAAOyG,SAASmjB,EAChCloB,KAAKumB,IAAMA,GAAO,GAClBvmB,KAAKm3B,OAyON,SAASuN,EAAUrvB,EAAQtQ,GAC1B/E,KAAKqV,OAASA,EACdrV,KAAK+E,SAAWA,EAChB/E,KAAK2kC,OAAS,CACbC,UAAW5nC,EAAKgD,KAAK4kC,UAAW5kC,MAChC6kC,QAAS7nC,EAAKgD,KAAK6kC,QAAS7kC,MAC5B8kC,QAAS9nC,EAAKgD,KAAK8kC,QAAS9kC,OA2E9B,SAAS+kC,EAAQt0B,GAIhB,IAHA,IAAIu0B,EAAMv0B,EAAIrP,OAEV6jC,EAAM,IAAI3jC,MAAM0jC,GACXxpC,EAAI,EAAGA,EAAIwpC,EAAKxpC,IACxBypC,EAAIzpC,GAAKiV,EAAIjV,GAEd,OAAOypC,EAGR,SAASjoC,EAAK4M,EAAIs7B,GACjB,OAAIt7B,EAAG5M,KACC4M,EAAG5M,KAAKkoC,GAET,WAAkB,QAAA/jC,EAAAd,UAAAe,OAANC,EAAMC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAANF,EAAME,GAAAlB,UAAAkB,GACxBqI,EAAGxJ,MAAM8kC,EAAK7jC,IAIhB,SAASwhC,EAAgB/kB,EAAIjE,EAAMC,GAClCgE,EAAG7a,MAAM4W,KAAO/C,OAAO+C,GAAQ,KAC/BiE,EAAG7a,MAAM6W,IAAMhD,OAAOgD,GAAO,KAG9B,SAASyqB,EAAczmB,EAAIjf,EAAOC,GACjC,IAAI8kC,EAAmB5jC,KAAK1B,OAAOG,OAAOmlC,iBACjB,SAArBA,GACH9lB,EAAG7a,MAAMpE,MAAQiY,OAAOjY,GAAS,KACjCif,EAAG7a,MAAMnE,OAASgY,OAAOhY,GAAU,MAEd,UAArB8kC,GACqB,UAArBA,GAEA9lB,EAAG7a,MAAMnE,OAAS,OAClBgf,EAAG7a,MAAMpE,MAAQiY,OAAOjY,GAAS,MACF,WAArB+kC,IACV9lB,EAAG7a,MAAMnE,OAASgY,OAAOhY,GAAU,KACnCgf,EAAG7a,MAAMpE,MAAQ,QAInB,SAASsmC,EAAe9vB,EAAQyI,GAC/B,IAAI7D,EAAO6D,EAAGsnB,wBACd,MAAO,CACNvrB,KAAMI,EAAKJ,KAAOxE,EAAOgwB,YACzBvrB,IAAKG,EAAKH,IAAMzE,EAAOiwB,YACvBzmC,MAAOob,EAAKpb,MACZC,OAAQmb,EAAKnb,QAnfX4kC,GAEHngC,SAASgiC,OACR,4gCAOFhiC,SAAS6gB,QAAQyM,IAAI,gBAAiB,CACrC2U,OAAQ,aAKRrO,KAAM,SAAS74B,GACTolC,GAILplC,EAAOwsB,KAAK,aAAc,SAAS2a,GAClCtO,EAAK74B,QAuHRwlC,EAAQ1mC,UAAY,CACnB+5B,KAAM,WACL,IAAIhiB,EAAWnV,KAEX0lC,EAAa1lC,KAAK0lC,UAAY1lC,KAAK+E,SAAS7G,cAC/C,OAGDwnC,EAAUp7B,GAAK,WACftK,KAAK2lC,QAAU3lC,KAAK+E,SAAS7G,cAAc,QAC3CwnC,EAAU9V,YAAY5vB,KAAK2lC,SAE3B,IAAIC,EAAW5lC,KAAK4lC,QAAU,GAU9B,IAAK,IAAI3oC,KARTqlC,EAActiC,KAAKumB,IAAIqd,kBAAkBj8B,QAAQ,SAChDk+B,GAEAD,EAAQC,GAAc1wB,EAASywB,QAC9BC,GACG1wB,EAAS2wB,aAAaD,KAGbD,EACTA,EAAQvoC,eAAeJ,IAC1ByoC,EAAU9V,YAAYgW,EAAQ3oC,KAIjC6oC,aAAc,SAAS/pC,GACtB,IAAI+hB,EAAK9d,KAAK+E,SAAS7G,cAAc,KAErC,OADA4f,EAAGioB,UAAUlV,IAAI90B,GACV+hB,GAERmmB,SAAU,SAASnmB,GAClB,IAAI8nB,EAAU5lC,KAAK4lC,QACnB,IAAK,IAAI3oC,KAAK2oC,EACb,GAAIA,EAAQ3oC,KAAO6gB,EAClB,OAAO,EAGT,OAAO,GAERqmB,KAAM,SAASrmB,GACd,IAAI3D,EAASna,KAAK1B,OAAOG,OAAO0b,OAE5B2B,EAAY3B,EAASA,EAAO2B,UAAY,EAE5C9b,KAAK8d,GAAKA,EACN9d,KAAKumB,IAAIod,aACZ3jC,KAAKgmC,YAAcjB,EAClB/kC,KAAK+E,SAAS0lB,qBAAqB,QAEpCzqB,KAAKgmC,YAAYC,OAAOjmC,KAAKgmC,YAAY9gC,QAAQ4Y,GAAK,IAEvD,IAAI8kB,EAAO5iC,KAAK4iC,IAAMuC,EAAenlC,KAAKqV,OAAQyI,GAClD+kB,EAAgB7iC,KAAK0lC,UAAW9C,EAAI/oB,KAAM+oB,EAAI9oB,IAAMgC,GAEpD3B,EAASA,GAAUpV,SAASqV,KAE5BD,EAAOyV,YAAY5vB,KAAK0lC,WAExB1lC,KAAK8d,GAAGioB,UAAUlV,IAAI,YACtB7wB,KAAKkmC,eAEN9B,KAAM,WAGL,IADA,IAAI+B,EAAWnmC,KAAK+E,SAASqhC,uBAAuB,YAC3C5qC,EAAI,EAAGA,EAAI2qC,EAAS/kC,SAAU5F,EACtC2qC,EAAS3qC,GAAGuqC,UAAU5zB,OAAO,YAE9BnS,KAAKqmC,cACDrmC,KAAK0lC,UAAUrX,YAClBruB,KAAK0lC,UAAUrX,WAAWC,YAAYtuB,KAAK0lC,YAG7CxB,SAAU,SAASF,GAClB,GAAiB,IAAbA,EAAE/d,OAAN,CAIA,IAAI4d,EAAU7jC,KACVsmC,EAAO,IAAI5B,EAAU1kC,KAAKqV,OAAQrV,KAAK+E,UAC3CuhC,EAAKC,QAAU,WACd1C,EAAQ2C,cACR3C,EAAQ4C,YAAa,EACrB5C,EAAQvlC,OAAOuO,eAAeC,QAE/Bw5B,EAAKI,OAAS,WACb7C,EAAQ8C,cAAc3mC,MACtB6jC,EAAQ+C,gBACR,IAAIhE,EAAMiB,EAAQgD,WAClBhD,EAAQiD,cAAclE,EAAKA,EAAI/oB,KAAM+oB,EAAI9oB,MAE1CwsB,EAAKS,UAAY,WAChBlD,EAAQ4C,YAAa,EACrB5C,EAAQmD,cACRnD,EAAQO,OACRP,EAAQvlC,OAAOuO,eAAeG,SAE9B62B,EAAQvlC,OAAOwD,KAAK,iBAErBwkC,EAAKW,WAAa,WACjBpD,EAAQqD,iBAERrD,EAAQvlC,OAAOwD,KAAK,iBAErBwkC,EAAKzR,MAAMmP,KAEZ8C,cAAe,SAASlE,EAAK/oB,EAAMC,GAClCD,EAAOA,GAAQ,EACfC,EAAMA,GAAO,EACb,IAAI8rB,EAAU5lC,KAAK4lC,QAEnB,IAAK,IAAIjD,KAAUiD,EACdA,EAAQvoC,eAAeslC,IAC1BF,EAAoBE,GACnBiD,EAAQjD,GACR9oB,EACAC,EACA8oB,IAKJsD,YAAa,WACZ,IAAIN,EAAU5lC,KAAK4lC,QAEnB,IAAK,IAAI3oC,KADT+C,KAAK8mC,cAAc9mC,KAAK4iC,KACVgD,EACTA,EAAQvoC,eAAeJ,KAC1B2oC,EAAQ3oC,GAAGgG,MAAMwyB,QAAU,UAI9B4Q,YAAa,WACZ,IAAIT,EAAU5lC,KAAK4lC,QACnB,IAAK,IAAI3oC,KAAK2oC,EACTA,EAAQvoC,eAAeJ,KAC1B2oC,EAAQ3oC,GAAGgG,MAAMwyB,QAAU,SAI9B+Q,YAAa,WACZxmC,KAAK2lC,QAAQ1iC,MAAMkkC,gBAAkB,QAAUnnC,KAAK8d,GAAG6M,IAAM,KAC7D3qB,KAAK2mC,gBACL3mC,KAAK4mC,gBACL5mC,KAAK2lC,QAAQ1iC,MAAMwyB,QAAU,SAE9BmR,cAAe,WACd,IAAIhE,EAAM5iC,KAAK6mC,WACfhE,EAAgB7iC,KAAK2lC,QAAS/C,EAAI/oB,KAAM+oB,EAAI9oB,KAC5C9Z,KAAK2lC,QAAQ1iC,MAAMpE,MAAQmB,KAAK6mC,WAAWhoC,MAAQ,KACnDmB,KAAK2lC,QAAQ1iC,MAAMnE,OAASkB,KAAK6mC,WAAW/nC,OAAS,MAEtDkoC,YAAa,WACZ,IAAIpE,EAAMuC,EAAenlC,KAAKqV,OAAQrV,KAAK2lC,SAC3C3lC,KAAK0Y,OAAS,CACb7Z,MAAO+jC,EAAI/jC,MACXC,OAAQ8jC,EAAI9jC,QAEbkB,KAAK2lC,QAAQ1iC,MAAMwyB,QAAU,QAE9BkR,cAAe,SAASjlC,GACvB,IAAIkhC,EAAO5iC,KAAK6mC,WAAa,CAC5B/sB,IAAK,EACLD,KAAM,EACNhb,MAAOmB,KAAK4iC,IAAI/jC,MAChBC,OAAQkB,KAAK4iC,IAAI9jC,QAGlB,GAAK4C,EAAL,CAEA,IAAImW,EAAOnW,EAAKiD,OAAO7G,UAevB,IAbK+Z,EAAK3S,QAAQ,OACjB09B,EAAI/jC,MAAQoI,KAAKC,IAAI,GAAIlH,KAAK4iC,IAAI/jC,MAAQ6C,EAAK0lC,MAAMhsB,KAEjDvD,EAAK3S,QAAQ,OACjB09B,EAAI9jC,OAASmI,KAAKC,IAAI,GAAIlH,KAAK4iC,IAAI9jC,OAAS4C,EAAK0lC,MAAM/rB,KAEnDxD,EAAK3S,QAAQ,OACjB09B,EAAI/jC,MAAQoI,KAAKC,IAAI,GAAIlH,KAAK4iC,IAAI/jC,MAAQ6C,EAAK0lC,MAAMhsB,KAEjDvD,EAAK3S,QAAQ,OACjB09B,EAAI9jC,OAASmI,KAAKC,IAAI,GAAIlH,KAAK4iC,IAAI9jC,OAAS4C,EAAK0lC,MAAM/rB,IAGpDxD,EAAK3S,QAAQ,KAAO,IAAMxD,EAAKmE,KAAKxC,MAAO,CAC9C,IAAIgkC,EAAQrnC,KAAK4iC,IAAI/jC,MAAQmB,KAAK4iC,IAAI9jC,OAClC8jC,EAAI/jC,MAAQ+jC,EAAI9jC,OAASuoC,EAC5BzE,EAAI9jC,OAASmI,KAAK87B,MAAMH,EAAI/jC,MAAQwoC,GAEpCzE,EAAI/jC,MAAQoI,KAAK87B,MAAMH,EAAI9jC,OAASuoC,GAItC,IAAI1D,EAAa3jC,KAAKumB,IAAIod,WAE1B,GAAIA,EAEH,IADA,IAAI2D,EAAStnC,KAAKgmC,YACTxqC,EAAI,EAAGA,EAAI8rC,EAAOlmC,OAAQ5F,IAAK,CACvC,IAAI+rC,EAAQpC,EAAenlC,KAAKqV,OAAQiyB,EAAO9rC,IAC/C,GACCyL,KAAK8gB,IAAI6a,EAAI/jC,MAAQ0oC,EAAM1oC,QAAU8kC,GACrC18B,KAAK8gB,IAAI6a,EAAI9jC,OAASyoC,EAAMzoC,SAAW6kC,EACtC,CACDf,EAAI/jC,MAAQ0oC,EAAM1oC,MAClB+jC,EAAI9jC,OAASyoC,EAAMzoC,OACnB,QAME+Y,EAAK3S,QAAQ,OACjB09B,EAAI/oB,KAAO7Z,KAAK4iC,IAAI/jC,MAAQ+jC,EAAI/jC,QAE5BgZ,EAAK3S,QAAQ,OACjB09B,EAAI9oB,IAAM9Z,KAAK4iC,IAAI9jC,OAAS8jC,EAAI9jC,UAGlCooC,eAAgB,WACf3C,EAAc5oC,KACbqE,KACAA,KAAK8d,GACL9d,KAAK0Y,OAAO7Z,MACZmB,KAAK0Y,OAAO5Z,UAef4lC,EAAUtnC,UAAY,CACrBy3B,MAAO,SAASmP,GACfA,EAAE5+B,iBACF4+B,EAAE7+B,kBACFnF,KAAK2E,OAASq/B,EAAEr/B,OAChB3E,KAAK6X,KAAOmsB,EAAEr/B,OAAO7G,UACrBkC,KAAKwnC,SAAW,CACfpsB,EAAG4oB,EAAE/F,QACL5iB,EAAG2oB,EAAE9F,SAENl+B,KAAKyS,OAAOuxB,GACZ,IAAIW,EAAS3kC,KAAK2kC,OAClB3kC,KAAK+E,SAASsZ,iBACb,YACAsmB,EAAOC,WACP,GAED5kC,KAAK+E,SAASsZ,iBAAiB,UAAWsmB,EAAOE,SAAS,GAC1D7kC,KAAK+E,SAASsZ,iBAAiB,UAAWsmB,EAAOG,SAAS,GAC1D9kC,KAAK+E,SAASqV,KAAK2rB,UAAUlV,IAAI,YAAc7wB,KAAK6X,MACpD7X,KAAKumC,SAAWvmC,KAAKumC,WAEtB9zB,OAAQ,SAASuxB,GAChBhkC,KAAKynC,WAAa,CACjBrsB,EAAG4oB,EAAE/F,QACL5iB,EAAG2oB,EAAE9F,SAENl+B,KAAKonC,MAAQ,CACZhsB,EAAG4oB,EAAE/F,QAAUj+B,KAAKwnC,SAASpsB,EAC7BC,EAAG2oB,EAAE9F,QAAUl+B,KAAKwnC,SAASnsB,GAE9Brb,KAAK6F,KAAO,CACXxC,MAAO2gC,EAAE0D,SACTC,KAAM3D,EAAEhV,QACR4Y,IAAK5D,EAAE6D,SAGTjD,UAAW,SAASZ,GACnBhkC,KAAKyS,OAAOuxB,GACZhkC,KAAK0mC,QAAU1mC,KAAK0mC,SACJ,IAAZ1C,EAAE8D,OAEL9nC,KAAK8kC,QAAQd,IAGfa,QAAS,SAASb,GAEC,KAAdA,EAAE59B,SACLpG,KAAK+nC,WAGPjD,QAAS,SAASd,GACjBhkC,KAAKyS,OAAOuxB,GACZhkC,KAAK+nC,UACL/nC,KAAKinC,YAAcjnC,KAAKinC,cAEzBc,QAAS,WACR/nC,KAAK+E,SAASqV,KAAK2rB,UAAU5zB,OAAO,YAAcnS,KAAK6X,MACvD,IAAI8sB,EAAS3kC,KAAK2kC,OAClB3kC,KAAK+E,SAASy/B,oBACb,YACAG,EAAOC,WACP,GAED5kC,KAAK+E,SAASy/B,oBAAoB,UAAWG,EAAOE,SAAS,GAC7D7kC,KAAK+E,SAASy/B,oBAAoB,UAAWG,EAAOG,SAAS,GAC7D9kC,KAAK+mC,WAAa/mC,KAAK+mC,6CC9f1B,IAAKxjC,SAAS6gB,QAAQ/nB,IAAI,oBAAqB,CAC9C,IAAI2rC,EAAgB,CACnBC,OAAQ,EACRpuB,KAAM,EACNgO,MAAO,GAOJqgB,EAAS,CACZ3F,KAAM,cACNzjC,OAAQ,YACR0jC,MAAO,cACP3jC,MAAO,aAGJspC,EAAe,kBAEfC,EAAW,wBAyJf,SAASC,EAAU/pC,GAClBA,EAAOG,OAAOmlC,iBACbtlC,EAAOG,OAAOmlC,kBAAoB,OAEnCtlC,EAAOutB,GAAG,WAAY,SAAS8S,GAC9BrgC,EAAOgqC,QAAQC,OAAO5J,EAAUj9B,KAAKoc,GAAI,WAG1C,IAAI0qB,EAAelqC,EAAOG,OAAOgqC,oBAE7BC,EAAiBpqC,EAAOG,OAAOkqC,sBAEnC,MAAO,CACNxR,KAAM,WACL,IAAIyR,EAAUrlC,SAAS6gB,QAAQykB,OAE3Br5B,EAAQxP,KAAKkD,MAAMsM,MAEnB9N,EAAO,CACVkmC,IAAKp4B,EAAM1H,aAAa,QAAU,GAClCghC,aAAc9oC,KAAKkD,MAAM6lC,QACzBjqC,OAAQ0Q,EAAM1H,aAAa,WAAa,GAExCgF,MAAM9M,KAAKgpC,OACRJ,EAAQK,qBAAqBz5B,GAEhCmb,IAAKnb,EAAM1H,aAAa,OACxBjJ,MAAO2Q,EAAM1H,aAAa,UAAY,IAMnC2H,EAAOD,EAAM0Q,aAAa,KAU9B,GARIzQ,GAAQzP,KAAKkpC,QAAQ96B,SAASqB,KACjCzP,KAAKkD,MAAMuM,KAAOA,IAOd/N,EAAKynC,MAAO,CAChB,IAAIC,EAAe1nC,EAAKonC,WAAa9oC,KAAK2G,QAAU6I,EAGhDg5B,GACCY,EAAajpB,SAASqoB,EAAa,IACtC9mC,EAAKynC,MAAQ,OACHC,EAAajpB,SAASqoB,EAAa,MAC7C9mC,EAAKynC,MAAQ,SAGVznC,EAAKynC,MACRC,EAAazgB,YACZ6f,EAAaR,EAActmC,EAAKynC,SAGjCznC,EAAKynC,MAAQ,SAKdznC,EAAKynC,MAAQC,EAAa3lC,SAAS,UAAY,OAC/C2lC,EAAar8B,YAAY,UAM3B/M,KAAKkpC,SAASxnC,EAAKonC,WAAa,SAAW,OAAS,SACnD,uBAGD9oC,KAAKqpC,QAAQ3nC,IAE+B,IAAxCpD,EAAOG,OAAO6qC,uBACjBC,EAAavpC,OAMf6oB,SAAU,SAAS/qB,GAClB0rC,EAAoBxpC,MAAM6oB,SAAS/qB,IAGpCivB,eAAgB0c,EAAwBnrC,GAGxCorC,uBAAwB,CAAC,CAAC,gCAE1BhoC,KAAM,WACL,IAAIioC,EAAW3pC,KAAK2pC,SA+CpB,GA3CC3pC,KAAK0B,KAAKonC,aACTxqC,EAAOkS,OAAOo5B,aAAaD,EAASZ,WAErC/oC,KAAK0B,KAAKonC,YAAa,GAKJ,QAAnB9oC,KAAK0B,KAAKynC,OACT7qC,EAAOkS,OAAOo5B,aAAaD,EAASR,SAErCnpC,KAAK0B,KAAKynC,MAAQ,QAKdnpC,KAAK0B,KAAK+N,KAKTzP,KAAKkD,MAAMuM,OACfzP,KAAKkD,MAAMuM,KAAOzP,KAAKkD,MAAMsM,MAAMwpB,aALhCh5B,KAAKkD,MAAMuM,aACPzP,KAAKkD,MAAMuM,KAQpBzP,KAAKkD,MAAMsM,MAAM4jB,cAAc,CAC9BwU,IAAK5nC,KAAK0B,KAAKkmC,IAEfiC,iBAAiB7pC,KAAKkD,MAAMsM,MAAM1H,aACjC,oBAEE9H,KAAKkD,MAAMsM,MAAM1H,aAAa,mBAIjCgiC,qBAAsB9pC,KAAK0B,KAAKipB,IAEhCA,IAAK3qB,KAAK0B,KAAKipB,MAMf3qB,KAAK+pC,UACJ/pC,KAAK+pC,QAAQjB,YACd9oC,KAAK0B,KAAKonC,WAEV,IAAK,IAAIjtC,KAAKmE,KAAK0B,KAAKsoC,QACnBhqC,KAAK0B,KAAKsoC,QAAQ3sC,eAAexB,IACpCmE,KAAKkD,MAAMsM,MAAMmZ,YAAY9sB,GAO5ByC,EAAOkS,OAAOo5B,aAAaD,EAASM,YACvCC,EAAclqC,MAIfA,KAAK+pC,QAAUxmC,SAASoF,MAAMgH,OAAO,GAAI3P,KAAK0B,OAG/CyoC,SAAUC,EAAsB9rC,GAEhC+rC,WAAW,EAGXC,UAAW,CACVvB,QAAS,CACRwB,SAAU,aACVxd,eAAgB,8CAIlB4c,SAAUa,EAAkBlsC,GAI5BmsC,WAAa,WACZ,IAAIC,EAAa,IAAIjL,OACpB,KACC,GAAGj+B,OAAOknC,EAAgBF,GAAcrxB,KAAK,KAC7C,MAGF,OAAO,WACN,IAAI6yB,EAAUhqC,KAAK2qC,WAAWC,oBAC7BpB,EAAoBxpC,MAAM8H,aAAa,UAKxC,IAAK,IAAIjM,KAAKmuC,EACTU,EAAWtxB,KAAKvd,WACZmuC,EAAQnuC,GAIjB,OAAOmuC,GApBI,GAwBba,SAAU,WACT,IAAI//B,GAAS9K,KAAK0B,KAAKkmC,KAAO,IAAM,IAAM5nC,KAAK8qC,SAE/C,OAAOhgC,GAKRqV,SAAU,SAASriB,GAClB,OAAO0rC,EAAoBxpC,MAAMmgB,SAASriB,IAG3CoF,MAAO,CACN6lC,QAAS,aACTv5B,MAAO,OAKRmZ,YAAa,SAAS7qB,GACrB0rC,EAAoBxpC,MAAM2oB,YAAY7qB,IAGvCitC,gBAAiB,eAEjBC,kBAAmB,aAGnB5C,SAAUA,EAEV6C,OAAQC,EAAoB5sC,IAuE9B,SAAS4sC,EAAoB5sC,GAC5B,IAAI6sC,EAAkBC,EAAqB9sC,GAEvCoqC,EAAiBpqC,EAAOG,OAAOkqC,sBAInC,OAAO,SAAS7qB,EAAIpc,GACnB,IAAI2pC,EAAa,CAChBvsC,OAAQ,EACRD,MAAO,GAGJ9C,EAAO+hB,EAAG/hB,KAEVyT,SAGJ,IAAIsO,EAAGyR,WAAW,wBAAlB,CAgBA,GAAI4b,EAAgBrtB,GAAK,CACxB,GAAY,OAAR/hB,EAAe,CAClB,IAAIuvC,EAASxtB,EAAG0c,SAAS,UAGrB8Q,IACHxtB,EAAGytB,YAAYD,GACfxtB,EAAKwtB,GAMP5pC,EAAKynC,MAAQ,SAGb35B,EAAQsO,EAAG0c,SAAS,QAAU1c,EAAG0c,SAAS,KAAKA,SAAS,WAIxC,UAARz+B,GAAoB+hB,EAAGqC,SAASuoB,GACxCl5B,EAAQsO,EAAG0c,SAAS,QAAU1c,EAAG0c,SAAS,KAAKA,SAAS,OAG9CgR,EAA0B1tB,KACpCtO,EAAmB,KAAXsO,EAAG/hB,KAAc+hB,EAAG3U,SAAS,GAAK2U,GAG3C,GAAKtO,EAAL,CAMA,IAAK,IAAI1T,KAAKuvC,EACb,GAAIA,EAAWhuC,eAAevB,GAAI,CACjC,IAAImuC,EAAYz6B,EAAM+f,WAAWzzB,GAE7BmuC,GAAaA,EAAUvf,MAAMyd,WACzB34B,EAAM+f,WAAWzzB,GAK3B,OAAOgiB,KAQT,SAASssB,EAAsB9rC,GAC9B,IAAIkqC,EAAelqC,EAAOG,OAAOgqC,oBAGjC,OAAO,SAAS3qB,GAGf,IAAI2tB,EAAyB,KAAX3tB,EAAG/hB,KAAc+hB,EAAG0c,WAAa1c,SAE5C2tB,EAAYlc,WAAWsa,gBAE9B,IAAIllB,EAAQ8mB,EAAYlc,WAEpB4Z,EAAQnpC,KAAK0B,KAAKynC,MAItB,IAAKnpC,KAAK8sB,OAAQ,CACjB,IAAI4e,EAAgB5tB,EAAG0c,SAAS,QAE5BkR,GACHA,EAAcH,YACbG,EAAclR,SAAS,CACtBvyB,EAAG,EACH0jC,IAAK,KAMT,GAAIxC,GAAkB,QAATA,EAAiB,CAC7B,IAAI39B,EAASjI,SAASoF,MAAMijC,aAAajnB,EAAM1hB,OAAS,IAc3C,UAATkmC,GAAgC,UAAXrrB,EAAG/hB,KAC3B+hB,EAAKA,EAAG+tB,SACP,IAAItoC,SAASuoC,WAAWnlC,QACvB,MACA6hC,EACG,CACAuD,MAAOvD,EAAa,IAEpB,CACAvlC,MAAO,uBAQZkmC,IACA,CACCtvB,KAAM,EACNgO,MAAO,KAGJ2gB,EACHiD,EAAY5iB,SACX2f,EAAaR,EAAcmB,KAG5B39B,EAAO,SAAW29B,GAKfX,GAAiBjlC,SAASoF,MAAMqjC,QAAQxgC,KAC5CmZ,EAAM1hB,MAAQM,SAASoF,MAAMsjC,aAAazgC,IAI5C,OAAOsS,GAQT,SAASstB,EAAqB9sC,GAC7B,IAAIoqC,EAAiBpqC,EAAOG,OAAOkqC,sBAE/BH,EAAelqC,EAAOG,OAAOgqC,oBAE7ByD,EAAgB,CACnBjkC,EAAG,EACHqjC,OAAQ,EACRK,IAAK,GAGN,OAAO,SAAS7tB,GAEf,KAEEA,EAAG/hB,OACH,CACCowC,IAAK,EACL7uC,EAAG,IAIL,OAAO,EAGR,IAAI6L,EAAW2U,EAAG3U,SAGlB,GAAwB,IAApBA,EAAS/H,OACZ,OAAO,EAGR,IAAIgrC,EAAQjjC,EAAS,GAIrB,KAAMijC,EAAMrwC,QAAQmwC,GACnB,OAAO,EAKR,GAAe,KAAXpuB,EAAG/hB,MACN,IAAKyvC,EAA0BY,GAC9B,OAAO,OAOR,GAAkB,UAAdA,EAAMrwC,MACT,IAAKqwC,EAAMjsB,SAASuoB,GACnB,OAAO,MAEF,CAKN,GAAIpqC,EAAO+tC,WAAa9oC,SAAS+oC,QAChC,OAAO,EAKR,IAAKd,EAA0BY,GAC9B,OAAO,EAOV,QACC5D,GACG1qB,EAAGqC,SAASqoB,EAAa,IAIN,UAHnBjlC,SAASoF,MAAMijC,aACf9tB,EAAGyR,WAAWtsB,OAAS,IACvB,GACE,gBAYR,SAASuoC,EAA0B1tB,GAClC,MAAe,OAAXA,EAAG/hB,MAEe,KAAX+hB,EAAG/hB,OACgB,GAAtB+hB,EAAG3U,SAAS/H,QAAe0c,EAAG0c,SAAS,QAShD,SAAS0P,EAAcqC,GACtB,IAAI7qC,EAAO6qC,EAAO7qC,KAEd2pC,EAAa,CAChBvsC,OAAQ4C,EAAK5C,OACbD,MAAO6C,EAAK7C,OAGT2Q,EAAQ+8B,EAAOrpC,MAAMsM,MAEzB,IAAK,IAAI1T,KAAKuvC,EACTA,EAAWvvC,GACd0T,EAAMxI,aAAalL,EAAGuvC,EAAWvvC,IAEjC0T,EAAMmrB,gBAAgB7+B,GAQzB,SAASytC,EAAagD,GACrB,IAAIjuC,EAASiuC,EAAOjuC,OAEhB2rB,EAAW3rB,EAAO2rB,WAElBuiB,EAAMluC,EAAOyG,SAGb8+B,EAAW0I,EAAO1I,QAAU2I,EAAItuC,cAAc,QASlD,GAPA2lC,EAAQhb,SAAS,qBACjBgb,EAAQhb,SACP,qBAAuBqf,EAAO5pC,EAAOG,OAAOmlC,mBAE7CC,EAAQ3L,OAAO,IAAI30B,SAASwX,IAAIrL,KAAK,IAAU88B,IAG1CD,EAAOzf,OAkBXyf,EAAOrD,QAAQhR,OAAO2L,OAlBH,CACnB,IAAI4I,EAAcF,EAAOrpC,MAAMuM,MAAQ88B,EAAOrpC,MAAMsM,MAEhDk9B,EAAmBD,EAAYzT,YAE/B0S,EAAgBc,EAAItuC,cAAc,QAEtCwtC,EAAc7iB,SAAS,6BACvB6iB,EAAcxT,OAAOuU,GACrBf,EAAcxT,OAAO2L,GACrB0I,EAAO5lC,QAAQuxB,OAAOwT,GAAe,GAIjCgB,EAAiBha,GAAG,SACvBga,EAAiBv6B,SAOnB0xB,EAAQhY,GAAG,YAAa,SAAS8gB,GAChC,IAAIn9B,EAAQ+8B,EAAOrpC,MAAMsM,MAKrBo9B,EAA8B,SAArBL,EAAO7qC,KAAKynC,OAAoB,EAAI,EAI7C3U,EAASmY,EAAIjrC,KAAKwmB,EAAE2kB,QAEpBpY,EAASkY,EAAIjrC,KAAKwmB,EAAE4kB,QAGpBC,EAAav9B,EAAM0Y,EAAEvN,YAErBqyB,EAAcx9B,EAAM0Y,EAAE+kB,aAEtBC,EAAY,GAGZC,EAAc,gBAAmBP,EAAe,IAAN,KAE1CQ,SACAC,SACAC,SACAC,SAEAC,SACAC,SAmBJ,SAASC,EAAkB3xC,EAAM0tB,EAAUkkB,GAC1C,IAAIC,EAAYrqC,SAASwB,SAErBmoC,EAAY,GAQhB,GANKV,EAAIn/B,OAAOugC,IACfV,EAAUnlC,KAAK6lC,EAAU/hB,GAAG9vB,EAAM0tB,IAGnCyjB,EAAUnlC,KAAKykC,EAAI3gB,GAAG9vB,EAAM0tB,IAExBkkB,EACH,IAAK,IAAInyC,EAAI0xC,EAAU9rC,OAAQ5F,KAC9BmyC,EAAW5lC,KAAKmlC,EAAU3M,OAsB7B,SAASsN,EAAYlB,GACpB,IAAI/I,EAAmBtlC,EAAOG,OAAOmlC,iBAErCwJ,EAAYT,EAAIjrC,KAAKwmB,EAGrBslB,EAAYJ,EAAUP,QAAUrY,EAChCiZ,EAAYhZ,EAAS2Y,EAAUN,QAGT,UAArBlJ,GACqB,SAArBA,GACqB,UAArBA,IAEAyJ,EAAWN,EAAaH,EAASY,GAIZ,WAArB5J,GACqB,SAArBA,IAEA0J,EAAYN,EAAcS,GAGF,UAArB7J,IACH0J,EAAY,QAGbD,EAAWA,GAAYN,EACvBO,EAAYA,GAAaN,EAKxBK,GAAY,KACXC,GAAa,IAAoB,SAAdA,IAEpB99B,EAAM0Y,EAAEjlB,MAAMpE,MAAQwuC,EAAW,KACjC79B,EAAM0Y,EAAEjlB,MAAMnE,OAASwuC,EAAY,KAEnCC,GAAa,GAEbA,GAAa,EAIf,SAASO,IACR,IAAIryC,SAEJ,MAAQA,EAAIyxC,EAAU3M,MACrB9kC,EAAE0hC,iBAIHlT,EAAStB,YAAYwkB,GAGrBtJ,EAAQlb,YAAY,sBAEhB4kB,IACHhB,EAAOlD,QAAQ,CACdvqC,OAAQwuC,EACRzuC,MAAOwuC,IAIR/uC,EAAOwD,KAAK,iBAIbyrC,GAAa,EAzHdjvC,EAAOwD,KAAK,gBAGZ4rC,EAAkB,YAAaG,EAAaX,GAG5CQ,EAAkB,UAAWI,EAAWZ,GAGxCjjB,EAASpB,SAASskB,GAGlBtJ,EAAQhb,SAAS,wBAkHlB0jB,EAAO1gB,GAAG,OAAQ,WACjBgY,EAA6B,SAArB0I,EAAO7qC,KAAKynC,MAAmB,WAAa,eACnD,4BAIFoD,EAAOrpC,MAAMsM,MAAMqc,GAAG,QAAS,WAC9B,IAAI7Z,EAAY1T,EAAOuO,eAEvB,GAAImF,EAAW,CACd,IAAIrL,EAAUqL,EAAUkhB,kBAExB,GAAIvsB,EAAS,CACZ,IAAIonC,EAAgBpnC,EAAQkI,QAAQ,OAEpC,GAAIk/B,EAAe,CAClB,IAAI9/B,EAAStH,EAAQiV,gBAEjBd,EAAiB,IAAIvX,SAASwX,IAAI1F,OACrCA,QACC2F,oBACF/M,EAAO4L,MAAQiB,EAAeM,EAC9BnN,EAAO6L,KAAOgB,EAAeO,EAE7BpN,EAAOvI,UAAYnC,SAAS+X,wBAE5Bhd,EAAOwD,KAAK,oBAAqB,CAChCulB,YAAa5iB,MACbkJ,cAAe,CACdhH,QAASonC,EACT9/B,OAAQA,UAef,SAASw7B,EAAwBnrC,GAChC,IAAI0vC,EAAQ,CACXC,YAAY,EACZ3C,OAAQ,CACPtB,QAAS,IAAM1rC,EAAOG,OAAOkqC,uBAE9BgD,IAAK,CACJpc,WAAY,0BAId,OAAOye,EAUR,SAASxD,EAAkBlsC,GAC1B,IAAIkqC,EAAelqC,EAAOG,OAAOgqC,oBAE7BkB,EAAW,CACdR,MAAO,CACN4B,gBACC,OACCvC,EAAe,IAAMA,EAAa,GAAK,IAAM,YAEhDO,QAAS,CACRgC,gBAAiB,cAElBd,UAAW,CACVc,gBAAiB,sBAInB,OAAOpB,EASR,SAASH,EAAoB+C,GAC5B,OAAOA,EAAO7qC,KAAKonC,WAAayD,EAAO5lC,QAAU4lC,EAAOrpC,MAAMsM,MA1hC/DjM,SAAS6gB,QAAQyM,IAAI,mBAAoB,CACxCqd,OAAO,EAEPC,MAAO,QAEPhX,KAAM,SAAS74B,GACd,IAAIkR,EAAQ64B,EAAU/pC,GAGtBA,EAAOgqC,QAAQzX,IAAI,QAASrhB,IAG7Bg2B,OAAQ,WACPjiC,SAASgiC,OACR,2kBA0CFvR,SAAU,WAkVXzwB,SAAS6gB,QAAQykB,OAAS,CAQzBI,qBAAsB,SAASz5B,GAC9B,IAAI0Y,EAAI1Y,EAAM0Y,EAEVkmB,EAAUpuC,KAAKquC,WAAW7+B,GAM9B,OACCvI,KAAK87B,MAAO7a,EAAEvN,YAAcyzB,EAAQvvC,MAASuvC,EAAQtvC,SACpDopB,EAAE+kB,cACHhmC,KAAK87B,MAAO7a,EAAE+kB,aAAemB,EAAQtvC,OAAUsvC,EAAQvvC,QACtDqpB,EAAEvN,aAYL0zB,WAAY,SAAS7+B,GACpB,IAAI67B,SAEJ,GAAI77B,EAAM0Y,EAAEomB,aACXjD,EAAa,CACZvsC,OAAQ0Q,EAAM0Y,EAAEqmB,aAChB1vC,MAAO2Q,EAAM0Y,EAAEomB,kBAEV,CACN,IAAI3C,EAAM,IAAI6C,MAEd7C,EAAIhhB,IAAMnb,EAAM1H,aAAa,OAE7BujC,EAAa,CACZvsC,OAAQ6sC,EAAI8C,MACZ5vC,MAAO8sC,EAAI9sC,OAIb,OAAOwsC,IAgmBV9nC,SAAS9E,OAAOkqC,sBAAwB,uCCnjCxC,WACC,IAAIplC,SAAS6gB,QAAQ/nB,IAAI,sBAAzB,CAIA,IAAI+rC,EAAW,wBAEXsG,EAAgB,IAAInrC,SAAS6kC,SAChC,oCACCA,EACA,0DAIEJ,EAAgB,CAACnuB,KAAM,EAAGouB,OAAQ,EAAGpgB,MAAO,GAE5CsgB,EAAe,kBAEnB5kC,SAAS6gB,QAAQyM,IAAI,qBAAsB,CAC1CmD,SAAU,SACVwR,OAAQ,WACPjiC,SAASgiC,OACR,+kCAgEFpO,KAAM,SAAS74B,GAId,IAAIkR,EAAQ64B,EAAU/pC,GAGtBA,EAAOgqC,QAAQzX,IAAI,QAASrhB,GAI5BlR,EAAOutB,GAAG,kBAAmB,SAAS6Q,GACrC,IAAI1qB,EAAY1T,EAAOuO,eAEvB,GAAImF,EAAW,CACd,IAAIrL,EAAUqL,EAAUsO,qBAExB,GAAI3Z,EAAS,CACZ,IAAIonC,EAAgBpnC,EAAQkI,QAAQ,OAEpC,GAAIk/B,EAAe,CAClB,IAAI9/B,EAAStH,EAAQiV,gBAEjBd,EAAiB,IAAIvX,SAASwX,IAAI1F,OACrCA,QACC2F,oBACF/M,EAAO4L,MAAQiB,EAAeM,EAC9BnN,EAAO6L,KAAOgB,EAAeO,EAE7BpN,EAAOvI,UAAYnC,SAAS+X,wBAE5Bhd,EAAOwD,KAAK,oBAAqB,CAChCulB,YAAa,GACb1Z,cAAe,CACdhH,QAASonC,EACT9/B,OAAQA,WASf0gC,UAAW,SAASrwC,GAEnB,IAAI6qC,EAAQ,CAACtvB,KAAM,EAAGgO,MAAO,EAAGogB,OAAQ,EAAG2G,MAAO,GAE9CC,EAAYC,EAAuBxwC,GAEvC,IAAK,IAAI7B,KAAS0sC,EACbA,EAAM9rC,eAAeZ,IACxBoyC,EAAUpyC,MAoad8G,SAAS6gB,QAAQ2qB,mBAAqB,CACrCC,aAAc,SAAS1wC,GAEtB,IAAIkuC,EAAMluC,EAAOyG,SAEbyjC,EAAelqC,EAAOG,OAAOwwC,gCAE7BvG,EACHpqC,EAAOG,OAAOywC,kCAEXjlB,EAAW3rB,EAAO2rB,WAIlBklB,EAAa,CAAC,aAAc,QAAS,QAGrCC,EAAe,CAClBjG,MAAO,SAAS9lC,EAAOgsC,EAAUC,GAChC,IAAIxxB,EAAKza,EAAMsD,QAIdtD,EAAMksC,QAAQpG,OACa,SAA1BrrB,EAAGoK,EAAEjlB,MAAMusC,YACgB,SAA3B1xB,EAAGoK,EAAEjlB,MAAMwsC,YAGPpsC,EAAMqsC,QAAQ5G,cAGL,UAAZwG,GAC2B,SAA1BxxB,EAAGoK,EAAEjlB,MAAMusC,YACgB,SAA3B1xB,EAAGoK,EAAEjlB,MAAMwsC,eAEZpsC,EAAMssC,UACNtsC,EAAMsD,QAAUipC,EAAgBtxC,EAAQwf,IAKvCza,EAAMksC,QAAQzG,YACH,UAAZuG,GACY,UAAZC,IAEAjsC,EAAMssC,UACNtsC,EAAMsD,QAAUkpC,EAAoB/xB,KAO1B,UAAZwxB,GACAjsC,EAAMksC,QAAQzG,aACbzlC,EAAMqsC,QAAQ5G,aAEfzlC,EAAMssC,UACNtsC,EAAMsD,QAAUipC,EAAgBtxC,EAAQwf,KAIpC0qB,GAAgB1qB,EAAG4U,GAAG,YACV,UAAZ4c,EACHxxB,EAAGgyB,SAAS,UAAW,gBACnBhyB,EAAG/Q,YAAY,aAItB+7B,WAAY,SAASzlC,EAAOgsC,EAAUC,GAErC,GAAKjsC,EAAMksC,QAAQzG,WAAnB,CAIA,IAAI2D,SASJ,GAPCA,EADGppC,EAAMsD,QAAQ+rB,GAAG,CAACiZ,IAAK,EAAG1jC,EAAG,IAClB5E,EAAMsD,QACFtD,EAAMsD,QAAQkI,QAAQ,SAGzCxL,EAAMssC,UAGFL,EAAU,CAEb,IAAIhE,EAAS/nC,SAASwX,IAAIpU,QAAQoX,eACjC2wB,EAAchT,OAAO,CACpBgN,eAAgBA,EAChBqH,mBACCzxC,EAAO6sB,KAAK4jB,mBACVgB,qBAEJvD,GAIDwD,EAAc1E,EAAQjoC,EAAMsD,SAI5B8lC,EAAY9e,QAAQ2d,EAAOz8B,QAAQ,QAGnCxL,EAAMsD,QAAU2kC,OAMhBmB,EAAY9e,QAAQtqB,EAAMsD,SAG1BtD,EAAMsD,QAAU8lC,IAIlBh9B,KAAM,SAASpM,EAAOgsC,EAAUC,GAC/B,GAAIjsC,EAAMksC,QAAQ9/B,KAAM,CACvB,IAAIk8B,EAAMtoC,EAAMsD,QAAQ+rB,GAAG,OACxBrvB,EAAMsD,QACNtD,EAAMsD,QAAQkI,QAAQ,OAErBY,EAAOpM,EAAMsD,QAAQ+rB,GAAG,KACzBrvB,EAAMsD,QACNtD,EAAMsD,QAAQkI,QAAQ,KAQrBohC,EACF5sC,EAAMsD,QAAQ+rB,GAAG,OAAS4c,GAC1BjsC,EAAMsD,QAAQ+rB,GAAG,QAAU4c,EAEzBY,SAKJ,GAHID,GAAc5sC,EAAMssC,UAGnBL,EACA,CAECD,IACJa,EAAQC,EAAWxE,EAAKtoC,EAAMqsC,QAAQjgC,OAGvC,IAAI8f,EAAahsB,SAAS6gB,QAAQ2qB,mBAAmBqB,yBAApC7sC,CAChBjF,EACAgxC,GAGI/rC,SAASoF,MAAMqjC,QAAQzc,EAAWnX,OACrC83B,GAASzgC,GAAM2jB,cAAc7D,EAAWnX,KAEtCmX,EAAW8gB,QAAQjvC,SACrB8uC,GAASzgC,GAAM8jB,iBACfhE,EAAW8gB,cAjBCH,EAAQI,EAAe7gC,GAqBlCwgC,IAAc5sC,EAAMsD,QAAUupC,MAKrC,SAASN,EAAgBtxC,EAAQqI,GAChC,IAAI4pC,EAAmB,GAEnB/H,EACH+H,EAAiBhhB,WAAa,CAACwc,MAAOvD,EAAa,IAC/C+H,EAAiB/kC,OAAS,CAACglC,aAAc,UAI9C,IAAIvI,EAASuE,EAAItuC,cAChBI,EAAOmyC,iBAAmBltC,SAAS+oC,QAAU,IAAM,MACnDiE,GAOD,OAHAP,EAAc/H,EAAQthC,GACtBA,EAAQ+pC,KAAKzI,GAENA,EAGR,SAAS4H,EAAoBlpC,GAC5B,IAAI8lC,EAAc9lC,EAAQkI,QAAQ,SAIlC,OAFA49B,EAAY9e,QAAQhnB,GAEb8lC,EASR,SAAS0D,EAAWxE,EAAKgF,GACxB,IAAIlhC,EAAO+8B,EAAItuC,cAAc,IAAK,CACjCqxB,WAAY,CACXxwB,KAAM4xC,EAAS5wB,OAOjB,OAHAtQ,EAAKke,QAAQge,GACbA,EAAI+E,KAAKjhC,GAEFA,EAQR,SAAS6gC,EAAe7gC,GACvB,IAAIk8B,EAAMl8B,EAAKZ,QAAQ,OAIvB,OAFA88B,EAAIhe,QAAQle,GAELk8B,EAGR,SAASqE,EAAcY,EAAWC,GACjC,GAAIA,EAAS7X,YAAa,CACzB,IAAI9rB,EAAQ5O,EAAO02B,cAEnB9nB,EAAMyrB,eACLkY,EACAttC,SAASk2B,uBAMVoX,EAAS1+B,SAET8X,EAAS6mB,uBAAuBF,EAAW1jC,QAE3C0jC,EAAUjjB,QAAQkjB,GAIpB,OAAO,SAASxtC,GACf,IAAItH,SACAP,SAIJ,IAFA6H,EAAMksC,QAAU,GAEX/zC,EAAI,EAAGA,EAAI2zC,EAAW/tC,OAAQ5F,IAClCO,EAAOozC,EAAW3zC,GAElB6H,EAAMksC,QAAQxzC,KAAQsH,EAAM0mC,SACzB1mC,EAAM0mC,QAAQhuC,KAAUsH,EAAMqsC,QAAQ3zC,GAK1C,IAAKP,EAAI,EAAGA,EAAI2zC,EAAW/tC,OAAQ5F,IAClCO,EAAOozC,EAAW3zC,GAElB4zC,EAAarzC,GACZsH,EACAA,EAAM0mC,QAAU1mC,EAAM0mC,QAAQhuC,GAAQ,KACtCsH,EAAMqsC,QAAQ3zC,IAIhBsH,EAAM0tC,YAWR9H,qBAAsB,SAASz5B,GAC9B,IAAI0Y,EAAI1Y,EAAM0Y,EAEVkmB,EAAUpuC,KAAKquC,WAAW7+B,GAM9B,OACCvI,KAAK87B,MAAO7a,EAAEvN,YAAcyzB,EAAQvvC,MAASuvC,EAAQtvC,SACpDopB,EAAE+kB,cACHhmC,KAAK87B,MAAO7a,EAAE+kB,aAAemB,EAAQtvC,OAAUsvC,EAAQvvC,QACtDqpB,EAAEvN,aAYL0zB,WAAY,SAAS7+B,GACpB,IAAI67B,SAEJ,GAAI77B,EAAM0Y,EAAEomB,aACXjD,EAAa,CACZxsC,MAAO2Q,EAAM0Y,EAAEomB,aACfxvC,OAAQ0Q,EAAM0Y,EAAE8oB,mBAEX,CACN,IAAIrF,EAAM,IAAI6C,MACd7C,EAAIhhB,IAAMnb,EAAM1H,aAAa,OAE7BujC,EAAa,CACZxsC,MAAO8sC,EAAI9sC,MACXC,OAAQ6sC,EAAI7sC,QAId,OAAOusC,GAmBR+E,wBAAyB,WAExB,OAAO7sC,SAAS6gB,QAAQ3U,KAAKwhC,mBAsB9BC,wBAAyB,WAExB,OAAO3tC,SAAS6gB,QAAQ3U,KAAK0hC,sBAqiB/B,IAAIC,EAAwB,SAAS7E,EAAQ8E,GACrB,SAAnBA,GAAgD,UAAnBA,EAChC9E,EAAOrD,QAAQn8B,YAAY,SACE,WAAnBskC,IACV9E,EAAOjuC,OAAOmD,YAAY,eAC1B8qC,EAAOjuC,OAAOmD,YAAY,iBAjuC5B,SAAS4mC,EAAU/pC,GAClB,IAAIkqC,EAAelqC,EAAOG,OAAOwwC,gCAE7BvG,EAAiBpqC,EAAOG,OAAOywC,kCAEnC,SAASS,IACJ3vC,KAAKsxC,WAGLhzC,EAAOgqC,QAAQiJ,SAAWvxC,KAAKusC,SAAQvsC,KAAKuxC,SAAU,GAE1DjzC,EAAOgqC,QAAQ9Z,QAAQxuB,KAAKusC,QAG5BvsC,KAAKsxC,UAAW,GAGjB,SAASP,IACR,IAAI9mB,EAAW3rB,EAAO2rB,WAElBuiB,EAAMluC,EAAOyG,SAKjB,GAAI/E,KAAKsxC,SAAU,CAUlB,GATAtxC,KAAKusC,OAASjuC,EAAOgqC,QAAQC,OAC5BvoC,KAAK2G,QACL,QACA3G,KAAKusC,OAAO7qC,MAOZ1B,KAAKusC,OAAOzf,SACX,IAAIvpB,SAASwX,IAAIvX,YAAYxD,KAAKusC,OAAOrD,QAASjf,GACjD2kB,MACD,CACD,IAAIA,EAAQpC,EAAItuC,cACfI,EAAOmyC,iBAAmBltC,SAAS+oC,QAAU,IAAM,OAEpDsC,EAAMjhB,QAAQ3tB,KAAKusC,OAAOrD,SAC1BlpC,KAAKusC,OAAOrD,QAAQwH,KAAK9B,GAKtB5uC,KAAKuxC,UACRvxC,KAAKusC,OAAO/nC,eACLxE,KAAKuxC,gBAGNvxC,KAAKsxC,cAMZE,EAAgBxxC,KAAKusC,OAAQ/D,GAI/B,MAAO,CACNzb,eAAgB0c,EAAwBnrC,GAExCysC,gBAAiB,eAEjBpB,SAAUa,EAAkBlsC,GAE5B0sC,kBAAmB,aAGnBtB,uBAAwB,CAAC,CAAC,gCAG1BY,UAAW,CACVvB,QAAS,CACRwB,SAAU,aACVxd,eAAgB,8CAIlB7pB,MAAO,CACNsM,MAAO,MACPu5B,QAAS,cAKVX,SAAUA,EAEV1mC,KAAM,WACL,IAAIioC,EAAW3pC,KAAK2pC,SA8CpB,GA1CC3pC,KAAK0B,KAAKonC,aACTxqC,EAAOkS,OAAOo5B,aAAaD,EAASZ,WAErC/oC,KAAK0B,KAAKonC,YAAa,GAIJ,QAAnB9oC,KAAK0B,KAAKynC,OACT7qC,EAAOkS,OAAOo5B,aAAaD,EAASR,SAErCnpC,KAAK0B,KAAKynC,MAAQ,QAGnBnpC,KAAKyxC,WAAW,CACflF,OAAQvsC,KACR2G,QAAS3G,KAAK2G,QACdojC,QAAS/pC,KAAK+pC,QACd2F,QAAS1vC,KAAK0B,KACdiuC,QAASA,EACToB,QAASA,IAKL/wC,KAAK0B,KAAK+N,KAGTzP,KAAKkD,MAAMuM,OACfzP,KAAKkD,MAAMuM,KAAOzP,KAAKkD,MAAMsM,MAAMwpB,aAHhCh5B,KAAKkD,MAAMuM,aAAazP,KAAKkD,MAAMuM,KAMxCzP,KAAKkD,MAAMsM,MAAM4jB,cAAc,CAC9BzI,IAAK3qB,KAAK0B,KAAKipB,IAGfmf,qBAAsB9pC,KAAK0B,KAAKipB,IAEhCid,IAAK5nC,KAAK0B,KAAKkmC,MAMf5nC,KAAK+pC,UACJ/pC,KAAK+pC,QAAQjB,YACd9oC,KAAK0B,KAAKonC,WAEV,IAAK,IAAIjtC,KAAKmE,KAAK0B,KAAKsoC,QACnBhqC,KAAK0B,KAAKsoC,QAAQ3sC,eAAexB,IACpCmE,KAAKkD,MAAMsM,MAAMmZ,YAAY9sB,GAO5ByC,EAAOkS,OAAOo5B,aAAaD,EAASM,YACvCC,EAAclqC,MAGfA,KAAK+pC,QAAUxmC,SAASoF,MAAMgH,OAAO,GAAI3P,KAAK0B,OAG/Cy1B,KAAM,WACL,IAAIyR,EAAUrlC,SAAS6gB,QAAQ2qB,mBAE3Bv/B,EAAQxP,KAAKkD,MAAMsM,MAEnB9N,EAAO,CACVonC,aAAc9oC,KAAKkD,MAAM6lC,QACzBpe,IAAKnb,EAAM1H,aAAa,OACxB8/B,IAAKp4B,EAAM1H,aAAa,QAAU,GAClCjJ,MAAO2Q,EAAM1H,aAAa,UAAY,GACtChJ,OAAQ0Q,EAAM1H,aAAa,WAAa,GAGxCgF,MAAM9M,KAAKgpC,OACRJ,EAAQK,qBAAqBz5B,IAO7BC,EAAOD,EAAM0Q,aAAa,KAQ9B,GANIzQ,GAAQzP,KAAKkpC,QAAQ96B,SAASqB,KAAOzP,KAAKkD,MAAMuM,KAAOA,IAMtD/N,EAAKynC,MAAO,CAChB,IAAIC,EAAe1nC,EAAKonC,WAAa9oC,KAAK2G,QAAU6I,EAGhDg5B,GACCY,EAAajpB,SAASqoB,EAAa,IACtC9mC,EAAKynC,MAAQ,OACHC,EAAajpB,SAASqoB,EAAa,MAC7C9mC,EAAKynC,MAAQ,SAGVznC,EAAKynC,MACRC,EAAazgB,YACZ6f,EAAaR,EAActmC,EAAKynC,SAGjCznC,EAAKynC,MAAQ,SAKdznC,EAAKynC,MAAQC,EAAa3lC,SAAS,UAAY,OAC/C2lC,EAAar8B,YAAY,UAK3B,GAAIzO,EAAO8lB,QAAQ3U,MAAQzP,KAAKkD,MAAMuM,KAAM,CAC3C/N,EAAK+N,KAAOm5B,EAAQsI,yBAARtI,CACXtqC,EACA0B,KAAKkD,MAAMuM,MAKZ,IAAIiiC,EAAWhwC,EAAK+N,KAAKiiC,SACrBA,GAAYA,EAASC,gBACxBD,EAASC,cAAgBpuC,SAASoF,MAAMipC,KACvCF,EAASC,cAAchkB,QAAQ,UAAW,MAO7C3tB,KAAKkpC,SAASxnC,EAAKonC,WAAa,SAAW,OAAS,SACnD,uBAGD9oC,KAAKqpC,QAAQ3nC,GAKZpD,EAAOkS,OAAOo5B,aAAa5pC,KAAK2pC,SAASM,aACW,IAApD3rC,EAAOG,OAAOozC,mCAEdtI,EAAavpC,MAEdA,KAAKyxC,WAAa7I,EAAQoG,aAAahvC,KAAK1B,QAG5C0B,KAAK6rB,GAAG,cAAe,SAAS8gB,GAC/BA,EAAIjrC,KAAK8N,MAAQjM,SAASuuC,cAKtB9xC,KAAKkD,MAAMuM,MAAQzP,KAAKkpC,QAAQhpB,aAAa,QAChDysB,EAAIjrC,KAAK+N,KAAOk9B,EAAIjrC,KAAKqwC,OAASxuC,SAASuuC,iBAM9CjpB,SAAU,SAAS/qB,GAClB0rC,EAAoBxpC,MAAM6oB,SAAS/qB,IAKpCqiB,SAAU,SAASriB,GAClB,OAAO0rC,EAAoBxpC,MAAMmgB,SAASriB,IAK3C6qB,YAAa,SAAS7qB,GACrB0rC,EAAoBxpC,MAAM2oB,YAAY7qB,IAKvC2sC,WAAa,WACZ,IAAIC,EAAa,IAAIjL,OACpB,KACC,GAAGj+B,OAAOknC,EAAgBF,GAAcrxB,KAAK,KAC7C,MAGF,OAAO,WACN,IAAI6yB,EAAUhqC,KAAK2qC,WAAWC,oBAC7BpB,EAAoBxpC,MAAM8H,aAAa,UAKxC,IAAK,IAAIjM,KAAKmuC,EACTU,EAAWtxB,KAAKvd,WAAWmuC,EAAQnuC,GAGxC,OAAOmuC,GAlBI,GAsBbiB,OAAQC,EAAoB5sC,GAC5B6rC,SAAUC,EAAsB9rC,GAEhCusC,SAAU,WACT,IAAI//B,GAAS9K,KAAK0B,KAAKkmC,KAAO,IAAM,IAAM5nC,KAAK8qC,SAE/C,OAAO9qC,KAAK1B,OAAO6sB,KAAKohB,OAAOzhC,MAAM6iB,QAAQ,KAAM7iB,KAoYtD,SAAS0mC,EAAgBjF,EAAQ/D,GAChC,IAAIU,EAAUqD,EAAOrD,QAEjBC,EAAQoD,EAAO7qC,KAAKynC,MAEpBL,EAAayD,EAAO7qC,KAAKonC,WAE7B,GAAIN,EAAc,CAEjB,IAAK,IAAIhtC,EAAI,EAAGA,KAAO0tC,EAAQvgB,YAAY6f,EAAahtC,IAE3C,UAAT2tC,EASCL,GACHI,EAAQrgB,SAAS2f,EAAa,IAEZ,QAATW,GACVD,EAAQrgB,SAAS2f,EAAaR,EAAcmB,SAEvC,CACO,UAATA,GACCL,EAAYI,EAAQ4G,SAAS,aAAc,UAC1C5G,EAAQn8B,YAAY,cAEzBm8B,EAAQn8B,YAAY,WAEP,QAATo8B,EAAiBD,EAAQn8B,YAAY,SACpCm8B,EAAQ4G,SAAS,QAAS3G,GAE/BD,EAAQn8B,YAAY,eAGrB,IAAIyC,EAAQ05B,EAAQhhB,EAAE8pB,cAAc,OAEpCxiC,EAAMmrB,gBAAgB,UASxB,SAASuQ,EAAoB5sC,GAC5B,IAAI6sC,EAAkBC,EAAqB9sC,GAEvCoqC,EAAiBpqC,EAAOG,OAAOywC,kCAInC,OAAO,SAASpxB,EAAIpc,GACnB,IAAI2pC,EAAa,CAACxsC,MAAO,EAAGC,OAAQ,GAEhC/C,EAAO+hB,EAAG/hB,KAEVyT,SAGJ,IAAIsO,EAAGyR,WAAW,wBAAlB,CAcA,GAAI4b,EAAgBrtB,GAAK,CACxB,GAAY,OAAR/hB,EAAe,CAClB,IAAIuvC,EAASxtB,EAAG0c,SAAS,UAGrB8Q,IACHxtB,EAAGytB,YAAYD,GACfxtB,EAAKwtB,GAMP5pC,EAAKynC,MAAQ,SAGb35B,EAAQsO,EAAG0c,SAAS,QAAU1c,EAAG0c,SAAS,KAAKA,SAAS,WAIxC,UAARz+B,GAAoB+hB,EAAGqC,SAASuoB,GACxCl5B,EAAQsO,EAAG0c,SAAS,QAAU1c,EAAG0c,SAAS,KAAKA,SAAS,OAG9CgR,EAA0B1tB,KACpCtO,EAAmB,KAAXsO,EAAG/hB,KAAc+hB,EAAG3U,SAAS,GAAK2U,GAG3C,GAAKtO,EAAL,CAIA,IAAK,IAAI1T,KAAKuvC,EACb,GAAIA,EAAWhuC,eAAevB,GAAI,CACjC,IAAImuC,EAAYz6B,EAAM+f,WAAWzzB,GAC7BmuC,GAAaA,EAAUvf,MAAMyd,WACzB34B,EAAM+f,WAAWzzB,GAI3B,OAAOgiB,KAQT,SAASssB,EAAsB9rC,GAC9B,IAAIkqC,EAAelqC,EAAOG,OAAOwwC,gCAGjC,OAAO,SAASnxB,GAGf,IAAI2tB,EAAyB,KAAX3tB,EAAG/hB,KAAc+hB,EAAG0c,WAAa1c,EAE/C6G,EAAQ8mB,EAAYlc,WAEpB4Z,EAAQnpC,KAAK0B,KAAKynC,MAItB,IAAKnpC,KAAK8sB,OAAQ,CACjB,IAAI4e,EAAgB5tB,EAAG0c,SAAS,QAE5BkR,GACHA,EAAcH,YACbG,EAAclR,SAAS,CAACmR,IAAK,EAAG1jC,EAAG,KAItC,GAAIkhC,GAAkB,QAATA,EAAiB,CAC7B,IAAI39B,EAASjI,SAASoF,MAAMijC,aAAajnB,EAAM1hB,OAAS,IAc3C,UAATkmC,GAAgC,UAAXrrB,EAAG/hB,KAC3B+hB,EAAKA,EAAG+tB,SACP,IAAItoC,SAASuoC,WAAWnlC,QACvB,MACA6hC,EACG,CAACuD,MAAOvD,EAAa,IACrB,CAACvlC,MAAO,uBAMLkmC,IAAS,CAACtvB,KAAM,EAAGgO,MAAO,KAC9B2gB,EACHiD,EAAY5iB,SACX2f,EAAaR,EAAcmB,KAExB39B,EAAO,SAAW29B,GAInBX,GAAiBjlC,SAASoF,MAAMqjC,QAAQxgC,KAC5CmZ,EAAM1hB,MAAQM,SAASoF,MAAMsjC,aAAazgC,GAAU,KAGtD,OAAOsS,GAQT,SAASstB,EAAqB9sC,GAC7B,IAAIoqC,EAAiBpqC,EAAOG,OAAOywC,kCAE/B1G,EAAelqC,EAAOG,OAAOwwC,gCAE7B/C,EAAgB,CAACZ,OAAQ,EAAGrjC,EAAG,EAAG0jC,IAAK,GAE3C,OAAO,SAAS7tB,GAEf,KAAMA,EAAG/hB,OAAQ,CAACowC,IAAK,EAAG7uC,EAAG,IAAK,OAAO,EAEzC,IAAI6L,EAAW2U,EAAG3U,SAGlB,GAAwB,IAApBA,EAAS/H,OAAc,OAAO,EAElC,IAAIgrC,EAAQjjC,EAAS,GAIrB,KAAMijC,EAAMrwC,QAAQmwC,GAAgB,OAAO,EAI3C,GAAe,KAAXpuB,EAAG/hB,MACN,IAAKyvC,EAA0BY,GAAQ,OAAO,OAM9C,GAAkB,UAAdA,EAAMrwC,MACT,IAAKqwC,EAAMjsB,SAASuoB,GAAiB,OAAO,MACtC,CAKN,GAAIpqC,EAAO+tC,WAAa9oC,SAAS+oC,QAAS,OAAO,EAIjD,IAAKd,EAA0BY,GAAQ,OAAO,EAMhD,QACC5D,GACG1qB,EAAGqC,SAASqoB,EAAa,IAIN,UAHnBjlC,SAASoF,MAAMijC,aACf9tB,EAAGyR,WAAWtsB,OAAS,IACvB,GACE,gBAWR,SAASuoC,EAA0B1tB,GAClC,MAAe,OAAXA,EAAG/hB,MACa,KAAX+hB,EAAG/hB,OACkB,GAAtB+hB,EAAG3U,SAAS/H,QAAe0c,EAAG0c,SAAS,QAQhD,SAAS0P,EAAcqC,GACtB,IAAI7qC,EAAO6qC,EAAO7qC,KAEd2pC,EAAa,CAACxsC,MAAO6C,EAAK7C,MAAOC,OAAQ4C,EAAK5C,QAE9C0Q,EAAQ+8B,EAAOrpC,MAAMsM,MAEzB,IAAK,IAAI1T,KAAKuvC,EACTA,EAAWvvC,GAAI0T,EAAMxI,aAAalL,EAAGuvC,EAAWvvC,IAC/C0T,EAAMmrB,gBAAgB7+B,GAO7B,SAASytC,EAAagD,GACrB,IAAIjuC,EAASiuC,EAAOjuC,OAEhB2rB,EAAW3rB,EAAO2rB,WAElBuiB,EAAMluC,EAAOyG,SAIb8+B,EAAW0I,EAAO1I,QAAU2I,EAAItuC,cAAc,QAI9C+zC,EAAYzF,EAAItuC,cAAc,QAE9Bg0C,EAAY1F,EAAItuC,cAAc,QAE9Bi0C,EAAY3F,EAAItuC,cAAc,QAE9Bk0C,EAAY5F,EAAItuC,cAAc,QAwBlC,GAtBA+zC,EAAUppB,SAAS,qBACnBopB,EAAUppB,SAAS,wBAEnBqpB,EAAUrpB,SAAS,qBACnBqpB,EAAUrpB,SAAS,wBAEnBspB,EAAUtpB,SAAS,qBACnBspB,EAAUtpB,SAAS,wBAEnBupB,EAAUvpB,SAAS,qBACnBupB,EAAUvpB,SAAS,wBAGnBgb,EAAQ3L,OAAO+Z,GACfpO,EAAQ3L,OAAOga,GACfrO,EAAQ3L,OAAOia,GACftO,EAAQ3L,OAAOka,GAGfvO,EAAQ3L,OAAO,IAAI30B,SAASwX,IAAIrL,KAAK,IAAU88B,IAG1CD,EAAOzf,OAgBXyf,EAAOrD,QAAQhR,OAAO2L,OAhBH,CACnB,IAAI4I,EAAcF,EAAOrpC,MAAMuM,MAAQ88B,EAAOrpC,MAAMsM,MAEhDk9B,EAAmBD,EAAYzT,YAE/B0S,EAAgBc,EAAItuC,cAAc,QAEtCwtC,EAAc7iB,SAAS,6BACvB6iB,EAAcxT,OAAOuU,GACrBf,EAAcxT,OAAO2L,GACrB0I,EAAO5lC,QAAQuxB,OAAOwT,GAAe,GAIjCgB,EAAiBha,GAAG,SAASga,EAAiBv6B,SAMnD0xB,EAAQhY,GAAG,YAAa,SAAS8gB,GAChC,IAAIn9B,EAAQ+8B,EAAOrpC,MAAMsM,MAKrBglB,EAASmY,EAAIjrC,KAAKwmB,EAAE2kB,QAEpBpY,EAASkY,EAAIjrC,KAAKwmB,EAAE4kB,QAIpBC,EAAav9B,EAAM0Y,EAAEvN,YAErBqyB,EAAcx9B,EAAM0Y,EAAE+kB,aAEtB5F,EAAQ0F,EAAaC,EAErBE,EAAY,GAEZvoC,EAASgoC,EAAIjrC,KAAK2tB,YAElBgjB,SAEAC,SAEA9E,SAEAC,SAEAL,SAEAE,SAEAD,SAEAE,SAKA5oC,EAAOwb,SAAS,yBACnBkyB,EAAU,EACVC,EAAU,GACA3tC,EAAOwb,SAAS,yBAC1BkyB,GAAW,EACXC,EAAU,GACA3tC,EAAOwb,SAAS,yBAC1BkyB,EAAU,EACVC,GAAW,GACD3tC,EAAOwb,SAAS,0BAC1BkyB,GAAW,EACXC,GAAW,GAIZ,IAAInF,EACH,eACGmF,EAAgB,IAAN,OACVD,EAAgB,IAAN,KAmBd,SAAS3E,EAAkB3xC,EAAM0tB,EAAUkkB,GAC1C,IAAIC,EAAYrqC,SAASwB,SAErBmoC,EAAY,GAOhB,GALKV,EAAIn/B,OAAOugC,IACfV,EAAUnlC,KAAK6lC,EAAU/hB,GAAG9vB,EAAM0tB,IAEnCyjB,EAAUnlC,KAAKykC,EAAI3gB,GAAG9vB,EAAM0tB,IAExBkkB,EACH,IAAK,IAAInyC,EAAI0xC,EAAU9rC,OAAQ5F,KAC9BmyC,EAAW5lC,KAAKmlC,EAAU3M,OAK7B,SAASgS,IACRlF,EAAWN,EAAasF,EAAU7E,EAClCF,EAAYrmC,KAAK87B,MAAMsK,EAAWhG,GAInC,SAASmL,IACRlF,EAAYN,EAAcsF,EAAU7E,EACpCJ,EAAWpmC,KAAK87B,MAAMuK,EAAYjG,GAmBnC,SAASwG,EAAYlB,GACpBS,EAAYT,EAAIjrC,KAAKwmB,EAGrBslB,EAAYJ,EAAUP,QAAUrY,EAChCiZ,EAAYhZ,EAAS2Y,EAAUN,QAGhB,GAAXuF,EACC7E,GAAa,EAChBgF,IAEAD,IAKG/E,GAAa,EAChB+E,IAEAC,IAMEnF,GAAY,IAAMC,GAAa,IAClC99B,EAAM0Y,EAAEjlB,MAAMpE,MAAQwuC,EAAW,KACjC79B,EAAM0Y,EAAEjlB,MAAMnE,OAASwuC,EAAY,KAEnCC,GAAa,GAEbA,GAAa,EAIf,SAASO,IACR,IAAIryC,SAEJ,MAAQA,EAAIyxC,EAAU3M,MAAQ9kC,EAAE0hC,iBAGhClT,EAAStB,YAAYwkB,GAGrBtJ,EAAQlb,YAAY,sBAEhB4kB,IACHhB,EAAOlD,QAAQ,CACdvqC,OAAQwuC,EACRzuC,MAAOwuC,IAIR/uC,EAAOwD,KAAK,iBAIbyrC,GAAa,EAtHdjvC,EAAOwD,KAAK,gBAGZ4rC,EAAkB,YAAaG,EAAaX,GAG5CQ,EAAkB,UAAWI,EAAWZ,GAGxCjjB,EAASpB,SAASskB,GAGlBtJ,EAAQhb,SAAS,wBAkInB,SAASimB,EAAuBxwC,GAC/B,IAAIm0C,EAAgB,GAEhBC,SAEJ,OAAO,SAASj2C,GACf,IAAIkF,EAAUrD,EAAOgK,WAAW,UAAY7L,GAGvCkF,IAIL8wC,EAAc1qC,KAAK,WAClBpG,EAAQgxC,QAAQr0C,EAAQA,EAAOkF,iBAG5B/G,IAAS,CAACorB,MAAO,EAAGhO,KAAM,EAAGouB,OAAQ,IACxCtmC,EAAQkqB,GAAG,OAAQ,SAAS8gB,GAC3B,IAAIJ,EAASqG,EAAiBt0C,GAE9B,GAAIiuC,EAAQ,CACPA,EAAO7qC,KAAKynC,QAAU1sC,GACzB20C,EAAsB7E,EAAQ9vC,UAEvB8vC,EAAO7qC,KAAKynC,OAEnBoD,EAAOlD,QAAQ,QAAS5sC,GAKzB,IAAK,IAAIjB,EAAIi3C,EAAcrxC,OAAQ5F,KAClCi3C,EAAcj3C,KAEfmxC,EAAI/Q,YAKPj6B,EAAQkqB,GAAG,UAAW,SAAS8gB,GAC9B,IAAIJ,EAASqG,EAAiBt0C,GAE1Bu0C,EAAU,CAAChrB,MAAO,EAAGhO,KAAM,EAAGouB,OAAQ,GAErCsE,SAKWxuC,IAAZ20C,IACHA,EAAUp0C,EAAOkS,OAAOo5B,aACvBtrC,EAAOgqC,QAAQwK,WAAWtjC,MAAMm6B,SAASR,QAItCuJ,EAEJ1yC,KAAKsQ,SACJi8B,EAAO7qC,KAAKynC,OAAS1sC,EAClB8G,SAASiF,YACT/L,KAASo2C,EACTtvC,SAASuuC,aACTvuC,SAASwvC,mBAPA/yC,KAAKsQ,SAAS/M,SAASwvC,mBAWrCpG,EAAI/Q,cAUP,SAASgX,EAAiBt0C,GACzB,IAAIiuC,EAASjuC,EAAOgqC,QAAQiJ,QAE5B,OAAIhF,GAAyB,SAAfA,EAAOxwC,KAAwBwwC,EAEtC,KASR,SAAS9C,EAAwBnrC,GAChC,IAAIkqC,EAAelqC,EAAOG,OAAOwwC,gCAE7BjB,EAAQ,CAEX7B,IAAK,CACJzhB,MAAO0gB,EAAqB9sC,IAE7BhB,EAAG,CACFotB,MAAO0gB,EAAqB9sC,IAE7BqtC,IAAK,CACJpc,WAAY,yBAEb+b,OAAQ,CACPtB,QAAS,IAAM1rC,EAAOG,OAAOywC,mCAE9BjB,YAAY,GAoBb,OAjBIzF,GAEHwF,EAAM7B,IAAInC,QAAUxB,EAAa,GACjCwF,EAAM1wC,EAAE0sC,QAAUgE,EAAM7B,IAAInC,QAG5BgE,EAAMrC,IAAI3B,QAAUxB,EAAa,GAAK,IAAMA,EAAa,GACzDwF,EAAM1C,OAAOtB,SAAW,IAAMgE,EAAMrC,IAAI3B,UAGxCgE,EAAM7B,IAAI3gC,OAAS,aACnBwiC,EAAM1wC,EAAEkO,OAAS,aAEjBwiC,EAAMrC,IAAIngC,OAAS,QACnBwiC,EAAM1C,OAAO9/B,OAAS,iBAGhBwiC,EAUR,SAASxD,EAAkBlsC,GAC1B,IAAIkqC,EAAelqC,EAAOG,OAAOwwC,gCAE7BtF,EAAW,CACdM,UAAW,CACVc,gBAAiB,qBAElB5B,MAAO,CACN4B,gBACC,OACCvC,EAAe,IAAMA,EAAa,GAAK,IAAM,YAEhDO,QAAS,CACRgC,gBAAiB,eAInB,OAAOpB,EASR,SAASH,EAAoB+C,GAC5B,OAAOA,EAAO7qC,KAAKonC,WAAayD,EAAO5lC,QAAU4lC,EAAOrpC,MAAMsM,QA1nDhE,GA0oDAjM,SAAS9E,OAAOywC,kCAAoC,sCC/oDpD,IAAA8D,EAAA53C,EAAA,IAGA,IAAKmI,SAAS6gB,QAAQ/nB,IAAI,YAAa,CACtC,IAAI42C,EAAa,UAEbC,EAAqB,WAEzB3vC,SAAS4vC,yBACR,kEACD5vC,SAAS6vC,4BACR,wCACD7vC,SAAS8vC,kCAAoC,4BAa7C9vC,SAAS6gB,QAAQyM,IAAI,WAAY,CAChCmD,SAAU,SACVmD,KAAM,SAAS74B,GACd,IAAIg1C,EAAmB,IAAI/vC,SAAS6kC,SACnC9pC,EAAOG,OAAO80C,kBACbhwC,SAAS4vC,0BAEPK,EAAsB,IAAIjwC,SAAS6kC,SACtC9pC,EAAOG,OAAOg1C,gBACblwC,SAAS6vC,6BAEPM,EAA4B,IAAInwC,SAAS6kC,SAC5C9pC,EAAOG,OAAOk1C,qBACbpwC,SAAS8vC,mCAKPO,EAA6B,SAASjtC,EAASjF,GAClD,GACkB,QAAjBiF,EAAQ5K,MACR4K,EAAQ4oB,WAAW,qBAInB,OAFA7tB,EAAKqe,IAAMpZ,EAAQ4oB,WAAW,sBAEvB,GAKTjxB,EAAOuL,WAAW,WAAY,CAC7BH,KAAM,SAASpL,EAAQoD,GACtBpD,EAAOojC,WACN8R,EAAoB9X,OAAO,CAC1B3b,IAAKre,EAAKqe,UAOdzhB,EAAOgqC,QAAQzX,IAAI,WAAY,CAC9BgjB,MAAM,EACN9I,gBAAiB,yBAUjBrpC,KAAM,SAAS+C,GACd,IAAI8nC,EAASvsC,KAET+f,EAAMtb,EAAM/C,KAAKqe,IAEjBA,GACHxc,SAASoF,MAAMoyB,MACduY,EACA,CACCvzB,IAAK+zB,mBAAmB/zB,IAEzB,SAASwb,GACJA,EAAS8I,KAEX6O,EAAmB95B,KAAKmiB,EAAS8I,MAEjCkI,EAAOwH,WAAWh0B,GAElBwsB,EAAO5lC,QAAQqtC,QAAQzY,EAAS8I,MAGjCkI,EAAOwH,WAAWh0B,IAGpB,SAASk0B,GACR1H,EAAOwH,WAAWh0B,MAMtBg0B,WAAY,SAASh0B,GACpB/f,KAAK1B,OAAOmD,YAAY,QAExB,IAAIyyC,EAAWR,EAA0BhY,OAAO,CAC/C3b,IAAKA,IAGN/f,KAAK1B,OAAOojC,WAAWwS,GACvBl0C,KAAK1B,OAAOwD,KAAK,kBAAmB9B,OAUrCirC,OAAQ,SAAStkC,EAASjF,GACzB,IAAIyyC,EACH71C,EAAOG,OAAO01C,qBACdP,EAED,OAAOO,EAAoBxtC,EAASjF,MAKtCpD,EAAOwsB,KAAK,aAAc,WACzBxsB,EAAOutB,GACN,QACA,SAASpnB,GACR,IAAIgL,EAAOhL,EAAM/C,KAAK89B,UAElByT,EAAW75B,KAAK3J,KACnBhL,EAAMsa,OAENzgB,EAAOmD,YAAY,WAAY,CAC9Bse,IAAKtb,EAAM/C,KAAK89B,cAInB,KACA,KAIA4U,mBAMF91C,EAAOutB,GAAG,kBAAmB,SAAS6Q,GACrC,IAAI1qB,EAAY1T,EAAOuO,eAEvB,GAAImF,EAAW,CACd,IAAIrL,EAAUqL,EAAUsO,qBAExB,GAAI3Z,EAAS,CACZ,IAAIonC,EAAgBpnC,EAAQkI,QAC3B,4BAGD,GAAIk/B,EAAe,CAClB,IAAI9/B,EAAStH,EAAQiV,gBAEjBd,EAAiB,IAAIvX,SAASwX,IAAI1F,OACrCA,QACC2F,oBACF/M,EAAO4L,MAAQiB,EAAeM,EAC9BnN,EAAO6L,KAAOgB,EAAeO,EAE7BpN,EAAOvI,UAAYnC,SAAS+X,wBAE5Bhd,EAAOwD,KAAK,oBAAqB,CAChCulB,YAAa,GACb1Z,cAAe,CACdhH,QAASonC,EACT9/B,OAAQA,UASd3P,EAAOkS,OAAO6jC,mBAAmB,SAAS1tC,GACzC,GAAI,sBAAuBA,EAAQ4oB,WAClC,OAAOhsB,SAAS+wC,sGClMRC,mBAAmB,GACnBH,gBAAgB,iFCN7B,IAAAI,EAAAp5C,EAAA,8DAEA,IAAKmI,SAAS6gB,QAAQ/nB,IAAI,YAAa,CACtC,IAAM42C,EAAa,UAEnB1vC,SAASkxC,6BACR,oLAOD,IAAMC,EAAkB,CACvBC,OAAQ,SACRC,KAAM,OACNC,MAAO,SAQFC,EAAe,CACpBJ,EAAgBC,OAChBD,EAAgBE,KAChBF,EAAgBG,OAQXE,EAAuB,CAC5B,CACCh5C,KAAM,UACNU,MAAO,SAER,CACCV,KAAM,cACNU,MAAO,QAER,CACCV,KAAM,eACNU,MAAO,SAWHu4C,EAAoB,SAAS3lC,GAClC,IAAI4lC,EAAiB5lC,EAAM5L,SAAS,SAUpC,GAPEwxC,GACkB,YAAnBA,GACmB,SAAnBA,IAEAA,EAAiB5lC,EAAMvH,aAAa,WAGhCmtC,EAAgB,CACpB,IAAMC,EAAgBH,EAAqBI,MAAM,SAAAlyC,GAChD,IAAImyC,EAAa/lC,EAAM5L,SAASR,EAAMlH,QAAUkH,EAAMxG,MAUtD,OARK24C,GAAcnyC,EAAMoyC,iBACxBD,EAAanyC,EAAMoyC,eAAeltC,KACjC,SAAAmtC,GAAA,OACCjmC,EAAM5L,SAAS6xC,EAAeryC,EAAMlH,QACpCkH,EAAMxG,SAIF24C,IAGRH,EAAiBC,EAAgBR,EAAgBC,OAAS,KAG3D,OAAOM,GAUFM,EAAuB,SAASlmC,EAAO4lC,GAE3CA,IAAmBP,EAAgBE,MACnCK,IAAmBP,EAAgBG,OAEnCxlC,EAAMtC,YAAY,SAEdkoC,IAAmBD,EAAkB3lC,IACxCA,EAAMsrB,gBAAgB,UAEbsa,IAAmBP,EAAgBC,QAC7CI,EAAqBptC,QAAQ,SAAA1E,GAC5BoM,EAAMtC,YAAY9J,EAAMlH,MAEpBkH,EAAMoyC,gBACTpyC,EAAMoyC,eAAe1tC,QAAQ,SAAA2tC,GAAA,OAC5BjmC,EAAMtC,YAAYuoC,EAAeryC,EAAMlH,WActCy5C,EAAoB,SAASnmC,EAAO4lC,GACzCM,EAAqBlmC,EAAO2lC,EAAkB3lC,IAG7C4lC,IAAmBP,EAAgBE,MACnCK,IAAmBP,EAAgBG,MAEnCxlC,EAAMygC,SAAS,QAASmF,GACdA,IAAmBP,EAAgBC,QAC7CI,EAAqBptC,QAAQ,SAAA1E,GAC5BoM,EAAMygC,SAAS7sC,EAAMlH,KAAMkH,EAAMxG,OAE7BwG,EAAMoyC,gBACTpyC,EAAMoyC,eAAe1tC,QAAQ,SAAA2tC,GAAA,OAC5BjmC,EAAMygC,SAASwF,EAAeryC,EAAMlH,KAAMkH,EAAMxG,YAO/C6jB,EAAqB,SAAShiB,GACnC,IAAMoa,EAAS,CACd+8B,UAAW,KACX9uC,QAAS,MAGJqL,EAAY1T,EAAOuO,eAEzB,GAAImF,EAAW,CACd,IAAMqO,EAAkBrO,EAAUsO,qBAGjCD,GACAA,EAAgBvY,aAAa,6BAE7B4Q,EAAO+8B,UAAYT,EAAkB30B,GACrC3H,EAAO/R,QAAU0Z,GAInB,OAAO3H,GAGF6rB,EAAgB,SAASzmB,EAAIjf,EAAOC,GACzC,IAAM42C,EAAiB53B,EAAG63B,cAE1B,GAAID,GAAkB72C,EAAQ,GAAKC,EAAS,EAAG,CAC9C,IAAMmb,EAAOy7B,EAAetQ,wBAEtBwQ,EACL/2C,GAASob,EAAKpb,MACX,IACAoI,KAAK4uC,MAAOh3C,EAAQob,EAAKpb,MAAS,KAChCoE,WAAiB2yC,EAAjB,KAENF,EAAe1uC,aAAa,QAAS/D,GAErC,IAAM8qC,EAAgB2H,EAAe1D,cACpC,4BAGD,GAAIjE,EAAe,CAClB,IAAIviC,EACHsqC,KAAKC,MAAMhI,EAAcjmC,aAAa,iBAAmB,GAE1D0D,EAAO3M,MAAWA,EAAlB,KACA2M,EAAO1M,OAAYA,EAAnB,KAEAivC,EAAc/mC,aACb,cACA8uC,KAAKE,UAAUxqC,IAGhB,IAAMyqC,EAAgBlI,EAAciE,cAAc,UAE9CiE,IACHA,EAAcjvC,aAAa,QAASnI,GACpCo3C,EAAcjvC,aAAa,SAAUlI,OAMnCo3C,EAAe,SAAS53C,GAC7BiX,WAAW,WACV,IAAMvD,EAAY1T,EAAOuO,eAEzB,GAAImF,EAAW,CACd,IAAM0jC,EAAiB1jC,EAAUmkC,KAAKC,KACrC,6BAGD,GAAIV,EAAgB,CACnB,IAAMW,EAAcX,EAAextB,EACnC,GAAImuB,EAAYj1C,OAAS,EAAG,CAC3B,IAAMkuB,EAAc,IAAI/rB,SAASwX,IAAIpU,QACpC0vC,EAAYA,EAAYj1C,OAAS,IAG5Bk1C,EAAehnB,EAAYzgB,QAAQ,OACnCk/B,EAAgBze,EAAYzgB,QACjC,4BAGD,GAAIynC,GAAgBvI,EAAe,CAClC,IAAM7gC,EAAQ5O,EAAO02B,cAErB9nB,EAAM6kB,SAASgc,EAAe,GAC9B7gC,EAAM8kB,OAAOskB,EAAc,GAE3BtkC,EAAUigB,aAAa,CAAC/kB,IACxB8E,EAAUihB,cAAc3D,QAK1B,IAGAinB,EAAmB,KACnBC,EAAiB,KACjB3S,EAAU,KAWdtgC,SAAS6gB,QAAQyM,IAAI,WAAY,CAChCmD,SAAU,SAEVmD,KAAM,SAAA74B,GACL,IAAMm4C,EAAuB,IAAIlzC,SAAS6kC,SACzC9pC,EAAOG,OAAOg1C,gBACblwC,SAASkxC,8BAGPiC,EAAYp4C,EAAOG,OAAO0uB,gBAAkB,GAEhDupB,EAAYA,EAAU/rC,IAAI,SAAAgsC,GACzB,MAAO,CACNrsC,GAAIqsC,EAASrsC,GACbimB,IAAK,IAAIhtB,SAAS6kC,SAAb,kCAC8BuO,EAASpmB,IADvC,UAGL/qB,KAAMmxC,EAASnxC,KACfgrB,WAAYmmB,EAASnmB,WAAW7lB,IAC/B,SAAAisC,GAAA,OAAU,IAAInX,OAAOmX,QAKxB,IAAMC,EAAuB,SAAC92B,EAAK6gB,GAClC,OAAO6V,EAAqB/a,OAAO,CAClCkF,QAASA,EACTkW,YAAazqC,YAAYC,QAAQyqC,sBACjCC,gBAAiBC,QAAQC,KAAKC,kBAC7B,eAEDp3B,IAAKA,KAID6zB,EAA6B,SAACjtC,EAASjF,GAC5C,IAAI01C,GAAe,EAEnB,GACkB,QAAjBzwC,EAAQ5K,MACR4K,EAAQ4oB,WAAW,kBAEnB7tB,EAAKqe,IAAMpZ,EAAQ4oB,WAAW,kBAE9B6nB,GAAe,OACT,GACW,QAAjBzwC,EAAQ5K,MACR4K,EAAQ4oB,WAAW,iBAClB,CACD,IAAM8nB,EAAS1wC,EAAQwC,SAAS,GAEhCzH,EAAKqe,IAAMs3B,EAAO9nB,WAAW5E,IAE7B,IAAM2sB,EAAeT,EACpBn1C,EAAKqe,IACLpZ,EAAQ4wC,gBAGHC,EAAiB,IAAIj0C,SAASuoC,WAAW2L,SAASC,SACvDJ,GAGDF,EAAeI,EAAeruC,SAAS,GAEvCiuC,EAAa7nB,WAAW,eAAiBumB,KAAKE,UAC7CrvC,EAAQ6E,QAET4rC,EAAazuB,YAAY,oBACzByuB,EAAazuB,YAAY,0BAEzBhiB,EAAQ4kC,YAAY6L,GAGrB,OAAOA,GAGFO,EAAY,SAAAC,GACjBt5C,EAAOwD,KAAK,QAAS81C,GAErBriC,WAAW,WACVjX,EAAOuO,eAAe+hB,kBAEtBtwB,EAAOkG,QAEPq/B,EAAQO,QACN,IAGJ9lC,EAAOuL,WAAW,WAAY,CAC7BH,KAAM,SAACpL,EAAQoD,GACd,IAAM8D,EAAO9D,EAAK8D,KACZua,EAAMre,EAAKqe,IACb6gB,SAEJ,GAAIqS,EAAW75B,KAAK2G,GAAM,CACzB,IAAM83B,EAAgBnB,EACpBlmC,OAAO,SAAAmmC,GACP,OAAOnxC,GAAOmxC,EAASnxC,OAASA,IAEhC2C,KAAK,SAAAwuC,GACL,IAAMC,EAASD,EAASnmB,WAAW4lB,KAClC,SAAAQ,GAAA,OAAUA,EAAOx9B,KAAK2G,KAGvB,GAAI62B,EAAQ,CACX,IAAMkB,EAAUlB,EAAOltC,KAAKqW,GAAK,GAEjC6gB,EAAU+V,EAASpmB,IAAImL,OAAO,CAC7Boc,QAASA,IAIX,OAAOlB,IAGT,GAAIiB,EAAe,CAClBv5C,EAAOy5C,mBAAqBh4B,EAE5B,IAAMu3B,EAAeT,EACpB92B,EACA6gB,GAGDtiC,EAAOojC,WAAW4V,QAElBK,EAAUtrC,YAAYC,QAAQ0rC,2BAG/BL,EAAUtrC,YAAYC,QAAQ2rC,kBAKjC35C,EAAOgqC,QAAQzX,IAAI,WAAY,CAC9BwZ,WAAW,EACXwJ,MAAM,EACN9I,gBAAiB,sBAEjBrpC,KAL8B,SAKzB+C,GACJ,IAAM0Q,EAAWnV,KAIXk4C,EAAa/iC,EAASxO,QAAQmB,aACnC,eAGG0D,EAAS0sC,EAAapC,KAAKC,MAAMmC,GAAc,KAEnD,IAAK1sC,EAAQ,CACZ,IAAM6rC,EAASliC,EAAS+zB,QAAQr6B,QAAQ,UAElCspC,EAAShjC,EAAS+zB,QAAQhhB,EAAEkd,wBAC5BvmC,EAAQw4C,EAAOvvC,aAAa,SAE5B8tC,EACL/2C,GAASs5C,EAAOt5C,MACb,IACAoI,KAAK87B,MAAOlkC,EAAQs5C,EAAOt5C,MAAS,KAExC2M,EAAS,CACR3M,MAAU+2C,EAAV,KAIFzgC,EAAS+zB,QAAQliC,aAChB,QACAzD,SAASoF,MAAMsjC,aAAazgC,IAGzBlN,EAAOy5C,qBAAuBtzC,EAAM/C,KAAKqe,KAC5Cm2B,EAAa53C,IAIf6rC,SA1C8B,SA0CrBoC,GACR,IAAM+K,EAAe/K,EAAOpjC,SAAS,GAQrC,OANAmuC,EAAa/nB,WAAWwc,MACvB,0CACDuL,EAAa/nB,WAAWtsB,MAAQM,SAASoF,MAAMsjC,aAC9CM,EAAOhT,OAAO/tB,QAGR8rC,GAGRrM,OAtD8B,SAsDvBtkC,EAASjF,GACf,IAAMyyC,EACL71C,EAAOG,OAAO01C,qBACdP,EAED,OAAOO,EAAoBxtC,EAASjF,MAItC2T,OAAOgJ,iBACN,SACA,WACCwlB,EAAQO,OACR8R,EAAa53C,KAEd,GAGDA,EAAOutB,GAAG,kBAAmB,SAAA6Q,GAC5B,IAAM1qB,EAAY1T,EAAOuO,eAEzB,GAAImF,EAAW,CACd,IAAMrL,EAAUqL,EAAUsO,qBAE1B,GAAI3Z,EAAS,CACZ,IAAMonC,EAAgBpnC,EAAQkI,QAC7B,4BAGD,GAAIk/B,EAAe,CAClB,IAAMjzB,EAAiB,IAAIvX,SAASwX,IAAI1F,OACvCA,QACC2F,oBAEE/M,EAAStH,EAAQiV,gBAErB3N,EAAOvI,UAAYnC,SAAS+X,wBAC5BrN,EAAO4L,MAAQiB,EAAeM,EAC9BnN,EAAO6L,KAAOgB,EAAeO,EAE7B/c,EAAOwD,KAAK,oBAAqB,CAChCulB,YAAa,GACb1Z,cAAe,CACdhH,QAASonC,EACT9/B,OAAQA,KAKX,IAAMqoC,EAAe3vC,EAAQkI,QAC5B,uBAGGynC,GACHzS,EAAQM,KAAKmS,EAAapuB,QAG3B2b,EAAQO,UAKX9lC,EAAOutB,GAAG,UAAW,WACpB,IAAM0Y,EAAgBx/B,SAASqrB,eAAe,YAE1CmU,GACHA,EAAcpyB,SAGfpN,SAASy/B,oBAAoB,YAAaT,KAG3CzlC,EAAOutB,GAAG,OAAQ,WACjBgY,EAAQO,SAGT9lC,EAAOkS,OAAO6jC,mBAAmB,SAAA1tC,GAChC,GAAI,mBAAoBA,EAAQ4oB,WAC/B,OAAOhsB,SAAS+wC,mBAIlB,IAAMvQ,EAAoB,SAAAt/B,GACzB,IAAMiU,EAAS4H,EAAmBhiB,GAElCi4C,EAAmB79B,EAAO+8B,UAC1Be,EAAiB99B,EAAO/R,QAEpBk9B,EAAQI,SAASx/B,EAAME,SAC1Bk/B,EAAQK,SAASz/B,IAInBo/B,EAAU,IAAIC,UAAQxlC,EAAQ,CAC7B2oC,WAD6B,SAClBtgC,EAAS9H,EAAOC,GAC1BylC,EAAc59B,EAAS9H,EAAOC,GAE1By3C,GAAoBC,GACvBhB,EAAkBgB,EAAgBD,GAEnCL,EAAa53C,MAIfyG,SAASsZ,iBAAiB,YAAa0lB,GAAmB,IAG3D4K,UAAW,SAAArwC,GACVw2C,EAAantC,QAAQ,SAAAywC,GACpB,IAAMz2C,EAAUrD,EAAOgK,WAAW,UAAY8vC,GAE1Cz2C,IACHA,EAAQkqB,GAAG,OAAQ,SAAApnB,GAClB,IAAM4b,EAAkB/hB,EACtBuO,eACAyT,qBAEF,GACCD,GACAA,EAAgBvY,aACf,2BAEA,CACD,IAAMuwC,EAAgBh4B,EAAgBxR,QACrC,4CAGD,GAAIwpC,EAAe,CAClB,IAAMpD,EAAiBD,EACtB30B,GAGG40B,IAAmBmD,EACtB7C,EACCl1B,EACA+3B,GAGD5C,EACCn1B,EACA+3B,GAIF5B,EAAiBn2B,EACjBk2B,EAAmBvB,EAClB30B,GAGD,IAAMi2B,EAAej2B,EAAgBxR,QACpC,OAGGynC,GACHzS,EAAQM,KAAKmS,EAAapuB,GAG3BzjB,EAAMm3B,SAEN,IAAMp4B,EAAc,IAAID,SAASwX,IAAIvX,YACpC6c,GAGDy0B,EAAantC,QAAQ,SAAAywC,GACpB,IAAMz2C,EAAUrD,EAAOgK,WACtB,UAAY8vC,GAGTz2C,GACHA,EAAQgxC,QAAQr0C,EAAQkF,SAO7B7B,EAAQkqB,GAAG,UAAW,SAAApnB,GACrB,IAAM6qB,EAAc7qB,EAAM/C,KAAKhD,KAAK4wB,YAEpC,GACCA,GACAA,EAAYxnB,aACX,4BAEDwnB,EAAYzgB,QAAQ,iCACnB,CACD,IAAMomC,EAAiBD,EACtB1lB,GAGD7qB,EAAM6zC,OAAOhoC,SACZ2kC,IAAmBmD,EAChB70C,SAASiF,YACTjF,SAASuuC,cAGbrtC,EAAMm3B,4BASEr4B,SAAS6gB,QAAQ/nB,IAAI,qWC3oBpCk8C,EAAAn9C,EAAA,4JAEA,IAAMknC,EAAgB,CAAC,KAAM,KAAM,KAAM,MAEnCG,EAAsB,CAC3BC,GAD2B,SACxBC,EAAQ9oB,EAAMC,EAAK8oB,GACrBC,EAAgBF,GAAS,EAAI9oB,EAAM+oB,EAAI9jC,OAAS,EAAIgb,IAErDkpB,GAJ2B,SAIxBL,EAAQ9oB,EAAMC,EAAK8oB,GACrBC,EAAgBF,EAAQC,EAAI/jC,MAAQ,EAAIgb,EAAM+oB,EAAI9jC,OAAS,EAAIgb,IAEhEupB,GAP2B,SAOxBV,EAAQ9oB,EAAMC,EAAK8oB,GACrBC,EACCF,EACAC,EAAI/jC,MAAQ,EAAIgb,EAChB5S,KAAK87B,MAAMH,EAAI9jC,OAAS,GAAK,EAAIgb,IAGnCopB,GAd2B,SAcxBP,EAAQ9oB,EAAMC,EAAKqpB,GACrBN,EAAgBF,EAAQ9oB,EAAO,EAAGC,EAAM,IAEzC8d,GAjB2B,SAiBxB+K,EAAQ9oB,EAAMC,EAAK8oB,GACrBC,EAAgBF,EAAQC,EAAI/jC,MAAQ,EAAIgb,GAAO,EAAIC,KAI/C+oB,EAAkB,SAAC/kB,EAAIjE,EAAMC,GAClCgE,EAAG7a,MAAM4W,KAAUA,EAAnB,KACAiE,EAAG7a,MAAM6W,IAASA,EAAlB,MAGKqrB,EAAiB,SAAC9vB,EAAQyI,GAC/B,IAAM7D,EAAO6D,EAAGsnB,wBAEhB,MAAO,CACNtmC,OAAQmb,EAAKnb,OACb+a,KAAMI,EAAKJ,KAAOxE,EAAOgwB,YACzBvrB,IAAKG,EAAKH,IAAMzE,EAAOiwB,YACvBzmC,MAAOob,EAAKpb,QAIRilC,aACL,SAAAA,EAAYxlC,GAAkB,IAAVioB,EAAUlmB,UAAAe,OAAA,QAAArD,IAAAsC,UAAA,GAAAA,UAAA,GAAJ,GAAIN,EAAAC,KAAA8jC,GAC7B9jC,KAAKumB,IAAMA,EACXvmB,KAAK1B,OAASA,EAEd0B,KAAK+E,SAAWzG,EAAOyG,SAAWzG,EAAOyG,SAASmjB,EAAInjB,SACtD/E,KAAKqV,OAAS/W,EAAO+W,OAAS/W,EAAO+W,OAAO6S,EAAI7S,OAEhDrV,KAAK4iC,IAAM,KACX5iC,KAAK0lC,UAAY,KACjB1lC,KAAK4lC,QAAU,GACf5lC,KAAK2lC,QAAU,KACf3lC,KAAK6mC,WAAa,KAClB7mC,KAAK0Y,OAAS,KAEd1Y,KAAKm3B,gDAGC,IAAAl2B,EAAAjB,KACNA,KAAK0lC,UAAY1lC,KAAK+E,SAAS7G,cAAc,OAC7C8B,KAAK0lC,UAAUp7B,GAAK,WAEpBtK,KAAK2lC,QAAU3lC,KAAK+E,SAAS7G,cAAc,QAE3C8B,KAAK0lC,UAAU9V,YAAY5vB,KAAK2lC,SAEhC3lC,KAAK4lC,QAAU,GAEftD,EAAc36B,QAAQ,SAAAk+B,GACrB5kC,EAAK2kC,QAAQC,GAAc5kC,EAAK6kC,aAAaD,KAK9C,IAFA,IAAMhgC,EAAO3J,OAAO2J,KAAK7F,KAAK4lC,SAErBpqC,EAAI,EAAGA,EAAIqK,EAAKzE,OAAQ5F,IAChCwE,KAAK0lC,UAAU9V,YAAY5vB,KAAK4lC,QAAQ//B,EAAKrK,0CAIlCO,GACZ,IAAM+hB,EAAK9d,KAAK+E,SAAS7G,cAAc,KAIvC,OAFA4f,EAAGioB,UAAUlV,IAAI90B,GAEV+hB,mCAGCA,GAKR,IAJA,IAAMjY,EAAO3J,OAAO2J,KAAK7F,KAAK4lC,SAE1BltB,GAAS,EAEJld,EAAI,EAAGA,EAAIqK,EAAKzE,OAAQ5F,IAC5BwE,KAAK4lC,QAAQ//B,EAAKrK,MAAQsiB,IAC7BpF,GAAS,GAIX,OAAOA,+BAGHoF,GACJ,IAAM3D,EAASna,KAAK1B,OAAOG,OAAO0b,QAAUpV,SAASqV,KAErDpa,KAAK8d,GAAKA,EAEV9d,KAAK4iC,IAAMuC,EAAenlC,KAAKqV,OAAQrV,KAAK8d,IAE5C+kB,EACC7iC,KAAK0lC,UACL1lC,KAAK4iC,IAAI/oB,KACT7Z,KAAK4iC,IAAI9oB,IAAMK,EAAO2B,WAGvB3B,EAAOyV,YAAY5vB,KAAK0lC,WAExB1lC,KAAK8d,GAAGioB,UAAUlV,IAAI,YAEtB7wB,KAAKkmC,6CAML,IAFA,IAAMC,EAAWnmC,KAAK+E,SAASqhC,uBAAuB,YAE7C5qC,EAAI,EAAGA,EAAI2qC,EAAS/kC,OAAQ5F,IACpC2qC,EAAS3qC,GAAGuqC,UAAU5zB,OAAO,YAG9BnS,KAAKqmC,cAEDrmC,KAAK0lC,UAAUrX,YAClBruB,KAAK0lC,UAAUrX,WAAWC,YAAYtuB,KAAK0lC,4CAIpCjhC,GAAO,IAAA+H,EAAAxM,KACf,GAAqB,IAAjByE,EAAMwhB,OAAV,CAIA,IAAMqgB,EAAO,IAAI5B,UAAU1kC,KAAKqV,OAAQrV,KAAK+E,UAE7CuhC,EAAKC,QAAU,WACd/5B,EAAKg6B,cAELh6B,EAAKi6B,YAAa,EAElBj6B,EAAKlO,OAAOuO,eAAeC,QAG5Bw5B,EAAKI,OAAS,WACbl6B,EAAKm6B,cAAcL,GAEnB,IAAMkS,EAAehsC,EAAKlO,OAAOqI,QAAQuhB,EAAEkd,wBAE3C,KAAI54B,EAAKq6B,WAAWhoC,OAAS25C,EAAa35C,OAA1C,CAIA2N,EAAKo6B,gBAEL,IAAMhE,EAAMp2B,EAAKq6B,WAEjBr6B,EAAKs6B,cAAclE,EAAKA,EAAI/oB,KAAM+oB,EAAI9oB,OAGvCwsB,EAAKS,UAAY,WAChBv6B,EAAKw6B,cAELx6B,EAAKi6B,YAAa,EAElBj6B,EAAK43B,OAEL53B,EAAKlO,OAAOuO,eAAeG,SAE3BR,EAAKlO,OAAOwD,KAAK,iBAGlBwkC,EAAKW,WAAa,WACjBz6B,EAAK06B,iBAEL16B,EAAKlO,OAAOwD,KAAK,iBAGlBwkC,EAAKzR,MAAMpwB,0CAGEm+B,GAGb,IAHqC,IAAnB/oB,EAAmBxZ,UAAAe,OAAA,QAAArD,IAAAsC,UAAA,GAAAA,UAAA,GAAZ,EAAGyZ,EAASzZ,UAAAe,OAAA,QAAArD,IAAAsC,UAAA,GAAAA,UAAA,GAAH,EAC5BwF,EAAO3J,OAAO2J,KAAK7F,KAAK4lC,SAErBpqC,EAAI,EAAGA,EAAIqK,EAAKzE,OAAQ5F,IAChCinC,EAAoB58B,EAAKrK,IAAIwE,KAAK4lC,QAAQ//B,EAAKrK,IAAKqe,EAAMC,EAAK8oB,yCAKhE5iC,KAAK8mC,cAAc9mC,KAAK4iC,KAIxB,IAFA,IAAM/8B,EAAO3J,OAAO2J,KAAK7F,KAAK4lC,SAErBpqC,EAAI,EAAGA,EAAIqK,EAAKzE,OAAQ5F,IAChCwE,KAAK4lC,QAAQ//B,EAAKrK,IAAIyH,MAAMwyB,QAAU,8CAOvC,IAFA,IAAM5vB,EAAO3J,OAAO2J,KAAK7F,KAAK4lC,SAErBpqC,EAAI,EAAGA,EAAIqK,EAAKzE,OAAQ5F,IAChCwE,KAAK4lC,QAAQ//B,EAAKrK,IAAIyH,MAAMwyB,QAAU,6CAKvCz1B,KAAK2mC,gBAEL3mC,KAAK4mC,gBAEL5mC,KAAK2lC,QAAQ1iC,MAAMwyB,QAAU,gDAI7BoN,EACC7iC,KAAK2lC,QACL3lC,KAAK6mC,WAAWhtB,KAChB7Z,KAAK6mC,WAAW/sB,KAGjB9Z,KAAK2lC,QAAQ1iC,MAAMnE,OAAYkB,KAAK6mC,WAAW/nC,OAA/C,KACAkB,KAAK2lC,QAAQ1iC,MAAMpE,MAAWmB,KAAK6mC,WAAWhoC,MAA9C,2CAIA,IAAM+jC,EAAMuC,EAAenlC,KAAKqV,OAAQrV,KAAK2lC,SAE7C3lC,KAAK0Y,OAAS,CACb5Z,OAAQ8jC,EAAI9jC,OACZD,MAAO+jC,EAAI/jC,OAGZmB,KAAK2lC,QAAQ1iC,MAAMwyB,QAAU,6CAGhB/zB,GAQb,GAPA1B,KAAK6mC,WAAa,CACjB/nC,OAAQkB,KAAK4iC,IAAI9jC,OACjB+a,KAAM,EACNC,IAAK,EACLjb,MAAOmB,KAAK4iC,IAAI/jC,OAGZ6C,EAAL,CAIA,IAAM5D,EAAY4D,EAAKiD,OAAO7G,UAwB9B,GAtBIA,EAAUoH,QAAQ,MAAQ,IAC7BlF,KAAK6mC,WAAWhoC,MAAQoI,KAAKC,IAAI,GAAIlH,KAAK4iC,IAAI/jC,MAAQ6C,EAAK0lC,MAAMhsB,IAG9Dtd,EAAUoH,QAAQ,MAAQ,IAC7BlF,KAAK6mC,WAAW/nC,OAASmI,KAAKC,IAC7B,GACAlH,KAAK4iC,IAAI9jC,OAAS4C,EAAK0lC,MAAM/rB,IAI3Bvd,EAAUoH,QAAQ,MAAQ,IAC7BlF,KAAK6mC,WAAWhoC,MAAQoI,KAAKC,IAAI,GAAIlH,KAAK4iC,IAAI/jC,MAAQ6C,EAAK0lC,MAAMhsB,IAG9Dtd,EAAUoH,QAAQ,MAAQ,IAC7BlF,KAAK6mC,WAAW/nC,OAASmI,KAAKC,IAC7B,GACAlH,KAAK4iC,IAAI9jC,OAAS4C,EAAK0lC,MAAM/rB,IAI3Bvd,EAAUoH,QAAQ,KAAO,IAAMxD,EAAKmE,KAAKxC,MAAO,CACnD,IAAMgkC,EAAQrnC,KAAK4iC,IAAI/jC,MAAQmB,KAAK4iC,IAAI9jC,OAEpCkB,KAAK6mC,WAAWhoC,MAAQmB,KAAK6mC,WAAW/nC,OAASuoC,EACpDrnC,KAAK6mC,WAAW/nC,OAASmI,KAAK87B,MAC7B/iC,KAAK6mC,WAAWhoC,MAAQwoC,GAGzBrnC,KAAK6mC,WAAWhoC,MAAQoI,KAAK87B,MAC5B/iC,KAAK6mC,WAAW/nC,OAASuoC,GAKxBvpC,EAAUoH,QAAQ,MAAQ,IAC7BlF,KAAK6mC,WAAWhtB,KAAO7Z,KAAK4iC,IAAI/jC,MAAQmB,KAAK6mC,WAAWhoC,OAGrDf,EAAUoH,QAAQ,MAAQ,IAC7BlF,KAAK6mC,WAAW/sB,IAAM9Z,KAAK4iC,IAAI9jC,OAASkB,KAAK6mC,WAAW/nC,kDAKzDkB,KAAKumB,IAAI0gB,WAAWjnC,KAAK8d,GAAI9d,KAAK0Y,OAAO7Z,MAAOmB,KAAK0Y,OAAO5Z,mBAItDglC,oBACOA,4aCtTTY,aACL,SAAAA,EAAYrvB,EAAQtQ,GAAUhF,EAAAC,KAAA0kC,GAC7B1kC,KAAK+E,SAAWA,EAChB/E,KAAKqV,OAASA,EAEdrV,KAAK2kC,OAAS,CACbE,QAAS7kC,KAAK6kC,QAAQ7nC,KAAKgD,MAC3B4kC,UAAW5kC,KAAK4kC,UAAU5nC,KAAKgD,MAC/B8kC,QAAS9kC,KAAK8kC,QAAQ9nC,KAAKgD,+CAIvByE,GACLA,EAAMW,iBACNX,EAAMU,kBAENnF,KAAK2E,OAASF,EAAME,OAEpB3E,KAAKlC,UAAYkC,KAAK2E,OAAO7G,UAE7BkC,KAAKwnC,SAAW,CACfpsB,EAAG3W,EAAMw5B,QACT5iB,EAAG5W,EAAMy5B,SAGVl+B,KAAKyS,OAAOhO,GAEZzE,KAAK+E,SAASsZ,iBAAiB,UAAWre,KAAK2kC,OAAOE,SAAS,GAC/D7kC,KAAK+E,SAASsZ,iBACb,YACAre,KAAK2kC,OAAOC,WACZ,GAED5kC,KAAK+E,SAASsZ,iBAAiB,UAAWre,KAAK2kC,OAAOG,SAAS,GAE/D9kC,KAAK+E,SAASqV,KAAK2rB,UAAUlV,IAA7B,YAA6C7wB,KAAKlC,WAEtB,oBAAjBkC,KAAKumC,SACfvmC,KAAKumC,yCAIA9hC,GACNzE,KAAKynC,WAAa,CACjBrsB,EAAG3W,EAAMw5B,QACT5iB,EAAG5W,EAAMy5B,SAGVl+B,KAAKonC,MAAQ,CACZhsB,EAAG3W,EAAMw5B,QAAUj+B,KAAKwnC,SAASpsB,EACjCC,EAAG5W,EAAMy5B,QAAUl+B,KAAKwnC,SAASnsB,GAGlCrb,KAAK6F,KAAO,CACX+hC,IAAKnjC,EAAMojC,OACXF,KAAMljC,EAAMuqB,QACZ3rB,MAAOoB,EAAMijC,4CAILjjC,GACTzE,KAAKyS,OAAOhO,GAEe,oBAAhBzE,KAAK0mC,QACf1mC,KAAK0mC,SAGc,IAAhBjiC,EAAMqjC,OACT9nC,KAAK8kC,QAAQrgC,mCAIPA,GACe,KAAlBA,EAAM2B,SACTpG,KAAK+nC,0CAICtjC,GACPzE,KAAKyS,OAAOhO,GAEZzE,KAAK+nC,UAE0B,oBAApB/nC,KAAKinC,YACfjnC,KAAKinC,+CAKNjnC,KAAK+E,SAASqV,KAAK2rB,UAAU5zB,OAA7B,YAAgDnS,KAAKlC,WAErDkC,KAAK+E,SAASy/B,oBACb,UACAxkC,KAAK2kC,OAAOE,SACZ,GAED7kC,KAAK+E,SAASy/B,oBACb,YACAxkC,KAAK2kC,OAAOC,WACZ,GAED5kC,KAAK+E,SAASy/B,oBACb,UACAxkC,KAAK2kC,OAAOG,SACZ,GAG6B,oBAAnB9kC,KAAK+mC,WACf/mC,KAAK+mC,uBAKArC,sBACOA,gCClHf,IAAAzrB,EAAA7d,EAAA,8DAEA,IAAKmI,SAAS6gB,QAAQ/nB,IAAI,qBAAsB,CAK/C,IAAIo8C,EAAkB,CACrB9D,OAAQ,SACRC,KAAM,OACNC,MAAO,SAOJC,EAAe,CAClB2D,EAAgB7D,KAChB6D,EAAgB5D,MAChB4D,EAAgB9D,QAOb+D,EAAuB,CAC1B,CACC38C,KAAM,UACNU,MAAO,SAER,CACCV,KAAM,cACNU,MAAO,QAER,CACCV,KAAM,eACNU,MAAO,SAULk8C,EAAoB,SAASnpC,GAChC,IAAI6hC,EAAiB7hC,EAAM/L,SAAS,SAUpC,GAPE4tC,GACkB,YAAnBA,GACmB,SAAnBA,IAEAA,EAAiB7hC,EAAM1H,aAAa,WAGhCupC,EAAgB,CACpB,IAAIuH,EAAgBF,EAAqBvD,MAAM,SAASlyC,GACvD,IAAImyC,EAAa5lC,EAAM/L,SAASR,EAAMlH,QAAUkH,EAAMxG,MAatD,OAXK24C,GAAcnyC,EAAMoyC,iBACxBD,EAAanyC,EAAMoyC,eAAeltC,KAAK,SACtCmtC,GAEA,OACC9lC,EAAM/L,SAAS6xC,EAAeryC,EAAMlH,QACpCkH,EAAMxG,SAKF24C,IAGR,IAAK/D,EAAgB,CACpB,IAAIwH,EAAiBrpC,EAAM0Y,EAAEmG,WAEzBwqB,EAAe51C,MAAM61C,WAAaL,EAAgB9D,SACrD+D,EAAqB/wC,QAAQ,SAAS1E,GACrCuM,EAAMsgC,SAAS7sC,EAAMlH,KAAMkH,EAAMxG,OAE7BwG,EAAMoyC,gBACTpyC,EAAMoyC,eAAe1tC,QAAQ,SAC5B2tC,GAEA9lC,EAAMsgC,SACLwF,EAAeryC,EAAMlH,KACrBkH,EAAMxG,WAKVm8C,GAAgB,EAChBC,EAAe51C,MAAM61C,UAAY,IAInCzH,EAAiBuH,EAAgBH,EAAgB9D,OAAS,KAG3D,OAAOtD,GASJ0H,EAAuB,SAASvpC,EAAO6hC,GAC1C,GACCA,IAAmBoH,EAAgB7D,MACnCvD,IAAmBoH,EAAgB5D,MAEnCrlC,EAAMzC,YAAY,SAEdskC,IAAmBsH,EAAkBnpC,IACxCA,EAAMmrB,gBAAgB,cAEjB,GAAI0W,IAAmBoH,EAAgB9D,OAAQ,CACrD+D,EAAqB/wC,QAAQ,SAAS1E,GACrCuM,EAAMzC,YAAY9J,EAAMlH,MAEpBkH,EAAMoyC,gBACTpyC,EAAMoyC,eAAe1tC,QAAQ,SAAS2tC,GACrC9lC,EAAMzC,YAAYuoC,EAAeryC,EAAMlH,UAK1C,IAAI88C,EAAiBrpC,EAAM0Y,EAAEmG,WAEzBwqB,EAAe51C,MAAM61C,WAAaL,EAAgB9D,SACrDkE,EAAe51C,MAAM61C,UAAY,MAWhCE,EAAoB,SAASxpC,EAAO6hC,GACvC0H,EAAqBvpC,EAAOmpC,EAAkBnpC,IAG7C6hC,IAAmBoH,EAAgB7D,MACnCvD,IAAmBoH,EAAgB5D,MAEnCrlC,EAAMsgC,SAAS,QAASuB,GACdA,IAAmBoH,EAAgB9D,QAC7C+D,EAAqB/wC,QAAQ,SAAS1E,GACrCuM,EAAMsgC,SAAS7sC,EAAMlH,KAAMkH,EAAMxG,OAE7BwG,EAAMoyC,gBACTpyC,EAAMoyC,eAAe1tC,QAAQ,SAAS2tC,GACrC9lC,EAAMsgC,SAASwF,EAAeryC,EAAMlH,KAAMkH,EAAMxG,YAcrD8G,SAAS6gB,QAAQyM,IAAI,oBAAqB,CAQzC8d,UAAW,SAASrwC,GACnB,IAAIgmC,EAAOtkC,KAEX80C,EAAantC,QAAQ,SAASlL,GAC7B,IAAIkF,EAAUrD,EAAOgK,WAAW,UAAY7L,GAExCkF,IACHA,EAAQkqB,GAAG,OAAQ,SAASpnB,GAC3B,IAAIkJ,EAAgBrP,EAAOq3B,mBAE3B,GACChoB,GACAyB,UAAcI,MAAM,CACnB9N,KAAM,CAACiM,cAAeA,KAEtB,CACD,IAAI6B,EAAQ7B,EAAchH,QAEtB0qC,EAAiBsH,EAAkBnpC,GAEnC6hC,IAAmB50C,EACtBs8C,EAAqBvpC,EAAO/S,GAE5Bu8C,EAAkBxpC,EAAO/S,GAG1BgI,EAAMm3B,SAEN0I,EAAK2U,gBACJ36C,EACA,IAAIiF,SAASwX,IAAIvX,YAAYgM,OAKhC7N,EAAQkqB,GAAG,UAAW,SAASpnB,GAC9B,IAAIkJ,EAAgB,CACnBhH,QAASlC,EAAM/C,KAAKhD,KAAK4wB,aAG1B,GACClgB,UAAcI,MAAM,CACnB9N,KAAM,CAACiM,cAAeA,KAEtB,CACD,IAAI0jC,EAAiBsH,EACpBhrC,EAAchH,SAGf3G,KAAKsQ,SACJ+gC,IAAmB50C,EAChB8G,SAASiF,YACTjF,SAASuuC,cAGbrtC,EAAMm3B,gBAeXqd,gBAAiB,SAAS36C,EAAQkF,GACjCsxC,EAAantC,QAAQ,SAASlL,GAC7B,IAAIkF,EAAUrD,EAAOgK,WAAW,UAAY7L,GAExCkF,GACHA,EAAQgxC,QAAQr0C,EAAQkF,uCClQxBD,SAAS6gB,QAAQ/nB,IAAI,mBAwBzBkH,SAAS6gB,QAAQyM,IAAI,iBAAkB,CAQtCsG,KAAM,SAAS74B,GACdA,EAAOwsB,KACN,aACA,WACC,IAAIb,EAAW3rB,EAAO2rB,WAEtBA,EAASiT,eACRjT,EACA,QACAjqB,KAAKy9B,SACLz9B,KACA,CACC1B,OAAQA,KAGTtB,KAAKgD,QAeTy9B,SAAU,SAASh5B,GAClB,GAAIA,EAAM/C,KAAKwmB,EAAEkW,cAAe,CAC/B,IAAIC,EAAa55B,EAAM/C,KAAKwmB,EAAEkW,cAAc1zB,MAAM,GAC9CpM,EAASmG,EAAM0qB,aAAa7wB,OAEhC,GAAyC,IAArC+/B,EAAW74B,KAAKN,QAAQ,SAAgB,CAC3C,IAAIs5B,EAAS,IAAIC,WACbH,EAAYD,EAAWE,YAE3BC,EAAO0a,OAAS,SAASz0C,GACxB,IAAIiU,EAASpa,EAAOwD,KAAK,iBAAkB,CAC1C+7B,WAAYS,IAGb,GAAI5lB,EAAQ,CACX,IAAIoF,EAAKva,SAASwX,IAAIpU,QAAQoX,eAC7B,aAAetZ,EAAME,OAAO+T,OAAS,MAGtCpa,EAAO0f,cAAcF,GAErB,IAAI6gB,EAAY,CACf7gB,GAAIA,EACJ8f,KAAMU,GAGPhgC,EAAOwD,KAAK,WAAY68B,KAI1BH,EAAOI,cAAcN,sCC5F1B,IAAK/6B,SAAS6gB,QAAQ/nB,IAAI,kBAAmB,CAQ5C,IAAI88C,EAAW51C,SAAS+Q,IAAI8kC,cAAgB,OAAS,GAEjDC,EAAsB,CACzBC,EAAG,CAAC,MAAQH,EAAW,QACvBI,EAAG,CAAC,GAAI,IAAKJ,GACbK,EAAG,CAAC,QAAUL,EAAW,WAkB1B51C,SAAS6gB,QAAQyM,IAAI,iBAAkB,CAQtCsG,KAAM,SAAS74B,GACdA,EAAOutB,GAAG,OAAQ7rB,KAAKy5C,gBAAiBz5C,MACxC1B,EAAOutB,GAAG,SAAU7rB,KAAKy5C,gBAAiBz5C,MAC1C1B,EAAOutB,GAAG,QAAS7rB,KAAK05C,wBAAyB15C,MACjD1B,EAAOwsB,KAAK,aAAc9qB,KAAKy5C,gBAAiBz5C,OAWjDy5C,gBAAiB,SAASh1C,GACzB,IAAInG,EAASmG,EAAMnG,OAEfq7C,EAAer7C,EAAO2rB,WAEtB2vB,EAAYD,EAAazxB,EAAEyU,UAAUiV,OAErC5F,EAAUqN,EAAoB/6C,EAAOG,OAAO4tC,WAAWlkC,KAC1D,SAASxB,GACR,OAAOizC,IAAcjzC,IAInBqlC,EACH2N,EAAa9wB,SAASvqB,EAAOG,OAAO2uB,kBAEpCusB,EAAahxB,YAAYrqB,EAAOG,OAAO2uB,mBAWzCssB,wBAAyB,SAASj1C,GACjC,IAAInG,EAASmG,EAAMnG,OAEfu7C,EAAa,IAAIt2C,SAASwX,IAAIpU,QAAQrI,EAAOqI,QAAQuhB,GAEzD2xB,EAAWlxB,YAAYrqB,EAAOG,OAAO2uB,oDCtFnC7pB,SAAS6gB,QAAQ/nB,IAAI,2BAOzBkH,SAAS6gB,QAAQyM,IAAI,yBAA0B,CAC9CmD,SAAU,qBAUVmD,KAAM,SAAS74B,GACVA,EAAOG,OAAO8uB,qBACjBjvB,EAAOG,OAAO8uB,oBAAoB5lB,QAAQ,SACzCmyC,GAEA,IAAIn4C,EAAU,IAAI4B,SAAS5B,QAAQrD,EAAQ,CAC1CoL,KAAM,SAASpL,GACdA,EAAOwD,KAAK,oBAAqB,CAChC8Q,gBAAiBknC,EAAmB9nC,UACpCqV,YAAa,GACb1Z,cAAerP,EAAOq3B,wBAKrBnsB,EACH,qBAAuBswC,EAAmB9nC,UAE3C1T,EAAOuL,WAAWL,EAAa7H,GAC/BrD,EAAO2L,aAAa6vC,EAAmBj0C,KAAM2D,sCChClD,IAAKjG,SAAS6gB,QAAQ/nB,IAAI,kBAAmB,CAC5C,IAAI09C,EAASx2C,SAASoF,MAAMqxC,UAE5B,SAASC,EAASn8B,GACjB,OAAOva,SAAS+Q,IAAIC,GACjBuJ,EAAGoK,EAAEvN,YACL7X,SAASgb,EAAGxD,iBAAiB,SAAU,IAG3C,SAAS4/B,EAAevzC,EAASwzC,GAChC,IAAIC,EAAWzzC,EAAQ2T,iBAAiB,UAAY6/B,EAAO,UAEvDE,EAAY,CACfC,KAAM,MACNC,OAAQ,MACRC,MAAO,OAeR,OAZIJ,EAASl1C,QAAQ,MAAQ,IAM3Bk1C,EAHAA,KAAYC,GACgC,QAA5C1zC,EAAQ2T,iBAAiB,gBAEd+/B,EAAUD,GAEV,GAINt3C,SAASs3C,EAAU,IAI3B,SAASK,EAAmBxrC,GAW3B,IAVA,IAAIyrC,EAAQzrC,EAAMiZ,EAAEpD,KAEhB61B,EAAW,EAEXC,SAEAC,SAEAC,SAEKt/C,EAAI,EAAGwpC,EAAM0V,EAAMt5C,OAAQ5F,EAAIwpC,EAAKxpC,IAC5Cs/C,EAAMJ,EAAMl/C,GACZo/C,EAAaE,EAAIpiB,MAAMt3B,OAEnBw5C,EAAaD,IAChBA,EAAWC,EACXC,EAAWC,GAIb,OAAOD,EAGR,SAASE,EAAwB9rC,GAiBhC,IAhBA,IAAI+rC,EAAU,GAEVC,GAAe,EAEfC,EAA8C,QAAxCjsC,EAAMqL,iBAAiB,aAG7BwgC,EAAML,EAAmBxrC,GAIzBsoB,EAAQ,IAAIh0B,SAASwX,IAAIpU,QAAQsI,EAAMiZ,EAAEizB,QAAQ,IAEjDC,EAAgB7jB,EAAM8jB,sBAGjB7/C,EAAI,EAAGwpC,EAAM8V,EAAIpiB,MAAMt3B,OAAQ5F,EAAIwpC,EAAKxpC,IAAK,CAGrD,IAAIg8B,EAAK,IAAIj0B,SAASwX,IAAIpU,QAAQm0C,EAAIpiB,MAAMl9B,IAExC8/C,EACHR,EAAIpiB,MAAMl9B,EAAI,IAAM,IAAI+H,SAASwX,IAAIpU,QAAQm0C,EAAIpiB,MAAMl9B,EAAI,IAE5Dy/C,GAAezjB,EAAGtP,EAAEqzB,SAAW,EAG/B,IAAIC,SACAC,SACAC,SAEAtgC,EAAIoc,EAAG6jB,sBAAsBjgC,EAGjC8/B,EACIO,EAAcrgC,EAAI8+B,EAAe1iB,EAAI,QACrCgkB,EACDpgC,EAAIoc,EAAGtP,EAAErN,YAAcq/B,EAAe1iB,EAAI,SAGzC8jB,GACHlgC,EAAIkgC,EAAOD,sBAAsBjgC,EAEjC8/B,EACIM,EACDpgC,EACAkgC,EAAOpzB,EAAErN,YACTq/B,EAAeoB,EAAQ,SACtBG,EAAcrgC,EAAI8+B,EAAeoB,EAAQ,UAI7ClgC,EAAInM,EAAMosC,sBAAsBjgC,EAEhC8/B,EACIM,EAAapgC,EACbqgC,EAAcrgC,EAAInM,EAAMiZ,EAAErN,aAG/B6gC,EAAcz0C,KAAKC,IAAIu0C,EAAcD,EAAY,GAIjDR,EAAQjzC,KAAK,CACZkH,MAAOA,EACP7G,MAAO6yC,EACP7/B,EAAGogC,EACHngC,EAAG+/B,EAAc//B,EACjBxc,MAAO68C,EACP58C,OAAQy4B,EAAMrP,EAAE1M,aAChB0/B,IAAKA,IAIP,OAAOF,EAGR,SAASW,EAAoBX,EAASY,GACrC,IAAK,IAAIpgD,EAAI,EAAGwpC,EAAMgW,EAAQ55C,OAAQ5F,EAAIwpC,EAAKxpC,IAAK,CACnD,IAAIqgD,EAASb,EAAQx/C,GAErB,GAAIogD,GAAaC,EAAOzgC,GAAKwgC,GAAaC,EAAOzgC,EAAIygC,EAAOh9C,MAC3D,OAAOg9C,EAIT,OAAO,KAGR,SAASjgB,EAAO+Q,IACdA,EAAIjrC,MAAQirC,GAAKvnC,iBAGnB,SAAS02C,EAAcx9C,EAAQu9C,GAC9B,IAAI92C,SACAg3C,SACArL,SACA7M,SACAmY,SACAxuC,SACAyuC,SAEAC,SAEAC,SAEAC,SAEAC,SAEJ,SAAS/qB,IACRuS,EAAQ1G,eAAe,UAAW2Q,GAClCjK,EAAQ1G,eAAe,YAAamf,GACpCzY,EAAQ1G,eAAe,YAAa0Q,GAGrC,SAAS0O,IAkBR,IAdA,IAAIC,EAAcX,EAAOzzC,MAErBuC,EAAMpH,SAASoF,MAAM8zC,cAAcZ,EAAO5sC,OAE1CytC,EAAkB,GAElBC,EAAmB,GAEnBC,EAAcC,OAAOC,UAErBC,EAAeH,EAEf1B,EAAMW,EAAOX,IAER1/C,EAAI,EAAGwpC,EAAMr6B,EAAIvJ,OAAQ5F,EAAIwpC,EAAKxpC,IAAK,CAC/C,IAAI28B,EAAMxtB,EAAInP,GAEVwhD,EAAW7kB,EAAIqkB,GAAetB,EAAM,EAAI,IAExC+B,EAAY9kB,EAAIqkB,GAAetB,EAAM,EAAI,IAE7C8B,EAAWA,GAAY,IAAIz5C,SAASwX,IAAIpU,QAAQq2C,GAChDC,EAAYA,GAAa,IAAI15C,SAASwX,IAAIpU,QAAQs2C,GAE7CD,GAAaC,GAAcD,EAAS3vC,OAAO4vC,KAC/CD,IACEJ,EAAc31C,KAAKE,IACnBy1C,EACA3C,EAAS+C,KAEXC,IACEF,EAAe91C,KAAKE,IACpB41C,EACA9C,EAASgD,KAGXP,EAAgB30C,KAAKi1C,GACrBL,EAAiB50C,KAAKk1C,IAKxBf,EAAgBQ,EAChBP,EAAiBQ,EAGjBP,EAAoBP,EAAOzgC,EAAIwhC,EAC/BP,EAAqBR,EAAOzgC,EAAI2hC,EAEhClZ,EAAQqZ,WAAW,IACnB1vC,EAAc1K,SAAS+gC,EAAQpgC,SAAS,QAAS,IACjDw4C,EAAe,EACfD,EAAW,EAEXnY,EAAQhY,GAAG,YAAagiB,GAGxB9oC,EAAS8mB,GAAG,YAAa+P,GAG1B,SAASuhB,IACRnB,EAAW,EAEXnY,EAAQqZ,WAAW,GAEnBjB,GAAgBmB,IAEhB,IAAInuC,EAAQ4sC,EAAO5sC,MACnBsG,WAAW,WACVtG,EAAMouC,iBAAiB,uBACrB,GAEHt4C,EAASo4B,eAAe,YAAavB,GAGtC,SAASwhB,IAMR,IANuB,IAAAn8C,EAAAjB,KACnBk7C,EAAMW,EAAOX,IAEbN,EAAaM,EAAMiB,EAAe/6C,OAAS86C,EAAc96C,OAHtCk8C,EAAA,SAMd9hD,GACR,IAAIwhD,EAAWd,EAAc1gD,GAEzByhD,EAAYd,EAAe3gD,GAEzByT,EAAQ4sC,EAAO5sC,MAGrB1L,SAASoF,MAAM4M,WACd,SACCynC,EACAO,EACAN,EACAO,EACAC,EACAC,GAGAV,GACCA,EAASlN,SACR,QACAiK,EAAO9yC,KAAKC,IAAIq2C,EAAeG,EAAW,KAE5CT,GACCA,EAAUnN,SACT,QACAiK,EAAO9yC,KAAKC,IAAIs2C,EAAgBE,EAAW,KAIzCD,GACHxuC,EAAM6gC,SACL,QACAiK,EAAO0D,EAAaC,GAAaxC,GAAO,EAAI,MAI/C,EACAj6C,EACA,CACC+7C,EACAA,GAAY/C,EAAS+C,GACrBC,EACAA,GAAahD,EAASgD,KACpBD,IAAaC,IACdhD,EAAShrC,GACRirC,EAAejrC,EAAO,QACtBirC,EAAejrC,EAAO,SACxBgtC,KAhDMzgD,EAAI,EAAGA,EAAIo/C,EAAYp/C,IAAK8hD,EAA5B9hD,GAsDV,SAAS8gD,EAAY3P,GACpB/Q,EAAO+Q,GAEP4P,IAEAx3C,EAAS8mB,GAAG,UAAWiiB,EAAW9tC,MAGnC,SAAS8tC,EAAUnB,GAClBA,EAAIxP,iBAEJggB,IAGD,SAAStP,EAAYlB,GACpB+D,EAAK/D,EAAIjrC,KAAKi8C,gBAAgBviC,GAG/BrW,EAAWzG,EAAOyG,SAElB8+B,EAAUtgC,SAASwX,IAAIpU,QAAQoX,eAC9B,mOAGAhZ,GAIDzG,EAAOutB,GAAG,UAAW,WACpByF,IAEAuS,EAAQ1xB,WAKTpN,EAAS64C,qBAAqB1lB,OAAO2L,GAErCA,EAAQnb,UAAU,CACjB7pB,MAAOk7C,EAAO8B,EAAOh9C,OACrBC,OAAQi7C,EAAO8B,EAAO/8C,QACtB+a,KAAMkgC,EAAO8B,EAAOzgC,GACpBtB,IAAKigC,EAAO8B,EAAOxgC,KAGpBwoB,EAAQhY,GAAG,YAAaywB,EAAat8C,MAErC+E,EAAS42B,UAAUmU,SAAS,SAAU,cAItCjM,EAAQM,OAERuM,EAAO1wC,KAAK0wC,KAAO,SAASmN,GAC3B,IAAIC,EACHD,EAAO52C,KAAK87B,MAAMc,EAAQ3b,EAAErN,YAAc,GAE3C,GAAIkhC,EAAY,CACf,GACC+B,IAAuB1B,GACvB0B,IAAuBzB,EAEvB,OAGDyB,EAAqB72C,KAAKC,IACzB42C,EACA1B,GAED0B,EAAqB72C,KAAKE,IACzB22C,EACAzB,GAGDJ,EAAe6B,EAAqBtwC,EAGrCq2B,EAAQiM,SAAS,OAAQiK,EAAO+D,KAGjC99C,KAAKwuB,QAAU,WACd8C,IAEAvsB,EAAS42B,UAAUmU,SAAS,SAAU,QAEtCjM,EAAQ1xB,UAGT4pC,EAAa/7C,KAAK+7C,WAAa,WAC9B,OAAOC,GAIT,SAAS+B,EAAkBpR,GAC1B,IAAIhoC,EAASgoC,EAAIjrC,KAAK2tB,YAEtB,GAAiB,aAAbsd,EAAI5wC,KAAqB,CAE5B,IAAK4I,EAAO+tB,GAAG,SACd,OAGD,IAAIsrB,EAAO,IAAIz6C,SAASwX,IAAIpU,QAC3BgmC,EAAIjrC,KAAKwmB,EAAE6U,eAAiB4P,EAAIjrC,KAAKwmB,EAAE+1B,WAExC,MAAOD,GAAQA,EAAK91B,IAAM81B,EAAK3wC,OAAO1I,KAAYq5C,EAAKtrB,GAAG,QACzDsrB,EAAOA,EAAKhlB,YAEb,IAAKglB,GAAQA,EAAK3wC,OAAO1I,GACxB,OAIFA,EAAOub,aAAa,QAAS,GAAGm9B,iBAAiB,sBACjD1Q,EAAIxP,iBAGL55B,SAAS6gB,QAAQyM,IAAI,iBAAkB,CACtCmD,SAAU,gBAEVmD,KAAM,SAAS74B,GACdA,EAAOutB,GAAG,aAAc,WACvB,IAAIgY,SAEA5Z,EAAW3rB,EAAO2rB,WAItBA,EAASiT,eACRjT,EAASi0B,WAAaj0B,EAAW3rB,EAAOyG,SACxC,YACA,SAAS4nC,GACRA,EAAMA,EAAIjrC,KAEV,IAAIiD,EAASgoC,EAAItd,YAIjB,GAAI1qB,EAAOa,OAASjC,SAASu1B,aAA7B,CAIA,IAAIvR,EAAQolB,EAAIgR,gBAAgBviC,EAIhC,GAAIyoB,EAAS,CACZ,GAAIA,EAAQkY,aAKX,OAJAlY,EAAQ6M,KAAKnpB,QAEbqU,EAAO+Q,GAIP9I,EAAQrV,UAERqV,EAAU,KAKZ,IAAI50B,SACA+rC,SAEJ,IACEr2C,EAAO+tB,GAAG,UACV/tB,EAAOub,aAAa,QAAS,MAK/BjR,EAAQtK,EAAOub,aAAa,QAAS,GAIhC5hB,EAAO2rB,WAAW7b,SAASa,IAAhC,EAKG+rC,EAAU/rC,EAAMkvC,cACjB,yBAIDlvC,EAAMmvC,cACL,qBACCpD,EAAUD,EAAwB9rC,IAEpCA,EAAM4c,GAAG,WAAYkyB,GACrB9uC,EAAM4c,GAAG,YAAakyB,IAGvB,IAAIlC,EAASF,EAAoBX,EAASzzB,GAEtCs0B,IACHhY,EAAU,IAAIiY,EAAcx9C,EAAQu9C,4CC9f3C,IAAKt4C,SAAS6gB,QAAQ/nB,IAAI,iBAAkB,CAC3C,IAAIgiD,EAAgB,cAEpB,SAASC,EAAiBtsC,GACzB,IAAIikB,EAASjkB,EAAU1D,YACnBiwC,EAAS,GACTC,EAAW,GAEf,SAASC,EAAmBv0B,GAEvBq0B,EAAOn9C,OAAS,GAKnB8oB,EAAK1kB,MAAQjC,SAASu1B,cACtBulB,EAAcjlC,KAAK8Q,EAAKxb,aACvBwb,EAAKi0B,cAAc,mBAEpB56C,SAASwX,IAAIpU,QAAQ+3C,UACpBF,EACAt0B,EACA,iBACA,GAEDq0B,EAAOx2C,KAAKmiB,IAId,IAAK,IAAI1uB,EAAI,EAAGA,EAAIy6B,EAAO70B,OAAQ5F,IAAK,CACvC,IAAI0R,EAAQ+oB,EAAOz6B,GAEnB,GAAI0R,EAAMilB,UAAW,CAEpB,IAAIqD,EAAYtoB,EAAMgB,oBAClBywC,EACHnpB,EAAUtV,aAAa,MAAM,IAC7BsV,EAAUtV,aAAa,MAAM,GAC1By+B,GAAaJ,EAAOx2C,KAAK42C,OACvB,CACN,IAAIC,EAAS,IAAIr7C,SAASwX,IAAI6jC,OAAO1xC,GACjCgd,SACJ00B,EAAOC,MAAQJ,EAEf,MAAQv0B,EAAO00B,EAAOp4C,OAQrB,GACC0jB,EAAK1kB,MAAQjC,SAASu1B,eACrB5O,EAAKwI,GAAGnvB,SAASu7C,IAAI7vC,OACrB,CACD,IAAIsqB,EACHrP,EAAKhK,aAAa,MAAM,IACxBgK,EAAKhK,aAAa,MAAM,GACrBqZ,IAAWA,EAAO4kB,cAAc,mBACnC56C,SAASwX,IAAIpU,QAAQ+3C,UACpBF,EACAjlB,EACA,iBACA,GAEDglB,EAAOx2C,KAAKwxB,MASjB,OAFAh2B,SAASwX,IAAIpU,QAAQo4C,gBAAgBP,GAE9BD,EAGR,SAASS,EAA6BC,GACrC,IAAIzjD,EAAI,EAEJ0jD,EAAOD,EAAc79C,OAAS,EAE9Bo9C,EAAW,GAEXnmB,SAEA8mB,SAEAvnB,SAEJ,MAAQS,EAAO4mB,EAAczjD,KAC5B+H,SAASwX,IAAIpU,QAAQ+3C,UAAUF,EAAUnmB,EAAM,eAAe,GAG/D78B,EAAI,EACJ,MAAQ68B,EAAO4mB,EAAczjD,KAC5B,IACG2jD,EAAc9mB,EAAK2H,iBACnBmf,EAAYhB,cAAc,iBAC1BgB,EAAc9mB,EAAK+I,aACnB+d,EAAYhB,cAAc,eAG5B,OADA56C,SAASwX,IAAIpU,QAAQo4C,gBAAgBP,GAC9BW,EAQT,OAJA57C,SAASwX,IAAIpU,QAAQo4C,gBAAgBP,GAGrC5mB,EAAKqnB,EAAc,GAAGjmB,aACjBpB,EAAKA,EAAGoI,eAAuBpI,EAAGsI,WAGvCtI,EAAKqnB,EAAcC,GAAMlmB,aACpBpB,EAAKA,EAAGwJ,WAAmBxJ,EAAGwC,SAAS,GAErC,MAGR,SAASglB,EAAUptC,EAAW4oB,GAiC7B,IAhCA,IAAIlC,EAAQ4lB,EAAiBtsC,GAEzBymB,EAAYC,EAAM,GAElBzpB,EAAQwpB,EAAUvY,aAAa,SAE/BssB,EAAM/T,EAAU4mB,cAEhBC,EAAW5mB,EAAM,GAAGM,YAEpBumB,EAAgBD,EAASp3B,EAAEs3B,SAE3BC,EAAW/mB,EAAMA,EAAMt3B,OAAS,GAEhCs+C,EACHD,EAASzmB,YAAY9Q,EAAEs3B,SAAWC,EAASv3B,EAAEy3B,QAAU,EAEpDC,EAAS,IAAIr8C,SAASwX,IAAIpU,QAAQsI,EAAMiZ,EAAEpD,KAAK46B,IAE/CF,EAAW5kB,EAAe2kB,EAAgBG,EAE1CvnB,EAAMyC,EAAe0kB,EAAWM,EAEhCj1C,EAAMpH,SAASoF,MAAM8zC,cAAcxtC,GAEnC4wC,EAAWl1C,EAAI60C,GAEfM,EAAUllB,EAAejwB,EAAI60C,EAAW,GAAK70C,EAAI60C,EAAW,GAE5D3gD,EAAQ8L,EAAI,GAAGvJ,OAEf2+C,EAASvT,EAAItuC,cAAc,MACtB1C,EAAI,EAAGqkD,EAASrkD,IAAMA,EAAIqD,EAAOrD,IAAK,CAC9C,IAAI68B,SAGHwnB,EAASrkD,GAAGmkD,QAAU,GACtBG,GACAD,EAASrkD,IAAMskD,EAAQtkD,IAEvB68B,EAAOwnB,EAASrkD,GAChB68B,EAAKsnB,SAAW,IAEhBtnB,EAAO,IAAI90B,SAASwX,IAAIpU,QAAQk5C,EAASrkD,IAAIwkD,QAC7C3nB,EAAKsC,gBAAgB,WACrBtC,EAAKC,cACLynB,EAAO7nB,OAAOG,GACdA,EAAOA,EAAKnQ,GAGb1sB,GAAK68B,EAAKkjB,QAAU,EAGrB3gB,EAAemlB,EAAOnlB,aAAazC,GAAO4nB,EAAOE,YAAY9nB,GAG9D,SAAS+nB,EAAWC,GACnB,GAAIA,aAA0B58C,SAASwX,IAAI/I,UAAW,CAqBrD,IApBA,IAAI0mB,EAAQ4lB,EAAiB6B,GAEzB1nB,EAAYC,EAAM,GAEhBzpB,EAAQwpB,EAAUvY,aAAa,SAEjCvV,EAAMpH,SAASoF,MAAM8zC,cAAcxtC,GAEnCqwC,EAAW5mB,EAAM,GAAGM,YAEpBumB,EAAgBD,EAASp3B,EAAEs3B,SAE3BC,EAAW/mB,EAAMA,EAAMt3B,OAAS,GAEhCs+C,EACHD,EAASzmB,YAAY9Q,EAAEs3B,SAAWC,EAASv3B,EAAEy3B,QAAU,EAEpDS,EAAe,GAGV5kD,EAAI+jD,EAAe/jD,GAAKkkD,EAAalkD,IAAK,CAKlD,IAJA,IAAI6kD,EAAS11C,EAAInP,GAEb28B,EAAM,IAAI50B,SAASwX,IAAIpU,QAAQsI,EAAMiZ,EAAEpD,KAAKtpB,IAEvC48B,EAAI,EAAGA,EAAIioB,EAAOj/C,OAAQg3B,IAAK,CACvC,IAAIC,EAAO,IAAI90B,SAASwX,IAAIpU,QAAQ05C,EAAOjoB,IAEvCkoB,EAAejoB,EAAKW,YAAY9Q,EAAEs3B,SAEtC,GAAsB,GAAlBnnB,EAAKnQ,EAAEy3B,QAActnB,EAAKlmB,cAM7B,GAFAkmB,EAAKnQ,EAAEy3B,SAAW,EAEdW,GAAgB9kD,EAAG,CACtB,IAAI+kD,EAAa51C,EAAInP,EAAI,GACzB+kD,EAAWnoB,EAAI,GACZC,EAAK4nB,YACL,IAAI18C,SAASwX,IAAIpU,QAChB45C,EAAWnoB,EAAI,KAGhB,IAAI70B,SAASwX,IAAIpU,QACjBsI,EAAMiZ,EAAEpD,KAAKtpB,EAAI,IACf08B,OAAOG,EAAM,GAIpBD,GAAKC,EAAKnQ,EAAEqzB,QAAU,EAGvB6E,EAAar4C,KAAKowB,GAenB,IAZA,IAAIrT,EAAO7V,EAAMiZ,EAAEpD,KAMf07B,EAAiB,IAAIj9C,SAASwX,IAAIpU,QACrCme,EAAK46B,EAAc,KACjBH,EAAgB,EAAIz6B,EAAKy6B,EAAgB,GAAK,OAC/CtwC,EAAMiZ,EAAEmG,YAGD7yB,EAAI4kD,EAAah/C,OAAQ5F,GAAK,EAAGA,IACzC0kD,EAAWE,EAAa5kD,IAEzB,OAAOglD,EACD,GAAIL,aAA0B58C,SAASwX,IAAIpU,QAAS,CAC1D,IAAMsI,EAAQkxC,EAAejgC,aAAa,SAEf,GAAvBjR,EAAMiZ,EAAEpD,KAAK1jB,OAAa6N,EAAMkD,SAC/BguC,EAAehuC,SAGrB,OAAO,KAGR,SAASsuC,EAAgBpoB,EAAMqoB,GAM9B,IALA,IAAIvoB,EAAME,EAAKW,YAEX2nB,EAAWxoB,EAAIjQ,EAAEwQ,MAEjBkoB,EAAW,EACNplD,EAAI,EAAGA,EAAImlD,EAASv/C,OAAQ5F,IAAK,CACzC,IAAIqlD,EAAUF,EAASnlD,GAEvB,GADAolD,GAAYF,EAAU,EAAIG,EAAQtF,QAC9BsF,GAAWxoB,EAAKnQ,EAAG,MAGxB,OAAO04B,EAAW,EAGnB,SAASE,EAAkBpoB,EAAOgoB,GAEjC,IADA,IAAInC,EAASmC,EAAUnqB,IAAW,EACzB/6B,EAAI,EAAGA,EAAIk9B,EAAMt3B,OAAQ5F,IAAK,CACtC,IAAIolD,EAAWH,EAAgB/nB,EAAMl9B,GAAIklD,IACrCA,EAAUE,EAAWrC,EAASqC,EAAWrC,KAC5CA,EAASqC,GAEX,OAAOrC,EAGR,SAASwC,EAAa/uC,EAAW4oB,GAqBhC,IApBA,IAAIlC,EAAQ4lB,EAAiBtsC,GAEzBymB,EAAYC,EAAM,GAElBzpB,EAAQwpB,EAAUvY,aAAa,SAE/B8gC,EAAWF,EAAkBpoB,EAAO,GAEpCuoB,EAAUH,EAAkBpoB,GAE5BkoB,EAAWhmB,EAAeomB,EAAWC,EAErCt2C,EAAMpH,SAASoF,MAAM8zC,cAAcxtC,GAEnCiyC,EAAW,GAEXC,EAAU,GAEVriD,EAAS6L,EAAIvJ,OAER5F,EAAI,EAAGA,EAAIsD,EAAQtD,IAAK,CAChC0lD,EAASn5C,KAAK4C,EAAInP,GAAGolD,IACrB,IAAIQ,EAAWxmB,EACZjwB,EAAInP,GAAGolD,EAAW,GAClBj2C,EAAInP,GAAGolD,EAAW,GACrBO,EAAQp5C,KAAKq5C,GAGd,IAAK,IAAI5lD,EAAI,EAAGA,EAAIsD,EAAQtD,IAAK,CAChC,IAAI68B,SAEC6oB,EAAS1lD,KAGV0lD,EAAS1lD,GAAG+/C,QAAU,GAAK4F,EAAQ3lD,IAAM0lD,EAAS1lD,IACrD68B,EAAO6oB,EAAS1lD,GAChB68B,EAAKkjB,SAAW,IAEhBljB,EAAO,IAAI90B,SAASwX,IAAIpU,QAAQu6C,EAAS1lD,IAAIwkD,QAC7C3nB,EAAKsC,gBAAgB,WACrBtC,EAAKC,cACLD,EAAKuC,EAAe,eAAiB,eAAej/B,KACnD08B,EACA,IAAI90B,SAASwX,IAAIpU,QAAQu6C,EAAS1lD,KAEnC68B,EAAOA,EAAKnQ,GAGb1sB,GAAK68B,EAAKsnB,QAAU,IAItB,SAAS0B,EAAcC,GAoBtB,IAnBA,IAAI5oB,EAAQ4lB,EAAiBgD,GAEzB7oB,EAAYC,EAAM,GAElB+mB,EAAW/mB,EAAMA,EAAMt3B,OAAS,GAEhC6N,EAAQwpB,EAAUvY,aAAa,SAE/BvV,EAAMpH,SAASoF,MAAM8zC,cAAcxtC,GAEnCsyC,SAEAC,SAEApB,EAAe,GAEft7B,SAGKtpB,EAAI,EAAGspB,EAAOna,EAAIvJ,OAAQ5F,EAAIspB,EAAMtpB,IAC5C,IAAK,IAAI48B,EAAI,EAAGvT,EAAOla,EAAInP,GAAG4F,OAAQg3B,EAAIvT,EAAMuT,IAC3CztB,EAAInP,GAAG48B,IAAMK,EAAUvQ,IAAGq5B,EAAgBnpB,GAC1CztB,EAAInP,GAAG48B,IAAMqnB,EAASv3B,IAAGs5B,EAAcppB,GAK7C,IAAK,IAAI58B,EAAI+lD,EAAe/lD,GAAKgmD,EAAahmD,IAC7C,IAAK,IAAI48B,EAAI,EAAGA,EAAIztB,EAAIvJ,OAAQg3B,IAAK,CACpC,IAAIioB,EAAS11C,EAAIytB,GAEbD,EAAM,IAAI50B,SAASwX,IAAIpU,QAAQsI,EAAMiZ,EAAEpD,KAAKsT,IAE5CC,EAAO,IAAI90B,SAASwX,IAAIpU,QAAQ05C,EAAO7kD,IAEvC68B,EAAKnQ,IACc,GAAlBmQ,EAAKnQ,EAAEqzB,QAAcljB,EAAKlmB,SAEzBkmB,EAAKnQ,EAAEqzB,SAAW,EAEvBnjB,GAAKC,EAAKnQ,EAAEy3B,QAAU,EAEjBxnB,EAAIjQ,EAAEwQ,MAAMt3B,QAAQg/C,EAAar4C,KAAKowB,IAK9C,IAAIspB,EAAgBxyC,EAAMiZ,EAAEpD,KAAK,IAAM7V,EAAMiZ,EAAEpD,KAAK,GAAG4T,MAMnD8nB,EAAiB,IAAIj9C,SAASwX,IAAIpU,QACrC86C,EAAcF,KACZA,EACEE,EAAcF,EAAgB,GAC9BtyC,EAAMiZ,EAAEmG,aAMb,OAFI+xB,EAAah/C,QAAU0jB,GAAM7V,EAAMkD,SAEhCquC,EAGR,SAASkB,EAAW1vC,EAAW4oB,GAC9B,IAAI+mB,EAAe3vC,EAAUkhB,kBACzBmF,EACHspB,EAAazhC,aAAa,KAAM,IAChCyhC,EAAazhC,aAAa,KAAM,GAEjC,GAAKmY,EAAL,CAGA,IAAIqB,EAAUrB,EAAK2nB,QACnBtmB,EAAQpB,cAEJsC,EAAclB,EAAQkB,aAAavC,GAClCqB,EAAQumB,YAAY5nB,IAG1B,SAASupB,EAAYN,GACpB,GAAIA,aAA2B/9C,SAASwX,IAAI/I,UAAW,CAMtD,IALA,IAAIitC,EAAgBX,EAAiBgD,GACjCryC,EACHgwC,EAAc,IAAMA,EAAc,GAAG/+B,aAAa,SAC/C2hC,EAAc7C,EAA6BC,GAEtCzjD,EAAIyjD,EAAc79C,OAAS,EAAG5F,GAAK,EAAGA,IAC9ComD,EAAY3C,EAAczjD,IAEvBqmD,EAAaC,EAAkBD,GAAa,GACvC5yC,GAAOA,EAAMkD,cAChB,GAAImvC,aAA2B/9C,SAASwX,IAAIpU,QAAS,CAC3D,IAAIixB,EAAK0pB,EAAgBtoB,YACC,GAAtBpB,EAAG4B,gBAAsB5B,EAAGzlB,SAC3BmvC,EAAgBnvC,UAKvB,SAAS4vC,EAAS1pB,GACjB,IAAI2pB,EAAQ3pB,EAAK4pB,WACjBD,GAASA,EAAM7vC,SACfkmB,EAAKuZ,OAGN,SAASkQ,EAAkBzpB,EAAM6pB,GAChC,IAAIC,EAAW9pB,EAAKgnB,cAEhB+C,EAAW7+C,SAASwB,SAMpBxB,SAAS+Q,IAAIC,IAA8B,IAAxBhR,SAAS+Q,IAAIoZ,UACnC00B,EAAS59C,QACT29C,EAAS39C,SAGV,IAAI0I,EAAQ,IAAI3J,SAASwX,IAAI7N,MAAMi1C,GAEjCj1C,EAAM,qBAAuBg1C,EAAa,MAAQ,UAAU7pB,KAE7DnrB,EAAMmlB,mBAAmBgG,GACzBnrB,EAAMm1C,UAASH,IAEhBh1C,EAAMulB,QAAO,GAGd,SAAS6vB,EAAUC,EAAU/C,EAAUnnB,GACtC,IAAImqB,EAAOD,EAAS/C,GACpB,GAAmB,oBAARnnB,EAAqB,OAAOmqB,EAEvC,IAAK,IAAI3mD,EAAI,EAAG2mD,GAAQ3mD,EAAI2mD,EAAKphD,OAAQvF,IAAK,CAC7C,GAAIw8B,EAAK3F,IAAM8vB,EAAK3mD,IAAMw8B,EAAKnQ,EAAG,OAAOrsB,EACpC,GAAIA,GAAKw8B,EAAM,OAAO,IAAI90B,SAASwX,IAAIpU,QAAQ67C,EAAK3mD,IAE1D,OAAOw8B,EAAK3F,IAAM,EAAI,KAGvB,SAAS+vB,EAAUF,EAAU3B,GAE5B,IADA,IAAI8B,EAAO,GACFpmD,EAAI,EAAGA,EAAIimD,EAASnhD,OAAQ9E,IAAK,CACzC,IAAI67B,EAAMoqB,EAASjmD,GACnBomD,EAAK36C,KAAKowB,EAAIyoB,IAGVzoB,EAAIyoB,GAAUjB,QAAU,IAAGrjD,GAAK67B,EAAIyoB,GAAUjB,QAAU,GAE7D,OAAO+C,EAGR,SAASC,EAAW3wC,EAAW4wC,EAAgBC,GAC9C,IAAInqB,EAAQ4lB,EAAiBtsC,GAMzB8wC,SACJ,IACEF,EAAiC,GAAhBlqB,EAAMt3B,OAAcs3B,EAAMt3B,OAAS,KACnD0hD,EAAiB9wC,EAAU9D,sBAC5B40C,EAAet9C,MAAQjC,SAASu1B,cAChCgqB,EAAepwB,GAAG,SAEnB,OAAO,EAER,IAAI2F,SAEAI,EAAYC,EAAM,GAElBzpB,EAAQwpB,EAAUvY,aAAa,SAE/BvV,EAAMpH,SAASoF,MAAM8zC,cAAcxtC,GAEnC8zC,EAAYp4C,EAAIvJ,OAEhB4hD,EAAWr4C,EAAI,GAAGvJ,OAElBk+C,EAAW7mB,EAAUO,YAAY9Q,EAAEs3B,SAEnCyD,EAAcX,EAAU33C,EAAK20C,EAAU7mB,GAE3C,GAAImqB,EAAgB,CACnB,IAAIM,SACJ,IACC,IAAIC,EACHrgD,SAAS21B,EAAU3wB,aAAa,WAAY,KAAO,EAChDs7C,EACHtgD,SAAS21B,EAAU3wB,aAAa,WAAY,KAAO,EAEpDo7C,EACCv4C,EACmB,MAAlBi4C,EACGtD,EAAW6D,EACO,QAAlBP,EACAtD,EAAW6D,EACX7D,GAEe,QAAlBsD,EACGK,EAAcG,EACI,SAAlBR,EACAK,EAAcG,EACdH,GAEJ,MAAOI,GACR,OAAO,EAKR,IAAKH,GAAczqB,EAAUvQ,GAAKg7B,EAAY,OAAO,EAGrDxqB,EACmB,MAAlBkqB,GAA4C,QAAlBA,EACvB,UACA,QACF,IAAIr/C,SAASwX,IAAIpU,QAAQu8C,IAkB5B,IAdA,IAAI1W,EAAM/T,EAAU4mB,cAEhBiE,EAAehE,EAEfiE,EAAe,EAEfC,EAAe,EAIfC,GAAQZ,GAAY,IAAIt/C,SAASwX,IAAI2oC,iBAAiBlX,GAEtDvC,EAAY,EAEPzuC,EAAI,EAAGA,EAAIk9B,EAAMt3B,OAAQ5F,IAAK,CACtC68B,EAAOK,EAAMl9B,GAEb,IAAIo8B,EAAKS,EAAKW,YAEV2qB,EAAiBtrB,EAAKmC,WAEtB+gB,EAAUljB,EAAKnQ,EAAEqzB,QAEjBoE,EAAUtnB,EAAKnQ,EAAEy3B,QAEjBH,EAAW5nB,EAAG1P,EAAEs3B,SAEhBoB,EAAW0B,EAAU33C,EAAK60C,EAAUnnB,GAcxC,GAXA4R,GAAasR,EAAUoE,EAEvB6D,EAAev8C,KAAKC,IACnBs8C,EACA5C,EAAWqC,EAAc1H,GAE1BgI,EAAet8C,KAAKC,IACnBq8C,EACA/D,EAAWF,EAAWK,IAGlBkD,EAAU,CAEd,GAAKd,EAAS1pB,GAAOA,EAAK1F,cAAcC,QAAU,CAEjD,GACC4sB,GAAY8D,GACZK,KAECA,EAAeC,kBACfD,EAAeC,gBAAgB,CAAC5gB,GAAI,KAEpC,CACD,IAAIkc,EAAOuE,EAAKvjB,QACf38B,SAASwX,IAAI6jC,OAAOiF,aAAY,KAE7B3E,GAAUA,EAAKxsB,IAAMwsB,EAAKxsB,GAAG,OAChC+wB,EAAKvrB,OAAO,MAGdG,EAAKyrB,aAAaL,GAEnBjoD,EAAI68B,EAAKlmB,SAAWkmB,EAAK2b,QAAQ,IAElCsP,EAAe9D,EAGhB,GAAKqD,EA8BJ,OAAOU,EAAeC,GAAgBvZ,EA7BtCwZ,EAAKK,aAAarrB,GAElBA,EAAUH,cAENkrB,GAAgBR,EAAUvqB,EAAUkC,gBAAgB,WACnDlC,EAAUvQ,EAAEy3B,QAAU4D,EAEvBA,GAAgBR,EAAWtqB,EAAUkC,gBAAgB,WACpDlC,EAAUvQ,EAAEqzB,QAAUiI,EAO3B,IAJA,IAAIO,EAAM,IAAIxgD,SAASwX,IAAIipC,SAAS/0C,EAAMiZ,EAAEpD,MAExC8N,EAAQmxB,EAAInxB,QAEPp3B,EAAIo3B,EAAQ,EAAGp3B,GAAK,EAAGA,IAAK,CACpC,IAAIyoD,EAASF,EAAIlxB,QAAQr3B,GACpByoD,EAAO/7B,EAAEwQ,MAAMt3B,SACnB6iD,EAAO9xC,SACPygB,KAKF,OAAO6F,EAST,SAASyrB,EAAkBlyC,EAAW6wC,GACrC,IAAInqB,EAAQ4lB,EAAiBtsC,GAC7B,GAAI0mB,EAAMt3B,OAAS,EAAG,OAAO,EACxB,GAAIyhD,EAAU,OAAO,EAE1B,IAAIxqB,EAAOK,EAAM,GAEbd,EAAKS,EAAKW,YAEV/pB,EAAQ2oB,EAAG1X,aAAa,SAExBvV,EAAMpH,SAASoF,MAAM8zC,cAAcxtC,GAEnCuwC,EAAW5nB,EAAG1P,EAAEs3B,SAEhBoB,EAAW0B,EAAU33C,EAAK60C,EAAUnnB,GAEpCsnB,EAAUtnB,EAAKnQ,EAAEy3B,QAEjBjmB,SAEAyqB,SAEAC,SAEAC,SAEJ,GAAI1E,EAAU,EAAG,CAChBwE,EAAal9C,KAAKq9C,KAAK3E,EAAU,GACjCyE,EAAiBn9C,KAAK4uC,MAAM8J,EAAU,GACtC0E,EAAc7E,EAAW2E,EACzB,IAAMI,EAAY,IAAIhhD,SAASwX,IAAIpU,QAClCsI,EAAMiZ,EAAEpD,KAAKu/B,IAGVG,EAAalC,EAAU33C,EAAK05C,GAE5BI,SAEJ/qB,EAAUrB,EAAK2nB,QAGf,IAAK,IAAInkD,EAAI,EAAGA,EAAI2oD,EAAWpjD,OAAQvF,IAAK,CAG3C,GAFA4oD,EAAgBD,EAAW3oD,GAEvB4oD,EAAcp2B,YAAck2B,EAAUr8B,GAAKrsB,EAAI+kD,EAAU,CAC5DlnB,EAAQkB,aACP,IAAIr3B,SAASwX,IAAIpU,QAAQ89C,IAE1B,MAEAA,EAAgB,KAKbA,GAAeF,EAAUrsB,OAAOwB,OAC/B,CACN0qB,EAAiBD,EAAa,EAE9B,IAAMI,EAAY3sB,EAAGooB,QACrBuE,EAAUtE,YAAYroB,GACtB2sB,EAAUrsB,OAAQwB,EAAUrB,EAAK2nB,SAGjC,IADA,IAAI0E,EAAiBpC,EAAU33C,EAAK60C,GAC3BhkD,EAAI,EAAGA,EAAIkpD,EAAetjD,OAAQ5F,IAC1CkpD,EAAelpD,GAAGmkD,UAUpB,OAPAjmB,EAAQpB,cAERD,EAAKnQ,EAAEy3B,QAAUwE,EACjBzqB,EAAQxR,EAAEy3B,QAAUyE,EACF,GAAdD,GAAiB9rB,EAAKsC,gBAAgB,WACpB,GAAlBypB,GAAqB1qB,EAAQiB,gBAAgB,WAE1CjB,EAGR,SAASirB,EAAoB3yC,EAAW6wC,GACvC,IAAInqB,EAAQ4lB,EAAiBtsC,GAC7B,GAAI0mB,EAAMt3B,OAAS,EAAG,OAAO,EACxB,GAAIyhD,EAAU,OAAO,EAE1B,IAAIxqB,EAAOK,EAAM,GAEbd,EAAKS,EAAKW,YAEV/pB,EAAQ2oB,EAAG1X,aAAa,SAExBvV,EAAMpH,SAASoF,MAAM8zC,cAAcxtC,GAEnCuwC,EAAW5nB,EAAG1P,EAAEs3B,SAEhBoB,EAAW0B,EAAU33C,EAAK60C,EAAUnnB,GAEpCkjB,EAAUljB,EAAKnQ,EAAEqzB,QAEjB7hB,SAEAkrB,SAEAC,SAEJ,GAAItJ,EAAU,EACbqJ,EAAa39C,KAAKq9C,KAAK/I,EAAU,GACjCsJ,EAAiB59C,KAAK4uC,MAAM0F,EAAU,OAChC,CACNsJ,EAAiBD,EAAa,EAE9B,IADA,IAAIE,EAAiBrC,EAAU93C,EAAKi2C,GAC3BplD,EAAI,EAAGA,EAAIspD,EAAe1jD,OAAQ5F,IAC1CspD,EAAetpD,GAAG+/C,UAWpB,OATA7hB,EAAUrB,EAAK2nB,QACftmB,EAAQumB,YAAY5nB,GACpBqB,EAAQpB,cAERD,EAAKnQ,EAAEqzB,QAAUqJ,EACjBlrB,EAAQxR,EAAEqzB,QAAUsJ,EACF,GAAdD,GAAiBvsB,EAAKsC,gBAAgB,WACpB,GAAlBkqB,GAAqBnrB,EAAQiB,gBAAgB,WAE1CjB,EAGRn2B,SAAS6gB,QAAQyM,IAAI,gBAAiB,CACrCsG,KAAM,SAAS74B,GACd,SAASymD,EAAUC,GAClB,OAAOzhD,SAASoF,MAAMgH,OAAOq1C,GAAO,GAAI,CACvCC,iBAAkB,EAClBtS,QAAS,SAASr0C,EAAQI,GACzBsB,KAAKsQ,SACJ5R,EAAK0P,SAAS,CAACopB,GAAI,EAAGE,GAAI,GAAI,GAC3Bn0B,SAASuuC,aACTvuC,SAASwvC,sBAKhB,SAASmS,EAAOnpD,EAAMipD,GACrB,IAAIG,EAAM7mD,EAAOgK,WAAWvM,GAExBopD,IAIJA,EAAM7mD,EAAOuL,WAAW9N,EAAMipD,GAC9B1mD,EAAO8mD,WAAWD,IAGnBD,EACC,YACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvBi1C,EAAkB5B,EAAWluC,QAKhCkzC,EACC,kBACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvBuyC,EAAUptC,GAAW,OAKxBkzC,EACC,iBACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvBuyC,EAAUptC,OAKbkzC,EACC,eACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACnBlG,EAAU06C,EAAcrvC,GAC5BrL,GAAWm7C,EAAkBn7C,GAAS,OAKzCu+C,EACC,qBACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvBk0C,EAAa/uC,GAAW,OAK3BkzC,EACC,oBACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvBk0C,EAAa/uC,OAKhBkzC,EACC,aACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvB+0C,EAAY5vC,OAKfkzC,EACC,YACAH,EAAU,CACTh4B,eAAgB,sBAChBge,gBAAiB,sBACjBrhC,KAAM,SAASpL,GACdwjD,EACCa,EAAWrkD,EAAOuO,iBAClB,OAMJq4C,EACC,iBACAH,EAAU,CACTh4B,eAAgB,cAChBge,gBAAiB,cACjBrhC,KAAM,SAASpL,GACdwjD,EACCa,EAAWrkD,EAAOuO,eAAgB,UAClC,OAMJq4C,EACC,gBACAH,EAAU,CACTh4B,eAAgB,cAChBge,gBAAiB,cACjBrhC,KAAM,SAASpL,GACdwjD,EACCa,EAAWrkD,EAAOuO,eAAgB,SAClC,OAMJq4C,EACC,oBACAH,EAAU,CACTh4B,eAAgB,cAChBge,gBAAiB,cACjBrhC,KAAM,SAASpL,GACdwjD,EACCoC,EAAkB5lD,EAAOuO,qBAM7Bq4C,EACC,sBACAH,EAAU,CACTh4B,eAAgB,cAChBge,gBAAiB,cACjBrhC,KAAM,SAASpL,GACdwjD,EACC6C,EAAoBrmD,EAAOuO,qBAM/Bq4C,EACC,mBACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvB60C,EAAW1vC,GAAW,OAKzBkzC,EACC,kBACAH,EAAU,CACTha,gBAAiB,QACjBrhC,KAAM,SAASpL,GACd,IAAI0T,EAAY1T,EAAOuO,eACvB60C,EAAW1vC,QAMfssC,iBAAkBA,IAWpB/6C,SAASoF,MAAM8zC,cAAgB,SAASxtC,GAQvC,IAPA,IAAIo2C,EAAQp2C,EAAMiZ,EAAEpD,KAGhBxoB,GAAK,EAELgpD,EAAO,GAEF9pD,EAAI,EAAGA,EAAI6pD,EAAMjkD,OAAQ5F,IAAK,CACtCc,KACCgpD,EAAKhpD,KAAOgpD,EAAKhpD,GAAK,IAIvB,IAFA,IAAIT,GAAK,EAEAu8B,EAAI,EAAGA,EAAIitB,EAAM7pD,GAAGk9B,MAAMt3B,OAAQg3B,IAAK,CAC/C,IAAImtB,EAAQF,EAAM7pD,GAAGk9B,MAAMN,GAE3Bv8B,IACA,MAAOypD,EAAKhpD,GAAGT,GAAIA,IAKnB,IAHA,IAAI2pD,EAAWjnC,MAAMgnC,EAAMhK,SAAW,EAAIgK,EAAMhK,QAC5CkK,EAAWlnC,MAAMgnC,EAAM5F,SAAW,EAAI4F,EAAM5F,QAEvC+F,EAAK,EAAGA,EAAKD,EAAUC,IAAM,CAChCJ,EAAKhpD,EAAIopD,KAAKJ,EAAKhpD,EAAIopD,GAAM,IAElC,IAAK,IAAIC,EAAK,EAAGA,EAAKH,EAAUG,IAC/BL,EAAKhpD,EAAIopD,GAAI7pD,EAAI8pD,GAAMN,EAAM7pD,GAAGk9B,MAAMN,GAIxCv8B,GAAK2pD,EAAW,GAGlB,OAAOF,iCC7gCRlqD,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,2RCLAqC,EAAArC,EAAA,UACAsC,EAAAtC,EAAA,4nBAGA,IAAKmI,SAAS6gB,QAAQ/nB,IAAI,mBAAoB,CAC7C,IAAIupD,EAAc,GAalB,SAASC,EAAqB35B,EAAY45B,EAAkBxnD,GAC3D,IAMmBuC,EAAAC,EANfilD,EAAe15C,YAAYia,QAAQ4F,IAEvC05B,EAAYtnD,EAAOvC,MAAQ6pD,EAAYtnD,EAAOvC,OAAS,GACvD6pD,EAAYtnD,EAAOvC,MAAMmwB,GACxB05B,EAAYtnD,EAAOvC,MAAMmwB,IAAe45B,EAEpCC,KACJA,gBAAA,SAAAA,IAAA,IAAApoD,EAAAqD,EAAAC,EAAAC,EAAAnB,EAAAC,KAAA+lD,GAAA,QAAA5kD,EAAAd,UAAAe,OAAAC,EAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAlB,UAAAkB,GAAA,OAAAN,EAAAhB,EAAAD,MAAArC,EAAAooD,EAAA7lD,WAAAhE,OAAAiE,eAAA4lD,IAAApqD,KAAAyE,MAAAzC,EAAA,CAAAqC,MAAAwB,OAAAH,KAAAL,EAAAC,IA8DC+kD,aAAe,WACd,IAAI1nD,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEjC4pD,EACHL,EAAYtnD,EAAOvC,MAAMmwB,GAAYvqB,QAElCukD,EACHN,EAAYtnD,EAAOvC,MAAMmwB,GAAYjY,QAElCiyC,EACHA,EAAcvqD,KAAdsF,GAEA3C,EAAOmD,YAAYwkD,GAGpB3nD,EAAOwD,KAAK,kBAAZb,IA7EFC,EAAAF,EAAAf,EAAAgB,EAAAC,GAAA,OAAAZ,EAAAylD,EAAAI,GAAA5lD,EAAAwlD,EAAA,EAAAhpD,IAAA,YAAAN,MAAA,eAAAM,IAAA,SAAAN,MAAA,WAaE,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjC+pD,EAAkB,6BAElBC,EACHT,EAAYtnD,EAAOvC,MAAMmwB,GAAYnwB,MACrC6pD,EAAYtnD,EAAOvC,MAAMmwB,GAAYvqB,SACrCuqB,EAEGo6B,EACHV,EAAYtnD,EAAOvC,MAAMmwB,GAAYphB,MAElCy7C,EAAa,UAAYF,EAEzBG,EAAgB,WAAaH,EAE7BI,EAAY,GAEZC,EAAWnjD,SAASojD,KAAKC,aAC5BP,GAGD,GAAIK,EAAU,CACb,IAAIG,EAAgBH,EAASvjD,MAAM,KAEnCsjD,EAAUtf,gBAAkB0f,EAAc,GAAGxmB,UAC5CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAEjCuhD,EAAUK,mBAAqBD,EAAc,GAAGxmB,UAC/CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAEjCuhD,EAAUM,eAAiBF,EAAc,GAAGxmB,UAC3CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAIlC,OACClH,EAAAC,QAAAC,cAAA,UACC6V,aAAYuyC,EACZxoD,UAAWsoD,EACX1lC,YAAW6lC,EACXtyC,QAASjU,KAAKgmD,aACd/8C,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAOoyC,GACPtoD,EAAAC,QAAAC,cAAA,QAAMJ,UAAW0oD,EAAevjD,MAAOwjD,SAzD3CV,GAA6B9mD,UAAMG,WAAnCyB,EACQkB,YAAc/C,UADtB6B,EAGQmmD,YAAc96B,EAHtBrrB,EAKQ9D,IAAMmvB,EALd65B,EAAAjlD,EAiFAuL,YAAYia,QAAQ4F,GAAc65B,GAGnC,OAAOA,EAIHxiD,SAAS6gB,QAAQ/nB,IAAI,YACzBkH,SAAS0jD,UAAY,SAErB1jD,SAAS6gB,QAAQyM,IAAI,SAAU,KAahCttB,SAAS6gB,QAAQyM,IAAI,kBAAmB,CACvCmD,SAAU,CAAC,eASXkzB,WAAY,SAAS5oD,GACpBA,EAAO6oD,GAAGC,UAAY,SAASl7B,EAAY45B,GAC1C9lD,KAAK6wB,IAAI3E,EAAY3oB,SAAS0jD,UAAWnB,IAG1CxnD,EAAO6oD,GAAGE,WAAW9jD,SAAS0jD,UAAW,CACxCp2B,IAAKg1B,EACL/oD,OAAQ,SAASgpD,GAChB,IAAI55B,EACH,gBAAmC,IAAhBjlB,KAAKwC,WAAoB,GACzCs8C,EAAeF,EAClB35B,EACA45B,GAGD,OAAO,IAAIC,uCClJH,IAAAuB,EAAMlsD,EAAQ,IAAe6B,EAAA,oBAAAV,eAAAgrD,IAAAjqD,EAAAL,EAAAV,OAAAgrD,IAAA,uBAAAC,EAAAvqD,EAAAV,OAAAgrD,IAAA,sBAAAjrD,EAAAW,EAAAV,OAAAgrD,IAAA,wBAAA7qD,EAAAO,EAAAV,OAAAgrD,IAAA,2BAAAE,EAAAxqD,EAAAV,OAAAgrD,IAAA,wBAAAG,EAAAzqD,EAAAV,OAAAgrD,IAAA,wBAAAI,EAAA1qD,EAAAV,OAAAgrD,IAAA,uBAAAnsC,EAAAne,EAAAV,OAAAgrD,IAAA,+BAAAlsC,EAAApe,EAAAV,OAAAgrD,IAAA,2BAAAK,EAAA3qD,EAAAV,OAAAgrD,IAAA,wBAAAM,EAAA5qD,EAAAV,OAAAgrD,IAAA,cAC1C,MAAAO,EAAA7qD,EAAAV,OAAAgrD,IAAA,oBAAAQ,EAAA,oBAAAxrD,eAAAyrD,SAAwF,SAAAC,EAAAhgD,EAAAC,EAAApM,EAAAD,EAAAmoC,EAAAkkB,EAAAC,EAAAC,GAA6B,IAAAngD,EAAA,CAAgB,GAATA,OAAA,OAAS,IAAAC,EAAAD,EAAA6H,MAAA,qIAAuJ,CAAK,IAAArU,EAAA,CAAAK,EAAAD,EAAAmoC,EAAAkkB,EAAAC,EAAAC,GAAAxsD,EAAA,EAAwBqM,EAAA6H,MAAA5H,EAAAylB,QAAA,iBAAmC,OAAAlyB,EAAAG,QAAiBqM,EAAAlM,KAAA,sBAA6C,MAAhBkM,EAAAogD,YAAA,EAAgBpgD,GAC1Z,SAAAqgD,EAAArgD,GAAc,QAAAC,EAAA7H,UAAAe,OAAA,EAAAtF,EAAA,yDAAAmM,EAAApM,EAAA,EAA8FA,EAAAqM,EAAIrM,IAAAC,GAAA,WAAAg4C,mBAAAzzC,UAAAxE,EAAA,IAAqDosD,GAAA,2BAAAhgD,EAAA,4HAAmCnM,GAA6H,IAAAysD,EAAA,CAAOC,UAAA,WAAqB,UAASC,mBAAA,aAAgCC,oBAAA,aAAiCC,gBAAA,cAA8BC,EAAA,GACzc,SAAAC,EAAA5gD,EAAAC,EAAApM,GAAkBkE,KAAAT,MAAA0I,EAAajI,KAAAP,QAAAyI,EAAelI,KAAA+gB,KAAA6nC,EAAY5oD,KAAA8oD,QAAAhtD,GAAAysD,EAAsS,SAAAQ,KAAsC,SAAAC,EAAA/gD,EAAAC,EAAApM,GAAkBkE,KAAAT,MAAA0I,EAAajI,KAAAP,QAAAyI,EAAelI,KAAA+gB,KAAA6nC,EAAY5oD,KAAA8oD,QAAAhtD,GAAAysD,EAApXM,EAAAzrD,UAAA6rD,iBAAA,GAAgCJ,EAAAzrD,UAAAkT,SAAA,SAAArI,EAAAC,GAAmC,kBAAAD,GAAA,oBAAAA,GAAA,MAAAA,GAAAqgD,EAAA,MAAmEtoD,KAAA8oD,QAAAH,gBAAA3oD,KAAAiI,EAAAC,EAAA,aAAmD2gD,EAAAzrD,UAAA8rD,YAAA,SAAAjhD,GAAoCjI,KAAA8oD,QAAAL,mBAAAzoD,KAAAiI,EAAA,gBAAqE8gD,EAAA3rD,UAAAyrD,EAAAzrD,UAAoG,IAAA+rD,EAAAH,EAAA5rD,UAAA,IAAA2rD,EACldI,EAAAl5C,YAAA+4C,EAAgB1B,EAAA6B,EAAAN,EAAAzrD,WAAiB+rD,EAAAC,sBAAA,EAA0B,IAAAC,EAAA,CAAOh/C,QAAA,MAAai/C,EAAA,CAAIj/C,QAAA,MAAak/C,EAAArtD,OAAAkB,UAAAC,eAAAmsD,EAAA,CAAsCzsD,KAAA,EAAAyC,KAAA,EAAAiqD,QAAA,EAAAC,UAAA,GACtI,SAAAC,EAAA1hD,EAAAC,EAAApM,GAAkB,IAAAD,OAAA,EAAAmoC,EAAA,GAAiBkkB,EAAA,KAAAC,EAAA,KAAe,SAAAjgD,EAAA,IAAArM,UAAA,IAAAqM,EAAA1I,MAAA2oD,EAAAjgD,EAAA1I,UAAA,IAAA0I,EAAAnL,MAAAmrD,EAAA,GAAAhgD,EAAAnL,KAAAmL,EAAAqhD,EAAA5tD,KAAAuM,EAAArM,KAAA2tD,EAAAnsD,eAAAxB,KAAAmoC,EAAAnoC,GAAAqM,EAAArM,IAA4H,IAAAusD,EAAA/nD,UAAAe,OAAA,EAAyB,OAAAgnD,EAAApkB,EAAA76B,SAAArN,OAAsB,KAAAssD,EAAA,CAAa,QAAA3sD,EAAA6F,MAAA8mD,GAAAxsD,EAAA,EAAuBA,EAAAwsD,EAAIxsD,IAAAH,EAAAG,GAAAyE,UAAAzE,EAAA,GAAwBooC,EAAA76B,SAAA1N,EAAa,GAAAwM,KAAAmB,aAAA,IAAAvN,KAAAusD,EAAAngD,EAAAmB,aAAAg/C,OAAA,IAAApkB,EAAAnoC,KAAAmoC,EAAAnoC,GAAAusD,EAAAvsD,IAA4E,OAAO+tD,SAAAtsD,EAAAkI,KAAAyC,EAAAlL,IAAAmrD,EAAA1oD,IAAA2oD,EAAA5oD,MAAAykC,EAAA6lB,OAAAP,EAAAj/C,SAC7X,SAAAy/C,EAAA7hD,EAAAC,GAAiB,OAAO0hD,SAAAtsD,EAAAkI,KAAAyC,EAAAzC,KAAAzI,IAAAmL,EAAA1I,IAAAyI,EAAAzI,IAAAD,MAAA0I,EAAA1I,MAAAsqD,OAAA5hD,EAAA4hD,QAAsE,SAAAE,EAAA9hD,GAAc,wBAAAA,GAAA,OAAAA,KAAA2hD,WAAAtsD,EAAoD,SAAA0sD,EAAA/hD,GAAmB,IAAAC,EAAA,CAAO+hD,IAAA,KAAAC,IAAA,MAAmB,cAAAjiD,GAAA0lB,QAAA,iBAAA1lB,GAA6C,OAAAC,EAAAD,KAAc,IAAAkiD,EAAA,OAAAC,EAAA,GAAkB,SAAAC,EAAApiD,EAAAC,EAAApM,EAAAD,GAAoB,GAAAuuD,EAAAhpD,OAAA,CAAa,IAAA4iC,EAAAomB,EAAA7pB,MAAsE,OAAxDyD,EAAAtrB,OAAAzQ,EAAW+7B,EAAAsmB,UAAApiD,EAAc87B,EAAAumB,KAAAzuD,EAASkoC,EAAAvkC,QAAA5D,EAAYmoC,EAAApR,MAAA,EAAUoR,EAAS,OAAOtrB,OAAAzQ,EAAAqiD,UAAApiD,EAAAqiD,KAAAzuD,EAAA2D,QAAA5D,EAAA+2B,MAAA,GACjZ,SAAA43B,EAAAviD,GAAcA,EAAAyQ,OAAA,KAAczQ,EAAAqiD,UAAA,KAAiBriD,EAAAsiD,KAAA,KAAYtiD,EAAAxI,QAAA,KAAewI,EAAA2qB,MAAA,EAAU,GAAAw3B,EAAAhpD,QAAAgpD,EAAAriD,KAAAE,GAClF,SAAAwiD,EAAAxiD,EAAAC,EAAApM,EAAAD,GAAoB,IAAAmoC,SAAA/7B,EAAe,cAAA+7B,GAAA,YAAAA,IAAA/7B,EAAA,MAAyC,IAAAigD,GAAA,EAAS,UAAAjgD,EAAAigD,GAAA,OAAiB,OAAAlkB,GAAe,0BAAAkkB,GAAA,EAAiC,MAAM,oBAAAjgD,EAAA2hD,UAAiC,KAAAtsD,EAAA,KAAAkqD,EAAAU,GAAA,GAAoB,GAAAA,EAAA,OAAApsD,EAAAD,EAAAoM,EAAA,KAAAC,EAAA,IAAAwiD,EAAAziD,EAAA,GAAAC,GAAA,EAAgE,GAAvBggD,EAAA,EAAIhgD,EAAA,KAAAA,EAAA,IAAAA,EAAA,IAAmB5G,MAAAU,QAAAiG,GAAA,QAAAkgD,EAAA,EAAgCA,EAAAlgD,EAAA7G,OAAW+mD,IAAA,CAAKnkB,EAAA/7B,EAAAkgD,GAAO,IAAAC,EAAAlgD,EAAAwiD,EAAA1mB,EAAAmkB,GAAeD,GAAAuC,EAAAzmB,EAAAokB,EAAAtsD,EAAAD,QAAc,UAAAoM,GAAA,kBAAAA,EAAAmgD,EAAA,MAAAA,EAAAL,GAAA9/C,EAAA8/C,IAAA9/C,EAAA,cAAAmgD,EAAA,oBAAAA,IAAA,0BAAAA,EAAA,IAAAngD,EAAAmgD,EAAAzsD,KAAAsM,GAAAkgD,EACrW,IAAEnkB,EAAA/7B,EAAAzB,QAAAmkD,MAAmB3mB,IAAAvnC,MAAA2rD,EAAAlgD,EAAAwiD,EAAA1mB,EAAAmkB,KAAAD,GAAAuC,EAAAzmB,EAAAokB,EAAAtsD,EAAAD,OAAsC,WAAAmoC,IAAAloC,EAAA,GAAAmM,EAAAqgD,EAAA,yBAAAxsD,EAAA,qBAA0EI,OAAA2J,KAAAoC,GAAAkP,KAAA,UAA8Brb,EAAA,KAAS,OAAAosD,EAAS,SAAA0C,EAAA3iD,EAAAC,EAAApM,GAAkB,aAAAmM,EAAA,EAAAwiD,EAAAxiD,EAAA,GAAAC,EAAApM,GAA6B,SAAA4uD,EAAAziD,EAAAC,GAAgB,wBAAAD,GAAA,OAAAA,GAAA,MAAAA,EAAAlL,IAAAitD,EAAA/hD,EAAAlL,KAAAmL,EAAAjG,SAAA,IAA8E,SAAA4oD,EAAA5iD,EAAAC,GAAiBD,EAAAsiD,KAAA5uD,KAAAsM,EAAAxI,QAAAyI,EAAAD,EAAA2qB,SACnV,SAAAk4B,EAAA7iD,EAAAC,EAAApM,GAAmB,IAAAD,EAAAoM,EAAAyQ,OAAAsrB,EAAA/7B,EAAAqiD,UAA6BriD,IAAAsiD,KAAA5uD,KAAAsM,EAAAxI,QAAAyI,EAAAD,EAAA2qB,SAAqCtxB,MAAAU,QAAAiG,GAAA8iD,EAAA9iD,EAAApM,EAAAC,EAAA,SAAAmM,GAAqC,OAAAA,IAAS,MAAAA,IAAA8hD,EAAA9hD,OAAA6hD,EAAA7hD,EAAA+7B,IAAA/7B,EAAAlL,KAAAmL,KAAAnL,MAAAkL,EAAAlL,IAAA,OAAAkL,EAAAlL,KAAA4wB,QAAAw8B,EAAA,YAAAruD,IAAAD,EAAAkM,KAAAE,IAAyG,SAAA8iD,EAAA9iD,EAAAC,EAAApM,EAAAD,EAAAmoC,GAAsB,IAAAkkB,EAAA,GAAS,MAAApsD,IAAAosD,GAAA,GAAApsD,GAAA6xB,QAAAw8B,EAAA,YAAyCjiD,EAAAmiD,EAAAniD,EAAAggD,EAAArsD,EAAAmoC,GAAa4mB,EAAA3iD,EAAA6iD,EAAA5iD,GAAUsiD,EAAAtiD,GAAK,SAAA8iD,IAAa,IAAA/iD,EAAAohD,EAAAh/C,QAAyC,OAAzB,OAAApC,GAAAqgD,EAAA,OAAyBrgD,EACtY,IAAAgjD,EAAA,CAAOC,SAAA,CAAUvgD,IAAA,SAAA1C,EAAAC,EAAApM,GAAoB,SAAAmM,EAAA,OAAAA,EAAoB,IAAApM,EAAA,GAAyB,OAAhBkvD,EAAA9iD,EAAApM,EAAA,KAAAqM,EAAApM,GAAgBD,GAAS8L,QAAA,SAAAM,EAAAC,EAAApM,GAAyB,SAAAmM,EAAA,OAAAA,EAAoBC,EAAAmiD,EAAA,UAAAniD,EAAApM,GAAmB8uD,EAAA3iD,EAAA4iD,EAAA3iD,GAAUsiD,EAAAtiD,IAAK0qB,MAAA,SAAA3qB,GAAmB,OAAA2iD,EAAA3iD,EAAA,WAAsB,aAAY,OAAO88B,QAAA,SAAA98B,GAAqB,IAAAC,EAAA,GAA2C,OAAlC6iD,EAAA9iD,EAAAC,EAAA,cAAAD,GAAuB,OAAAA,IAAWC,GAASijD,KAAA,SAAAljD,GAAuC,OAArB8hD,EAAA9hD,IAAAqgD,EAAA,OAAqBrgD,IAAUmC,UAAA,WAAsB,OAAOC,QAAA,OAAcjL,UAAAypD,EAAAuC,cAAApC,EAAA9pD,cAAA,SAAA+I,EAAAC,GAC3R,YADoV,IAAAA,MAAA,MAAqBD,EAAA,CAAG2hD,SAAAjC,EAAA0D,sBAAAnjD,EAC5dojD,cAAArjD,EAAAsjD,eAAAtjD,EAAAujD,aAAA,EAAAx7B,SAAA,KAAA5xB,SAAA,MAA6E6J,EAAA+nB,SAAA,CAAY45B,SAAAlC,EAAA+D,SAAAxjD,GAAuBA,EAAA7J,SAAA6J,GAAoB3I,WAAA,SAAA2I,GAAwB,OAAO2hD,SAAAvuC,EAAA0U,OAAA9nB,IAAqByjD,KAAA,SAAAzjD,GAAkB,OAAO2hD,SAAA9B,EAAA6D,MAAA1jD,EAAA2jD,SAAA,EAAAC,QAAA,OAA6CC,KAAA,SAAA7jD,EAAAC,GAAoB,OAAO0hD,SAAA/B,EAAAriD,KAAAyC,EAAA8jD,aAAA,IAAA7jD,EAAA,KAAAA,IAA8C8jD,YAAA,SAAA/jD,EAAAC,GAA2B,OAAA8iD,IAAAgB,YAAA/jD,EAAAC,IAA4B+jD,WAAA,SAAAhkD,EAAAC,GAA0B,OAAA8iD,IAAAiB,WAAAhkD,EAAAC,IAA2BgkD,UAAA,SAAAjkD,EAAAC,GAAyB,OAAA8iD,IAAAkB,UAAAjkD,EAAAC,IAA0BikD,oBAAA,SAAAlkD,EACteC,EAAApM,GAAK,OAAAkvD,IAAAmB,oBAAAlkD,EAAAC,EAAApM,IAAsCswD,cAAA,aAA2BC,gBAAA,SAAApkD,EAAAC,GAA+B,OAAA8iD,IAAAqB,gBAAApkD,EAAAC,IAAgCokD,QAAA,SAAArkD,EAAAC,GAAuB,OAAA8iD,IAAAsB,QAAArkD,EAAAC,IAAwBqkD,WAAA,SAAAtkD,EAAAC,EAAApM,GAA4B,OAAAkvD,IAAAuB,WAAAtkD,EAAAC,EAAApM,IAA6B0wD,OAAA,SAAAvkD,GAAoB,OAAA+iD,IAAAwB,OAAAvkD,IAAqBwkD,SAAA,SAAAxkD,GAAsB,OAAA+iD,IAAAyB,SAAAxkD,IAAuBykD,SAAApwD,EAAAqwD,WAAAjwD,EAAAkwD,SAAAhF,EAAA1pD,cAAAyrD,EAAAkD,aAAA,SAAA5kD,EAAAC,EAAApM,IAAiF,OAAAmM,QAAA,IAAAA,IAAAqgD,EAAA,MAAArgD,GAAuC,IAAApM,OAAA,EAAAmoC,EAAAsjB,EAAA,GAAmBr/C,EAAA1I,OAAA2oD,EAAAjgD,EAAAlL,IAAAorD,EAAAlgD,EAAAzI,IAAA4oD,EAAAngD,EAAA4hD,OAAqC,SACnf3hD,EAAA,MAAG,IAAAA,EAAA1I,MAAA2oD,EAAAjgD,EAAA1I,IAAA4oD,EAAAkB,EAAAj/C,cAAsC,IAAAnC,EAAAnL,MAAAmrD,EAAA,GAAAhgD,EAAAnL,KAA6B,IAAAtB,OAAA,EAAkE,IAAAI,KAArDoM,EAAAzC,MAAAyC,EAAAzC,KAAA4D,eAAA3N,EAAAwM,EAAAzC,KAAA4D,cAAqDlB,EAAAqhD,EAAA5tD,KAAAuM,EAAArM,KAAA2tD,EAAAnsD,eAAAxB,KAAAmoC,EAAAnoC,QAAA,IAAAqM,EAAArM,SAAA,IAAAJ,IAAAI,GAAAqM,EAAArM,IAA8G,GAArBA,EAAAwE,UAAAe,OAAA,EAAqB,IAAAvF,EAAAmoC,EAAA76B,SAAArN,OAAsB,KAAAD,EAAA,CAAaJ,EAAA6F,MAAAzF,GAAW,QAAAD,EAAA,EAAYA,EAAAC,EAAID,IAAAH,EAAAG,GAAAyE,UAAAzE,EAAA,GAAwBooC,EAAA76B,SAAA1N,EAAa,OAAOmuD,SAAAtsD,EAAAkI,KAAAyC,EAAAzC,KAAAzI,IAAAmrD,EAAA1oD,IAAA2oD,EAAA5oD,MAAAykC,EAAA6lB,OAAAzB,IAAqD0E,cAAA,SAAA7kD,GAA2B,IAAAC,EAAAyhD,EAAA3sD,KAAA,KAAAiL,GAA8B,OAATC,EAAA1C,KAAAyC,EAASC,GAAS6kD,eAAAhD,EAAAr8B,QAAA,SACvds/B,wBAAA5xC,EAAA6xC,kBAAAxF,EAAAyF,mDAAA,CAAkGC,uBAAA9D,EAAA+D,kBAAA9D,EAAA1yC,OAAA0wC,IAAuD+F,EAAA,CAAIpvD,QAAAgtD,GAAUqC,EAAAD,GAAApC,GAAAoC,EAAW9xD,EAAAD,QAAAgyD,EAAArvD,SAAAqvD,yRCxBlL7vD,EAAArC,EAAA,UACA4P,EAAA5P,EAAA,WACAsC,EAAAtC,EAAA,4nBAGA,IAAKmI,SAAS6gB,QAAQ/nB,IAAI,uBAAwB,CACjD,IAAIkxD,EAAkB,GAYtB,SAASC,EACRC,EACAC,EACApvD,GAEA,IAOuBuC,EAAAG,EAPnB2sD,EAAmBthD,YAAYia,QAAQmnC,IAE3CF,EAAgBjvD,EAAOvC,MAAQwxD,EAAgBjvD,EAAOvC,OAAS,GAC/DwxD,EAAgBjvD,EAAOvC,MAAM0xD,GAC5BF,EAAgBjvD,EAAOvC,MAAM0xD,IAC7BC,EAEIC,KACJA,gBAAA,SAAAA,IAAA,OAAA5tD,EAAAC,KAAA2tD,GAAA1tD,EAAAD,MAAA2tD,EAAAztD,WAAAhE,OAAAiE,eAAAwtD,IAAAvtD,MAAAJ,KAAAK,YAAA,OAAAC,EAAAqtD,EAAAxH,GAAA5lD,EAAAotD,EAAA,EAAA5wD,IAAA,YAAAN,MAAA,eAAAM,IAAA,SAAAN,MAAA,WAaE,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCuxD,EACHL,EAAgBjvD,EAAOvC,MAAM0xD,GAAgB1xD,MAC7CwxD,EAAgBjvD,EAAOvC,MAAM0xD,GAAgB9rD,SAC7C8rD,EAEGrH,EAAkB,6BAElBI,EAAgB,WAAaoH,EAE7BnH,EAAY,GAEZC,EAAWnjD,SAASojD,KAAKC,aAC5BgH,GAGD,GAAIlH,EAAU,CACb,IAAIG,EAAgBH,EAASvjD,MAAM,KAEnCsjD,EAAUtf,gBAAkB0f,EAAc,GAAGxmB,UAC5CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAEjCuhD,EAAUK,mBAAqBD,EAAc,GAAGxmB,UAC/CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAEjCuhD,EAAUM,eAAiBF,EAAc,GAAGxmB,UAC3CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAIlC,OACClH,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aACCw5C,EAAgBjvD,EAAOvC,MAAM0xD,GAC3B3iD,MAEHhN,UAAWsoD,EACXnyC,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MACCq5C,EAAgBjvD,EAAOvC,MAAM0xD,GAC3B3iD,OAEH9M,EAAAC,QAAAC,cAAA,QACCJ,UAAW0oD,EACXvjD,MAAOwjD,KAGRzmD,KAAKT,MAAMwW,UACX/X,EAAAC,QAAAC,cAACiO,EAAAlO,QAAD,CACC0H,UAAW3F,KAAKT,MAAM2M,gBACrBlM,KAAK6tD,oBApEZ,CAAA9wD,IAAA,gBAAAN,MAAA,WA4EE,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBACjCqO,EAAQgjD,EAAqBI,SAC7BC,EAAY7xD,OAAO2J,KAAK6E,GAAOC,IAAI,SAAS5N,GAC/C,IAAIixD,EAAW1vD,EAAO2vD,YAAYlxD,GAElC,IAAKixD,EACJ,OAAO,KAGR,IAAIE,EACHF,EAASG,YAAcH,EACpBI,EAAgB1jD,EAAM3N,GAEtBe,EACH,uBACCswD,IAAkB7qD,SAASiF,YACzB,SACA,IACAmM,EACHy5C,IAAkB7qD,SAASwvC,kBACxB9+B,EAAU,WACTi6C,EAAmBvsD,QACtBrD,EAAOmD,YAAYysD,EAAmBvsD,SAC5BusD,EAAmBj6C,SAC7Bi6C,EAAmBj6C,QAAQ7T,MAC1B8tD,IAKH,OACClwD,EAAAC,QAAAC,cAAA,MAAInB,IAAKixD,EAASjyD,KAAMmN,KAAK,UAC5BlL,EAAAC,QAAAC,cAAA,UACCJ,UAAWA,EACX6W,SAAUA,EACVV,QAASA,GACRi6C,EAAmBpjD,UAMxB,OAAOijD,MAtHTJ,GAAiC1uD,UAAMG,WAAvCyB,EACQkB,YAAc/C,UADtB6B,EAGQmmD,YAAcyG,EAHtB5sD,EAKQ9D,IAAM0wD,EALdE,EAAA3sD,EA0HAqL,YAAYia,QAAQmnC,GAAkBE,GAGvC,OAAOA,EAIHpqD,SAAS6gB,QAAQ/nB,IAAI,gBACzBkH,SAAS8qD,eAAiB,aAE1B9qD,SAAS6gB,QAAQyM,IAAI,aAAc,KAcpCttB,SAAS6gB,QAAQyM,IAAI,sBAAuB,CAC3CmD,SAAU,CAAC,cAAe,iBAS1BkzB,WAAY,SAAS5oD,GACpBA,EAAO6oD,GAAGmH,cAAgB,SACzBb,EACAC,GAEA1tD,KAAK6wB,IACJ48B,EACAlqD,SAASgrD,cACTb,IAIFpvD,EAAO6oD,GAAGE,WAAW9jD,SAASgrD,cAAe,CAC5C19B,IAAK28B,EACL1wD,OAAQ,SAAS4wD,GAChB,IAAID,EACH,gBAAmC,IAAhBxmD,KAAKwC,WAAoB,GACzCkkD,EAAmBH,EACtBC,EACAC,GAGD,OAAO,IAAIC,uCCrMH,IAAA9F,EAAOzsD,EAAQ,GAAOkC,EAAIlC,EAAQ,IAAe0sD,EAAK1sD,EAAQ,IAAa,SAAA6sD,EAAAhgD,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,EAAAF,EAAAC,GAA6B,IAAAlgD,EAAA,CAAgB,GAATA,OAAA,OAAS,IAAAC,EAAAD,EAAA6H,MAAA,qIAAuJ,CAAK,IAAArU,EAAA,CAAAI,EAAAC,EAAAkoC,EAAAokB,EAAAF,EAAAC,GAAAb,EAAA,EAAwBr/C,EAAA6H,MAAA5H,EAAAylB,QAAA,iBAAmC,OAAAlyB,EAAA6rD,QAAiBr/C,EAAAlM,KAAA,sBAA6C,MAAhBkM,EAAAogD,YAAA,EAAgBpgD,GAC1Z,SAAAvL,EAAAuL,GAAc,QAAAC,EAAA7H,UAAAe,OAAA,EAAAvF,EAAA,yDAAAoM,EAAAnM,EAAA,EAA8FA,EAAAoM,EAAIpM,IAAAD,GAAA,WAAAi4C,mBAAAzzC,UAAAvE,EAAA,IAAqDmsD,GAAA,2BAAAhgD,EAAA,4HAAmCpM,GAAgJ,SAAAiuD,EAAA7hD,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,EAAAF,EAAAC,EAAA1sD,GAA+B,IAAA6rD,EAAAhmD,MAAAlE,UAAAsK,MAAA/L,KAAA0E,UAAA,GAA8C,IAAI6H,EAAA9H,MAAAvE,EAAAyrD,GAAa,MAAA1rD,GAASoE,KAAAwuD,QAAA5yD,IAA1HisD,GAAAnrD,EAAA,OACrU,IAAAmuD,GAAA,EAAAC,EAAA,KAAA2D,GAAA,EAAAC,EAAA,KAAAC,EAAA,CAAoCH,QAAA,SAAAvmD,GAAoB4iD,GAAA,EAAMC,EAAA7iD,IAAO,SAAA2mD,EAAA3mD,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,EAAAF,EAAAC,EAAA1sD,GAA+BovD,GAAA,EAAMC,EAAA,KAAQhB,EAAA1pD,MAAAuuD,EAAAtuD,WAAuB,SAAAwuD,EAAA5mD,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,EAAAF,EAAAC,EAAA1sD,GAAwD,GAAzBmzD,EAAAxuD,MAAAJ,KAAAK,WAAyBwqD,EAAA,CAAO,GAAAA,EAAA,CAAO,IAAAvD,EAAAwD,EAASD,GAAA,EAAMC,EAAA,UAAQpuD,EAAA,OAAA4qD,OAAA,EAAuBmH,OAAA,EAAAC,EAAApH,IAAkB,IAAAwH,EAAA,KAAAC,EAAA,GAC/Q,SAAAC,IAAc,GAAAF,EAAA,QAAA7mD,KAAA8mD,EAAA,CAAuB,IAAA7mD,EAAA6mD,EAAA9mD,GAAApM,EAAAizD,EAAA5pD,QAAA+C,GAAkD,IAAtB,EAAApM,GAAAa,EAAA,KAAAuL,IAAsBgnD,EAAApzD,GAAmE,QAAAC,KAAxDoM,EAAAgnD,eAAAxyD,EAAA,KAAAuL,GAAiCgnD,EAAApzD,GAAAqM,EAAQrM,EAAAqM,EAAAinD,WAAetzD,EAAA,CAAgB,IAAAmoC,OAAA,EAAaokB,EAAAvsD,EAAAC,GAAAosD,EAAAhgD,EAAAigD,EAAArsD,EAAmBszD,EAAA/xD,eAAA8qD,IAAAzrD,EAAA,KAAAyrD,GAAsCiH,EAAAjH,GAAAC,EAAQ,IAAA3sD,EAAA2sD,EAAAiH,wBAAgC,GAAA5zD,EAAA,CAAM,IAAAuoC,KAAAvoC,IAAA4B,eAAA2mC,IAAAsrB,EAAA7zD,EAAAuoC,GAAAkkB,EAAAC,GAA6CnkB,GAAA,OAAKokB,EAAAmH,kBAAAD,EAAAlH,EAAAmH,iBAAArH,EAAAC,GAAAnkB,GAAA,GAAAA,GAAA,EAA+DA,GAAAtnC,EAAA,KAAAZ,EAAAmM,KAC/Y,SAAAqnD,EAAArnD,EAAAC,EAAArM,GAAmB2zD,EAAAvnD,IAAAvL,EAAA,MAAAuL,GAAwBunD,EAAAvnD,GAAAC,EAAQunD,EAAAxnD,GAAAC,EAAAinD,WAAAtzD,GAAA6zD,aAAmC,IAAAT,EAAA,GAAAG,EAAA,GAAeI,EAAA,GAAMC,EAAA,GAAME,EAAA,KAAAC,EAAA,KAAAC,EAAA,KAAyB,SAAAC,EAAA7nD,EAAAC,EAAArM,GAAmB,IAAAC,EAAAmM,EAAAzC,MAAA,gBAA8ByC,EAAA8nD,cAAAF,EAAAh0D,GAAsBgzD,EAAA/yD,EAAAoM,OAAA,EAAAD,GAAiBA,EAAA8nD,cAAA,KAAqB,SAAAC,EAAA/nD,EAAAC,GAAwC,OAAvB,MAAAA,GAAAxL,EAAA,MAAuB,MAAAuL,EAAAC,EAAoB5G,MAAAU,QAAAiG,GAAqB3G,MAAAU,QAAAkG,IAAAD,EAAAF,KAAA3H,MAAA6H,EAAAC,GAAAD,IAA+CA,EAAAF,KAAAG,GAAUD,GAAS3G,MAAAU,QAAAkG,GAAA,CAAAD,GAAAzG,OAAA0G,GAAA,CAAAD,EAAAC,GAC1Y,SAAA+nD,EAAAhoD,EAAAC,EAAArM,GAAmByF,MAAAU,QAAAiG,KAAAN,QAAAO,EAAArM,GAAAoM,GAAAC,EAAAvM,KAAAE,EAAAoM,GAA+C,IAAAioD,EAAA,KAAY,SAAAC,EAAAloD,GAAe,GAAAA,EAAA,CAAM,IAAAC,EAAAD,EAAAmoD,mBAAAv0D,EAAAoM,EAAAooD,mBAAkD,GAAA/uD,MAAAU,QAAAkG,GAAA,QAAApM,EAAA,EAAgCA,EAAAoM,EAAA9G,SAAA6G,EAAAqoD,uBAAsCx0D,IAAAg0D,EAAA7nD,EAAAC,EAAApM,GAAAD,EAAAC,SAAoBoM,GAAA4nD,EAAA7nD,EAAAC,EAAArM,GAAkBoM,EAAAmoD,mBAAA,KAA0BnoD,EAAAooD,mBAAA,KAA0BpoD,EAAAsoD,gBAAAtoD,EAAAgI,YAAA83B,QAAA9/B,IACrT,IAAAuoD,EAAA,CAAQC,uBAAA,SAAAxoD,GAAmC6mD,GAAApyD,EAAA,OAAmBoyD,EAAAxtD,MAAAlE,UAAAsK,MAAA/L,KAAAsM,GAAiC+mD,KAAK0B,yBAAA,SAAAzoD,GAAsC,IAAApM,EAAAqM,GAAA,EAAW,IAAArM,KAAAoM,EAAA,GAAAA,EAAA5K,eAAAxB,GAAA,CAAmC,IAAAC,EAAAmM,EAAApM,GAAWkzD,EAAA1xD,eAAAxB,IAAAkzD,EAAAlzD,KAAAC,IAAAizD,EAAAlzD,IAAAa,EAAA,MAAAb,GAAAkzD,EAAAlzD,GAAAC,EAAAoM,GAAA,GAAwEA,GAAA8mD,MAC3Q,SAAA2B,EAAA1oD,EAAAC,GAAiB,IAAArM,EAAAoM,EAAA2oD,UAAkB,IAAA/0D,EAAA,YAAkB,IAAAC,EAAA6zD,EAAA9zD,GAAY,IAAAC,EAAA,YAAkBD,EAAAC,EAAAoM,GAAOD,EAAA,OAAAC,GAAY,gNAAApM,KAAA6Y,YAAA1M,IAAAzC,KAAA1J,IAAA,WAAAmM,GAAA,UAAAA,GAAA,WAAAA,GAAA,aAAAA,IAAkTA,GAAAnM,EAAK,MAAAmM,EAAQ,QAAAA,GAAA,EAAa,OAAAA,EAAA,MAAiBpM,GAAA,oBAAAA,GAAAa,EAAA,MAAAwL,SAAArM,GACncA,GAAS,SAAAg1D,EAAA5oD,GAAoD,GAArC,OAAAA,IAAAioD,EAAAF,EAAAE,EAAAjoD,IAAwBA,EAAAioD,EAAKA,EAAA,KAAQjoD,IAAAgoD,EAAAhoD,EAAAkoD,GAAAD,GAAAxzD,EAAA,MAAA+xD,GAAA,MAAAxmD,EAAAymD,EAAAD,GAAA,EAAAC,EAAA,KAAAzmD,EAAkE,IAAA6oD,EAAA7pD,KAAAwC,SAAAxH,SAAA,IAAAyF,MAAA,GAAAqpD,EAAA,2BAAAD,EAAAE,EAAA,wBAAAF,EAA0G,SAAAG,EAAAhpD,GAAe,GAAAA,EAAA8oD,GAAA,OAAA9oD,EAAA8oD,GAAsB,MAAK9oD,EAAA8oD,IAAO,KAAA9oD,EAAAomB,WAAgC,YAAhCpmB,IAAAomB,WAAyD,OAARpmB,IAAA8oD,GAAQ,IAAA9oD,EAAAipD,KAAA,IAAAjpD,EAAAipD,IAAAjpD,EAAA,KAAmC,SAAAkpD,EAAAlpD,GAAuB,OAARA,IAAA8oD,IAAQ9oD,GAAA,IAAAA,EAAAipD,KAAA,IAAAjpD,EAAAipD,IAAA,KAAAjpD,EAC7Y,SAAAmpD,EAAAnpD,GAAe,OAAAA,EAAAipD,KAAA,IAAAjpD,EAAAipD,IAAA,OAAAjpD,EAAA2oD,UAA2Cl0D,EAAA,MAAQ,SAAA20D,EAAAppD,GAAe,OAAAA,EAAA+oD,IAAA,KAAmB,SAAAM,EAAArpD,GAAe,GAAAA,IAAAspD,aAActpD,GAAA,IAAAA,EAAAipD,KAAoB,OAAAjpD,GAAA,KAAgB,SAAAupD,EAAAvpD,EAAAC,EAAArM,IAAmBqM,EAAAyoD,EAAA1oD,EAAApM,EAAA41D,eAAApC,wBAAAnnD,OAAArM,EAAAu0D,mBAAAJ,EAAAn0D,EAAAu0D,mBAAAloD,GAAArM,EAAAw0D,mBAAAL,EAAAn0D,EAAAw0D,mBAAApoD,IACxL,SAAAypD,EAAAzpD,GAAe,GAAAA,KAAAwpD,eAAApC,wBAAA,CAAgD,QAAAnnD,EAAAD,EAAA0pD,YAAA91D,EAAA,GAA6BqM,GAAErM,EAAAkM,KAAAG,KAAAopD,EAAAppD,GAAmB,IAAAA,EAAArM,EAAAuF,OAAe,EAAA8G,KAAMspD,EAAA31D,EAAAqM,GAAA,WAAAD,GAAuB,IAAAC,EAAA,EAAQA,EAAArM,EAAAuF,OAAW8G,IAAAspD,EAAA31D,EAAAqM,GAAA,UAAAD,IAA0B,SAAA2pD,EAAA3pD,EAAAC,EAAArM,GAAmBoM,GAAApM,KAAA41D,eAAAlC,mBAAArnD,EAAAyoD,EAAA1oD,EAAApM,EAAA41D,eAAAlC,qBAAA1zD,EAAAu0D,mBAAAJ,EAAAn0D,EAAAu0D,mBAAAloD,GAAArM,EAAAw0D,mBAAAL,EAAAn0D,EAAAw0D,mBAAApoD,IAAwL,SAAA4pD,EAAA5pD,GAAeA,KAAAwpD,eAAAlC,kBAAAqC,EAAA3pD,EAAA0pD,YAAA,KAAA1pD,GACpa,SAAA6pD,EAAA7pD,GAAegoD,EAAAhoD,EAAAypD,GAAS,IAAAK,IAAA,qBAAA18C,gBAAAtQ,WAAAsQ,OAAAtQ,SAAA7G,eAAwF,SAAA8zD,EAAA/pD,EAAAC,GAAiB,IAAArM,EAAA,GAAwF,OAA/EA,EAAAoM,EAAApB,eAAAqB,EAAArB,cAAmChL,EAAA,SAAAoM,GAAA,SAAAC,EAAyBrM,EAAA,MAAAoM,GAAA,MAAAC,EAAmBrM,EAAS,IAAAo2D,EAAA,CAAQC,aAAAF,EAAA,4BAAAG,mBAAAH,EAAA,kCAAAI,eAAAJ,EAAA,8BAAAK,cAAAL,EAAA,+BAAmMM,EAAA,GAAMC,EAAA,GAC/L,SAAAC,EAAAvqD,GAAe,GAAAqqD,EAAArqD,GAAA,OAAAqqD,EAAArqD,GAAsB,IAAAgqD,EAAAhqD,GAAA,OAAAA,EAAmB,IAAApM,EAAAqM,EAAA+pD,EAAAhqD,GAAc,IAAApM,KAAAqM,EAAA,GAAAA,EAAA7K,eAAAxB,SAAA02D,EAAA,OAAAD,EAAArqD,GAAAC,EAAArM,GAA6D,OAAAoM,EAAvX8pD,IAAAQ,EAAAxtD,SAAA7G,cAAA,OAAA+E,MAAA,mBAAAoS,gBAAA48C,EAAAC,aAAAO,iBAAAR,EAAAE,mBAAAM,iBAAAR,EAAAG,eAAAK,WAAA,oBAAAp9C,eAAA48C,EAAAI,cAAAK,YACA,IAAAC,GAAAH,EAAA,gBAAAI,GAAAJ,EAAA,sBAAAK,GAAAL,EAAA,kBAAAM,GAAAN,EAAA,iBAAAO,GAAA,sNAAA5vD,MAAA,KAAA6vD,GAAA,KAAAC,GAAA,KAAAC,GAAA,KACA,SAAAC,KAAc,GAAAD,GAAA,OAAAA,GAAgB,IAAAjrD,EAAAnM,EAAAoM,EAAA+qD,GAAAp3D,EAAAqM,EAAA9G,OAAA4iC,EAAA,UAAAgvB,MAAAv2D,MAAAu2D,GAAAI,YAAAhL,EAAApkB,EAAA5iC,OAA0E,IAAA6G,EAAA,EAAQA,EAAApM,GAAAqM,EAAAD,KAAA+7B,EAAA/7B,GAAiBA,KAAK,IAAAigD,EAAArsD,EAAAoM,EAAU,IAAAnM,EAAA,EAAQA,GAAAosD,GAAAhgD,EAAArM,EAAAC,KAAAkoC,EAAAokB,EAAAtsD,GAAsBA,KAAK,OAAAo3D,GAAAlvB,EAAAt8B,MAAAO,EAAA,EAAAnM,EAAA,EAAAA,OAAA,GAAoC,SAAAu3D,KAAc,SAAS,SAAAC,KAAc,SAC5P,SAAAvL,GAAA9/C,EAAAC,EAAArM,EAAAC,GAA6G,QAAAkoC,KAAzFhkC,KAAAyxD,eAAAxpD,EAAsBjI,KAAA2xD,YAAAzpD,EAAmBlI,KAAAqnB,YAAAxrB,EAAmBoM,EAAAjI,KAAAiQ,YAAAsjD,UAA6BtrD,IAAA5K,eAAA2mC,MAAA97B,EAAAD,EAAA+7B,IAAAhkC,KAAAgkC,GAAA97B,EAAArM,GAAA,WAAAmoC,EAAAhkC,KAAA2E,OAAA7I,EAAAkE,KAAAgkC,GAAAnoC,EAAAmoC,IAAgO,OAA5HhkC,KAAAwzD,oBAAA,MAAA33D,EAAA43D,iBAAA53D,EAAA43D,kBAAA,IAAA53D,EAAA63D,aAAAL,GAAAC,GAA+FtzD,KAAAswD,qBAAAgD,GAA6BtzD,KAG9E,SAAA2zD,GAAA1rD,EAAAC,EAAArM,EAAAC,GAAqB,GAAAkE,KAAA4zD,UAAAxyD,OAAA,CAA0B,IAAA4iC,EAAAhkC,KAAA4zD,UAAArzB,MAAgD,OAArBvgC,KAAArE,KAAAqoC,EAAA/7B,EAAAC,EAAArM,EAAAC,GAAqBkoC,EAAS,WAAAhkC,KAAAiI,EAAAC,EAAArM,EAAAC,GAAyB,SAAA+3D,GAAA5rD,GAAeA,aAAAjI,MAAAtD,EAAA,OAAkCuL,EAAAgmB,aAAe,GAAAjuB,KAAA4zD,UAAAxyD,QAAApB,KAAA4zD,UAAA7rD,KAAAE,GAChc,SAAA6rD,GAAA7rD,GAAeA,EAAA2rD,UAAA,GAAe3rD,EAAA8rD,UAAAJ,GAAe1rD,EAAA8/B,QAAA8rB,GAH7Cv2D,EAAAyqD,GAAA3qD,UAAA,CAAegI,eAAA,WAA0BpF,KAAAyzD,kBAAA,EAAyB,IAAAxrD,EAAAjI,KAAAqnB,YAAuBpf,MAAA7C,eAAA6C,EAAA7C,iBAAA,mBAAA6C,EAAAyrD,cAAAzrD,EAAAyrD,aAAA,GAAA1zD,KAAAwzD,mBAAAH,KAAyHluD,gBAAA,WAA4B,IAAA8C,EAAAjI,KAAAqnB,YAAuBpf,MAAA9C,gBAAA8C,EAAA9C,kBAAA,mBAAA8C,EAAA+rD,eAAA/rD,EAAA+rD,cAAA,GAAAh0D,KAAAswD,qBAAA+C,KAA+HY,QAAA,WAAoBj0D,KAAAuwD,aAAA8C,IAAqB9C,aAAA+C,GAAArlC,WAAA,WAAuC,IACpd/lB,EADodD,EAAAjI,KAAAiQ,YAAAsjD,UACld,IAAArrD,KAAAD,EAAAjI,KAAAkI,GAAA,KAAwBlI,KAAAqnB,YAAArnB,KAAA2xD,YAAA3xD,KAAAyxD,eAAA,KAA2DzxD,KAAAswD,qBAAAtwD,KAAAwzD,mBAAAF,GAAqDtzD,KAAAqwD,mBAAArwD,KAAAowD,mBAAA,QAAwDrI,GAAAwL,UAAA,CAAa/tD,KAAA,KAAAb,OAAA,KAAAorD,cAAA,WAA+C,aAAYmE,WAAA,KAAAC,QAAA,KAAAC,WAAA,KAAAC,UAAA,SAAApsD,GAAoE,OAAAA,EAAAosD,WAAAjvC,KAAAC,OAA+BouC,iBAAA,KAAAa,UAAA,MAC7WvM,GAAAp4C,OAAA,SAAA1H,GAAqB,SAAAC,KAAc,SAAArM,IAAa,OAAAC,EAAAsE,MAAAJ,KAAAK,WAA+B,IAAAvE,EAAAkE,KAAWkI,EAAA9K,UAAAtB,EAAAsB,UAAwB,IAAA4mC,EAAA,IAAA97B,EAA6H,OAAjH5K,EAAA0mC,EAAAnoC,EAAAuB,WAAiBvB,EAAAuB,UAAA4mC,EAAcnoC,EAAAuB,UAAA6S,YAAApU,EAA0BA,EAAA03D,UAAAj2D,EAAA,GAAgBxB,EAAAy3D,UAAAtrD,GAAgBpM,EAAA8T,OAAA7T,EAAA6T,OAAkBmkD,GAAAj4D,GAAMA,GAAUi4D,GAAA/L,IAC/L,IAAAwM,GAAAxM,GAAAp4C,OAAA,CAAiBjO,KAAA,OAAU8yD,GAAAzM,GAAAp4C,OAAA,CAAejO,KAAA,OAAU+yD,GAAA,aAAAC,GAAA3C,GAAA,qBAAA18C,OAAAs/C,GAAA,KAA6D5C,GAAA,iBAAAhtD,WAAA4vD,GAAA5vD,SAAA6vD,cAC3K,IAAAC,GAAA9C,GAAA,cAAA18C,SAAAs/C,GAAAG,GAAA/C,KAAA2C,IAAAC,IAAA,EAAAA,IAAA,IAAAA,IAAAI,GAAAj+C,OAAAG,aAAA,IAAA+9C,GAAA,CAAmGC,YAAA,CAAa5F,wBAAA,CAAyB6F,QAAA,gBAAAC,SAAA,wBAAwDzF,aAAA,mDAAgE0F,eAAA,CAAiB/F,wBAAA,CAAyB6F,QAAA,mBAAAC,SAAA,2BAA8DzF,aAAA,uDAAAvsD,MAAA,MAAgFkyD,iBAAA,CAAmBhG,wBAAA,CAAyB6F,QAAA,qBACreC,SAAA,6BAAqCzF,aAAA,yDAAAvsD,MAAA,MAAkFmyD,kBAAA,CAAoBjG,wBAAA,CAAyB6F,QAAA,sBAAAC,SAAA,8BAAoEzF,aAAA,0DAAAvsD,MAAA,OAAoFoyD,IAAA,EAC5T,SAAAC,GAAAvtD,EAAAC,GAAiB,OAAAD,GAAU,uBAAAwsD,GAAAvvD,QAAAgD,EAAA9B,SAA8C,2BAAA8B,EAAA9B,QAAsC,mDAAsD,kBAAkB,SAAAqvD,GAAAxtD,GAA0B,OAAXA,IAAAytD,OAAW,kBAAAztD,GAAA,SAAAA,IAAAvG,KAAA,KAAkD,IAAAi0D,IAAA,EAAU,SAAAC,GAAA3tD,EAAAC,GAAiB,OAAAD,GAAU,4BAAAwtD,GAAAvtD,GAAmC,2BAAAA,EAAA4/B,MAAA,MAA4CytB,IAAA,EAAMR,IAAU,uBAAA9sD,EAAAC,EAAAxG,KAAAuG,IAAA8sD,IAAAQ,GAAA,KAAAttD,EAAmD,qBAC1b,SAAA4tD,GAAA5tD,EAAAC,GAAiB,GAAAytD,GAAA,yBAAA1tD,IAAAysD,IAAAc,GAAAvtD,EAAAC,IAAAD,EAAAkrD,KAAAD,GAAAD,GAAAD,GAAA,KAAA2C,IAAA,EAAA1tD,GAAA,KAAmF,OAAAA,GAAU,wBAAyB,oBAAAC,EAAA8mB,SAAA9mB,EAAA2/B,QAAA3/B,EAAA+mB,UAAA/mB,EAAA8mB,SAAA9mB,EAAA2/B,OAAA,CAA2E,GAAA3/B,EAAA4tD,MAAA,EAAA5tD,EAAA4tD,KAAA10D,OAAA,OAAA8G,EAAA4tD,KAAyC,GAAA5tD,EAAA4/B,MAAA,OAAAhxB,OAAAG,aAAA/O,EAAA4/B,OAA+C,YAAY,4BAAAgtB,IAAA,OAAA5sD,EAAAkjB,OAAA,KAAAljB,EAAAxG,KAA6D,qBACnX,IAAAq0D,GAAA,CAAQ5G,WAAA6F,GAAA9F,cAAA,SAAAjnD,EAAAC,EAAArM,EAAAC,GAA8C,IAAAkoC,OAAA,EAAaokB,OAAA,EAAa,GAAAsM,GAAAxsD,EAAA,CAAS,OAAAD,GAAU,uBAAA+7B,EAAAgxB,GAAAK,iBAA8C,MAAAntD,EAAQ,qBAAA87B,EAAAgxB,GAAAI,eAA0C,MAAAltD,EAAQ,wBAAA87B,EAAAgxB,GAAAM,kBAAgD,MAAAptD,EAAQ87B,OAAA,OAAS2xB,GAAAH,GAAAvtD,EAAApM,KAAAmoC,EAAAgxB,GAAAI,gBAAA,YAAAntD,GAAA,MAAApM,EAAAuK,UAAA49B,EAAAgxB,GAAAK,kBAC/F,OAD8LrxB,GAAA8wB,IAAA,OAAAj5D,EAAAuvB,SAAAuqC,IAAA3xB,IAAAgxB,GAAAK,iBAAArxB,IAAAgxB,GAAAI,gBAAAO,KAAAvN,EAAA+K,OAAAH,GAAAl3D,EAAAm3D,GAAA,UAAAD,MAAAv2D,MAAAu2D,GAAAI,YAAAuC,IAC3W,IAAA3xB,EAAAuwB,GAAAR,UAAA/vB,EAAA97B,EAAArM,EAAAC,GAAAssD,EAAApkB,EAAAtiC,KAAA0mD,KAAAqN,GAAA55D,GAAA,OAAAusD,IAAApkB,EAAAtiC,KAAA0mD,IAAA0J,EAAA9tB,GAAAokB,EAAApkB,GAAAokB,EAAA,MAAyFngD,EAAA4sD,GAAAe,GAAA3tD,EAAApM,GAAAg6D,GAAA5tD,EAAApM,KAAAqM,EAAAssD,GAAAT,UAAAiB,GAAAC,YAAA/sD,EAAArM,EAAAC,GAAAoM,EAAAxG,KAAAuG,EAAA6pD,EAAA5pD,MAAA,KAAoF,OAAAkgD,EAAAlgD,EAAA,OAAAA,EAAAkgD,EAAA,CAAAA,EAAAlgD,KAAoC8tD,GAAA,KAAAC,GAAA,KAAAC,GAAA,KAAyB,SAAAC,GAAAluD,GAAe,GAAAA,EAAA2nD,EAAA3nD,GAAA,CAAY,oBAAA+tD,IAAAt5D,EAAA,OAAuC,IAAAwL,EAAAynD,EAAA1nD,EAAA2oD,WAAsBoF,GAAA/tD,EAAA2oD,UAAA3oD,EAAAzC,KAAA0C,IAA0B,SAAAkuD,GAAAnuD,GAAeguD,GAAAC,MAAAnuD,KAAAE,GAAAiuD,GAAA,CAAAjuD,GAAAguD,GAAAhuD,EAA6B,SAAAouD,KAAc,GAAAJ,GAAA,CAAO,IAAAhuD,EAAAguD,GAAA/tD,EAAAguD,GAA+B,GAAjBA,GAAAD,GAAA,KAAWE,GAAAluD,GAAMC,EAAA,IAAAD,EAAA,EAAaA,EAAAC,EAAA9G,OAAW6G,IAAAkuD,GAAAjuD,EAAAD,KACpd,SAAAquD,GAAAruD,EAAAC,GAAiB,OAAAD,EAAAC,GAAY,SAAAquD,GAAAtuD,EAAAC,EAAArM,GAAmB,OAAAoM,EAAAC,EAAArM,GAAc,SAAA26D,MAAe,IAAAC,IAAA,EAAU,SAAAC,GAAAzuD,EAAAC,GAAiB,GAAAuuD,GAAA,OAAAxuD,EAAAC,GAAkBuuD,IAAA,EAAM,IAAI,OAAAH,GAAAruD,EAAAC,GAAe,QAAQuuD,IAAA,UAAAR,IAAA,OAAAC,MAAAM,KAAAH,OAAyC,IAAAM,GAAA,CAAQC,OAAA,EAAAC,MAAA,EAAAC,UAAA,EAAAC,kBAAA,EAAAv2B,OAAA,EAAAw2B,OAAA,EAAAC,QAAA,EAAAC,UAAA,EAAAhqD,OAAA,EAAAiqD,QAAA,EAAAC,KAAA,EAAA1nD,MAAA,EAAAyV,MAAA,EAAApF,KAAA,EAAAs3C,MAAA,GAAmJ,SAAAC,GAAArvD,GAAe,IAAAC,EAAAD,KAAAoxB,UAAApxB,EAAAoxB,SAAAxyB,cAA8C,gBAAAqB,IAAAyuD,GAAA1uD,EAAAzC,MAAA,aAAA0C,EAC5Z,SAAAqvD,GAAAtvD,GAAyG,OAA1FA,IAAAtD,QAAAsD,EAAAuvD,YAAAniD,OAAiCpN,EAAAwvD,0BAAAxvD,IAAAwvD,yBAAyD,IAAAxvD,EAAAyvD,SAAAzvD,EAAAomB,WAAApmB,EAAqC,SAAA0vD,GAAA1vD,GAAe,IAAA8pD,EAAA,SAAgB9pD,EAAA,KAAAA,EAAS,IAAAC,EAAAD,KAAAlD,SAAgH,OAA5FmD,MAAAnD,SAAA7G,cAAA,OAAAgK,EAAAlB,aAAAiB,EAAA,WAA6DC,EAAA,oBAAAA,EAAAD,IAA+BC,EAAS,SAAA0vD,GAAA3vD,GAAe,IAAAC,EAAAD,EAAAzC,KAAa,OAAAyC,IAAAoxB,WAAA,UAAApxB,EAAApB,gBAAA,aAAAqB,GAAA,UAAAA,GAC3U,SAAA2vD,GAAA5vD,GAAe,IAAAC,EAAA0vD,GAAA3vD,GAAA,kBAAApM,EAAAK,OAAA47D,yBAAA7vD,EAAAgI,YAAA7S,UAAA8K,GAAApM,EAAA,GAAAmM,EAAAC,GAAqG,IAAAD,EAAA5K,eAAA6K,IAAA,qBAAArM,GAAA,oBAAAA,EAAAQ,KAAA,oBAAAR,EAAAuc,IAAA,CAAuG,IAAA4rB,EAAAnoC,EAAAQ,IAAA+rD,EAAAvsD,EAAAuc,IAAiM,OAA7Klc,OAAAC,eAAA8L,EAAAC,EAAA,CAA2B6vD,cAAA,EAAA17D,IAAA,WAA+B,OAAA2nC,EAAAroC,KAAAqE,OAAoBoY,IAAA,SAAAnQ,GAAiBnM,EAAA,GAAAmM,EAAOmgD,EAAAzsD,KAAAqE,KAAAiI,MAAkB/L,OAAAC,eAAA8L,EAAAC,EAAA,CAA2B9L,WAAAP,EAAAO,aAA0B,CAAO47D,SAAA,WAAoB,OAAAl8D,GAASm8D,SAAA,SAAAhwD,GAAsBnM,EAAA,GAAAmM,GAAOiwD,aAAA,WAAyBjwD,EAAAkwD,cACtf,YAAKlwD,EAAAC,MAAe,SAAAkwD,GAAAnwD,GAAeA,EAAAkwD,gBAAAlwD,EAAAkwD,cAAAN,GAAA5vD,IAAyC,SAAAowD,GAAApwD,GAAe,IAAAA,EAAA,SAAe,IAAAC,EAAAD,EAAAkwD,cAAsB,IAAAjwD,EAAA,SAAe,IAAArM,EAAAqM,EAAA8vD,WAAmBl8D,EAAA,GAA2D,OAAlDmM,IAAAnM,EAAA87D,GAAA3vD,KAAAqwD,QAAA,eAAArwD,EAAAxL,OAA8CwL,EAAAnM,EAAImM,IAAApM,IAAAqM,EAAA+vD,SAAAhwD,IAAA,GAAmC,IAAAswD,GAAA1Q,EAAAqF,mDAA6DqL,GAAAl7D,eAAA,4BAAAk7D,GAAApL,uBAAA,CAAyE9iD,QAAA,OACtY,IAAAmuD,GAAA,cAAA5P,GAAA,oBAAArsD,eAAAgrD,IAAAkR,GAAA7P,GAAArsD,OAAAgrD,IAAA,uBAAAmR,GAAA9P,GAAArsD,OAAAgrD,IAAA,sBAAAoR,GAAA/P,GAAArsD,OAAAgrD,IAAA,wBAAAqR,GAAAhQ,GAAArsD,OAAAgrD,IAAA,2BAAAsR,GAAAjQ,GAAArsD,OAAAgrD,IAAA,wBAAAuR,GAAAlQ,GAAArsD,OAAAgrD,IAAA,wBAAAwR,GAAAnQ,GAAArsD,OAAAgrD,IAAA,uBAAAyR,GAAApQ,GAAArsD,OAAAgrD,IAAA,+BAAA0R,GAAArQ,GAAArsD,OAAAgrD,IAAA,2BAAA2R,GAAAtQ,GAAArsD,OAAAgrD,IAAA,wBAAA4R,GAAAvQ,GAAArsD,OAAAgrD,IAAA,cACA,MAAA6R,GAAAxQ,GAAArsD,OAAAgrD,IAAA,oBAAA8R,GAAA,oBAAA98D,eAAAyrD,SAAyF,SAAAsR,GAAArxD,GAAe,cAAAA,GAAA,kBAAAA,EAAA,MAA6CA,EAAAoxD,IAAApxD,EAAAoxD,KAAApxD,EAAA,cAA6B,oBAAAA,IAAA,MAClL,SAAAsxD,GAAAtxD,GAAe,SAAAA,EAAA,YAAuB,uBAAAA,EAAA,OAAAA,EAAA++C,aAAA/+C,EAAAlM,MAAA,KAA4D,qBAAAkM,EAAA,OAAAA,EAAgC,OAAAA,GAAU,KAAA+wD,GAAA,uBAA+B,KAAAL,GAAA,iBAAyB,KAAAD,GAAA,eAAuB,KAAAG,GAAA,iBAAyB,KAAAD,GAAA,mBAA2B,KAAAM,GAAA,iBAAyB,qBAAAjxD,EAAA,OAAAA,EAAA2hD,UAA0C,KAAAmP,GAAA,yBAAiC,KAAAD,GAAA,yBAAiC,KAAAG,GAAA,IAAA/wD,EAAAD,EAAA8nB,OAAmD,OAA5B7nB,IAAA8+C,aAAA9+C,EAAAnM,MAAA,GAA4BkM,EAAA++C,cAAA,KAAA9+C,EAAA,cAAAA,EACvc,kBAAkB,KAAAixD,GAAA,OAAAI,GAAAtxD,EAAAzC,MAA0B,KAAA4zD,GAAA,GAAAnxD,EAAA,IAAAA,EAAA2jD,QAAA3jD,EAAA4jD,QAAA,YAAA0N,GAAAtxD,GAAuD,YAAY,SAAAuxD,GAAAvxD,GAAe,IAAAC,EAAA,GAAS,GAAGD,EAAA,OAAAA,EAAAipD,KAAgB,+CAAAr1D,EAAA,GAAoD,MAAAoM,EAAQ,YAAAnM,EAAAmM,EAAAwxD,YAAAz1B,EAAA/7B,EAAAyxD,aAAAtR,EAAAmR,GAAAtxD,EAAAzC,MAA0D3J,EAAA,KAAOC,IAAAD,EAAA09D,GAAAz9D,EAAA0J,OAAkB1J,EAAAssD,EAAIA,EAAA,GAAKpkB,EAAAokB,EAAA,QAAApkB,EAAA21B,SAAAhsC,QAAA6qC,GAAA,QAAAx0B,EAAA41B,WAAA,IAAA/9D,IAAAusD,EAAA,gBAAAvsD,EAAA,KAAwFA,EAAA,aAAAC,GAAA,WAAAssD,EAA+BlgD,GAAArM,EAAKoM,IAAAspD,aAAWtpD,GAAS,OAAAC,EAClc,IAAA2xD,GAAA,8VAAAC,GAAA59D,OAAAkB,UAAAC,eAAA08D,GAAA,GAA6YC,GAAA,GAC7Y,SAAAC,GAAAhyD,GAAe,QAAA6xD,GAAAn+D,KAAAq+D,GAAA/xD,KAA0B6xD,GAAAn+D,KAAAo+D,GAAA9xD,KAA0B4xD,GAAAzgD,KAAAnR,GAAA+xD,GAAA/xD,IAAA,GAA8B8xD,GAAA9xD,IAAA,GAAS,IAAS,SAAAiyD,GAAAjyD,EAAAC,EAAArM,EAAAC,GAAqB,UAAAD,GAAA,IAAAA,EAAA2J,KAAA,SAAiC,cAAA0C,GAAiB,qCAAuC,qBAAApM,IAA6B,OAAAD,KAAAs+D,iBAAqClyD,IAAApB,cAAAa,MAAA,KAA6B,UAAAO,GAAA,UAAAA,IAA+B,kBAC/V,SAAAmyD,GAAAnyD,EAAAC,EAAArM,EAAAC,GAAqB,UAAAoM,GAAA,qBAAAA,GAAAgyD,GAAAjyD,EAAAC,EAAArM,EAAAC,GAAA,SAA0D,GAAAA,EAAA,SAAc,UAAAD,EAAA,OAAAA,EAAA2J,MAA2B,cAAA0C,EAAgB,kBAAAA,EAAoB,cAAAqW,MAAArW,GAAuB,cAAAqW,MAAArW,IAAA,EAAAA,EAA4B,SAAS,SAAA6gD,GAAA9gD,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAsBhkC,KAAAm6D,gBAAA,IAAAjyD,GAAA,IAAAA,GAAA,IAAAA,EAAyClI,KAAAq6D,cAAAv+D,EAAqBkE,KAAAs6D,mBAAAt2B,EAA0BhkC,KAAAu6D,gBAAA1+D,EAAuBmE,KAAAw6D,aAAAvyD,EAAoBjI,KAAAwF,KAAA0C,EAAY,IAAA8gD,GAAA,GAC7X,uIAAA7lD,MAAA,KAAAwE,QAAA,SAAAM,GAAsK+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAA,QAA4B,wGAAAN,QAAA,SAAAM,GAA4H,IAAAC,EAAAD,EAAA,GAAW+gD,GAAA9gD,GAAA,IAAA6gD,GAAA7gD,EAAA,KAAAD,EAAA,WAA+B,qDAAAN,QAAA,SAAAM,GAAyE+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAApB,cAAA,QACjb,wEAAAc,QAAA,SAAAM,GAA4F+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAA,QAA4B,gMAAA9E,MAAA,KAAAwE,QAAA,SAAAM,GAA+N+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAApB,cAAA,QAA0C,0CAAAc,QAAA,SAAAM,GAA8D+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAA,QAC/b,uBAAAN,QAAA,SAAAM,GAA2C+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAA,QAA4B,8BAAAN,QAAA,SAAAM,GAAkD+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAA,QAA4B,oBAAAN,QAAA,SAAAM,GAAwC+gD,GAAA/gD,GAAA,IAAA8gD,GAAA9gD,EAAA,KAAAA,EAAApB,cAAA,QAA0C,IAAA4zD,GAAA,gBAAuB,SAAAC,GAAAzyD,GAAe,OAAAA,EAAA,GAAA0yD,cAG7Q,SAAAC,GAAA3yD,EAAAC,EAAArM,EAAAC,GAAqB,IAAAkoC,EAAAglB,GAAA3rD,eAAA6K,GAAA8gD,GAAA9gD,GAAA,KAAoCkgD,EAAA,OAAApkB,EAAA,IAAAA,EAAAx+B,MAAA1J,IAAA,EAAAoM,EAAA9G,SAAA,MAAA8G,EAAA,UAAAA,EAAA,YAAAA,EAAA,UAAAA,EAAA,KAAmGkgD,IAAAgS,GAAAlyD,EAAArM,EAAAmoC,EAAAloC,KAAAD,EAAA,MAAAC,GAAA,OAAAkoC,EAAAi2B,GAAA/xD,KAAA,OAAArM,EAAAoM,EAAA0yB,gBAAAzyB,GAAAD,EAAAjB,aAAAkB,EAAA,GAAArM,IAAAmoC,EAAAu2B,gBAAAtyD,EAAA+7B,EAAAw2B,cAAA,OAAA3+D,EAAA,IAAAmoC,EAAAx+B,MAAA,GAAA3J,GAAAqM,EAAA87B,EAAAq2B,cAAAv+D,EAAAkoC,EAAAs2B,mBAAA,OAAAz+D,EAAAoM,EAAA0yB,gBAAAzyB,IAAA87B,IAAAx+B,KAAA3J,EAAA,IAAAmoC,GAAA,IAAAA,IAAA,IAAAnoC,EAAA,MAAAA,EAAAC,EAAAmM,EAAA4yD,eAAA/+D,EAAAoM,EAAArM,GAAAoM,EAAAjB,aAAAkB,EAAArM,MAC5J,SAAAi/D,GAAA7yD,GAAe,cAAAA,GAAiB,4EAAAA,EAAmF,kBAAkB,SAAA8yD,GAAA9yD,EAAAC,GAAiB,IAAArM,EAAAqM,EAAAowD,QAAgB,OAAAh7D,EAAA,GAAW4K,EAAA,CAAI8yD,oBAAA,EAAAC,kBAAA,EAAAx+D,WAAA,EAAA67D,QAAA,MAAAz8D,IAAAoM,EAAAizD,cAAAC,iBACrL,SAAAC,GAAAnzD,EAAAC,GAAiB,IAAArM,EAAA,MAAAqM,EAAA+yD,aAAA,GAAA/yD,EAAA+yD,aAAAn/D,EAAA,MAAAoM,EAAAowD,QAAApwD,EAAAowD,QAAApwD,EAAA8yD,eAA0Fn/D,EAAAi/D,GAAA,MAAA5yD,EAAAzL,MAAAyL,EAAAzL,MAAAZ,GAA8BoM,EAAAizD,cAAA,CAAiBC,eAAAr/D,EAAAu/D,aAAAx/D,EAAAy/D,WAAA,aAAApzD,EAAA1C,MAAA,UAAA0C,EAAA1C,KAAA,MAAA0C,EAAAowD,QAAA,MAAApwD,EAAAzL,OAAgH,SAAA8+D,GAAAtzD,EAAAC,GAAiBA,IAAAowD,QAAY,MAAApwD,GAAA0yD,GAAA3yD,EAAA,UAAAC,GAAA,GACvS,SAAAszD,GAAAvzD,EAAAC,GAAiBqzD,GAAAtzD,EAAAC,GAAQ,IAAArM,EAAAi/D,GAAA5yD,EAAAzL,OAAAX,EAAAoM,EAAA1C,KAA2B,SAAA3J,EAAA,WAAAC,GAA4B,IAAAD,GAAA,KAAAoM,EAAAxL,OAAAwL,EAAAxL,OAAAZ,KAAAoM,EAAAxL,MAAA,GAAAZ,GAAgDoM,EAAAxL,QAAA,GAAAZ,IAAAoM,EAAAxL,MAAA,GAAAZ,QAAoC,cAAAC,GAAA,UAAAA,EAA8D,YAA3BmM,EAAA0yB,gBAAA,SAAkCzyB,EAAA7K,eAAA,SAAAo+D,GAAAxzD,EAAAC,EAAA1C,KAAA3J,GAAAqM,EAAA7K,eAAA,iBAAAo+D,GAAAxzD,EAAAC,EAAA1C,KAAAs1D,GAAA5yD,EAAA+yD,eAA2G,MAAA/yD,EAAAowD,SAAA,MAAApwD,EAAA8yD,iBAAA/yD,EAAA+yD,iBAAA9yD,EAAA8yD,gBACpV,SAAAU,GAAAzzD,EAAAC,EAAArM,GAAmB,GAAAqM,EAAA7K,eAAA,UAAA6K,EAAA7K,eAAA,iBAAgE,IAAAvB,EAAAoM,EAAA1C,KAAa,gBAAA1J,GAAA,UAAAA,QAAA,IAAAoM,EAAAzL,OAAA,OAAAyL,EAAAzL,OAAA,OAAyEyL,EAAA,GAAAD,EAAAizD,cAAAG,aAAkCx/D,GAAAqM,IAAAD,EAAAxL,QAAAwL,EAAAxL,MAAAyL,GAA4BD,EAAAgzD,aAAA/yD,EAAiBrM,EAAAoM,EAAAlM,KAAS,KAAAF,IAAAoM,EAAAlM,KAAA,IAAoBkM,EAAA+yD,gBAAA/yD,EAAA+yD,eAAmC/yD,EAAA+yD,iBAAA/yD,EAAAizD,cAAAC,eAAkD,KAAAt/D,IAAAoM,EAAAlM,KAAAF,GAC1W,SAAA4/D,GAAAxzD,EAAAC,EAAArM,GAAmB,WAAAqM,GAAAD,EAAA0zD,cAAA32D,gBAAAiD,IAAA,MAAApM,EAAAoM,EAAAgzD,aAAA,GAAAhzD,EAAAizD,cAAAG,aAAApzD,EAAAgzD,eAAA,GAAAp/D,IAAAoM,EAAAgzD,aAAA,GAAAp/D,IAPnB,0jCAAAsH,MAAA,KAAAwE,QAAA,SAAAM,GAAylC,IAAAC,EAAAD,EAAA0lB,QAAA8sC,GACzlCC,IAAI1R,GAAA9gD,GAAA,IAAA6gD,GAAA7gD,EAAA,KAAAD,EAAA,QAA4B,sFAAA9E,MAAA,KAAAwE,QAAA,SAAAM,GAAqH,IAAAC,EAAAD,EAAA0lB,QAAA8sC,GAAAC,IAAuB1R,GAAA9gD,GAAA,IAAA6gD,GAAA7gD,EAAA,KAAAD,EAAA,kCAAsD,oCAAAN,QAAA,SAAAM,GAAwD,IAAAC,EAAAD,EAAA0lB,QAAA8sC,GAAAC,IAAuB1R,GAAA9gD,GAAA,IAAA6gD,GAAA7gD,EAAA,KAAAD,EAAA,0CAA8D+gD,GAAA//C,SAAA,IAAA8/C,GAAA,iCAMrM,IAAA6S,GAAA,CAAQC,OAAA,CAAQxM,wBAAA,CAAyB6F,QAAA,WAAAC,SAAA,mBAA8CzF,aAAA,8DAAAvsD,MAAA,OAAyF,SAAA24D,GAAA7zD,EAAAC,EAAArM,GAA8E,OAA3DoM,EAAA8/C,GAAAgM,UAAA6H,GAAAC,OAAA5zD,EAAAC,EAAArM,GAA+BoM,EAAAzC,KAAA,SAAgB4wD,GAAAv6D,GAAMi2D,EAAA7pD,GAAMA,EAAS,IAAA8zD,GAAA,KAAAC,GAAA,KAAoB,SAAAC,GAAAh0D,GAAe4oD,EAAA5oD,GACpd,SAAAi0D,GAAAj0D,GAAe,IAAAC,EAAAkpD,EAAAnpD,GAAY,GAAAowD,GAAAnwD,GAAA,OAAAD,EAAkB,SAAAk0D,GAAAl0D,EAAAC,GAAiB,cAAAD,EAAA,OAAAC,EAAyB,IAAAk0D,IAAA,EAAkF,SAAAC,KAAcN,QAAAO,YAAA,mBAAAC,IAAAP,GAAAD,GAAA,MAAuD,SAAAQ,GAAAt0D,GAAe,UAAAA,EAAAuyD,cAAA0B,GAAAF,MAAA/zD,EAAA6zD,GAAAE,GAAA/zD,EAAAsvD,GAAAtvD,IAAAyuD,GAAAuF,GAAAh0D,IAA8D,SAAAu0D,GAAAv0D,EAAAC,EAAArM,GAAmB,UAAAoM,GAAAo0D,KAAAN,GAAA7zD,EAAA8zD,GAAAngE,EAAAkgE,GAAAU,YAAA,mBAAAF,KAAA,SAAAt0D,GAAAo0D,KAAoF,SAAAK,GAAAz0D,GAAe,uBAAAA,GAAA,UAAAA,GAAA,YAAAA,EAAA,OAAAi0D,GAAAF,IACjb,SAAAW,GAAA10D,EAAAC,GAAiB,aAAAD,EAAA,OAAAi0D,GAAAh0D,GAA4B,SAAA00D,GAAA30D,EAAAC,GAAiB,aAAAD,GAAA,WAAAA,EAAA,OAAAi0D,GAAAh0D,GADmC6pD,IAAAqK,GAAAzE,GAAA,YAAA5yD,SAAA6vD,cAAA,EAAA7vD,SAAA6vD,eAEjG,IAAAiI,GAAA,CAAQ1N,WAAAyM,GAAAkB,uBAAAV,GAAAlN,cAAA,SAAAjnD,EAAAC,EAAArM,EAAAC,GAAwE,IAAAkoC,EAAA97B,EAAAkpD,EAAAlpD,GAAAmN,OAAA+yC,OAAA,EAAAF,OAAA,EAAAC,EAAAnkB,EAAA3K,UAAA2K,EAAA3K,SAAAxyB,cAAmP,GAArK,WAAAshD,GAAA,UAAAA,GAAA,SAAAnkB,EAAAx+B,KAAA4iD,EAAA+T,GAAA7E,GAAAtzB,GAAAo4B,GAAAhU,EAAAwU,IAAAxU,EAAAsU,GAAAxU,EAAAsU,KAAArU,EAAAnkB,EAAA3K,WAAA,UAAA8uB,EAAAthD,gBAAA,aAAAm9B,EAAAx+B,MAAA,UAAAw+B,EAAAx+B,QAAA4iD,EAAAuU,IAAqKvU,QAAAngD,EAAAC,IAAA,OAAA4zD,GAAA1T,EAAAvsD,EAAAC,GAAkCosD,KAAAjgD,EAAA+7B,EAAA97B,GAAY,SAAAD,MAAA+7B,EAAAk3B,gBAAAjzD,EAAAqzD,YAAA,WAAAt3B,EAAAx+B,MAAAi2D,GAAAz3B,EAAA,SAAAA,EAAAvnC,SAA0FsgE,GAAAhV,GAAAp4C,OAAA,CAAcqtD,KAAA,KAAAtH,OAAA,OAAsBuH,GAAA,CAAMC,IAAA,SACrfC,QAAA,UAAAC,KAAA,UAAAC,MAAA,YAAmD,SAAAC,GAAAr1D,GAAe,IAAAC,EAAAlI,KAAAqnB,YAAuB,OAAAnf,EAAAq1D,iBAAAr1D,EAAAq1D,iBAAAt1D,QAAAg1D,GAAAh1D,OAAAC,EAAAD,GAAoE,SAAAu1D,KAAc,OAAAF,GAC3K,IAAAG,GAAA,EAAAC,GAAA,EAAAC,IAAA,EAAAC,IAAA,EAAAC,GAAAd,GAAAptD,OAAA,CAAwCk9B,QAAA,KAAAC,QAAA,KAAA7O,QAAA,KAAAC,QAAA,KAAA3W,MAAA,KAAAu2C,MAAA,KAAA9uC,QAAA,KAAA0Y,SAAA,KAAAG,OAAA,KAAA5Y,QAAA,KAAAsuC,iBAAAC,GAAAv3C,OAAA,KAAA9M,QAAA,KAAA4jB,cAAA,SAAA90B,GAAqM,OAAAA,EAAA80B,gBAAA90B,EAAA81D,cAAA91D,EAAAuvD,WAAAvvD,EAAAg2C,UAAAh2C,EAAA81D,cAAiFC,UAAA,SAAA/1D,GAAuB,iBAAAA,EAAA,OAAAA,EAAA+1D,UAAsC,IAAA91D,EAAAu1D,GAAsB,OAAbA,GAAAx1D,EAAA4kC,QAAa8wB,GAAA,cAAA11D,EAAAzC,KAAAyC,EAAA4kC,QAAA3kC,EAAA,GAAAy1D,IAAA,MAAuDM,UAAA,SAAAh2D,GAAuB,iBAAAA,EAAA,OAAAA,EAAAg2D,UAC/d,IAAA/1D,EAAAw1D,GAAsB,OAAbA,GAAAz1D,EAAA6kC,QAAa8wB,GAAA,cAAA31D,EAAAzC,KAAAyC,EAAA6kC,QAAA5kC,EAAA,GAAA01D,IAAA,QAAwDM,GAAAL,GAAAluD,OAAA,CAAgBwuD,UAAA,KAAAt/D,MAAA,KAAAC,OAAA,KAAAs/D,SAAA,KAAAC,mBAAA,KAAAC,MAAA,KAAAC,MAAA,KAAAC,MAAA,KAAAC,YAAA,KAAAC,UAAA,OAA6IC,GAAA,CAAMC,WAAA,CAAYrP,iBAAA,eAAAG,aAAA,0BAAsEmP,WAAA,CAAatP,iBAAA,eAAAG,aAAA,0BAAsEoP,aAAA,CAAevP,iBAAA,iBAAAG,aAAA,8BAA4EqP,aAAA,CAAexP,iBAAA,iBAChgBG,aAAA,+BAA2CsP,GAAA,CAAK7P,WAAAwP,GAAAzP,cAAA,SAAAjnD,EAAAC,EAAArM,EAAAC,GAA8C,IAAAkoC,EAAA,cAAA/7B,GAAA,gBAAAA,EAAAmgD,EAAA,aAAAngD,GAAA,eAAAA,EAA4E,GAAA+7B,IAAAnoC,EAAAkhC,eAAAlhC,EAAAkiE,eAAA3V,IAAApkB,EAAA,YAAkM,GAAvIA,EAAAloC,EAAAuZ,SAAAvZ,KAAAkoC,EAAAloC,EAAA6/D,eAAA33B,EAAAi7B,aAAAj7B,EAAAk7B,aAAA7pD,OAA0E+yC,KAAAlgD,OAAArM,EAAAkhC,eAAAlhC,EAAAoiD,WAAAgT,EAAA/oD,GAAA,MAAAkgD,EAAA,KAA6DA,IAAAlgD,EAAA,YAAqB,IAAAggD,OAAA,EAAAC,OAAA,EAAA1sD,OAAA,EAAA6rD,OAAA,EAAwC,aAAAr/C,GAAA,cAAAA,GAAAigD,EAAA2V,GAAA1V,EAAAwW,GAAAE,WAAApjE,EAAAkjE,GAAAC,WAAAtX,EAAA,SACza,eAAAr/C,GAAA,gBAAAA,IAAAigD,EAAAgW,GAAA/V,EAAAwW,GAAAI,aAAAtjE,EAAAkjE,GAAAG,aAAAxX,EAAA,WAAiG,IAAA1rD,EAAA,MAAAwsD,EAAApkB,EAAAotB,EAAAhJ,GAAsL,GAAhKpkB,EAAA,MAAA97B,EAAA87B,EAAAotB,EAAAlpD,GAAkBD,EAAAigD,EAAA6L,UAAA5L,EAAAC,EAAAvsD,EAAAC,GAAuBmM,EAAAzC,KAAA8hD,EAAA,QAAiBr/C,EAAAtD,OAAA/I,EAAWqM,EAAA80B,cAAAiH,EAAkBnoC,EAAAqsD,EAAA6L,UAAAt4D,EAAAyM,EAAArM,EAAAC,GAAuBD,EAAA2J,KAAA8hD,EAAA,QAAiBzrD,EAAA8I,OAAAq/B,EAAWnoC,EAAAkhC,cAAAnhC,EAAkBE,EAAAoM,EAAIkgD,GAAAtsD,EAAAmM,EAAA,CAAuB,IAAZC,EAAAkgD,EAAIpkB,EAAAloC,EAAIwrD,EAAA,EAAIY,EAAAhgD,EAAQggD,EAAEA,EAAAoJ,EAAApJ,GAAAZ,IAAgB,IAAJY,EAAA,EAAIzsD,EAAAuoC,EAAQvoC,EAAEA,EAAA61D,EAAA71D,GAAAysD,IAAY,KAAK,EAAAZ,EAAAY,GAAMhgD,EAAAopD,EAAAppD,GAAAo/C,IAAa,KAAK,EAAAY,EAAAZ,GAAMtjB,EAAAstB,EAAAttB,GAAAkkB,IAAa,KAAKZ,KAAI,CAAE,GAAAp/C,IAAA87B,GAAA97B,IAAA87B,EAAAm7B,UAAA,MAAAl3D,EAAkCC,EAAAopD,EAAAppD,GAAQ87B,EAAAstB,EAAAttB,GAAQ97B,EAAA,UAAOA,EAAA,KAAgB,IAAJ87B,EAAA97B,EAAIA,EAAA,GAASkgD,OAAApkB,GAAS,CACxe,GAD0esjB,EACtfc,EAAA+W,UAAY,OAAA7X,OAAAtjB,EAAA,MAAyB97B,EAAAH,KAAAqgD,GAAUA,EAAAkJ,EAAAlJ,GAAQ,IAAAA,EAAA,GAAStsD,OAAAkoC,GAAS,CAAgB,GAAdsjB,EAAAxrD,EAAAqjE,UAAc,OAAA7X,OAAAtjB,EAAA,MAAyBokB,EAAArgD,KAAAjM,GAAUA,EAAAw1D,EAAAx1D,GAAQ,IAAAA,EAAA,EAAQA,EAAAoM,EAAA9G,OAAWtF,IAAA81D,EAAA1pD,EAAApM,GAAA,UAAAmM,GAAyB,IAAAnM,EAAAssD,EAAAhnD,OAAe,EAAAtF,KAAM81D,EAAAxJ,EAAAtsD,GAAA,WAAAD,GAAuB,OAAAoM,EAAApM,KAAc,SAAAujE,GAAAn3D,EAAAC,GAAiB,OAAAD,IAAAC,IAAA,IAAAD,GAAA,EAAAA,IAAA,EAAAC,IAAAD,OAAAC,MAA+C,IAAAm3D,GAAAnjE,OAAAkB,UAAAC,eAC1S,SAAAiiE,GAAAr3D,EAAAC,GAAiB,GAAAk3D,GAAAn3D,EAAAC,GAAA,SAAoB,qBAAAD,GAAA,OAAAA,GAAA,kBAAAC,GAAA,OAAAA,EAAA,SAAyE,IAAArM,EAAAK,OAAA2J,KAAAoC,GAAAnM,EAAAI,OAAA2J,KAAAqC,GAAsC,GAAArM,EAAAuF,SAAAtF,EAAAsF,OAAA,SAAgC,IAAAtF,EAAA,EAAQA,EAAAD,EAAAuF,OAAWtF,IAAA,IAAAujE,GAAA1jE,KAAAuM,EAAArM,EAAAC,MAAAsjE,GAAAn3D,EAAApM,EAAAC,IAAAoM,EAAArM,EAAAC,KAAA,SAAuD,SAAS,SAAAyjE,GAAAt3D,GAAe,IAAAC,EAAAD,EAAQ,GAAAA,EAAAk3D,UAAA,KAAoBj3D,EAAAqpD,QAASrpD,IAAAqpD,WAAY,CAAK,UAAArpD,EAAAs3D,WAAA,SAAgC,KAAKt3D,EAAAqpD,QAAS,GAAArpD,IAAAqpD,OAAA,OAAArpD,EAAAs3D,WAAA,SAA4C,WAAAt3D,EAAAgpD,IAAA,IAAqB,SAAAuO,GAAAx3D,GAAe,IAAAs3D,GAAAt3D,IAAAvL,EAAA,OAC1c,SAAAgjE,GAAAz3D,GAAe,IAAAC,EAAAD,EAAAk3D,UAAkB,IAAAj3D,EAAA,OAAAA,EAAAq3D,GAAAt3D,GAAA,IAAAC,GAAAxL,EAAA,WAAAwL,EAAA,KAAAD,EAAwD,QAAApM,EAAAoM,EAAAnM,EAAAoM,IAAiB,CAAE,IAAA87B,EAAAnoC,EAAA01D,OAAAnJ,EAAApkB,IAAAm7B,UAAA,KAAoC,IAAAn7B,IAAAokB,EAAA,MAAgB,GAAApkB,EAAAoI,QAAAgc,EAAAhc,MAAA,CAAsB,QAAA8b,EAAAlkB,EAAAoI,MAAkB8b,GAAE,CAAE,GAAAA,IAAArsD,EAAA,OAAA4jE,GAAAz7B,GAAA/7B,EAAwB,GAAAigD,IAAApsD,EAAA,OAAA2jE,GAAAz7B,GAAA97B,EAAwBggD,IAAAyX,QAAYjjE,EAAA,OAAS,GAAAb,EAAA01D,SAAAz1D,EAAAy1D,OAAA11D,EAAAmoC,EAAAloC,EAAAssD,MAA+B,CAAKF,GAAA,EAAK,QAAAC,EAAAnkB,EAAAoI,MAAkB+b,GAAE,CAAE,GAAAA,IAAAtsD,EAAA,CAAUqsD,GAAA,EAAKrsD,EAAAmoC,EAAIloC,EAAAssD,EAAI,MAAM,GAAAD,IAAArsD,EAAA,CAAUosD,GAAA,EAAKpsD,EAAAkoC,EAAInoC,EAAAusD,EAAI,MAAMD,IAAAwX,QAAY,IAAAzX,EAAA,CAAO,IAAAC,EAAAC,EAAAhc,MAAc+b,GAAE,CAAE,GAAAA,IAAAtsD,EAAA,CAAUqsD,GAAA,EAAKrsD,EAAAusD,EAAItsD,EAAAkoC,EAAI,MAAM,GAAAmkB,IAAArsD,EAAA,CAAUosD,GAAA,EAAKpsD,EAAAssD,EAAIvsD,EAAAmoC,EAAI,MAAMmkB,IAAAwX,QAAYzX,GACrfxrD,EAAA,QAAiBb,EAAAsjE,YAAArjE,GAAAY,EAAA,OAA0D,OAA1B,IAAAb,EAAAq1D,KAAAx0D,EAAA,OAA0Bb,EAAA+0D,UAAAvmD,UAAAxO,EAAAoM,EAAAC,EAAmC,SAAA03D,GAAA33D,GAAuB,GAARA,EAAAy3D,GAAAz3D,IAAQA,EAAA,YAAkB,QAAAC,EAAAD,IAAa,CAAE,OAAAC,EAAAgpD,KAAA,IAAAhpD,EAAAgpD,IAAA,OAAAhpD,EAAiC,GAAAA,EAAAkkC,MAAAlkC,EAAAkkC,MAAAmlB,OAAArpD,MAAAkkC,UAAsC,CAAK,GAAAlkC,IAAAD,EAAA,MAAe,MAAKC,EAAAy3D,SAAW,CAAE,IAAAz3D,EAAAqpD,QAAArpD,EAAAqpD,SAAAtpD,EAAA,YAAuCC,IAAAqpD,OAAWrpD,EAAAy3D,QAAApO,OAAArpD,EAAAqpD,OAA0BrpD,IAAAy3D,SAAa,YAC5W,IAAAE,GAAA9X,GAAAp4C,OAAA,CAAiBmwD,cAAA,KAAAC,YAAA,KAAAC,cAAA,OAAuDC,GAAAlY,GAAAp4C,OAAA,CAAeyuB,cAAA,SAAAn2B,GAA0B,wBAAAA,IAAAm2B,cAAA/oB,OAAA+oB,iBAAgE8hC,GAAAnD,GAAAptD,OAAA,CAAgBotB,cAAA,OAAqB,SAAAojC,GAAAl4D,GAAe,IAAAC,EAAAD,EAAA7B,QAAuF,MAAvE,aAAA6B,OAAAm4D,SAAA,IAAAn4D,GAAA,KAAAC,IAAAD,EAAA,KAAAA,EAAAC,EAAwD,KAAAD,MAAA,IAAe,IAAAA,GAAA,KAAAA,IAAA,EAC5T,IAAAo4D,GAAA,CAAQC,IAAA,SAAAC,SAAA,IAAAC,KAAA,YAAAC,GAAA,UAAAC,MAAA,aAAAC,KAAA,YAAAC,IAAA,SAAAC,IAAA,KAAAC,KAAA,cAAAC,KAAA,cAAAC,OAAA,aAAAC,gBAAA,gBAA2MzpC,GAAA,CAAK0pC,EAAA,YAAAC,EAAA,MAAAC,GAAA,QAAAC,GAAA,QAAAC,GAAA,QAAAC,GAAA,UAAAC,GAAA,MAAAC,GAAA,QAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,IAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,MAAAC,GAAA,OAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,SAAAC,GAAA,SAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACxNC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,MAAAC,IAAA,MAAAC,IAAA,MAAAC,IAAA,UAAAC,IAAA,aAAAC,IAAA,QAAqHC,GAAAvG,GAAAptD,OAAA,CAAe5S,IAAA,SAAAkL,GAAgB,GAAAA,EAAAlL,IAAA,CAAU,IAAAmL,EAAAm4D,GAAAp4D,EAAAlL,MAAAkL,EAAAlL,IAAuB,oBAAAmL,EAAA,OAAAA,EAA+B,mBAAAD,EAAAzC,MAAAyC,EAAAk4D,GAAAl4D,GAAA,KAAAA,EAAA,QAAA6O,OAAAG,aAAAhP,IAAA,YAAAA,EAAAzC,MAAA,UAAAyC,EAAAzC,KAAAgyB,GAAAvvB,EAAA7B,UAAA,mBAAgJke,SAAA,KAAA0K,QAAA,KAAA0Y,SAAA,KAAAG,OAAA,KAAA5Y,QAAA,KAAAs0C,OAAA,KAAAn4C,OAAA,KAAAmyC,iBAAAC,GAAA4C,SAAA,SAAAn4D,GAAoI,mBACxeA,EAAAzC,KAAA26D,GAAAl4D,GAAA,GAAe7B,QAAA,SAAA6B,GAAqB,kBAAAA,EAAAzC,MAAA,UAAAyC,EAAAzC,KAAAyC,EAAA7B,QAAA,GAAuD0hC,MAAA,SAAA7/B,GAAmB,mBAAAA,EAAAzC,KAAA26D,GAAAl4D,GAAA,YAAAA,EAAAzC,MAAA,UAAAyC,EAAAzC,KAAAyC,EAAA7B,QAAA,KAAkFo9D,GAAA3F,GAAAluD,OAAA,CAAgBquB,aAAA,OAAkBylC,GAAA1G,GAAAptD,OAAA,CAAgB+zD,QAAA,KAAAC,cAAA,KAAAC,eAAA,KAAA/7B,OAAA,KAAA5Y,QAAA,KAAAD,QAAA,KAAA0Y,SAAA,KAAA61B,iBAAAC,KAA4HqG,GAAA9b,GAAAp4C,OAAA,CAAe6qD,aAAA,KAAAuF,YAAA,KAAAC,cAAA,OAAsD8D,GAAAjG,GAAAluD,OAAA,CAAgBo0D,OAAA,SAAA97D,GAAmB,iBAAAA,IAAA87D,OAAA,gBACtd97D,KAAA+7D,YAAA,GAAmBC,OAAA,SAAAh8D,GAAoB,iBAAAA,IAAAg8D,OAAA,gBAAAh8D,KAAAi8D,YAAA,eAAAj8D,KAAAk8D,WAAA,GAA8FC,OAAA,KAAAC,UAAA,OAA4BC,GAAA,oBAAA3R,GAAA,iBAAAC,GAAA,uBAAAC,GAAA,oRACjK,sfACA,iGAAAC,GAAA,0DAAAyR,GAAA,GAAmKC,GAAA,GAAO,SAAAC,GAAAx8D,EAAAC,GAAiB,IAAArM,EAAAoM,EAAA,GAAWA,IAAA,GAAO,IAAAnM,EAAA,MAAAmM,EAAA,GAAA0yD,cAAA1yD,EAAAP,MAAA,IAA2CQ,EAAA,CAAGmnD,wBAAA,CAAyB6F,QAAAp5D,EAAAq5D,SAAAr5D,EAAA,WAA+B4zD,aAAA,CAAA7zD,GAAA6oE,cAAAx8D,GAAmCq8D,GAAAt8D,GAAAC,EAAQs8D,GAAA3oE,GAAAqM,EAC9V,wfACA,iQAAAP,QAAA,SAAAM,GAAqRw8D,GAAAx8D,GAAA,KAAWq8D,GAAA38D,QAAA,SAAAM,GAAuBw8D,GAAAx8D,GAAA,KACvT,IAAA08D,GAAA,CAAQxV,WAAAoV,GAAAK,+BAAA,SAAA38D,GAAiE,OAARA,EAAAu8D,GAAAv8D,QAAQ,IAAAA,IAAA,IAAAA,EAAAy8D,eAAwCxV,cAAA,SAAAjnD,EAAAC,EAAArM,EAAAC,GAAiC,IAAAkoC,EAAAwgC,GAAAv8D,GAAY,IAAA+7B,EAAA,YAAkB,OAAA/7B,GAAU,sBAAAk4D,GAAAtkE,GAAA,YAAyC,0BAAAoM,EAAAq7D,GAAiC,MAAM,uBAAAr7D,EAAAi4D,GAA8B,MAAM,mBAAArkE,EAAAoqB,OAAA,YAAyC,6HAAAhe,EAAA41D,GAA0I,MAAM,kHAAA51D,EACveu7D,GAAG,MAAM,kEAAAv7D,EAAAw7D,GAA2E,MAAM,KAAA9Q,GAAA,KAAAC,GAAA,KAAAC,GAAA5qD,EAAA43D,GAA6B,MAAM,KAAA/M,GAAA7qD,EAAA47D,GAAa,MAAM,aAAA57D,EAAA80D,GAAmB,MAAM,YAAA90D,EAAA67D,GAAkB,MAAM,iCAAA77D,EAAAg4D,GAAyC,MAAM,4JAAAh4D,EAAAi2D,GAAyK,MAAM,QAAAj2D,EAAA8/C,GAAyC,OAA7B7/C,EAAAD,EAAA8rD,UAAA/vB,EAAA97B,EAAArM,EAAAC,GAAuBg2D,EAAA5pD,GAAMA,IAAU28D,GAAAF,GAAAC,+BACldE,GAAA,GAAM,SAAAC,GAAA98D,GAAe,IAAAC,EAAAD,EAAA+8D,WAAAnpE,EAAAqM,EAAuB,GAAG,IAAArM,EAAA,CAAOoM,EAAAg9D,UAAAl9D,KAAAlM,GAAoB,MAAM,IAAAC,EAAM,IAAAA,EAAAD,EAAQC,EAAAy1D,QAASz1D,IAAAy1D,OAAuD,GAA3Cz1D,EAAA,IAAAA,EAAAo1D,IAAA,KAAAp1D,EAAA80D,UAAAsU,eAA2CppE,EAAA,MAAYmM,EAAAg9D,UAAAl9D,KAAAlM,GAAoBA,EAAAo1D,EAAAn1D,SAAQD,GAAS,IAAAA,EAAA,EAAQA,EAAAoM,EAAAg9D,UAAA7jE,OAAqBvF,IAAA,CAAKqM,EAAAD,EAAAg9D,UAAAppE,GAAiB,IAAAmoC,EAAAuzB,GAAAtvD,EAAAof,aAAwBvrB,EAAAmM,EAAAk9D,aAAiB,QAAA/c,EAAAngD,EAAAof,YAAA6gC,EAAA,KAAAC,EAAA,EAAmCA,EAAA8G,EAAA7tD,OAAY+mD,IAAA,CAAK,IAAA1sD,EAAAwzD,EAAA9G,GAAY1sD,QAAAyzD,cAAApzD,EAAAoM,EAAAkgD,EAAApkB,MAAAkkB,EAAA8H,EAAA9H,EAAAzsD,IAA6Co1D,EAAA3I,IAAO,IAAAkd,IAAA,EAC/Z,SAAAjc,GAAAlhD,EAAAC,GAAgB,IAAAA,EAAA,YAAkB,IAAArM,GAAAgpE,GAAA58D,GAAAo9D,GAAAC,IAAAtoE,KAAA,KAAAiL,GAAiCC,EAAAmW,iBAAApW,EAAApM,GAAA,GAA2B,SAAA0pE,GAAAt9D,EAAAC,GAAiB,IAAAA,EAAA,YAAkB,IAAArM,GAAAgpE,GAAA58D,GAAAo9D,GAAAC,IAAAtoE,KAAA,KAAAiL,GAAiCC,EAAAmW,iBAAApW,EAAApM,GAAA,GAA2B,SAAAwpE,GAAAp9D,EAAAC,GAAiBquD,GAAA+O,GAAAr9D,EAAAC,GAC9M,SAAAo9D,GAAAr9D,EAAAC,GAAiB,GAAAk9D,GAAA,CAAO,IAAAvpE,EAAA07D,GAAArvD,GAA2E,GAA/DrM,EAAAo1D,EAAAp1D,GAAQ,OAAAA,GAAA,kBAAAA,EAAAq1D,KAAA,IAAAqO,GAAA1jE,OAAA,MAAuDipE,GAAA1jE,OAAA,CAAc,IAAAtF,EAAAgpE,GAAAvkC,MAAezkC,EAAAqpE,aAAAl9D,EAAiBnM,EAAAurB,YAAAnf,EAAgBpM,EAAAkpE,WAAAnpE,EAAeoM,EAAAnM,OAAImM,EAAA,CAAQk9D,aAAAl9D,EAAAof,YAAAnf,EAAA88D,WAAAnpE,EAAAopE,UAAA,IAAwD,IAAIvO,GAAAqO,GAAA98D,GAAS,QAAQA,EAAAk9D,aAAA,KAAAl9D,EAAAof,YAAA,KAAApf,EAAA+8D,WAAA,KAAA/8D,EAAAg9D,UAAA7jE,OAAA,KAAA0jE,GAAA1jE,QAAA0jE,GAAA/8D,KAAAE,KAAyG,IAAAu9D,GAAA,GAASC,GAAA,EAAAC,GAAA,wBAAAz+D,KAAAwC,UAAA/B,MAAA,GAC3X,SAAAi+D,GAAA19D,GAAqF,OAAtE/L,OAAAkB,UAAAC,eAAA1B,KAAAsM,EAAAy9D,MAAAz9D,EAAAy9D,IAAAD,KAAAD,GAAAv9D,EAAAy9D,KAAA,IAAsEF,GAAAv9D,EAAAy9D,KAAiB,SAAAE,GAAA39D,GAAoE,GAArDA,MAAA,qBAAAlD,uBAAA,GAAqD,qBAAAkD,EAAA,YAAsC,IAAI,OAAAA,EAAAjD,eAAAiD,EAAAmS,KAA+B,MAAAlS,GAAS,OAAAD,EAAAmS,MAAe,SAAAyrD,GAAA59D,GAAe,KAAKA,KAAA69D,YAAgB79D,IAAA69D,WAAgB,OAAA79D,EAC/T,SAAA89D,GAAA99D,EAAAC,GAAiB,IAAgBpM,EAAhBD,EAAAgqE,GAAA59D,GAAgB,IAAJA,EAAA,EAAcpM,GAAE,CAAE,OAAAA,EAAA67D,SAAA,CAA4C,GAAzB57D,EAAAmM,EAAApM,EAAAu3D,YAAAhyD,OAAyB6G,GAAAC,GAAApM,GAAAoM,EAAA,OAAqBgiB,KAAAruB,EAAAi2B,OAAA5pB,EAAAD,GAAmBA,EAAAnM,EAAImM,EAAA,CAAG,KAAKpM,GAAE,CAAE,GAAAA,EAAAmqE,YAAA,CAAkBnqE,IAAAmqE,YAAgB,MAAA/9D,EAAQpM,IAAAwyB,WAAexyB,OAAA,EAASA,EAAAgqE,GAAAhqE,IAAS,SAAAoqE,GAAAh+D,EAAAC,GAAiB,SAAAD,IAAAC,KAAAD,IAAAC,KAAAD,GAAA,IAAAA,EAAAyvD,YAAAxvD,GAAA,IAAAA,EAAAwvD,SAAAuO,GAAAh+D,EAAAC,EAAAmmB,YAAA,aAAApmB,IAAAmG,SAAAlG,KAAAD,EAAA2uB,4BAAA,GAAA3uB,EAAA2uB,wBAAA1uB,MAC/O,SAAAg+D,KAAc,QAAAj+D,EAAAoN,OAAAnN,EAAA09D,KAAwB19D,aAAAD,EAAAk+D,mBAAiC,CAAE,IAAIl+D,EAAAC,EAAAk+D,gBAAAnH,YAAgC,MAAApjE,GAAS,MAAMqM,EAAA09D,GAAA39D,EAAAlD,UAAiB,OAAAmD,EAAS,SAAAm+D,GAAAp+D,GAAe,IAAAC,EAAAD,KAAAoxB,UAAApxB,EAAAoxB,SAAAxyB,cAA8C,OAAAqB,IAAA,UAAAA,IAAA,SAAAD,EAAAzC,MAAA,WAAAyC,EAAAzC,MAAA,QAAAyC,EAAAzC,MAAA,QAAAyC,EAAAzC,MAAA,aAAAyC,EAAAzC,OAAA,aAAA0C,GAAA,SAAAD,EAAAq+D,iBACnN,IAAAC,GAAAxU,GAAA,iBAAAhtD,UAAA,IAAAA,SAAA6vD,aAAA4R,GAAA,CAAoE/zC,OAAA,CAAQ48B,wBAAA,CAAyB6F,QAAA,WAAAC,SAAA,mBAA8CzF,aAAA,iFAAAvsD,MAAA,OAA2GsjE,GAAA,KAAAC,GAAA,KAAAC,GAAA,KAAAC,IAAA,EAC9P,SAAAC,GAAA5+D,EAAAC,GAAiB,IAAArM,EAAAqM,EAAAmN,SAAAnN,IAAAnD,SAAA,IAAAmD,EAAAwvD,SAAAxvD,IAAAyzD,cAA+D,OAAAiL,IAAA,MAAAH,SAAAb,GAAA/pE,GAAA,MAAwCA,EAAA4qE,GAAK,mBAAA5qE,GAAAwqE,GAAAxqE,KAAA,CAA+Bg5B,MAAAh5B,EAAAirE,eAAAlyC,IAAA/4B,EAAAkrE,eAA0ClrE,KAAA8/D,eAAA9/D,EAAA8/D,cAAAsD,aAAA5pD,QAAAxI,eAAAhR,EAAA,CAA6E86B,WAAA96B,EAAA86B,WAAAI,aAAAl7B,EAAAk7B,aAAAD,UAAAj7B,EAAAi7B,UAAAE,YAAAn7B,EAAAm7B,cAAsG2vC,IAAArH,GAAAqH,GAAA9qE,GAAA,MAAA8qE,GAAA9qE,EAAAoM,EAAA8/C,GAAAgM,UAAAyS,GAAA/zC,OAAAi0C,GAAAz+D,EAAAC,GAAAD,EAAAzC,KAAA,SAAAyC,EAAAtD,OAAA8hE,GAAA3U,EAAA7pD,OACzX,IAAA++D,GAAA,CAAQ7X,WAAAqX,GAAAtX,cAAA,SAAAjnD,EAAAC,EAAArM,EAAAC,GAA8C,IAAAssD,EAAApkB,EAAAloC,EAAAuZ,SAAAvZ,IAAAiJ,SAAA,IAAAjJ,EAAA47D,SAAA57D,IAAA6/D,cAAiE,KAAAvT,GAAApkB,GAAA,CAAY/7B,EAAA,CAAG+7B,EAAA2hC,GAAA3hC,GAAQokB,EAAAqH,EAAAwX,SAAc,QAAA/e,EAAA,EAAYA,EAAAE,EAAAhnD,OAAW8mD,IAAA,CAAK,IAAAC,EAAAC,EAAAF,GAAW,IAAAlkB,EAAA3mC,eAAA8qD,KAAAnkB,EAAAmkB,GAAA,CAAgCnkB,GAAA,EAAK,MAAA/7B,GAAS+7B,GAAA,EAAKokB,GAAApkB,EAAK,GAAAokB,EAAA,YAAkC,OAAjBpkB,EAAA97B,EAAAkpD,EAAAlpD,GAAAmN,OAAiBpN,GAAU,aAAAqvD,GAAAtzB,IAAA,SAAAA,EAAAsiC,mBAAAG,GAAAziC,EAAA0iC,GAAAx+D,EAAAy+D,GAAA,MAAoE,MAAM,WAAAA,GAAAD,GAAAD,GAAA,KAA0B,MAAM,gBAAAG,IAAA,EAAuB,MAAM,qDAAAA,IAAA,EAAAC,GAAAhrE,EAAAC,GAAsE,yBAAAyqE,GAAA,MACpf,iCAAAM,GAAAhrE,EAAAC,GAA2C,cAAiV,SAAAorE,GAAAj/D,GAAe,IAAAC,EAAA,GAA6D,OAApD2/C,EAAAqD,SAAAvjD,QAAAM,EAAA,SAAAA,GAAkC,MAAAA,IAAAC,GAAAD,KAAkBC,EACxc,SAAAi/D,GAAAl/D,EAAAC,GAA2E,OAA1DD,EAAA3K,EAAA,CAAK6L,cAAA,GAAgBjB,IAAIA,EAAAg/D,GAAAh/D,EAAAiB,aAAAlB,EAAAkB,SAAAjB,GAAiCD,EAAS,SAAAm/D,GAAAn/D,EAAAC,EAAArM,EAAAC,GAAiC,GAAZmM,IAAAo/D,QAAYn/D,EAAA,CAAMA,EAAA,GAAK,QAAA87B,EAAA,EAAYA,EAAAnoC,EAAAuF,OAAW4iC,IAAA97B,EAAA,IAAArM,EAAAmoC,KAAA,EAAmB,IAAAnoC,EAAA,EAAQA,EAAAoM,EAAA7G,OAAWvF,IAAAmoC,EAAA97B,EAAA7K,eAAA,IAAA4K,EAAApM,GAAAY,OAAAwL,EAAApM,GAAA4Z,WAAAuuB,IAAA/7B,EAAApM,GAAA4Z,SAAAuuB,MAAAloC,IAAAmM,EAAApM,GAAAyrE,iBAAA,OAA4G,CAAuB,IAAlBzrE,EAAA,GAAAi/D,GAAAj/D,GAAWqM,EAAA,KAAO87B,EAAA,EAAQA,EAAA/7B,EAAA7G,OAAW4iC,IAAA,CAAK,GAAA/7B,EAAA+7B,GAAAvnC,QAAAZ,EAAiE,OAA9CoM,EAAA+7B,GAAAvuB,UAAA,OAAiB3Z,IAAAmM,EAAA+7B,GAAAsjC,iBAAA,IAAoC,OAAAp/D,GAAAD,EAAA+7B,GAAArvB,WAAAzM,EAAAD,EAAA+7B,IAAkC,OAAA97B,MAAAuN,UAAA,IAClc,SAAA8xD,GAAAt/D,EAAAC,GAAgE,OAA/C,MAAAA,EAAAqU,yBAAA7f,EAAA,MAA+CY,EAAA,GAAW4K,EAAA,CAAIzL,WAAA,EAAAw+D,kBAAA,EAAA9xD,SAAA,GAAAlB,EAAAizD,cAAAG,eAA4E,SAAAmM,GAAAv/D,EAAAC,GAAiB,IAAArM,EAAAqM,EAAAzL,MAAc,MAAAZ,MAAAqM,EAAA+yD,aAAA/yD,IAAAiB,SAAA,MAAAjB,IAAA,MAAArM,GAAAa,EAAA,MAAA4E,MAAAU,QAAAkG,KAAA,GAAAA,EAAA9G,QAAA1E,EAAA,MAAAwL,IAAA,IAAArM,EAAAqM,GAAA,MAAArM,MAAA,KAAqJoM,EAAAizD,cAAA,CAAiBG,aAAAP,GAAAj/D,IAChW,SAAA4rE,GAAAx/D,EAAAC,GAAiB,IAAArM,EAAAi/D,GAAA5yD,EAAAzL,OAAAX,EAAAg/D,GAAA5yD,EAAA+yD,cAAuC,MAAAp/D,MAAA,GAAAA,MAAAoM,EAAAxL,QAAAwL,EAAAxL,MAAAZ,GAAA,MAAAqM,EAAA+yD,cAAAhzD,EAAAgzD,eAAAp/D,IAAAoM,EAAAgzD,aAAAp/D,IAAwG,MAAAC,IAAAmM,EAAAgzD,aAAA,GAAAn/D,GAA+B,SAAAyY,GAAAtM,GAAe,IAAAC,EAAAD,EAAAmrD,YAAoBlrD,IAAAD,EAAAizD,cAAAG,eAAApzD,EAAAxL,MAAAyL,GAHzKsoD,EAAAC,uBAAA,0HAAAttD,MAAA,MAAgKwsD,EAAA0B,EAAMzB,EAAAuB,EAAMtB,EAAAuB,EAAMZ,EAAAE,yBAAA,CAA6BgX,kBAAA/C,GAAAgD,sBAAA3I,GAAA4I,kBAAA/K,GAAAgL,kBAAAb,GAAAc,uBAAA/R,KAGQ,IAAAgS,GAAA,CAAQ1jC,KAAA,+BAAA2jC,OAAA,qCAAAC,IAAA,8BACxR,SAAAC,GAAAjgE,GAAe,OAAAA,GAAU,6CAA8C,sDAAuD,8CAA8C,SAAAkgE,GAAAlgE,EAAAC,GAAiB,aAAAD,GAAA,iCAAAA,EAAAigE,GAAAhgE,GAAA,+BAAAD,GAAA,kBAAAC,EAAA,+BAAAD,EAC7L,IAAAmgE,QAAA,EAAAC,GAAA,SAAApgE,GAA6B,2BAAAqgE,aAAAC,wBAAA,SAAArgE,EAAArM,EAAAC,EAAAkoC,GAAkFskC,MAAAC,wBAAA,WAAyC,OAAAtgE,EAAAC,EAAArM,EAAAC,EAAAkoC,MAAoB/7B,EAA5K,CAA+K,SAAAA,EAAAC,GAAe,GAAAD,EAAAugE,eAAAT,GAAAE,KAAA,cAAAhgE,IAAA00B,UAAAz0B,MAA0D,CAA0E,IAArEkgE,OAAArjE,SAAA7G,cAAA,OAAqCkqE,GAAAzrC,UAAA,QAAAz0B,EAAA,SAAgCA,EAAAkgE,GAAAtC,WAAoB79D,EAAA69D,YAAa79D,EAAAqmB,YAAArmB,EAAA69D,YAA6B,KAAK59D,EAAA49D,YAAa79D,EAAA2nB,YAAA1nB,EAAA49D,eAClZ,SAAA2C,GAAAxgE,EAAAC,GAAiB,GAAAA,EAAA,CAAM,IAAArM,EAAAoM,EAAA69D,WAAmB,GAAAjqE,OAAAoM,EAAAg4B,WAAA,IAAApkC,EAAA67D,SAAqD,YAAd77D,EAAA6sE,UAAAxgE,GAAsBD,EAAAmrD,YAAAlrD,EACvG,IAAAygE,GAAA,CAAQC,yBAAA,EAAAC,mBAAA,EAAAC,kBAAA,EAAAC,kBAAA,EAAAC,SAAA,EAAAC,cAAA,EAAAC,iBAAA,EAAAC,aAAA,EAAA1jD,SAAA,EAAA2jD,MAAA,EAAAC,UAAA,EAAAC,cAAA,EAAAC,YAAA,EAAAC,cAAA,EAAAC,WAAA,EAAAC,UAAA,EAAAC,SAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,cAAA,EAAAC,YAAA,EAAAC,eAAA,EAAAC,gBAAA,EAAAC,iBAAA,EAAAC,YAAA,EAAAC,WAAA,EAAAC,YAAA,EAAA7pD,SAAA,EAAA8pD,OAAA,EAAAC,SAAA,EAAAC,SAAA,EAAAC,QAAA,EAAAC,QAAA,EAAAC,MAAA,EAAAC,aAAA,EACRC,cAAA,EAAAC,aAAA,EAAAC,iBAAA,EAAAC,kBAAA,EAAAC,kBAAA,EAAAC,eAAA,EAAAC,aAAA,GAA0HC,GAAA,0BAAsJ,SAAAC,GAAApjE,EAAAC,EAAArM,GAAmB,aAAAqM,GAAA,mBAAAA,GAAA,KAAAA,EAAA,GAAArM,GAAA,kBAAAqM,GAAA,IAAAA,GAAAygE,GAAAtrE,eAAA4K,IAAA0gE,GAAA1gE,IAAA,GAAAC,GAAA0pC,OAAA1pC,EAAA,KACnS,SAAAojE,GAAArjE,EAAAC,GAA2B,QAAArM,KAAVoM,IAAAhF,MAAUiF,EAAA,GAAAA,EAAA7K,eAAAxB,GAAA,CAAuC,IAAAC,EAAA,IAAAD,EAAAqJ,QAAA,MAAA8+B,EAAAqnC,GAAAxvE,EAAAqM,EAAArM,GAAAC,GAAyC,UAAAD,MAAA,YAA4BC,EAAAmM,EAAAsjE,YAAA1vE,EAAAmoC,GAAA/7B,EAAApM,GAAAmoC,GADiB9nC,OAAA2J,KAAA8iE,IAAAhhE,QAAA,SAAAM,GAAoCmjE,GAAAzjE,QAAA,SAAAO,GAAuBA,IAAAD,EAAA2jB,OAAA,GAAA+uC,cAAA1yD,EAAAo4B,UAAA,GAA6CsoC,GAAAzgE,GAAAygE,GAAA1gE,OAC5F,IAAAujE,GAAAluE,EAAA,CAAUmuE,UAAA,GAAY,CAAEC,MAAA,EAAAC,MAAA,EAAA3oC,IAAA,EAAA3L,KAAA,EAAAhoB,OAAA,EAAAu8D,IAAA,EAAAjgC,KAAA,EAAAkgC,OAAA,EAAAC,QAAA,EAAAr8D,MAAA,EAAAs8D,MAAA,EAAAC,OAAA,EAAA10D,QAAA,EAAA2H,OAAA,EAAAgtD,KAAA,IAC5L,SAAAC,GAAAjkE,EAAAC,GAAiBA,IAAAsjE,GAAAvjE,KAAA,MAAAC,EAAAiB,UAAA,MAAAjB,EAAAqU,0BAAA7f,EAAA,MAAAuL,EAAA,UAAAC,EAAAqU,0BAAA,MAAArU,EAAAiB,UAAAzM,EAAA,wBAAAwL,EAAAqU,yBAAA,WAAArU,EAAAqU,yBAAA7f,EAAA,aAAAwL,EAAAjF,OAAA,kBAAAiF,EAAAjF,OAAAvG,EAAA,UACjB,SAAAyvE,GAAAlkE,EAAAC,GAAiB,QAAAD,EAAA/C,QAAA,6BAAAgD,EAAAwqB,GAAoD,OAAAzqB,GAAU,0KAAkL,kBACjQ,SAAAmkE,GAAAnkE,EAAAC,GAAiBD,EAAA,IAAAA,EAAAyvD,UAAA,KAAAzvD,EAAAyvD,SAAAzvD,IAAA0zD,cAAoD,IAAA9/D,EAAA8pE,GAAA19D,GAAYC,EAAAunD,EAAAvnD,GAAQ,QAAApM,EAAA,EAAYA,EAAAoM,EAAA9G,OAAWtF,IAAA,CAAK,IAAAkoC,EAAA97B,EAAApM,GAAW,IAAAD,EAAAwB,eAAA2mC,KAAAnoC,EAAAmoC,GAAA,CAAgC,OAAAA,GAAU,aAAAuhC,GAAA,SAAAt9D,GAA6B,MAAM,uBAAAs9D,GAAA,QAAAt9D,GAAuCs9D,GAAA,OAAAt9D,GAAapM,EAAAwwE,MAAA,EAAUxwE,EAAA2I,OAAA,EAAW,MAAM,yBAAAmzD,GAAA3zB,IAAAuhC,GAAAvhC,EAAA/7B,GAA0C,MAAM,6CAAgD,aAAA8qD,GAAA7tD,QAAA8+B,IAAAmlB,GAAAnlB,EAAA/7B,GAAmCpM,EAAAmoC,IAAA,IAAU,SAAAsoC,MAAe,IAAAC,GAAA,KAAAC,GAAA,KACxb,SAAAC,GAAAxkE,EAAAC,GAAiB,OAAAD,GAAU,6DAAAC,EAAAwkE,UAA6E,SAAS,SAAAC,GAAA1kE,EAAAC,GAAiB,mBAAAD,GAAA,WAAAA,GAAA,aAAAA,GAAA,kBAAAC,EAAAiB,UAAA,kBAAAjB,EAAAiB,UAAA,kBAAAjB,EAAAqU,yBAAA,OAAArU,EAAAqU,yBAAA,MAAArU,EAAAqU,wBAAAC,OAClI,IAAAowD,GAAA,oBAAAr3D,2BAAA,EAAAs3D,GAAA,oBAAAvrD,+BAAA,EAAAwrD,GAAAhlB,EAAAilB,0BAAAC,GAAAllB,EAAAmlB,wBACA,SAAAC,GAAAjlE,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB/7B,EAAA+oD,GAAAhtB,EAAQ,UAAAnoC,GAAA,UAAAmoC,EAAAx+B,MAAA,MAAAw+B,EAAAjoC,MAAAw/D,GAAAtzD,EAAA+7B,GAAqDmoC,GAAAtwE,EAAAC,GAAQA,EAAAqwE,GAAAtwE,EAAAmoC,GAAU,QAAAokB,EAAA,EAAYA,EAAAlgD,EAAA9G,OAAWgnD,GAAA,GAAM,IAAAF,EAAAhgD,EAAAkgD,GAAAD,EAAAjgD,EAAAkgD,EAAA,GAAoB,UAAAF,EAAAojB,GAAArjE,EAAAkgD,GAAA,4BAAAD,EAAAmgB,GAAApgE,EAAAkgD,GAAA,aAAAD,EAAAugB,GAAAxgE,EAAAkgD,GAAAyS,GAAA3yD,EAAAigD,EAAAC,EAAArsD,GAA6F,OAAAD,GAAU,YAAA2/D,GAAAvzD,EAAA+7B,GAAqB,MAAM,eAAAyjC,GAAAx/D,EAAA+7B,GAAwB,MAAM,aAAA97B,EAAAD,EAAAizD,cAAAiS,YAAAllE,EAAAizD,cAAAiS,cAAAnpC,EAAAopC,SAAAvxE,EAAAmoC,EAAAvnC,MAAA,MAAAZ,EAAAurE,GAAAn/D,IAAA+7B,EAAAopC,SAAAvxE,GAAA,GAAAqM,MAAA87B,EAAAopC,WAAA,MAAAppC,EAAAi3B,aAAAmM,GAAAn/D,IAAA+7B,EAAAopC,SAAAppC,EAAAi3B,cACvT,GAAAmM,GAAAn/D,IAAA+7B,EAAAopC,SAAAppC,EAAAopC,SAAA,YAA6C,SAAAC,GAAAplE,GAAe,IAAAA,IAAA+9D,YAAoB/9D,GAAA,IAAAA,EAAAyvD,UAAA,IAAAzvD,EAAAyvD,UAAkCzvD,IAAA+9D,YAAiB,OAAA/9D,EAAS,SAAAqlE,GAAArlE,GAAe,IAAAA,IAAA69D,WAAmB79D,GAAA,IAAAA,EAAAyvD,UAAA,IAAAzvD,EAAAyvD,UAAkCzvD,IAAA+9D,YAAiB,OAAA/9D,EAAS,IAAAslE,IAAQ,IAAAC,GAAA,GAAAC,IAAA,EAAgB,SAAApkB,GAAAphD,GAAc,EAAAwlE,KAAAxlE,EAAAoC,QAAAmjE,GAAAC,IAAAD,GAAAC,IAAA,KAAAA,MAA0C,SAAAnkB,GAAArhD,EAAAC,GAAgBulE,KAAKD,GAAAC,IAAAxlE,EAAAoC,QAAiBpC,EAAAoC,QAAAnC,EAAY,IAAAwlE,GAAA,GAASnkB,GAAA,CAAIl/C,QAAAqjE,IAAWlkB,GAAA,CAAIn/C,SAAA,GAAWsjE,GAAAD,GACnZ,SAAAE,GAAA3lE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAAzC,KAAAqoE,aAA0B,IAAAhyE,EAAA,OAAA6xE,GAAgB,IAAA5xE,EAAAmM,EAAA2oD,UAAkB,GAAA90D,KAAAgyE,8CAAA5lE,EAAA,OAAApM,EAAAiyE,0CAA2G,IAAQ3lB,EAARpkB,EAAA,GAAW,IAAAokB,KAAAvsD,EAAAmoC,EAAAokB,GAAAlgD,EAAAkgD,GAAsI,OAAjHtsD,IAAAmM,IAAA2oD,UAAA3oD,EAAA6lE,4CAAA5lE,EAAAD,EAAA8lE,0CAAA/pC,GAAiHA,EAAS,SAAA2lB,GAAA1hD,GAAoC,OAAtBA,IAAA+lE,kBAAsB,OAAA/lE,QAAA,IAAAA,EAA4B,SAAAgmE,GAAAhmE,GAAeohD,GAAAG,GAAAvhD,GAAOohD,GAAAE,GAAAthD,GAAO,SAAAimE,GAAAjmE,GAAeohD,GAAAG,GAAAvhD,GAAOohD,GAAAE,GAAAthD,GACrc,SAAAkmE,GAAAlmE,EAAAC,EAAArM,GAAmB0tD,GAAAl/C,UAAAqjE,IAAAhxE,EAAA,OAA+B4sD,GAAAC,GAAArhD,EAAAD,GAASqhD,GAAAE,GAAA3tD,EAAAoM,GAAS,SAAAmmE,GAAAnmE,EAAAC,EAAArM,GAAmB,IAAAC,EAAAmM,EAAA2oD,UAAwC,GAAtB3oD,EAAAC,EAAA8lE,kBAAsB,oBAAAlyE,EAAAuyE,gBAAA,OAAAxyE,EAAwE,QAAAmoC,KAAtBloC,IAAAuyE,kBAAsBvyE,EAAAkoC,KAAA/7B,GAAAvL,EAAA,MAAA68D,GAAArxD,IAAA,UAAA87B,GAAyD,OAAA1mC,EAAA,GAAWzB,EAAAC,GAAM,SAAAwyE,GAAArmE,GAAe,IAAAC,EAAAD,EAAA2oD,UAA8G,OAA5F1oD,OAAAqmE,2CAAAb,GAAqDC,GAAApkB,GAAAl/C,QAAai/C,GAAAC,GAAArhD,EAAAD,GAASqhD,GAAAE,MAAAn/C,QAAApC,IAAiB,EAC9Y,SAAAumE,GAAAvmE,EAAAC,EAAArM,GAAmB,IAAAC,EAAAmM,EAAA2oD,UAAkB90D,GAAAY,EAAA,OAAkBb,GAAAqM,EAAAkmE,GAAAnmE,EAAAC,EAAAylE,IAAA7xE,EAAAyyE,0CAAArmE,EAAAmhD,GAAAG,GAAAvhD,GAAAohD,GAAAE,GAAAthD,GAAAqhD,GAAAC,GAAArhD,EAAAD,IAAAohD,GAAAG,GAAAvhD,GAA6FqhD,GAAAE,GAAA3tD,EAAAoM,GAAS,IAAAwmE,GAAA,KAAAC,GAAA,KAAoB,SAAAC,GAAA1mE,GAAe,gBAAAC,GAAmB,IAAI,OAAAD,EAAAC,GAAY,MAAArM,MACnO,SAAA+yE,GAAA3mE,GAAe,wBAAArE,+BAAA,SAAgE,IAAAsE,EAAAtE,+BAAqC,GAAAsE,EAAAtH,aAAAsH,EAAA2mE,cAAA,SAA2C,IAAI,IAAAhzE,EAAAqM,EAAA4mE,OAAA7mE,GAAkBwmE,GAAAE,GAAA,SAAA1mE,GAAkB,OAAAC,EAAA6mE,kBAAAlzE,EAAAoM,KAAkCymE,GAAAC,GAAA,SAAA1mE,GAAkB,OAAAC,EAAA8mE,qBAAAnzE,EAAAoM,KAAqC,MAAAnM,IAAU,SAC1S,SAAAmzE,GAAAhnE,EAAAC,EAAArM,EAAAC,GAAqBkE,KAAAkxD,IAAAjpD,EAAWjI,KAAAjD,IAAAlB,EAAWmE,KAAA2/D,QAAA3/D,KAAAosC,MAAApsC,KAAAuxD,OAAAvxD,KAAA4wD,UAAA5wD,KAAAwF,KAAAxF,KAAAkvE,YAAA,KAAmFlvE,KAAAoI,MAAA,EAAapI,KAAAR,IAAA,KAAcQ,KAAAmvE,aAAAjnE,EAAoBlI,KAAAovE,oBAAApvE,KAAAqvE,cAAArvE,KAAAsvE,YAAAtvE,KAAAuvE,cAAA,KAAqFvvE,KAAArD,KAAAb,EAAYkE,KAAAw/D,UAAA,EAAiBx/D,KAAAwvE,WAAAxvE,KAAAyvE,YAAAzvE,KAAA0vE,WAAA,KAAsD1vE,KAAA2vE,oBAAA3vE,KAAA4vE,eAAA,EAA+C5vE,KAAAm/D,UAAA,KAAoB,SAAApV,GAAA9hD,EAAAC,EAAArM,EAAAC,GAAoB,WAAAmzE,GAAAhnE,EAAAC,EAAArM,EAAAC,GAC5a,SAAA+zE,GAAA5nE,GAA6B,OAAdA,IAAA7K,aAAc6K,MAAAghD,kBAAiC,SAAA6mB,GAAA7nE,GAAe,uBAAAA,EAAA,OAAA4nE,GAAA5nE,GAAA,IAA0C,YAAAA,GAAA,OAAAA,EAAA,CAAsC,GAAbA,IAAA2hD,SAAa3hD,IAAAgxD,GAAA,UAAoB,GAAAhxD,IAAAkxD,GAAA,UAAoB,SACrM,SAAA4W,GAAA9nE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAAk3D,UACW,OADO,OAAAtjE,KAAAkuD,GAAA9hD,EAAAipD,IAAAhpD,EAAAD,EAAAlL,IAAAkL,EAAAtL,MAAAd,EAAAqzE,YAAAjnE,EAAAinE,YAAArzE,EAAA2J,KAAAyC,EAAAzC,KAAA3J,EAAA+0D,UAAA3oD,EAAA2oD,UAAA/0D,EAAAsjE,UAAAl3D,IAAAk3D,UAAAtjE,MAAAszE,aAAAjnE,EAAArM,EAAA2jE,UAAA,EAAA3jE,EAAA6zE,WAAA,KAAA7zE,EAAA4zE,YAAA,KAAA5zE,EAAA2zE,WAAA,MAA2N3zE,EAAA8zE,oBAAA1nE,EAAA0nE,oBAA4C9zE,EAAA+zE,eAAA3nE,EAAA2nE,eAAkC/zE,EAAAuwC,MAAAnkC,EAAAmkC,MAAgBvwC,EAAA0zE,cAAAtnE,EAAAsnE,cAAgC1zE,EAAAwzE,cAAApnE,EAAAonE,cAAgCxzE,EAAAyzE,YAAArnE,EAAAqnE,YAA4BzzE,EAAAuzE,oBAAAnnE,EAAAmnE,oBAA4CvzE,EAAA8jE,QAAA13D,EAAA03D,QACpe9jE,EAAAuM,MAAAH,EAAAG,MAAgBvM,EAAA2D,IAAAyI,EAAAzI,IAAY3D,EAC5B,SAAAm0E,GAAA/nE,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,GAAyB,IAAAF,EAAA,EAAY,GAAJpsD,EAAAmM,EAAI,oBAAAA,EAAA4nE,GAAA5nE,KAAAigD,EAAA,QAAsC,qBAAAjgD,EAAAigD,EAAA,OAAgCjgD,EAAA,OAAAA,GAAiB,KAAA0wD,GAAA,OAAAsX,GAAAp0E,EAAAsN,SAAA66B,EAAAokB,EAAAlgD,GAAoC,KAAA8wD,GAAA,OAAAkX,GAAAr0E,EAAA,EAAAmoC,EAAAokB,EAAAlgD,GAA6B,KAAA0wD,GAAA,OAAAsX,GAAAr0E,EAAA,EAAAmoC,EAAAokB,EAAAlgD,GAA6B,KAAA2wD,GAAA,OAAA5wD,EAAA8hD,GAAA,GAAAluD,EAAAqM,EAAA,EAAA87B,GAAA/7B,EAAAinE,YAAArW,GAAA5wD,EAAAzC,KAAAqzD,GAAA5wD,EAAA2nE,eAAAxnB,EAAAngD,EAA+E,KAAAixD,GAAA,OAAAjxD,EAAA8hD,GAAA,GAAAluD,EAAAqM,EAAA87B,GAAA/7B,EAAAinE,YAAAhW,GAAAjxD,EAAAzC,KAAA0zD,GAAAjxD,EAAA2nE,eAAAxnB,EAAAngD,EAA6E,6BAAAA,GAAA,OAAAA,EAAA,OAAAA,EAAA2hD,UAA4D,KAAAkP,GAAA5Q,EAAA,GAAa,MAAAjgD,EAAQ,KAAA8wD,GAAA7Q,EAAA,EAAY,MAAAjgD,EAAQ,KAAAgxD,GAAA/Q,EAAA,GAAa,MAAAjgD,EAAQ,KAAAkxD,GAAAjR,EAChf,GAAG,MAAAjgD,EAAQ,KAAAmxD,GAAAlR,EAAA,GAAapsD,EAAA,KAAO,MAAAmM,EAAQvL,EAAA,YAAAuL,aAAA,IAAwF,OAAzDC,EAAA6hD,GAAA7B,EAAArsD,EAAAqM,EAAA87B,GAAa97B,EAAAgnE,YAAAjnE,EAAgBC,EAAA1C,KAAA1J,EAASoM,EAAA0nE,eAAAxnB,EAAmBlgD,EAAS,SAAA+nE,GAAAhoE,EAAAC,EAAArM,EAAAC,GAAqD,OAAhCmM,EAAA8hD,GAAA,EAAA9hD,EAAAnM,EAAAoM,GAAaD,EAAA2nE,eAAA/zE,EAAmBoM,EAAS,SAAAioE,GAAAjoE,EAAAC,EAAArM,EAAAC,GAAgG,OAA3EmM,EAAA8hD,GAAA,EAAA9hD,EAAAnM,EAAAoM,GAAaA,EAAA,OAAAA,GAAA0wD,GAAAI,GAAkB/wD,EAAAinE,YAAAhnE,EAAgBD,EAAAzC,KAAA0C,EAASD,EAAA2nE,eAAA/zE,EAAmBoM,EAAS,SAAAkoE,GAAAloE,EAAAC,EAAArM,GAAsD,OAAnCoM,EAAA8hD,GAAA,EAAA9hD,EAAA,KAAAC,GAAgBD,EAAA2nE,eAAA/zE,EAAmBoM,EACrW,SAAAmoE,GAAAnoE,EAAAC,EAAArM,GAAsL,OAAnKqM,EAAA6hD,GAAA,SAAA9hD,EAAAkB,SAAAlB,EAAAkB,SAAA,GAAAlB,EAAAlL,IAAAmL,GAA+CA,EAAA0nE,eAAA/zE,EAAmBqM,EAAA0oD,UAAA,CAAasU,cAAAj9D,EAAAi9D,cAAAmL,gBAAA,KAAAC,eAAAroE,EAAAqoE,gBAAoFpoE,EAAS,SAAAqoE,GAAAtoE,EAAAC,GAAiBD,EAAAuoE,UAAA,EAAc,IAAA30E,EAAAoM,EAAAwoE,oBAA4B,IAAA50E,EAAAoM,EAAAwoE,oBAAAxoE,EAAAyoE,kBAAAxoE,EAAArM,EAAAqM,EAAAD,EAAAwoE,oBAAAvoE,EAAAD,EAAAyoE,kBAAAxoE,IAAAD,EAAAyoE,kBAAAxoE,GAA6HyoE,GAAAzoE,EAAAD,GACvX,SAAA2oE,GAAA3oE,EAAAC,GAAiBD,EAAAuoE,UAAA,EAAcvoE,EAAA4oE,kBAAA3oE,IAAAD,EAAA4oE,iBAAA,GAA8C,IAAAh1E,EAAAoM,EAAAwoE,oBAAA30E,EAAAmM,EAAAyoE,kBAAkD70E,IAAAqM,EAAAD,EAAAwoE,oBAAA30E,IAAAoM,EAAAD,EAAAyoE,kBAAA,EAAA50E,MAAAoM,IAAAD,EAAAyoE,kBAAA70E,GAAyFA,EAAAoM,EAAA6oE,sBAA0Bh1E,EAAAmM,EAAA8oE,oBAAwB,IAAAl1E,EAAAoM,EAAA6oE,sBAAA7oE,EAAA8oE,oBAAA7oE,EAAArM,EAAAqM,EAAAD,EAAA6oE,sBAAA5oE,EAAApM,EAAAoM,IAAAD,EAAA8oE,oBAAA7oE,GAAmHyoE,GAAAzoE,EAAAD,GAAQ,SAAA+oE,GAAA/oE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAAwoE,oBAA4E,OAAhDxoE,IAAA6oE,sBAA0Bj1E,EAAAqM,MAAArM,GAAWoM,EAAAC,MAAAD,GAAWC,EACle,SAAAyoE,GAAA1oE,EAAAC,GAAiB,IAAArM,EAAAqM,EAAA4oE,sBAAAh1E,EAAAoM,EAAA6oE,oBAAA/sC,EAAA97B,EAAAuoE,oBAAAroB,EAAAlgD,EAAA2oE,iBAAmG7sC,EAAA,IAAAA,IAAAokB,EAAY,IAAApkB,IAAA,IAAA/7B,GAAAnM,EAAAmM,KAAA+7B,EAAAloC,GAA2BmM,EAAA+7B,EAAI,IAAA/7B,GAAApM,EAAAoM,MAAApM,GAAkBqM,EAAA+oE,2BAAAjtC,EAA+B97B,EAAA0nE,eAAA3nE,EAAmB,SAAAmiD,GAAAniD,EAAAC,GAAgB,GAAAD,KAAAmB,aAAiD,QAAAvN,KAA3BqM,EAAA5K,EAAA,GAAM4K,GAAID,IAAAmB,aAAiBnB,OAAA,IAAAC,EAAArM,KAAAqM,EAAArM,GAAAoM,EAAApM,IAA0C,OAAAqM,EAC9U,SAAAgpE,GAAAjpE,GAAe,IAAAC,EAAAD,EAAA4jD,QAAgB,OAAA5jD,EAAA2jD,SAAkB,cAAA1jD,EAAgB,aAAAA,EAAe,aAAAA,EAAe,QAAoK,OAApKD,EAAA2jD,QAAA,EAAoB1jD,EAAAD,EAAA0jD,MAAUzjD,MAAMA,EAAA+Z,KAAA,SAAA/Z,GAAmB,IAAAD,EAAA2jD,UAAA1jD,IAAAjK,QAAAgK,EAAA2jD,QAAA,EAAA3jD,EAAA4jD,QAAA3jD,IAAqD,SAAAA,GAAa,IAAAD,EAAA2jD,UAAA3jD,EAAA2jD,QAAA,EAAA3jD,EAAA4jD,QAAA3jD,KAA2CD,EAAA2jD,SAAkB,cAAA3jD,EAAA4jD,QAAwB,aAAA5jD,EAAA4jD,QAAoC,MAAZ5jD,EAAA4jD,QAAA3jD,EAAYA,GAAU,IAAAipE,IAAA,IAAAtpB,EAAAzoD,WAAA2hB,KAC3V,SAAAqwD,GAAAnpE,EAAAC,EAAArM,EAAAC,GAAqBoM,EAAAD,EAAAonE,cAAkBxzE,IAAAC,EAAAoM,GAASrM,EAAA,OAAAA,QAAA,IAAAA,EAAAqM,EAAA5K,EAAA,GAA6B4K,EAAArM,GAAMoM,EAAAonE,cAAAxzE,EAAkBC,EAAAmM,EAAAqnE,YAAgB,OAAAxzE,GAAA,IAAAmM,EAAA2nE,iBAAA9zE,EAAAu1E,UAAAx1E,GACrH,IAAAy1E,GAAA,CAAQ9oB,UAAA,SAAAvgD,GAAsB,SAAAA,IAAAspE,sBAAA,IAAAhS,GAAAt3D,IAA6C0gD,gBAAA,SAAA1gD,EAAAC,EAAArM,GAAiCoM,IAAAspE,oBAAwB,IAAAz1E,EAAA01E,KAAW11E,EAAA21E,GAAA31E,EAAAmM,GAAU,IAAA+7B,EAAA0tC,GAAA51E,GAAYkoC,EAAAt2B,QAAAxF,OAAY,IAAArM,GAAA,OAAAA,IAAAmoC,EAAAva,SAAA5tB,GAAqC81E,KAAKC,GAAA3pE,EAAA+7B,GAAQ6tC,GAAA5pE,EAAAnM,IAAQ4sD,oBAAA,SAAAzgD,EAAAC,EAAArM,GAAqCoM,IAAAspE,oBAAwB,IAAAz1E,EAAA01E,KAAW11E,EAAA21E,GAAA31E,EAAAmM,GAAU,IAAA+7B,EAAA0tC,GAAA51E,GAAYkoC,EAAAktB,IAAA4gB,GAAS9tC,EAAAt2B,QAAAxF,OAAY,IAAArM,GAAA,OAAAA,IAAAmoC,EAAAva,SAAA5tB,GAAqC81E,KAAKC,GAAA3pE,EAAA+7B,GAAQ6tC,GAAA5pE,EAAAnM,IAAQ2sD,mBAAA,SAAAxgD,EAAAC,GAAkCD,IAAAspE,oBAAwB,IAAA11E,EAAA21E,KAAW31E,EAAA41E,GAAA51E,EAAAoM,GAAU,IAAAnM,EAAA41E,GAAA71E,GAAYC,EAAAo1D,IACnf6gB,QAAG,IAAA7pE,GAAA,OAAAA,IAAApM,EAAA2tB,SAAAvhB,GAAqCypE,KAAKC,GAAA3pE,EAAAnM,GAAQ+1E,GAAA5pE,EAAApM,KAAU,SAAAm2E,GAAA/pE,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,EAAAF,GAAyC,OAAdjgD,IAAA2oD,UAAc,oBAAA3oD,EAAAgqE,sBAAAhqE,EAAAgqE,sBAAAn2E,EAAAssD,EAAAF,IAAAhgD,EAAA9K,YAAA8K,EAAA9K,UAAAgsD,wBAAAkW,GAAAzjE,EAAAC,KAAAwjE,GAAAt7B,EAAAokB,IACxG,SAAA8pB,GAAAjqE,EAAAC,EAAArM,GAAmB,IAAAC,GAAA,EAAAkoC,EAAA0pC,GAActlB,EAAAlgD,EAAAnG,YAAsX,MAAlW,kBAAAqmD,GAAA,OAAAA,IAAA+pB,GAAA/pB,IAAApkB,EAAA2lB,GAAAzhD,GAAAylE,GAAApkB,GAAAl/C,QAAAvO,EAAAoM,EAAA2lE,aAAAzlB,GAAAtsD,EAAA,OAAAA,QAAA,IAAAA,GAAA8xE,GAAA3lE,EAAA+7B,GAAA0pC,IAAmHxlE,EAAA,IAAAA,EAAArM,EAAAusD,GAAangD,EAAAonE,cAAA,OAAAnnE,EAAAK,YAAA,IAAAL,EAAAK,MAAAL,EAAAK,MAAA,KAA8DL,EAAA4gD,QAAAwoB,GAAarpE,EAAA2oD,UAAA1oD,EAAcA,EAAAqpE,oBAAAtpE,EAAwBnM,IAAAmM,IAAA2oD,UAAA3oD,EAAA6lE,4CAAA9pC,EAAA/7B,EAAA8lE,0CAAA3lB,GAAiHlgD,EACvZ,SAAAkqE,GAAAnqE,EAAAC,EAAArM,EAAAC,GAAqBmM,EAAAC,EAAAK,MAAU,oBAAAL,EAAAmqE,2BAAAnqE,EAAAmqE,0BAAAx2E,EAAAC,GAAkF,oBAAAoM,EAAAoqE,kCAAApqE,EAAAoqE,iCAAAz2E,EAAAC,GAAgGoM,EAAAK,QAAAN,GAAAqpE,GAAA5oB,oBAAAxgD,IAAAK,MAAA,MACjN,SAAAgqE,GAAAtqE,EAAAC,EAAArM,EAAAC,GAAqB,IAAAkoC,EAAA/7B,EAAA2oD,UAAkB5sB,EAAAzkC,MAAA1D,EAAUmoC,EAAAz7B,MAAAN,EAAAonE,cAAwBrrC,EAAAjjB,KAAAowD,GAAU,IAAA/oB,EAAAlgD,EAAAnG,YAAoB,kBAAAqmD,GAAA,OAAAA,EAAApkB,EAAAvkC,QAAA0yE,GAAA/pB,MAAAuB,GAAAzhD,GAAAylE,GAAApkB,GAAAl/C,QAAA25B,EAAAvkC,QAAAmuE,GAAA3lE,EAAAmgD,IAAsFA,EAAAngD,EAAAqnE,YAAgB,OAAAlnB,IAAAoqB,GAAAvqE,EAAAmgD,EAAAvsD,EAAAmoC,EAAAloC,GAAAkoC,EAAAz7B,MAAAN,EAAAonE,eAAkDjnB,EAAAlgD,EAAAuqE,yBAA6B,oBAAArqB,IAAAgpB,GAAAnpE,EAAAC,EAAAkgD,EAAAvsD,GAAAmoC,EAAAz7B,MAAAN,EAAAonE,eAA6D,oBAAAnnE,EAAAuqE,0BAAA,oBAAAzuC,EAAA0uC,yBAAA,oBAAA1uC,EAAA2uC,2BAAA,oBACzV3uC,EAAA4uC,qBAAA1qE,EAAA87B,EAAAz7B,MAAA,oBAAAy7B,EAAA4uC,oBAAA5uC,EAAA4uC,qBAAA,oBAAA5uC,EAAA2uC,2BAAA3uC,EAAA2uC,4BAAAzqE,IAAA87B,EAAAz7B,OAAA+oE,GAAA5oB,oBAAA1kB,IAAAz7B,MAAA,MAAA6/C,EAAAngD,EAAAqnE,YAAA,OAAAlnB,IAAAoqB,GAAAvqE,EAAAmgD,EAAAvsD,EAAAmoC,EAAAloC,GAAAkoC,EAAAz7B,MAAAN,EAAAonE,gBAA+S,oBAAArrC,EAAA6uC,oBAAA5qE,EAAAu3D,WAAA,GAA0D,IAAAsT,GAAAxxE,MAAAU,QACzW,SAAA+wE,GAAA9qE,EAAAC,EAAArM,GAA2B,GAARoM,EAAApM,EAAA2D,IAAQ,OAAAyI,GAAA,oBAAAA,GAAA,kBAAAA,EAAA,CAAyD,GAAApM,EAAAguD,OAAA,CAAahuD,IAAAguD,OAAW,IAAA/tD,OAAA,EAAaD,IAAA,IAAAA,EAAAq1D,KAAAx0D,EAAA,OAAAZ,EAAAD,EAAA+0D,WAA6C90D,GAAAY,EAAA,MAAAuL,GAAoB,IAAA+7B,EAAA,GAAA/7B,EAAW,cAAAC,GAAA,OAAAA,EAAA1I,KAAA,oBAAA0I,EAAA1I,KAAA0I,EAAA1I,IAAAwzE,aAAAhvC,EAAA97B,EAAA1I,KAAwF0I,EAAA,SAAAD,GAAc,IAAAC,EAAApM,EAAAilB,KAAa7Y,IAAAipE,KAAAjpE,EAAApM,EAAAilB,KAAA,IAAsB,OAAA9Y,SAAAC,EAAA87B,GAAA97B,EAAA87B,GAAA/7B,GAA6BC,EAAA8qE,WAAAhvC,EAAe97B,GAAS,kBAAAD,GAAAvL,EAAA,OAAoCb,EAAAguD,QAAAntD,EAAA,MAAAuL,GAA2B,OAAAA,EAClc,SAAAgrE,GAAAhrE,EAAAC,GAAiB,aAAAD,EAAAzC,MAAA9I,EAAA,yBAAAR,OAAAkB,UAAA6E,SAAAtG,KAAAuM,GAAA,qBAAqGhM,OAAA2J,KAAAqC,GAAAiP,KAAA,UAA8BjP,EAAA,IACpJ,SAAAgrE,GAAAjrE,GAAe,SAAAC,IAAArM,GAAgB,GAAAoM,EAAA,CAAM,IAAAnM,EAAAoM,EAAAsnE,WAAmB,OAAA1zE,KAAA4zE,WAAA7zE,EAAAqM,EAAAsnE,WAAA3zE,GAAAqM,EAAAunE,YAAAvnE,EAAAsnE,WAAA3zE,EAAsEA,EAAA6zE,WAAA,KAAkB7zE,EAAA2jE,UAAA,GAAe,SAAA3jE,IAAAC,GAAgB,IAAAmM,EAAA,YAAkB,KAAK,OAAAnM,GAASoM,EAAArM,EAAAC,OAAA6jE,QAAoB,YAAY,SAAA7jE,EAAAmM,EAAAC,GAAgB,IAAAD,EAAA,IAAAkrE,IAAc,OAAAjrE,GAAS,OAAAA,EAAAnL,IAAAkL,EAAAmQ,IAAAlQ,EAAAnL,IAAAmL,GAAAD,EAAAmQ,IAAAlQ,EAAAE,MAAAF,OAAAy3D,QAA0D,OAAA13D,EAAS,SAAA+7B,EAAA/7B,EAAAC,EAAArM,GAAuD,OAArCoM,EAAA8nE,GAAA9nE,EAAAC,EAAArM,GAAYoM,EAAAG,MAAA,EAAUH,EAAA03D,QAAA,KAAe13D,EAAS,SAAAmgD,EAAAlgD,EAAArM,EAAAC,GAA4B,OAAVoM,EAAAE,MAAAtM,EAAUmM,GAAenM,EAAAoM,EAAAi3D,UAAc,OAAArjE,OAAAsM,MAAAtM,EAAAD,GAAAqM,EAAAs3D,UACld,EAAA3jE,GAAAC,IAAOoM,EAAAs3D,UAAA,EAAc3jE,IADgaA,EACvZ,SAAAqsD,EAAAhgD,GAAqD,OAAvCD,GAAA,OAAAC,EAAAi3D,YAAAj3D,EAAAs3D,UAAA,GAAuCt3D,EAAS,SAAAigD,EAAAlgD,EAAAC,EAAArM,EAAAC,GAAoB,cAAAoM,GAAA,IAAAA,EAAAgpD,KAAAhpD,EAAAioE,GAAAt0E,EAAAoM,EAAAtL,KAAAb,GAAAoM,EAAAqpD,OAAAtpD,EAAAC,IAA4DA,EAAA87B,EAAA97B,EAAArM,EAAAC,GAAWoM,EAAAqpD,OAAAtpD,EAAWC,GAAS,SAAAzM,EAAAwM,EAAAC,EAAArM,EAAAC,GAAoB,cAAAoM,KAAAgnE,cAAArzE,EAAA2J,MAAA1J,EAAAkoC,EAAA97B,EAAArM,EAAA0D,MAAAzD,KAAA0D,IAAAuzE,GAAA9qE,EAAAC,EAAArM,GAAAC,EAAAy1D,OAAAtpD,EAAAnM,IAAyFA,EAAAk0E,GAAAn0E,EAAA2J,KAAA3J,EAAAkB,IAAAlB,EAAA0D,MAAA,KAAA0I,EAAAtL,KAAAb,GAAyCA,EAAA0D,IAAAuzE,GAAA9qE,EAAAC,EAAArM,GAAgBC,EAAAy1D,OAAAtpD,EAAWnM,GAAS,SAAAwrD,EAAAr/C,EAAAC,EAAArM,EAAAC,GAAoB,cAAAoM,GAAA,IAAAA,EAAAgpD,KAAAhpD,EAAA0oD,UAAAsU,gBAAArpE,EAAAqpE,eAAAh9D,EAAA0oD,UAAA0f,iBACzZz0E,EAAAy0E,gBAAApoE,EAAAkoE,GAAAv0E,EAAAoM,EAAAtL,KAAAb,GAAAoM,EAAAqpD,OAAAtpD,EAAAC,IAAsDA,EAAA87B,EAAA97B,EAAArM,EAAAsN,UAAA,GAAArN,GAAwBoM,EAAAqpD,OAAAtpD,EAAWC,GAAS,SAAAtM,EAAAqM,EAAAC,EAAArM,EAAAC,EAAAssD,GAAsB,cAAAlgD,GAAA,IAAAA,EAAAgpD,KAAAhpD,EAAA+nE,GAAAp0E,EAAAoM,EAAAtL,KAAAb,EAAAssD,GAAAlgD,EAAAqpD,OAAAtpD,EAAAC,IAA8DA,EAAA87B,EAAA97B,EAAArM,EAAAC,GAAWoM,EAAAqpD,OAAAtpD,EAAWC,GAAS,SAAAs/C,EAAAv/C,EAAAC,EAAArM,GAAkB,qBAAAqM,GAAA,kBAAAA,EAAA,OAAAA,EAAAioE,GAAA,GAAAjoE,EAAAD,EAAAtL,KAAAd,GAAAqM,EAAAqpD,OAAAtpD,EAAAC,EAAoF,qBAAAA,GAAA,OAAAA,EAAA,CAAkC,OAAAA,EAAA0hD,UAAmB,KAAA6O,GAAA,OAAA58D,EAAAm0E,GAAA9nE,EAAA1C,KAAA0C,EAAAnL,IAAAmL,EAAA3I,MAAA,KAAA0I,EAAAtL,KAAAd,KAAA2D,IAAAuzE,GAAA9qE,EAAA,KAAAC,GAAArM,EAAA01D,OAAAtpD,EAAApM,EAAwF,KAAA68D,GAAA,OAAAxwD,EAAAkoE,GAAAloE,EAAAD,EAAAtL,KAAAd,GAAAqM,EAAAqpD,OAAAtpD,EAAAC,EAA6C,GAAA4qE,GAAA5qE,IACrfoxD,GAAApxD,GAAA,OAAAA,EAAA+nE,GAAA/nE,EAAAD,EAAAtL,KAAAd,EAAA,MAAAqM,EAAAqpD,OAAAtpD,EAAAC,EAAgD+qE,GAAAhrE,EAAAC,GAAQ,YAAY,SAAAkT,EAAAnT,EAAAC,EAAArM,EAAAC,GAAoB,IAAAkoC,EAAA,OAAA97B,IAAAnL,IAAA,KAA0B,qBAAAlB,GAAA,kBAAAA,EAAA,cAAAmoC,EAAA,KAAAmkB,EAAAlgD,EAAAC,EAAA,GAAArM,EAAAC,GAA+E,qBAAAD,GAAA,OAAAA,EAAA,CAAkC,OAAAA,EAAA+tD,UAAmB,KAAA6O,GAAA,OAAA58D,EAAAkB,MAAAinC,EAAAnoC,EAAA2J,OAAAmzD,GAAA/8D,EAAAqM,EAAAC,EAAArM,EAAA0D,MAAA4J,SAAArN,EAAAkoC,GAAAvoC,EAAAwM,EAAAC,EAAArM,EAAAC,GAAA,KAAiF,KAAA48D,GAAA,OAAA78D,EAAAkB,MAAAinC,EAAAsjB,EAAAr/C,EAAAC,EAAArM,EAAAC,GAAA,KAAyC,GAAAg3E,GAAAj3E,IAAAy9D,GAAAz9D,GAAA,cAAAmoC,EAAA,KAAApoC,EAAAqM,EAAAC,EAAArM,EAAAC,EAAA,MAAqDm3E,GAAAhrE,EAAApM,GAAQ,YAAY,SAAA0sD,EAAAtgD,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAsB,qBAAAloC,GAAA,kBAAAA,EAAA,OAAAmM,EAC/cA,EAAA5L,IAAAR,IAAA,KAAAssD,EAAAjgD,EAAAD,EAAA,GAAAnM,EAAAkoC,GAA6B,qBAAAloC,GAAA,OAAAA,EAAA,CAAkC,OAAAA,EAAA8tD,UAAmB,KAAA6O,GAAA,OAAAxwD,IAAA5L,IAAA,OAAAP,EAAAiB,IAAAlB,EAAAC,EAAAiB,MAAA,KAAAjB,EAAA0J,OAAAmzD,GAAA/8D,EAAAsM,EAAAD,EAAAnM,EAAAyD,MAAA4J,SAAA66B,EAAAloC,EAAAiB,KAAAtB,EAAAyM,EAAAD,EAAAnM,EAAAkoC,GAA0G,KAAA00B,GAAA,OAAAzwD,IAAA5L,IAAA,OAAAP,EAAAiB,IAAAlB,EAAAC,EAAAiB,MAAA,KAAAuqD,EAAAp/C,EAAAD,EAAAnM,EAAAkoC,GAA8D,GAAA8uC,GAAAh3E,IAAAw9D,GAAAx9D,GAAA,OAAAmM,IAAA5L,IAAAR,IAAA,KAAAD,EAAAsM,EAAAD,EAAAnM,EAAAkoC,EAAA,MAAwDivC,GAAA/qE,EAAApM,GAAQ,YAAY,SAAA6rD,EAAA3jB,EAAAkkB,EAAAC,EAAAb,GAAoB,QAAA7rD,EAAA,KAAAG,EAAA,KAAAqB,EAAAirD,EAAAT,EAAAS,EAAA,EAAA5rD,EAAA,KAAuC,OAAAW,GAAAwqD,EAAAU,EAAA/mD,OAAqBqmD,IAAA,CAAKxqD,EAAAmL,MAAAq/C,GAAAnrD,EAAAW,IAAA,MAAAX,EAAAW,EAAA0iE,QAAmC,IAAAjY,EAAAtsC,EAAA4oB,EAAA/mC,EAAAkrD,EAAAV,GAAAH,GAAoB,UAAAI,EAAA,CAAa,OAAAzqD,MAAAX,GAAgB,MAAM2L,GACrfhL,GAAA,OAAAyqD,EAAAyX,WAAAj3D,EAAA87B,EAAA/mC,GAA8BirD,EAAAE,EAAAV,EAAAQ,EAAAT,GAAW,OAAA7rD,EAAAH,EAAAisD,EAAA9rD,EAAA+jE,QAAAjY,EAAyB9rD,EAAA8rD,EAAIzqD,EAAAX,EAAI,GAAAmrD,IAAAU,EAAA/mD,OAAA,OAAAvF,EAAAmoC,EAAA/mC,GAAAxB,EAAgC,UAAAwB,EAAA,CAAa,KAAKwqD,EAAAU,EAAA/mD,OAAWqmD,KAAAxqD,EAAAuqD,EAAAxjB,EAAAmkB,EAAAV,GAAAH,MAAAY,EAAAE,EAAAnrD,EAAAirD,EAAAT,GAAA,OAAA7rD,EAAAH,EAAAwB,EAAArB,EAAA+jE,QAAA1iE,EAAArB,EAAAqB,GAA6D,OAAAxB,EAAS,IAAAwB,EAAAnB,EAAAkoC,EAAA/mC,GAAawqD,EAAAU,EAAA/mD,OAAWqmD,KAAAnrD,EAAAisD,EAAAtrD,EAAA+mC,EAAAyjB,EAAAU,EAAAV,GAAAH,MAAAr/C,GAAA,OAAA3L,EAAA6iE,WAAAliE,EAAAm2E,OAAA,OAAA92E,EAAAS,IAAA0qD,EAAAnrD,EAAAS,KAAAmrD,EAAAE,EAAA9rD,EAAA4rD,EAAAT,GAAA,OAAA7rD,EAAAH,EAAAa,EAAAV,EAAA+jE,QAAArjE,EAAAV,EAAAU,GAAgK,OAAzC2L,GAAAhL,EAAA0K,QAAA,SAAAM,GAAyB,OAAAC,EAAA87B,EAAA/7B,KAAgBxM,EAAS,SAAAotD,EAAA7kB,EAAAkkB,EAAAC,EAAAb,GAAoB,IAAA7rD,EAAA69D,GAAAnR,GAAY,oBAAA1sD,GAAAiB,EAAA,OAAsCyrD,EAAA1sD,EAAAE,KAAAwsD,GAAY,MAAAA,GAAAzrD,EAAA,OAChe,QAAAd,EAAAH,EAAA,KAAAwB,EAAAirD,EAAAT,EAAAS,EAAA,EAAA5rD,EAAA,KAAAorD,EAAAS,EAAA3hD,OAA6C,OAAAvJ,IAAAyqD,EAAAiD,KAAkBlD,IAAAC,EAAAS,EAAA3hD,OAAA,CAAgBvJ,EAAAmL,MAAAq/C,GAAAnrD,EAAAW,IAAA,MAAAX,EAAAW,EAAA0iE,QAAmC,IAAA/X,EAAAxsC,EAAA4oB,EAAA/mC,EAAAyqD,EAAAjrD,MAAA6qD,GAAuB,UAAAM,EAAA,CAAa3qD,MAAAX,GAAS,MAAM2L,GAAAhL,GAAA,OAAA2qD,EAAAuX,WAAAj3D,EAAA87B,EAAA/mC,GAAiCirD,EAAAE,EAAAR,EAAAM,EAAAT,GAAW,OAAA7rD,EAAAH,EAAAmsD,EAAAhsD,EAAA+jE,QAAA/X,EAAyBhsD,EAAAgsD,EAAI3qD,EAAAX,EAAI,GAAAorD,EAAAiD,KAAA,OAAA9uD,EAAAmoC,EAAA/mC,GAAAxB,EAA0B,UAAAwB,EAAA,CAAa,MAAKyqD,EAAAiD,KAAQlD,IAAAC,EAAAS,EAAA3hD,OAAAkhD,EAAAF,EAAAxjB,EAAA0jB,EAAAjrD,MAAA6qD,GAAA,OAAAI,IAAAQ,EAAAE,EAAAV,EAAAQ,EAAAT,GAAA,OAAA7rD,EAAAH,EAAAisD,EAAA9rD,EAAA+jE,QAAAjY,EAAA9rD,EAAA8rD,GAAoF,OAAAjsD,EAAS,IAAAwB,EAAAnB,EAAAkoC,EAAA/mC,IAAayqD,EAAAiD,KAAQlD,IAAAC,EAAAS,EAAA3hD,OAAAkhD,EAAAa,EAAAtrD,EAAA+mC,EAAAyjB,EAAAC,EAAAjrD,MAAA6qD,GAAA,OAAAI,IAAAz/C,GAAA,OAAAy/C,EAAAyX,WAAAliE,EAAAm2E,OAAA,OAAA1rB,EAAA3qD,IAAA0qD,EACxZC,EAAA3qD,KAAAmrD,EAAAE,EAAAV,EAAAQ,EAAAT,GAAA,OAAA7rD,EAAAH,EAAAisD,EAAA9rD,EAAA+jE,QAAAjY,EAAA9rD,EAAA8rD,GAAyF,OAAzCz/C,GAAAhL,EAAA0K,QAAA,SAAAM,GAAyB,OAAAC,EAAA87B,EAAA/7B,KAAgBxM,EAAS,gBAAAwM,EAAAnM,EAAAssD,EAAAD,GAAyB,IAAAb,EAAA,kBAAAc,GAAA,OAAAA,KAAA5iD,OAAAmzD,IAAA,OAAAvQ,EAAArrD,IAA+DuqD,IAAAc,IAAA7oD,MAAA4J,UAAwB,IAAA1N,EAAA,kBAAA2sD,GAAA,OAAAA,EAAoC,GAAA3sD,EAAA,OAAA2sD,EAAAwB,UAAwB,KAAA6O,GAAAxwD,EAAA,CAAmB,IAARxM,EAAA2sD,EAAArrD,IAAQuqD,EAAAxrD,EAAQ,OAAAwrD,GAAS,CAAE,GAAAA,EAAAvqD,MAAAtB,EAAA,QAAA6rD,EAAA4J,IAAA9I,EAAA5iD,OAAAmzD,GAAArR,EAAA4nB,cAAA9mB,EAAA5iD,KAAA,CAA8D3J,EAAAoM,EAAAq/C,EAAAqY,SAAe7jE,EAAAkoC,EAAAsjB,EAAAc,EAAA5iD,OAAAmzD,GAAAvQ,EAAA7oD,MAAA4J,SAAAi/C,EAAA7oD,MAAA4oD,GAA8CrsD,EAAA0D,IAAAuzE,GAAA9qE,EAAAq/C,EAAAc,GAAgBtsD,EAAAy1D,OAAAtpD,EAAWA,EAAAnM,EAAI,MAAAmM,EAAapM,EAAAoM,EAAAq/C,GAAO,MAAMp/C,EAAAD,EAAAq/C,GAAYA,EACpfA,EAAAqY,QAAUvX,EAAA5iD,OAAAmzD,IAAA78D,EAAAm0E,GAAA7nB,EAAA7oD,MAAA4J,SAAAlB,EAAAtL,KAAAwrD,EAAAC,EAAArrD,KAAAjB,EAAAy1D,OAAAtpD,IAAAnM,IAAAqsD,EAAA6nB,GAAA5nB,EAAA5iD,KAAA4iD,EAAArrD,IAAAqrD,EAAA7oD,MAAA,KAAA0I,EAAAtL,KAAAwrD,KAAA3oD,IAAAuzE,GAAA9qE,EAAAnM,EAAAssD,GAAAD,EAAAoJ,OAAAtpD,IAAAkgD,GAA6I,OAAAD,EAAAjgD,GAAY,KAAAywD,GAAAzwD,EAAA,CAAW,IAAAq/C,EAAAc,EAAArrD,IAAY,OAAAjB,GAAS,CAAE,GAAAA,EAAAiB,MAAAuqD,EAAA,QAAAxrD,EAAAo1D,KAAAp1D,EAAA80D,UAAAsU,gBAAA9c,EAAA8c,eAAAppE,EAAA80D,UAAA0f,iBAAAloB,EAAAkoB,eAAA,CAAuHz0E,EAAAoM,EAAAnM,EAAA6jE,SAAe7jE,EAAAkoC,EAAAloC,EAAAssD,EAAAj/C,UAAA,GAAAg/C,GAAwBrsD,EAAAy1D,OAAAtpD,EAAWA,EAAAnM,EAAI,MAAAmM,EAAapM,EAAAoM,EAAAnM,GAAO,MAAMoM,EAAAD,EAAAnM,GAAYA,IAAA6jE,QAAY7jE,EAAAs0E,GAAAhoB,EAAAngD,EAAAtL,KAAAwrD,GAAiBrsD,EAAAy1D,OAAAtpD,EAAWA,EAAAnM,EAAI,OAAAosD,EAAAjgD,GAAY,qBAAAmgD,GAAA,kBAAAA,EAAA,OAAAA,EAChd,GAAAA,EAAA,OAAAtsD,GAAA,IAAAA,EAAAo1D,KAAAr1D,EAAAoM,EAAAnM,EAAA6jE,SAAA7jE,EAAAkoC,EAAAloC,EAAAssD,EAAAD,GAAArsD,EAAAy1D,OAAAtpD,IAAAnM,IAAAD,EAAAoM,EAAAnM,KAAAq0E,GAAA/nB,EAAAngD,EAAAtL,KAAAwrD,GAAArsD,EAAAy1D,OAAAtpD,IAAAnM,GAAAosD,EAAAjgD,GAAkH,GAAA6qE,GAAA1qB,GAAA,OAAAT,EAAA1/C,EAAAnM,EAAAssD,EAAAD,GAA2B,GAAAmR,GAAAlR,GAAA,OAAAS,EAAA5gD,EAAAnM,EAAAssD,EAAAD,GAAsC,GAAX1sD,GAAAw3E,GAAAhrE,EAAAmgD,GAAW,qBAAAA,IAAAd,EAAA,OAAAr/C,EAAAipD,KAA4C,cAAA/I,EAAAlgD,EAAAzC,KAAA9I,EAAA,MAAAyrD,EAAAnB,aAAAmB,EAAApsD,MAAA,aAAmE,OAAAF,EAAAoM,EAAAnM,IAAe,IAAAu3E,GAAAH,IAAA,GAAAI,GAAAJ,IAAA,GAAAK,GAAA,GAA6BC,GAAA,CAAKnpE,QAAAkpE,IAAWE,GAAA,CAAKppE,QAAAkpE,IAAWG,GAAA,CAAKrpE,QAAAkpE,IAAY,SAAAI,GAAA1rE,GAAsC,OAAvBA,IAAAsrE,IAAA72E,EAAA,OAAuBuL,EACra,SAAA2rE,GAAA3rE,EAAAC,GAAiBohD,GAAAoqB,GAAAxrE,EAAAD,GAAUqhD,GAAAmqB,GAAAxrE,KAAUqhD,GAAAkqB,GAAAD,GAAAtrE,GAAW,IAAApM,EAAAqM,EAAAwvD,SAAiB,OAAA77D,GAAU,eAAAqM,OAAAs7B,iBAAAt7B,EAAAsgE,aAAAL,GAAA,SAAkE,MAAM,QAAAtsE,EAAA,IAAAA,EAAAqM,EAAAmmB,WAAAnmB,IAAArM,EAAA2sE,cAAA,KAAA3sE,IAAA+K,QAAAsB,EAAAigE,GAAAjgE,EAAArM,GAA4EwtD,GAAAmqB,GAAAvrE,GAAQqhD,GAAAkqB,GAAAtrE,EAAAD,GAAU,SAAA4rE,GAAA5rE,GAAeohD,GAAAmqB,GAAAvrE,GAAQohD,GAAAoqB,GAAAxrE,GAAQohD,GAAAqqB,GAAAzrE,GAAQ,SAAA6rE,GAAA7rE,GAAe0rE,GAAAD,GAAArpE,SAAe,IAAAnC,EAAAyrE,GAAAH,GAAAnpE,SAAqBxO,EAAAssE,GAAAjgE,EAAAD,EAAAzC,MAAmB0C,IAAArM,IAAAytD,GAAAmqB,GAAAxrE,KAAAqhD,GAAAkqB,GAAA33E,EAAAoM,IAA6B,SAAA8rE,GAAA9rE,GAAewrE,GAAAppE,UAAApC,IAAAohD,GAAAmqB,GAAAvrE,GAAAohD,GAAAoqB,GAAAxrE,IAC1Y,IAAA+rE,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,GAAAC,GAAA,GAAAC,GAAA,GAAAC,GAAA,IAAAC,GAAAjc,GAAApL,uBAAAsnB,GAAA,EAAAC,GAAA,KAAArqB,GAAA,KAAAsqB,GAAA,KAAAC,GAAA,KAAApqB,GAAA,KAAAqqB,GAAA,KAAAC,GAAA,EAAAC,GAAA,KAAAC,GAAA,EAAAC,IAAA,EAAAC,GAAA,KAAAC,GAAA,EAAsK,SAAAC,KAAc14E,EAAA,OAAS,SAAA24E,GAAAptE,EAAAC,GAAiB,UAAAA,EAAA,SAAqB,QAAArM,EAAA,EAAYA,EAAAqM,EAAA9G,QAAAvF,EAAAoM,EAAA7G,OAAuBvF,IAAA,IAAAujE,GAAAn3D,EAAApM,GAAAqM,EAAArM,IAAA,SAA+B,SACrS,SAAAy5E,GAAArtE,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,GAAwG,GAA/EqsB,GAAArsB,EAAKssB,GAAAxsE,EAAKysE,GAAA,OAAA1sE,IAAAonE,cAAA,KAAiCmF,GAAAnqE,QAAA,OAAAsqE,GAAAY,GAAAC,GAA2BttE,EAAArM,EAAAC,EAAAkoC,GAASixC,GAAA,CAAO,GAAAA,IAAA,EAAAE,IAAA,EAAAR,GAAA,OAAA1sE,IAAAonE,cAAA,KAAAwF,GAAAD,GAAAG,GAAAvqB,GAAAH,GAAA,KAAAmqB,GAAAnqE,QAAAmrE,GAAAttE,EAAArM,EAAAC,EAAAkoC,SAAyFixC,IAAUC,GAAA,KAAQC,GAAA,EAAwL,OAAnLX,GAAAnqE,QAAAorE,GAAcxtE,EAAAysE,GAAKzsE,EAAAonE,cAAAuF,GAAmB3sE,EAAA2nE,eAAAkF,GAAoB7sE,EAAAqnE,YAAAyF,GAAiB9sE,EAAAu3D,WAAAwV,GAAgB/sE,EAAA,OAAAoiD,IAAA,OAAAA,GAAA7jD,KAA0BiuE,GAAA,EAAKI,GAAArqB,GAAAoqB,GAAAD,GAAAtqB,GAAAqqB,GAAA,KAAqBI,GAAA,EAAKC,GAAA,KAAQC,GAAA,EAAK/sE,GAAAvL,EAAA,OAAkBwL,EAClZ,SAAAwtE,KAAclB,GAAAnqE,QAAAorE,GAAchB,GAAA,EAAKI,GAAArqB,GAAAoqB,GAAAD,GAAAtqB,GAAAqqB,GAAA,KAAqBI,GAAA,EAAKC,GAAA,KAAQC,GAAA,EAAKC,IAAA,EAAMC,GAAA,KAAQC,GAAA,EAAK,SAAAQ,KAAc,IAAA1tE,EAAA,CAAOonE,cAAA,KAAAgC,UAAA,KAAAuE,MAAA,KAAAC,WAAA,KAAArvE,KAAA,MAAmG,OAA3B,OAAAgkD,GAAAoqB,GAAApqB,GAAAviD,EAAAuiD,MAAAhkD,KAAAyB,EAA2BuiD,GAAS,SAAAsrB,KAAc,UAAAjB,GAAArqB,GAAAqqB,MAAArqB,GAAAhkD,KAAA6jD,GAAAsqB,MAAA,OAAAtqB,MAAA7jD,KAAA,SAAyD,CAAK,OAAAmuE,IAAAj4E,EAAA,OAA0B2tD,GAAAsqB,GAAK,IAAA1sE,EAAA,CAAOonE,cAAAhlB,GAAAglB,cAAAgC,UAAAhnB,GAAAgnB,UAAAuE,MAAAvrB,GAAAurB,MAAAC,WAAAxrB,GAAAwrB,WAAArvE,KAAA,MAAqGgkD,GAAA,OAAAA,GAAAoqB,GAAA3sE,EAAAuiD,GAAAhkD,KAAAyB,EAAyB0sE,GAAAtqB,GAAA7jD,KAAU,OAAAgkD,GACtd,SAAAurB,GAAA9tE,EAAAC,GAAiB,0BAAAA,IAAAD,GAAAC,EACjB,SAAA8tE,GAAA/tE,GAAe,IAAAC,EAAA4tE,KAAAj6E,EAAAqM,EAAA0tE,MAA8C,GAAzB,OAAA/5E,GAAAa,EAAA,OAAyB,EAAAy4E,GAAA,CAAS,IAAAr5E,EAAAD,EAAAo6E,SAAiB,UAAAf,GAAA,CAAc,IAAAlxC,EAAAkxC,GAAA74E,IAAAR,GAAgB,YAAAmoC,EAAA,CAAekxC,GAAA9B,OAAAv3E,GAAa,IAAAusD,EAAAlgD,EAAAmnE,cAAsB,GAAAjnB,EAAAngD,EAAAmgD,EAAApkB,EAAA1+B,QAAA0+B,IAAAx9B,WAA4B,OAAAw9B,GAAwG,OAAxFo7B,GAAAhX,EAAAlgD,EAAAmnE,iBAAA6G,IAAA,GAA+BhuE,EAAAmnE,cAAAjnB,EAAkBlgD,EAAA2tE,aAAAh6E,EAAAqjD,OAAAh3C,EAAAmpE,UAAAjpB,GAAuC,CAAAA,EAAAtsD,IAAa,OAAAoM,EAAAmnE,cAAAvzE,GAA0BA,EAAAD,EAAAqjD,KAAS,IAAAgJ,EAAAhgD,EAAA2tE,WAAoG,GAAjFztB,EAAAlgD,EAAAmpE,UAAc,OAAAnpB,GAAA,OAAApsD,MAAA0K,KAAA,MAAA1K,EAAAosD,EAAA1hD,MAAA1K,EAAA,OAAAA,IAAA0K,KAAA,KAAmE,OAAA1K,EAAA,CAAa,IAAAqsD,EAAAnkB,EAAA,KAAAvoC,EAAAK,EAAAwrD,GAAA,EAAsB,GAAG,IAAA1rD,EAAAH,EAAAm0E,eACreh0E,EAAA64E,IAAAntB,OAAA,EAAAa,EAAAD,EAAAlkB,EAAAokB,GAAAxsD,EAAAk5E,QAAAl5E,IAAAwsD,EAAA3sD,EAAA06E,eAAAluE,EAAAxM,EAAA26E,WAAAnuE,EAAAmgD,EAAA3sD,EAAA6J,QAAsF4iD,EAAAzsD,EAAIA,IAAA+K,WAAS,OAAA/K,OAAAK,GAAuBwrD,IAAAa,EAAAD,EAAAlkB,EAAAokB,GAAagX,GAAAhX,EAAAlgD,EAAAmnE,iBAAA6G,IAAA,GAA+BhuE,EAAAmnE,cAAAjnB,EAAkBlgD,EAAA2tE,WAAA1tB,EAAejgD,EAAAmpE,UAAArtC,EAAcnoC,EAAAs6E,aAAAluE,EAAiBpM,EAAAu6E,WAAAhuB,EAAe,OAAAlgD,EAAAmnE,cAAAxzE,EAAAo6E,UACrP,SAAAI,GAAApuE,EAAAC,EAAArM,EAAAC,GAA0N,OAArMmM,EAAA,CAAGipD,IAAAjpD,EAAAnL,OAAAoL,EAAAsmB,QAAA3yB,EAAAy6E,KAAAx6E,EAAA0K,KAAA,MAA2C,OAAAuuE,OAAA,CAAevF,WAAA,MAAgBuF,GAAAvF,WAAAvnE,EAAAzB,KAAAyB,IAAAC,EAAA6sE,GAAAvF,WAAA,OAAAtnE,EAAA6sE,GAAAvF,WAAAvnE,EAAAzB,KAAAyB,GAAApM,EAAAqM,EAAA1B,KAAA0B,EAAA1B,KAAAyB,IAAAzB,KAAA3K,EAAAk5E,GAAAvF,WAAAvnE,IAAwHA,EAAS,SAAAsuE,GAAAtuE,EAAAC,EAAArM,EAAAC,GAAqB,IAAAkoC,EAAA2xC,KAAWX,IAAA/sE,EAAM+7B,EAAAqrC,cAAAgH,GAAAnuE,EAAArM,OAAA,WAAAC,EAAA,KAAAA,GACzQ,SAAA06E,GAAAvuE,EAAAC,EAAArM,EAAAC,GAAqB,IAAAkoC,EAAA8xC,KAAWh6E,OAAA,IAAAA,EAAA,KAAAA,EAAoB,IAAAssD,OAAA,EAAa,UAAAiC,GAAA,CAAa,IAAAnC,EAAAmC,GAAAglB,cAAkC,GAAZjnB,EAAAF,EAAA15B,QAAY,OAAA1yB,GAAAu5E,GAAAv5E,EAAAosD,EAAAouB,MAAwC,YAAbD,GAAArC,GAAAn4E,EAAAusD,EAAAtsD,GAAqBk5E,IAAA/sE,EAAM+7B,EAAAqrC,cAAAgH,GAAAnuE,EAAArM,EAAAusD,EAAAtsD,GAA4B,SAAA26E,GAAAxuE,EAAAC,GAAiB,0BAAAA,GAAAD,MAAAC,EAAAD,GAAA,WAAsDC,EAAA,QAAS,OAAAA,QAAA,IAAAA,GAAAD,MAAAC,EAAAmC,QAAApC,EAAA,WAA4DC,EAAAmC,QAAA,YAA5D,EAA4E,SAAAqsE,MAC9V,SAAAC,GAAA1uE,EAAAC,EAAArM,GAAmB,GAAAs5E,IAAAz4E,EAAA,OAAsB,IAAAZ,EAAAmM,EAAAk3D,UAAkB,GAAAl3D,IAAAysE,IAAA,OAAA54E,OAAA44E,GAAA,GAAAO,IAAA,EAAAhtE,EAAA,CAAwC2nE,eAAA6E,GAAAnvE,OAAAzJ,EAAAs6E,aAAA,KAAAC,WAAA,KAAA5vE,KAAA,MAAuE,OAAA0uE,QAAA,IAAA/B,KAAAt3E,EAAAq5E,GAAA74E,IAAA6L,QAAA,IAAArM,EAAAq5E,GAAA98D,IAAAlQ,EAAAD,OAA4D,CAAK,IAAAC,EAAArM,EAAQ,OAAAqM,EAAA1B,MAAc0B,IAAA1B,KAAU0B,EAAA1B,KAAAyB,MAAS,CAAK0pE,KAAK,IAAA3tC,EAAAwtC,KAAWxtC,EAAAytC,GAAAztC,EAAA/7B,GAAU,IAAAmgD,EAAA,CAAOwnB,eAAA5rC,EAAA1+B,OAAAzJ,EAAAs6E,aAAA,KAAAC,WAAA,KAAA5vE,KAAA,MAAsE0hD,EAAAhgD,EAAAg3C,KAAU,UAAAgJ,EAAAE,EAAA5hD,KAAA4hD,MAAqB,CAAK,IAAAD,EAAAD,EAAA1hD,KAAa,OAAA2hD,IAAAC,EAAA5hD,KAAA2hD,GAAqBD,EAAA1hD,KAAA4hD,EAAkB,GAATlgD,EAAAg3C,KAAAkJ,EAAS,IAAAngD,EAAA2nE,iBAAA,OACxd9zE,GAAA,IAAAA,EAAA8zE,kBAAA9zE,EAAAoM,EAAAiuE,aAAA,OAAAr6E,GAAA,IAA0D,IAAAL,EAAAyM,EAAAkuE,WAAA9uB,EAAAxrD,EAAAL,EAAAI,GAA4D,GAAhCusD,EAAA+tB,aAAAr6E,EAAiBssD,EAAAguB,WAAA9uB,EAAe8X,GAAA9X,EAAA7rD,GAAA,OAAkB,MAAAG,IAAmBi2E,GAAA5pE,EAAA+7B,IAC3J,IAAAyxC,GAAA,CAAQmB,YAAAzE,GAAAnmB,YAAAopB,GAAAnpB,WAAAmpB,GAAAlpB,UAAAkpB,GAAAjpB,oBAAAipB,GAAA/oB,gBAAA+oB,GAAA9oB,QAAA8oB,GAAA7oB,WAAA6oB,GAAA5oB,OAAA4oB,GAAA3oB,SAAA2oB,GAAAhpB,cAAAgpB,IAAmKG,GAAA,CAAKqB,YAAAzE,GAAAnmB,YAAA,SAAA/jD,EAAAC,GAAkF,OAAzCytE,KAAAtG,cAAA,CAAApnE,OAAA,IAAAC,EAAA,KAAAA,GAAyCD,GAASgkD,WAAAkmB,GAAAjmB,UAAA,SAAAjkD,EAAAC,GAAuC,OAAAquE,GAAA,IAAAhC,GAAAD,GAAArsE,EAAAC,IAAyBikD,oBAAA,SAAAlkD,EAAAC,EAAArM,GAA8E,OAAzCA,EAAA,OAAAA,QAAA,IAAAA,IAAA2F,OAAA,CAAAyG,IAAA,CAAAA,GAAyCsuE,GAAA,EAAArC,GAAAG,GAAAoC,GAAAz5E,KAAA,KAAAkL,EAAAD,GAAApM,IAAuCwwD,gBAAA,SAAApkD,EAAAC,GAA+B,OAAAquE,GAAA,EAAArC,GAAAG,GAAApsE,EAAAC,IAC/dokD,QAAA,SAAArkD,EAAAC,GAAsB,IAAArM,EAAA85E,KAA2D,OAAhDztE,OAAA,IAAAA,EAAA,KAAAA,EAAoBD,MAAMpM,EAAAwzE,cAAA,CAAApnE,EAAAC,GAAsBD,GAASskD,WAAA,SAAAtkD,EAAAC,EAAArM,GAA4B,IAAAC,EAAA65E,KAA6J,OAAlJztE,OAAA,IAAArM,IAAAqM,KAAoBpM,EAAAuzE,cAAAvzE,EAAAu1E,UAAAnpE,EAA8BD,EAAAnM,EAAA85E,MAAA,CAAW12B,KAAA,KAAA+2B,SAAA,KAAAE,aAAAluE,EAAAmuE,WAAAluE,GAAqDD,IAAAguE,SAAAU,GAAA35E,KAAA,KAAA03E,GAAAzsE,GAAgC,CAAAnM,EAAAuzE,cAAApnE,IAA0BukD,OAAA,SAAAvkD,GAAoB,IAAAC,EAAAytE,KAAyB,OAAd1tE,EAAA,CAAGoC,QAAApC,GAAWC,EAAAmnE,cAAApnE,GAAyBwkD,SAAA,SAAAxkD,GAAsB,IAAAC,EAAAytE,KAC3V,MADsW,oBAAA1tE,WAA+BC,EAAAmnE,cAAAnnE,EAAAmpE,UAAAppE,EAA8BA,EAAAC,EAAA0tE,MAAA,CAAW12B,KAAA,KAAA+2B,SAAA,KAAAE,aAAAJ,GAC5dK,WAAAnuE,GAAcA,IAAAguE,SAAAU,GAAA35E,KAAA,KAAA03E,GAAAzsE,GAAgC,CAAAC,EAAAmnE,cAAApnE,IAA0BmkD,cAAAsqB,IAAkBlB,GAAA,CAAKoB,YAAAzE,GAAAnmB,YAAA,SAAA/jD,EAAAC,GAAyC,IAAArM,EAAAi6E,KAAW5tE,OAAA,IAAAA,EAAA,KAAAA,EAAoB,IAAApM,EAAAD,EAAAwzE,cAAsB,cAAAvzE,GAAA,OAAAoM,GAAAmtE,GAAAntE,EAAApM,EAAA,IAAAA,EAAA,IAA8CD,EAAAwzE,cAAA,CAAApnE,EAAAC,GAAsBD,IAASgkD,WAAAkmB,GAAAjmB,UAAA,SAAAjkD,EAAAC,GAAuC,OAAAsuE,GAAA,IAAAjC,GAAAD,GAAArsE,EAAAC,IAAyBikD,oBAAA,SAAAlkD,EAAAC,EAAArM,GAA8E,OAAzCA,EAAA,OAAAA,QAAA,IAAAA,IAAA2F,OAAA,CAAAyG,IAAA,CAAAA,GAAyCuuE,GAAA,EAAAtC,GAAAG,GAAAoC,GAAAz5E,KAAA,KAAAkL,EAAAD,GAAApM,IAAuCwwD,gBAAA,SAAApkD,EAAAC,GAA+B,OAAAsuE,GAAA,EAAAtC,GAAAG,GAAApsE,EAAAC,IAC9dokD,QAAA,SAAArkD,EAAAC,GAAsB,IAAArM,EAAAi6E,KAAW5tE,OAAA,IAAAA,EAAA,KAAAA,EAAoB,IAAApM,EAAAD,EAAAwzE,cAAsB,cAAAvzE,GAAA,OAAAoM,GAAAmtE,GAAAntE,EAAApM,EAAA,IAAAA,EAAA,IAA8CmM,MAAMpM,EAAAwzE,cAAA,CAAApnE,EAAAC,GAAsBD,IAASskD,WAAAypB,GAAAxpB,OAAA,WAAiC,OAAAspB,KAAAzG,eAA0B5iB,SAAA,SAAAxkD,GAAsB,OAAA+tE,GAAAD,GAAA9tE,IAAgBmkD,cAAAsqB,IAAkBG,GAAA,KAAAC,GAAA,KAAAC,IAAA,EACjR,SAAAC,GAAA/uE,EAAAC,GAAiB,IAAArM,EAAAkuD,GAAA,eAAuBluD,EAAAqzE,YAAA,UAAwBrzE,EAAA2J,KAAA,UAAiB3J,EAAA+0D,UAAA1oD,EAAcrM,EAAA01D,OAAAtpD,EAAWpM,EAAA2jE,UAAA,EAAc,OAAAv3D,EAAAunE,YAAAvnE,EAAAunE,WAAAE,WAAA7zE,EAAAoM,EAAAunE,WAAA3zE,GAAAoM,EAAAwnE,YAAAxnE,EAAAunE,WAAA3zE,EAA4F,SAAAo7E,GAAAhvE,EAAAC,GAAiB,OAAAD,EAAAipD,KAAc,WAAAr1D,EAAAoM,EAAAzC,KAAwF,OAApE0C,EAAA,IAAAA,EAAAwvD,UAAA77D,EAAAgL,gBAAAqB,EAAAmxB,SAAAxyB,cAAA,KAAAqB,EAAoE,OAAAA,IAAAD,EAAA2oD,UAAA1oD,GAAA,GAAsC,cAAAA,EAAA,KAAAD,EAAAknE,cAAA,IAAAjnE,EAAAwvD,SAAA,KAAAxvD,EAAA,OAAAA,IAAAD,EAAA2oD,UAAA1oD,GAAA,GAA0F,kBAC3c,SAAAgvE,GAAAjvE,GAAe,GAAA8uE,GAAA,CAAO,IAAA7uE,EAAA4uE,GAAS,GAAA5uE,EAAA,CAAM,IAAArM,EAAAqM,EAAQ,IAAA+uE,GAAAhvE,EAAAC,GAAA,CAAqB,GAARA,EAAAmlE,GAAAxxE,IAAQqM,IAAA+uE,GAAAhvE,EAAAC,GAA2C,OAA1BD,EAAAu3D,WAAA,EAAeuX,IAAA,OAAMF,GAAA5uE,GAAY+uE,GAAAH,GAAAh7E,GAASg7E,GAAA5uE,EAAK6uE,GAAAxJ,GAAAplE,QAASD,EAAAu3D,WAAA,EAAAuX,IAAA,EAAAF,GAAA5uE,GAAgC,SAAAkvE,GAAAlvE,GAAe,IAAAA,IAAAspD,OAAe,OAAAtpD,GAAA,IAAAA,EAAAipD,KAAA,IAAAjpD,EAAAipD,KAA+BjpD,IAAAspD,OAAYslB,GAAA5uE,EAAK,SAAAmvE,GAAAnvE,GAAe,GAAAA,IAAA4uE,GAAA,SAAmB,IAAAE,GAAA,OAAAI,GAAAlvE,GAAA8uE,IAAA,KAA6B,IAAA7uE,EAAAD,EAAAzC,KAAa,OAAAyC,EAAAipD,KAAA,SAAAhpD,GAAA,SAAAA,IAAAykE,GAAAzkE,EAAAD,EAAAsnE,eAAA,IAAArnE,EAAA4uE,GAAsE5uE,GAAE8uE,GAAA/uE,EAAAC,KAAAmlE,GAAAnlE,GAAkD,OAAjCivE,GAAAlvE,GAAM6uE,GAAAD,GAAAxJ,GAAAplE,EAAA2oD,WAAA,MAA2B,EAAS,SAAAymB,KAAcP,GAAAD,GAAA,KAAWE,IAAA,EACje,IAAAO,GAAA/e,GAAAnL,kBAAA8oB,IAAA,EAAkC,SAAAzrB,GAAAxiD,EAAAC,EAAArM,EAAAC,GAAoBoM,EAAAkkC,MAAA,OAAAnkC,EAAAqrE,GAAAprE,EAAA,KAAArM,EAAAC,GAAAu3E,GAAAnrE,EAAAD,EAAAmkC,MAAAvwC,EAAAC,GAAkD,SAAAy7E,GAAAtvE,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuBnoC,IAAAk0B,OAAW,IAAAq4B,EAAAlgD,EAAA1I,IAAsC,OAA1Bg4E,GAAAtvE,EAAA87B,GAAQloC,EAAAw5E,GAAArtE,EAAAC,EAAArM,EAAAC,EAAAssD,EAAApkB,GAAkB,OAAA/7B,GAAAiuE,IAA0HhuE,EAAAs3D,WAAA,EAAe/U,GAAAxiD,EAAAC,EAAApM,EAAAkoC,GAAW97B,EAAAkkC,QAApJlkC,EAAAonE,YAAArnE,EAAAqnE,YAAApnE,EAAAs3D,YAAA,IAAAv3D,EAAA2nE,gBAAA5rC,IAAA/7B,EAAA2nE,eAAA,GAAA6H,GAAAxvE,EAAAC,EAAA87B,IAChL,SAAA0zC,GAAAzvE,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,GAAyB,UAAAngD,EAAA,CAAa,IAAAigD,EAAArsD,EAAA2J,KAAa,0BAAA0iD,GAAA2nB,GAAA3nB,SAAA,IAAAA,EAAA9+C,cAAA,OAAAvN,EAAAkwD,cAAA,IAAAlwD,EAAAuN,cAA8InB,EAAA+nE,GAAAn0E,EAAA2J,KAAA,KAAA1J,EAAA,KAAAoM,EAAAvL,KAAAyrD,GAAkCngD,EAAAzI,IAAA0I,EAAA1I,IAAYyI,EAAAspD,OAAArpD,EAAWA,EAAAkkC,MAAAnkC,IAAvMC,EAAAgpD,IAAA,GAAAhpD,EAAA1C,KAAA0iD,EAAAyvB,GAAA1vE,EAAAC,EAAAggD,EAAApsD,EAAAkoC,EAAAokB,IAAkO,OAAVF,EAAAjgD,EAAAmkC,MAAUpI,EAAAokB,IAAApkB,EAAAkkB,EAAAqnB,cAAA1zE,IAAAkwD,QAAAlwD,EAAA,OAAAA,IAAAyjE,GAAAzjE,EAAAmoC,EAAAloC,IAAAmM,EAAAzI,MAAA0I,EAAA1I,KAAAi4E,GAAAxvE,EAAAC,EAAAkgD,IAA+FlgD,EAAAs3D,WAAA,EAAev3D,EAAA8nE,GAAA7nB,EAAApsD,EAAAssD,GAAYngD,EAAAzI,IAAA0I,EAAA1I,IAAYyI,EAAAspD,OAAArpD,EAAWA,EAAAkkC,MAAAnkC,GACta,SAAA0vE,GAAA1vE,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,GAAyB,cAAAngD,GAAAq3D,GAAAr3D,EAAAsnE,cAAAzzE,IAAAmM,EAAAzI,MAAA0I,EAAA1I,MAAA02E,IAAA,EAAAlyC,EAAAokB,GAAAqvB,GAAAxvE,EAAAC,EAAAkgD,GAAAwvB,GAAA3vE,EAAAC,EAAArM,EAAAC,EAAAssD,GAA2F,SAAAyvB,GAAA5vE,EAAAC,GAAiB,IAAArM,EAAAqM,EAAA1I,KAAY,OAAAyI,GAAA,OAAApM,GAAA,OAAAoM,KAAAzI,MAAA3D,KAAAqM,EAAAs3D,WAAA,KAA4D,SAAAoY,GAAA3vE,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB,IAAAokB,EAAAuB,GAAA9tD,GAAA8xE,GAAApkB,GAAAl/C,QAA4D,OAApC+9C,EAAAwlB,GAAA1lE,EAAAkgD,GAAUovB,GAAAtvE,EAAA87B,GAAQnoC,EAAAy5E,GAAArtE,EAAAC,EAAArM,EAAAC,EAAAssD,EAAApkB,GAAkB,OAAA/7B,GAAAiuE,IAA0HhuE,EAAAs3D,WAAA,EAAe/U,GAAAxiD,EAAAC,EAAArM,EAAAmoC,GAAW97B,EAAAkkC,QAApJlkC,EAAAonE,YAAArnE,EAAAqnE,YAAApnE,EAAAs3D,YAAA,IAAAv3D,EAAA2nE,gBAAA5rC,IAAA/7B,EAAA2nE,eAAA,GAAA6H,GAAAxvE,EAAAC,EAAA87B,IAChS,SAAA8zC,GAAA7vE,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB,GAAA2lB,GAAA9tD,GAAA,CAAS,IAAAusD,GAAA,EAASkmB,GAAApmE,QAAMkgD,GAAA,EAAkB,GAARovB,GAAAtvE,EAAA87B,GAAQ,OAAA97B,EAAA0oD,UAAA,OAAA3oD,MAAAk3D,UAAA,KAAAj3D,EAAAi3D,UAAA,KAAAj3D,EAAAs3D,WAAA,GAAA0S,GAAAhqE,EAAArM,EAAAC,EAAAkoC,GAAAuuC,GAAArqE,EAAArM,EAAAC,EAAAkoC,GAAAloC,GAAA,OAAgH,UAAAmM,EAAA,CAAkB,IAAAigD,EAAAhgD,EAAA0oD,UAAAzI,EAAAjgD,EAAAqnE,cAAoCrnB,EAAA3oD,MAAA4oD,EAAU,IAAA1sD,EAAAysD,EAAAzoD,QAAA6nD,EAAAzrD,EAAAkG,YAAgC,kBAAAulD,GAAA,OAAAA,IAAA6qB,GAAA7qB,MAAAqC,GAAA9tD,GAAA8xE,GAAApkB,GAAAl/C,QAAAi9C,EAAAsmB,GAAA1lE,EAAAo/C,IAAsE,IAAA1rD,EAAAC,EAAA42E,yBAAAjrB,EAAA,oBAAA5rD,GAAA,oBAAAssD,EAAAwqB,wBAAwGlrB,GAAA,oBAAAU,EAAAoqB,kCAC/b,oBAAApqB,EAAAmqB,4BAAAlqB,IAAArsD,GAAAL,IAAA6rD,IAAA8qB,GAAAlqE,EAAAggD,EAAApsD,EAAAwrD,GAA6EywB,IAAA,EAAM,IAAA38D,EAAAlT,EAAAmnE,cAAsB5zE,EAAAysD,EAAA3/C,MAAA6S,EAAY,IAAAmtC,EAAArgD,EAAAonE,YAAoB,OAAA/mB,IAAAiqB,GAAAtqE,EAAAqgD,EAAAzsD,EAAAosD,EAAAlkB,GAAAvoC,EAAAyM,EAAAmnE,eAA4ClnB,IAAArsD,GAAAsf,IAAA3f,GAAA+tD,GAAAn/C,SAAA0tE,IAAA,oBAAAn8E,IAAAw1E,GAAAlpE,EAAArM,EAAAD,EAAAE,GAAAL,EAAAyM,EAAAmnE,gBAAAlnB,EAAA4vB,IAAA/F,GAAA9pE,EAAArM,EAAAssD,EAAArsD,EAAAsf,EAAA3f,EAAA6rD,KAAAE,GAAA,oBAAAU,EAAAyqB,2BAAA,oBAAAzqB,EAAA0qB,qBAAA,oBAAA1qB,EAAA0qB,oBAAA1qB,EAAA0qB,qBAAA,oBAAA1qB,EAAAyqB,2BACrLzqB,EAAAyqB,6BAAA,oBAAAzqB,EAAA2qB,oBAAA3qE,EAAAs3D,WAAA,yBAAAtX,EAAA2qB,oBAAA3qE,EAAAs3D,WAAA,GAAAt3D,EAAAqnE,cAAAzzE,EAAAoM,EAAAmnE,cAAA5zE,GAAAysD,EAAA3oD,MAAAzD,EAAAosD,EAAA3/C,MAAA9M,EAAAysD,EAAAzoD,QAAA6nD,EAAAxrD,EAAAqsD,IAAA,oBAAAD,EAAA2qB,oBAAA3qE,EAAAs3D,WAAA,GAAA1jE,GAAA,QAAgSosD,EAAAhgD,EAAA0oD,UAAAzI,EAAAjgD,EAAAqnE,cAAArnB,EAAA3oD,MAAA2I,EAAA1C,OAAA0C,EAAAgnE,YAAA/mB,EAAAiC,GAAAliD,EAAA1C,KAAA2iD,GAAA1sD,EAAAysD,EAAAzoD,QAAA6nD,EAAAzrD,EAAAkG,YAAA,kBAAAulD,GAAA,OAAAA,IAAA6qB,GAAA7qB,MAAAqC,GAAA9tD,GAAA8xE,GAAApkB,GAAAl/C,QAAAi9C,EAAAsmB,GAAA1lE,EAAAo/C,IAAA1rD,EAAAC,EAAA42E,0BAAAjrB,EAAA,oBAChS5rD,GAAA,oBAAAssD,EAAAwqB,0BAAA,oBAAAxqB,EAAAoqB,kCAAA,oBAAApqB,EAAAmqB,4BAAAlqB,IAAArsD,GAAAL,IAAA6rD,IAAA8qB,GAAAlqE,EAAAggD,EAAApsD,EAAAwrD,GAAAywB,IAAA,EAAAt8E,EAAAyM,EAAAmnE,cAAAj0D,EAAA8sC,EAAA3/C,MAAA9M,EAAA8sD,EAAArgD,EAAAonE,YAAA,OAAA/mB,IAAAiqB,GAAAtqE,EAAAqgD,EAAAzsD,EAAAosD,EAAAlkB,GAAA5oB,EAAAlT,EAAAmnE,eAAAlnB,IAAArsD,GAAAL,IAAA2f,GAAAouC,GAAAn/C,SAAA0tE,IAAA,oBAAAn8E,IAAAw1E,GAAAlpE,EAAArM,EAAAD,EAAAE,GAAAsf,EAAAlT,EAAAmnE,gBAAAzzE,EAAAm8E,IAAA/F,GAAA9pE,EAAArM,EAAAssD,EAAArsD,EAAAL,EAAA2f,EAAAksC,KAAAE,GAAA,oBAAAU,EAAA8vB,4BAAA,oBAAA9vB,EAAA+vB,sBAAA,oBACA/vB,EAAA+vB,qBAAA/vB,EAAA+vB,oBAAAn8E,EAAAsf,EAAAksC,GAAA,oBAAAY,EAAA8vB,4BAAA9vB,EAAA8vB,2BAAAl8E,EAAAsf,EAAAksC,IAAA,oBAAAY,EAAAgwB,qBAAAhwE,EAAAs3D,WAAA,uBAAAtX,EAAAwqB,0BAAAxqE,EAAAs3D,WAAA,2BAAAtX,EAAAgwB,oBAAA/vB,IAAAlgD,EAAAsnE,eAAA9zE,IAAAwM,EAAAonE,gBAAAnnE,EAAAs3D,WAAA,uBAAAtX,EAAAwqB,yBAAAvqB,IAAAlgD,EAAAsnE,eAAA9zE,IAAAwM,EAAAonE,gBAAAnnE,EAAAs3D,WAAA,KAAAt3D,EAAAqnE,cAAAzzE,EAAAoM,EAAAmnE,cACAj0D,GAAA8sC,EAAA3oD,MAAAzD,EAAAosD,EAAA3/C,MAAA6S,EAAA8sC,EAAAzoD,QAAA6nD,EAAAxrD,EAAAF,IAAA,oBAAAssD,EAAAgwB,oBAAA/vB,IAAAlgD,EAAAsnE,eAAA9zE,IAAAwM,EAAAonE,gBAAAnnE,EAAAs3D,WAAA,uBAAAtX,EAAAwqB,yBAAAvqB,IAAAlgD,EAAAsnE,eAAA9zE,IAAAwM,EAAAonE,gBAAAnnE,EAAAs3D,WAAA,KAAA1jE,GAAA,GAAgQ,OAAAq8E,GAAAlwE,EAAAC,EAAArM,EAAAC,EAAAssD,EAAApkB,GAChQ,SAAAm0C,GAAAlwE,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,GAAyByvB,GAAA5vE,EAAAC,GAAQ,IAAAggD,EAAA,QAAAhgD,EAAAs3D,WAA2B,IAAA1jE,IAAAosD,EAAA,OAAAlkB,GAAAwqC,GAAAtmE,EAAArM,GAAA,GAAA47E,GAAAxvE,EAAAC,EAAAkgD,GAAyCtsD,EAAAoM,EAAA0oD,UAAc0mB,GAAAjtE,QAAAnC,EAAa,IAAAigD,EAAAD,GAAA,oBAAArsD,EAAAu8E,yBAAA,KAAAt8E,EAAAi0B,SAA0M,OAAlI7nB,EAAAs3D,WAAA,EAAe,OAAAv3D,GAAAigD,GAAAhgD,EAAAkkC,MAAAinC,GAAAnrE,EAAAD,EAAAmkC,MAAA,KAAAgc,GAAAlgD,EAAAkkC,MAAAinC,GAAAnrE,EAAA,KAAAigD,EAAAC,IAAAqC,GAAAxiD,EAAAC,EAAAigD,EAAAC,GAA6ElgD,EAAAmnE,cAAAvzE,EAAAyM,MAAwBy7B,GAAAwqC,GAAAtmE,EAAArM,GAAA,GAAcqM,EAAAkkC,MAAe,SAAAisC,GAAApwE,GAAe,IAAAC,EAAAD,EAAA2oD,UAAkB1oD,EAAAowE,eAAAnK,GAAAlmE,EAAAC,EAAAowE,eAAApwE,EAAAowE,iBAAApwE,EAAAzI,SAAAyI,EAAAzI,SAAA0uE,GAAAlmE,EAAAC,EAAAzI,SAAA,GAAmGm0E,GAAA3rE,EAAAC,EAAAg9D,eAC7d,SAAAqT,GAAAtwE,EAAAC,EAAArM,GAAmB,IAAAC,EAAAoM,EAAAvL,KAAAqnC,EAAA97B,EAAAinE,aAAA/mB,EAAAlgD,EAAAmnE,cAAgD,WAAAnnE,EAAAs3D,WAAA,CAAyBpX,EAAA,KAAO,IAAAF,GAAA,OAASE,EAAA,CAAQowB,WAAA,OAAApwB,IAAAowB,WAAA,GAAmCtwB,GAAA,EAAAhgD,EAAAs3D,YAAA,GAAuB,UAAAv3D,EAAA,GAAAigD,EAAA,CAAkB,IAAAC,EAAAnkB,EAAAy0C,SAAiBxwE,EAAAgoE,GAAA,KAAAn0E,EAAA,QAAoB,OAAAoM,EAAAvL,QAAAsL,EAAAmkC,MAAA,OAAAlkC,EAAAmnE,cAAAnnE,EAAAkkC,YAAAlkC,EAAAkkC,OAAuEtwC,EAAAm0E,GAAA9nB,EAAArsD,EAAAD,EAAA,MAAiBoM,EAAA03D,QAAA7jE,EAAYD,EAAAoM,EAAIpM,EAAA01D,OAAAz1D,EAAAy1D,OAAArpD,OAAoBrM,EAAAC,EAAAw3E,GAAAprE,EAAA,KAAA87B,EAAA76B,SAAAtN,QAAiC,OAAAoM,EAAAonE,eAAAvzE,EAAAmM,EAAAmkC,MAAA+b,EAAArsD,EAAA6jE,QAAAzX,GAAArsD,EAAAmoC,EAAAy0C,SAAAz0C,EAAA+rC,GAAAj0E,IAAAqzE,aAAA,UAAAjnE,EAAAvL,QAAAurD,EAAA,OAClYhgD,EAAAmnE,cAAAnnE,EAAAkkC,YAAAlkC,EAAAkkC,MAAA8b,IAAApsD,EAAAswC,QAAApI,EAAAoI,MAAA8b,IAAApsD,EAAAkoC,EAAA27B,QAAAoQ,GAAA5nB,EAAAtsD,EAAAssD,EAAAynB,gBAAA/zE,EAAAmoC,IAAA2rC,oBAAA,EAAA9zE,EAAA01D,OAAAz1D,EAAAy1D,OAAArpD,GAAArM,EAAAC,EAAAu3E,GAAAnrE,EAAApM,EAAAswC,MAAApI,EAAA76B,SAAAtN,KAAAssD,EAAAlgD,EAAAmkC,MAAA8b,KAAAlkB,EAAAy0C,SAAAz0C,EAAAisC,GAAA,KAAAn0E,EAAA,QAAAkoC,EAAAoI,MAAA+b,EAAA,OAAAjgD,EAAAvL,QAAAqnC,EAAAoI,MAAA,OAAAlkC,EAAAmnE,cAAAnnE,EAAAkkC,YAAAlkC,EAAAkkC,OAAAtwC,EAAAkoC,EAAA27B,QAAAsQ,GAAA/nB,EAAApsD,EAAAD,EAAA,MAAAC,EAAA0jE,WAAA,EAAA3jE,EAAAmoC,IAAA2rC,oBAAA,EAAA9zE,EAAA01D,OAAAz1D,EAAAy1D,OAAArpD,GAAApM,EAAAD,EAAAw3E,GAAAnrE,EAAAigD,EAAAnkB,EAAA76B,SAAAtN,IAAAqM,EAAA0oD,UAAA3oD,EAAA2oD,UAA+d,OAA5B1oD,EAAAmnE,cAAAjnB,EAAkBlgD,EAAAkkC,MAAAvwC,EAAUC,EAC/d,SAAA27E,GAAAxvE,EAAAC,EAAArM,GAA2E,GAAxD,OAAAoM,IAAAC,EAAAknE,oBAAAnnE,EAAAmnE,qBAAwDlnE,EAAAynE,oBAAA9zE,EAAA,YAAmF,GAA5C,OAAAoM,GAAAC,EAAAkkC,QAAAnkC,EAAAmkC,OAAA1vC,EAAA,OAA4C,OAAAwL,EAAAkkC,MAAA,CAA+E,IAA5DnkC,EAAAC,EAAAkkC,MAAUvwC,EAAAk0E,GAAA9nE,IAAAknE,aAAAlnE,EAAA2nE,gBAAwC1nE,EAAAkkC,MAAAvwC,EAAUA,EAAA01D,OAAArpD,EAAe,OAAAD,EAAA03D,SAAiB13D,IAAA03D,QAAA9jE,IAAA8jE,QAAAoQ,GAAA9nE,IAAAknE,aAAAlnE,EAAA2nE,gBAAA/zE,EAAA01D,OAAArpD,EAA0ErM,EAAA8jE,QAAA,KAAe,OAAAz3D,EAAAkkC,MACtW,SAAAssC,GAAAzwE,EAAAC,EAAArM,GAAmB,IAAAC,EAAAoM,EAAA0nE,eAAuB,UAAA3nE,GAAA,GAAAA,EAAAsnE,gBAAArnE,EAAAinE,cAAA3lB,GAAAn/C,QAAA6rE,IAAA,OAAsE,GAAAp6E,EAAAD,EAAA,CAAc,OAANq6E,IAAA,EAAMhuE,EAAAgpD,KAAc,OAAAmnB,GAAAnwE,GAAamvE,KAAK,MAAM,OAAAvD,GAAA5rE,GAAa,MAAM,OAAAyhD,GAAAzhD,EAAA1C,OAAA8oE,GAAApmE,GAAwB,MAAM,OAAA0rE,GAAA1rE,IAAA0oD,UAAAsU,eAAuC,MAAM,QAAAyT,GAAAzwE,IAAAqnE,cAAA9yE,OAAoC,MAAM,kBAAAyL,EAAAmnE,cAAiE,OAA9BvzE,EAAAoM,EAAAkkC,MAAAujC,oBAA8B,IAAA7zE,MAAAD,EAAA08E,GAAAtwE,EAAAC,EAAArM,IAAgCqM,EAAAuvE,GAAAxvE,EAAAC,EAAArM,GAAY,OAAAqM,IAAAy3D,QAAA,MAAgC,OAAA8X,GAAAxvE,EAAAC,EAAArM,SAAkBq6E,IAAA,EAA8B,OAAnBhuE,EAAA0nE,eAAA,EAAmB1nE,EAAAgpD,KAAc,OAAAp1D,EACvfoM,EAAAgnE,YAAc,OAAAjnE,MAAAk3D,UAAA,KAAAj3D,EAAAi3D,UAAA,KAAAj3D,EAAAs3D,WAAA,GAA6Dv3D,EAAAC,EAAAinE,aAAiB,IAAAnrC,EAAA4pC,GAAA1lE,EAAAqhD,GAAAl/C,SAAkE,GAA5CmtE,GAAAtvE,EAAArM,GAAQmoC,EAAAsxC,GAAA,KAAAptE,EAAApM,EAAAmM,EAAA+7B,EAAAnoC,GAAqBqM,EAAAs3D,WAAA,EAAe,kBAAAx7B,GAAA,OAAAA,GAAA,oBAAAA,EAAAjU,aAAA,IAAAiU,EAAA4lB,SAAA,CAAkG,GAAb1hD,EAAAgpD,IAAA,EAAQwkB,KAAK/rB,GAAA7tD,GAAA,CAAS,IAAAssD,GAAA,EAASkmB,GAAApmE,QAAMkgD,GAAA,EAAUlgD,EAAAmnE,cAAA,OAAArrC,EAAAz7B,YAAA,IAAAy7B,EAAAz7B,MAAAy7B,EAAAz7B,MAAA,KAA8D,IAAA2/C,EAAApsD,EAAA22E,yBAAiC,oBAAAvqB,GAAAkpB,GAAAlpE,EAAApM,EAAAosD,EAAAjgD,GAAmC+7B,EAAA8kB,QAAAwoB,GAAappE,EAAA0oD,UAAA5sB,EAAcA,EAAAutC,oBAAArpE,EAAwBqqE,GAAArqE,EAAApM,EAAAmM,EAAApM,GAAYqM,EAAAiwE,GAAA,KAAAjwE,EAAApM,GAAA,EAAAssD,EACnevsD,QAAGqM,EAAAgpD,IAAA,EAAAzG,GAAA,KAAAviD,EAAA87B,EAAAnoC,GAAAqM,IAAAkkC,MAAqC,OAAAlkC,EAAS,QAAuJ,OAAvJ87B,EAAA97B,EAAAgnE,YAAwB,OAAAjnE,MAAAk3D,UAAA,KAAAj3D,EAAAi3D,UAAA,KAAAj3D,EAAAs3D,WAAA,GAA6DpX,EAAAlgD,EAAAinE,aAAiBlnE,EAAAipE,GAAAltC,GAAQ97B,EAAA1C,KAAAyC,EAAS+7B,EAAA97B,EAAAgpD,IAAA4e,GAAA7nE,GAAcmgD,EAAAgC,GAAAniD,EAAAmgD,GAASF,OAAA,EAASlkB,GAAU,OAAAkkB,EAAA0vB,GAAA,KAAA1vE,EAAAD,EAAAmgD,EAAAvsD,GAA0B,MAAM,OAAAqsD,EAAA4vB,GAAA,KAAA5vE,EAAAD,EAAAmgD,EAAAvsD,GAA0B,MAAM,QAAAqsD,EAAAqvB,GAAA,KAAArvE,EAAAD,EAAAmgD,EAAAvsD,GAA2B,MAAM,QAAAqsD,EAAAwvB,GAAA,KAAAxvE,EAAAD,EAAAmiD,GAAAniD,EAAAzC,KAAA4iD,GAAAtsD,EAAAD,GAAuC,MAAM,QAAAa,EAAA,MAAAuL,EAAA,IAAsB,OAAAigD,EAAS,cAAApsD,EAAAoM,EAAA1C,KAAAw+B,EAAA97B,EAAAinE,aAAAnrC,EAAA97B,EAAAgnE,cAAApzE,EAAAkoC,EAAAomB,GAAAtuD,EAAAkoC,GAAA4zC,GAAA3vE,EAAAC,EAAApM,EAAAkoC,EAAAnoC,GAAmF,cAAAC,EAAAoM,EAAA1C,KAAAw+B,EAAA97B,EAAAinE,aACldnrC,EAAA97B,EAAAgnE,cAAApzE,EAAAkoC,EAAAomB,GAAAtuD,EAAAkoC,GAAA8zC,GAAA7vE,EAAAC,EAAApM,EAAAkoC,EAAAnoC,GAA2C,OAAsW,OAAtWw8E,GAAAnwE,GAAapM,EAAAoM,EAAAonE,YAAgB,OAAAxzE,GAAAY,EAAA,OAAyBsnC,EAAA97B,EAAAmnE,cAAkBrrC,EAAA,OAAAA,IAAAr9B,QAAA,KAA0B6rE,GAAAtqE,EAAApM,EAAAoM,EAAAinE,aAAA,KAAAtzE,GAA8BC,EAAAoM,EAAAmnE,cAAA1oE,QAA0B7K,IAAAkoC,GAAAqzC,KAAAnvE,EAAAuvE,GAAAxvE,EAAAC,EAAArM,KAA+BmoC,EAAA97B,EAAA0oD,WAAc5sB,GAAA,OAAA/7B,GAAA,OAAAA,EAAAmkC,QAAApI,EAAA40C,WAAA9B,GAAAxJ,GAAAplE,EAAA0oD,UAAAsU,eAAA2R,GAAA3uE,EAAA87B,EAAA+yC,IAAA,GAAyF/yC,GAAA97B,EAAAs3D,WAAA,EAAAt3D,EAAAkkC,MAAAknC,GAAAprE,EAAA,KAAApM,EAAAD,KAAA4uD,GAAAxiD,EAAAC,EAAApM,EAAAD,GAAAw7E,MAA4DnvE,IAAAkkC,OAAUlkC,EAAS,cAAA4rE,GAAA5rE,GAAA,OAAAD,GAAAivE,GAAAhvE,GAAApM,EAAAoM,EAAA1C,KAAAw+B,EAAA97B,EAAAinE,aAAA/mB,EAAA,OAAAngD,IAAAsnE,cAAA,KAC1ZrnB,EAAAlkB,EAAA76B,SAAAwjE,GAAA7wE,EAAAkoC,GAAAkkB,EAAA,YAAAE,GAAAukB,GAAA7wE,EAAAssD,KAAAlgD,EAAAs3D,WAAA,IAAAqY,GAAA5vE,EAAAC,GAAA,IAAArM,GAAA,EAAAqM,EAAAvL,MAAAqnC,EAAA60C,QAAA3wE,EAAA0nE,eAAA1nE,EAAAynE,oBAAA,EAAAznE,EAAA,OAAAuiD,GAAAxiD,EAAAC,EAAAggD,EAAArsD,GAAAqM,IAAAkkC,OAAAlkC,EAA8K,qBAAAD,GAAAivE,GAAAhvE,GAAA,KAAmC,eAAAqwE,GAAAtwE,EAAAC,EAAArM,GAAyB,cAAA+3E,GAAA1rE,IAAA0oD,UAAAsU,eAAAppE,EAAAoM,EAAAinE,aAAA,OAAAlnE,EAAAC,EAAAkkC,MAAAinC,GAAAnrE,EAAA,KAAApM,EAAAD,GAAA4uD,GAAAxiD,EAAAC,EAAApM,EAAAD,GAAAqM,EAAAkkC,MAAkH,eAAAtwC,EAAAoM,EAAA1C,KAAAw+B,EAAA97B,EAAAinE,aAAAnrC,EAAA97B,EAAAgnE,cAAApzE,EAAAkoC,EAAAomB,GAAAtuD,EAAAkoC,GAAAuzC,GAAAtvE,EAAAC,EAAApM,EAAAkoC,EAAAnoC,GAAoF,cAAA4uD,GAAAxiD,EAAAC,IAAAinE,aAAAtzE,GAAAqM,EAAAkkC,MAA8C,cAAAqe,GAAAxiD,EAAAC,IAAAinE,aAAAhmE,SAC9dtN,GAAAqM,EAAAkkC,MAAW,eAAAqe,GAAAxiD,EAAAC,IAAAinE,aAAAhmE,SAAAtN,GAAAqM,EAAAkkC,MAAwD,QAAAnkC,EAAA,CAAkF,GAAvEnM,EAAAoM,EAAA1C,KAAAimD,SAAkBznB,EAAA97B,EAAAinE,aAAiBjnB,EAAAhgD,EAAAqnE,cAAkBnnB,EAAApkB,EAAAvnC,MAAUk8E,GAAAzwE,EAAAkgD,GAAQ,OAAAF,EAAA,CAAa,IAAAC,EAAAD,EAAAzrD,MAAkH,GAApG2rD,EAAAgX,GAAAjX,EAAAC,GAAA,yBAAAtsD,EAAAuvD,sBAAAvvD,EAAAuvD,sBAAAlD,EAAAC,GAAA,YAAoG,IAAAA,GAAU,GAAAF,EAAA/+C,WAAA66B,EAAA76B,WAAAqgD,GAAAn/C,QAAA,CAAwCnC,EAAAuvE,GAAAxvE,EAAAC,EAAArM,GAAY,MAAAoM,QAAS,IAAAkgD,EAAAjgD,EAAAkkC,MAAA,OAAA+b,MAAAoJ,OAAArpD,GAA0C,OAAAigD,GAAS,CAAE,IAAA1sD,EAAA0sD,EAAAinB,oBAA4B,UAAA3zE,EAAA,CAAaysD,EAAAC,EAAA/b,MAAU,QAAAkb,EAAA7rD,EAAAq9E,MAAkB,OAAAxxB,GAAS,CAAE,GAAAA,EAAA7nD,UAAA3D,GAAA,KAChewrD,EAAAyxB,aAAA3wB,GAAA,CAAoB,IAAAD,EAAA+I,MAAA5J,EAAAoqB,GAAA71E,GAAAyrD,EAAA4J,IAAA6gB,GAAAH,GAAAzpB,EAAAb,IAAsCa,EAAAynB,eAAA/zE,IAAAssD,EAAAynB,eAAA/zE,GAAyCyrD,EAAAa,EAAAgX,UAAc,OAAA7X,KAAAsoB,eAAA/zE,IAAAyrD,EAAAsoB,eAAA/zE,GAAmD,QAAAD,EAAAusD,EAAAoJ,OAAmB,OAAA31D,GAAS,CAAgB,GAAd0rD,EAAA1rD,EAAAujE,UAAcvjE,EAAA+zE,oBAAA9zE,EAAAD,EAAA+zE,oBAAA9zE,EAAA,OAAAyrD,KAAAqoB,oBAAA9zE,IAAAyrD,EAAAqoB,oBAAA9zE,OAAgH,aAAAyrD,KAAAqoB,oBAAA9zE,GAAkE,MAAlEyrD,EAAAqoB,oBAAA9zE,EAA6ED,IAAA21D,OAAW91D,EAAAm0E,eAAA/zE,IAAAJ,EAAAm0E,eAAA/zE,GAAyC,MAAMyrD,IAAA9gD,WAAU0hD,EAAA,KAAAC,EAAA+I,KAAA/I,EAAA3iD,OAAA0C,EAAA1C,KAAA,KACjd2iD,EAAA/b,MAAgB,UAAA8b,IAAAqJ,OAAApJ,OAAuB,IAAAD,EAAAC,EAAa,OAAAD,GAAS,CAAE,GAAAA,IAAAhgD,EAAA,CAAUggD,EAAA,KAAO,MAAkB,GAAZC,EAAAD,EAAAyX,QAAY,OAAAxX,EAAA,CAAaA,EAAAoJ,OAAArJ,EAAAqJ,OAAkBrJ,EAAAC,EAAI,MAAMD,IAAAqJ,OAAWpJ,EAAAD,GAAKuC,GAAAxiD,EAAAC,EAAA87B,EAAA76B,SAAAtN,GAAoBqM,IAAAkkC,MAAU,OAAAlkC,EAAS,cAAA87B,EAAA97B,EAAA1C,KAAA4iD,EAAAlgD,EAAAinE,aAAArzE,EAAAssD,EAAAj/C,SAAAquE,GAAAtvE,EAAArM,GAAAmoC,EAAAmuC,GAAAnuC,EAAAokB,EAAA4wB,uBAAAl9E,IAAAkoC,GAAA97B,EAAAs3D,WAAA,EAAA/U,GAAAxiD,EAAAC,EAAApM,EAAAD,GAAAqM,EAAAkkC,MAAsI,eAAApI,EAAA97B,EAAA1C,KAAA4iD,EAAAgC,GAAApmB,EAAA97B,EAAAinE,cAAA/mB,EAAAgC,GAAApmB,EAAAx+B,KAAA4iD,GAAAsvB,GAAAzvE,EAAAC,EAAA87B,EAAAokB,EAAAtsD,EAAAD,GAA4E,eAAA87E,GAAA1vE,EAAAC,IAAA1C,KAAA0C,EAAAinE,aAAArzE,EAAAD,GAAiD,eAAAC,EAAAoM,EAAA1C,KAAAw+B,EAAA97B,EAAAinE,aAAAnrC,EAAA97B,EAAAgnE,cACrcpzE,EAAAkoC,EAAAomB,GAAAtuD,EAAAkoC,GAAA,OAAA/7B,MAAAk3D,UAAA,KAAAj3D,EAAAi3D,UAAA,KAAAj3D,EAAAs3D,WAAA,GAAAt3D,EAAAgpD,IAAA,EAAAvH,GAAA7tD,IAAAmM,GAAA,EAAAqmE,GAAApmE,IAAAD,GAAA,EAAAuvE,GAAAtvE,EAAArM,GAAAq2E,GAAAhqE,EAAApM,EAAAkoC,EAAAnoC,GAAA02E,GAAArqE,EAAApM,EAAAkoC,EAAAnoC,GAAAs8E,GAAA,KAAAjwE,EAAApM,GAAA,EAAAmM,EAAApM,GAA2J,QAAAa,EAAA,QAAkB,IAAAu8E,GAAA,CAAQ5uE,QAAA,MAAa6uE,GAAA,KAAAC,GAAA,KAAAC,GAAA,KAAyB,SAAAT,GAAA1wE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAAzC,KAAAimD,SAAsBnC,GAAA2vB,GAAAp9E,EAAAyvD,cAAArjD,GAAwBpM,EAAAyvD,cAAApjD,EAAkB,SAAAmxE,GAAApxE,GAAe,IAAAC,EAAA+wE,GAAA5uE,QAAiBg/C,GAAA4vB,GAAAhxE,GAAQA,EAAAzC,KAAAimD,SAAAH,cAAApjD,EAAgC,SAAAsvE,GAAAvvE,EAAAC,GAAiBgxE,GAAAjxE,EAAKmxE,GAAAD,GAAA,KAAW,IAAAt9E,EAAAoM,EAAAmnE,oBAA4B,OAAAvzE,KAAA+zE,gBAAA1nE,IAAAguE,IAAA,GAAuCjuE,EAAAmnE,oBAAA,KACxd,SAAA+C,GAAAlqE,EAAAC,GAAqP,OAApOkxE,KAAAnxE,IAAA,IAAAC,GAAA,IAAAA,IAA0B,kBAAAA,GAAA,aAAAA,IAAAkxE,GAAAnxE,EAAAC,EAAA,YAAyDA,EAAA,CAAGzI,QAAAwI,EAAA8wE,aAAA7wE,EAAA1B,KAAA,MAAoC,OAAA2yE,IAAA,OAAAD,IAAAx8E,EAAA,OAAAy8E,GAAAjxE,EAAAgxE,GAAA9J,oBAAA,CAAkE0J,MAAA5wE,EAAA0nE,eAAA,IAAyBuJ,MAAA3yE,KAAA0B,GAAeD,EAAAqjD,cAAuB,IAAAguB,GAAA,EAAAxH,GAAA,EAAAC,GAAA,EAAAwH,GAAA,EAAAxB,IAAA,EAA8B,SAAAyB,GAAAvxE,GAAe,OAAOopE,UAAAppE,EAAAwxE,YAAA,KAAAC,WAAA,KAAAC,oBAAA,KAAAC,mBAAA,KAAAnK,YAAA,KAAAD,WAAA,KAAAqK,oBAAA,KAAAC,mBAAA,MAChU,SAAAC,GAAA9xE,GAAe,OAAOopE,UAAAppE,EAAAopE,UAAAoI,YAAAxxE,EAAAwxE,YAAAC,WAAAzxE,EAAAyxE,WAAAC,oBAAA,KAAAC,mBAAA,KAAAnK,YAAA,KAAAD,WAAA,KAAAqK,oBAAA,KAAAC,mBAAA,MAA4M,SAAApI,GAAAzpE,GAAe,OAAO2nE,eAAA3nE,EAAAipD,IAAAooB,GAAA5rE,QAAA,KAAA+b,SAAA,KAAAjjB,KAAA,KAAAkpE,WAAA,MAA8E,SAAAsK,GAAA/xE,EAAAC,GAAiB,OAAAD,EAAAyxE,WAAAzxE,EAAAwxE,YAAAxxE,EAAAyxE,WAAAxxE,GAAAD,EAAAyxE,WAAAlzE,KAAA0B,EAAAD,EAAAyxE,WAAAxxE,GACvV,SAAA0pE,GAAA3pE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAAk3D,UAAkB,UAAAtjE,EAAA,CAAa,IAAAC,EAAAmM,EAAAqnE,YAAoBtrC,EAAA,KAAW,OAAAloC,MAAAmM,EAAAqnE,YAAAkK,GAAAvxE,EAAAonE,qBAAgDvzE,EAAAmM,EAAAqnE,YAAAtrC,EAAAnoC,EAAAyzE,YAAA,OAAAxzE,EAAA,OAAAkoC,GAAAloC,EAAAmM,EAAAqnE,YAAAkK,GAAAvxE,EAAAonE,eAAArrC,EAAAnoC,EAAAyzE,YAAAkK,GAAA39E,EAAAwzE,gBAAAvzE,EAAAmM,EAAAqnE,YAAAyK,GAAA/1C,GAAA,OAAAA,MAAAnoC,EAAAyzE,YAAAyK,GAAAj+E,IAAyL,OAAAkoC,GAAAloC,IAAAkoC,EAAAg2C,GAAAl+E,EAAAoM,GAAA,OAAApM,EAAA49E,YAAA,OAAA11C,EAAA01C,YAAAM,GAAAl+E,EAAAoM,GAAA8xE,GAAAh2C,EAAA97B,KAAA8xE,GAAAl+E,EAAAoM,GAAA87B,EAAA01C,WAAAxxE,GACxT,SAAA+xE,GAAAhyE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAAqnE,YAAoBzzE,EAAA,OAAAA,EAAAoM,EAAAqnE,YAAAkK,GAAAvxE,EAAAonE,eAAA6K,GAAAjyE,EAAApM,GAAqD,OAAAA,EAAA+9E,mBAAA/9E,EAAA89E,oBAAA99E,EAAA+9E,mBAAA1xE,GAAArM,EAAA+9E,mBAAApzE,KAAA0B,EAAArM,EAAA+9E,mBAAA1xE,GAA8H,SAAAgyE,GAAAjyE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAAk3D,UAAuE,OAArD,OAAAtjE,GAAAqM,IAAArM,EAAAyzE,cAAApnE,EAAAD,EAAAqnE,YAAAyK,GAAA7xE,IAAqDA,EAChT,SAAAiyE,GAAAlyE,EAAAC,EAAArM,EAAAC,EAAAkoC,EAAAokB,GAAyB,OAAAvsD,EAAAq1D,KAAc,KAAA4gB,GAAA,OAAA7pE,EAAApM,EAAA6R,QAAA,oBAAAzF,IAAAtM,KAAAysD,EAAAtsD,EAAAkoC,GAAA/7B,EAAiE,KAAAsxE,GAAAtxE,EAAAu3D,WAAA,KAAAv3D,EAAAu3D,UAAA,GAAyC,KAAA8Z,GAA4D,GAA5DrxE,EAAApM,EAAA6R,QAAoBs2B,EAAA,oBAAA/7B,IAAAtM,KAAAysD,EAAAtsD,EAAAkoC,GAAA/7B,EAAwC,OAAA+7B,QAAA,IAAAA,EAAA,MAA8B,OAAA1mC,EAAA,GAAWxB,EAAAkoC,GAAM,KAAA+tC,GAAAgG,IAAA,EAAc,OAAAj8E,EAC1Q,SAAA02E,GAAAvqE,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB+zC,IAAA,EAAM7vE,EAAAgyE,GAAAjyE,EAAAC,GAAU,QAAAkgD,EAAAlgD,EAAAmpE,UAAAnpB,EAAA,KAAAC,EAAA,EAAA1sD,EAAAyM,EAAAuxE,YAAAnyB,EAAAc,EAAqD,OAAA3sD,GAAS,CAAE,IAAAG,EAAAH,EAAAm0E,eAAuBh0E,EAAAooC,GAAA,OAAAkkB,MAAAzsD,EAAA2sD,EAAAd,GAAAa,EAAAvsD,IAAAusD,EAAAvsD,KAAA0rD,EAAA6yB,GAAAlyE,EAAAC,EAAAzM,EAAA6rD,EAAAzrD,EAAAC,GAAA,OAAAL,EAAAguB,WAAAxhB,EAAAu3D,WAAA,GAAA/jE,EAAAi0E,WAAA,YAAAxnE,EAAAsnE,WAAAtnE,EAAAunE,YAAAvnE,EAAAsnE,WAAA/zE,GAAAyM,EAAAsnE,WAAAE,WAAAj0E,EAAAyM,EAAAsnE,WAAA/zE,KAA4MA,IAAA+K,KAAgB,IAAP5K,EAAA,KAAOH,EAAAyM,EAAAyxE,oBAA4B,OAAAl+E,GAAS,CAAE,IAAA+rD,EAAA/rD,EAAAm0E,eAAuBpoB,EAAAxjB,GAAA,OAAApoC,MAAAH,EAAA,OAAAysD,IAAAE,EAAAd,IAAAa,EAAAX,IAAAW,EAAAX,KAAAF,EAAA6yB,GAAAlyE,EAAAC,EAAAzM,EAAA6rD,EAAAzrD,EAAAC,GAAA,OAAAL,EAAAguB,WAAAxhB,EAAAu3D,WACxZ,GAAA/jE,EAAAi0E,WAAA,YAAAxnE,EAAA4xE,mBAAA5xE,EAAA2xE,oBAAA3xE,EAAA4xE,mBAAAr+E,GAAAyM,EAAA4xE,mBAAApK,WAAAj0E,EAAAyM,EAAA4xE,mBAAAr+E,KAA2JA,IAAA+K,KAAS,OAAA0hD,IAAAhgD,EAAAwxE,WAAA,MAA8B,OAAA99E,EAAAsM,EAAA0xE,mBAAA,KAAA3xE,EAAAu3D,WAAA,GAAmD,OAAAtX,GAAA,OAAAtsD,IAAAwsD,EAAAd,GAA0Bp/C,EAAAmpE,UAAAjpB,EAAclgD,EAAAuxE,YAAAvxB,EAAgBhgD,EAAAyxE,oBAAA/9E,EAAwBqM,EAAA2nE,eAAAznB,EAAmBlgD,EAAAonE,cAAA/nB,EACxV,SAAA8yB,GAAAnyE,EAAAC,EAAArM,GAAmB,OAAAqM,EAAAyxE,sBAAA,OAAAzxE,EAAAwxE,aAAAxxE,EAAAwxE,WAAAlzE,KAAA0B,EAAAyxE,oBAAAzxE,EAAAwxE,WAAAxxE,EAAA0xE,oBAAA1xE,EAAAyxE,oBAAAzxE,EAAA0xE,mBAAA,MAAiLS,GAAAnyE,EAAAunE,YAAA5zE,GAAoBqM,EAAAunE,YAAAvnE,EAAAsnE,WAAA,KAAgC6K,GAAAnyE,EAAA2xE,oBAAAh+E,GAA4BqM,EAAA2xE,oBAAA3xE,EAAA4xE,mBAAA,KAAgD,SAAAO,GAAApyE,EAAAC,GAAiB,KAAK,OAAAD,GAAS,CAAE,IAAApM,EAAAoM,EAAAwhB,SAAiB,UAAA5tB,EAAA,CAAaoM,EAAAwhB,SAAA,KAAgB,IAAA3tB,EAAAoM,EAAQ,oBAAArM,GAAAa,EAAA,MAAAb,GAAwCA,EAAAF,KAAAG,GAAUmM,IAAAynE,YAC7c,SAAA4K,GAAAryE,EAAAC,GAAiB,OAAOzL,MAAAwL,EAAAqP,OAAApP,EAAAqyE,MAAA/gB,GAAAtxD,IAA8B,SAAAsyE,GAAAvyE,GAAeA,EAAAu3D,WAAA,EAAe,IAAAib,QAAA,EAAAC,QAAA,EAAAC,QAAA,EAAAC,QAAA,EAA4CH,GAAA,SAAAxyE,EAAAC,GAAiB,QAAArM,EAAAqM,EAAAkkC,MAAkB,OAAAvwC,GAAS,CAAE,OAAAA,EAAAq1D,KAAA,IAAAr1D,EAAAq1D,IAAAjpD,EAAA2nB,YAAA/zB,EAAA+0D,gBAAmD,OAAA/0D,EAAAq1D,KAAA,OAAAr1D,EAAAuwC,MAAA,CAAmCvwC,EAAAuwC,MAAAmlB,OAAA11D,EAAiBA,IAAAuwC,MAAU,SAAS,GAAAvwC,IAAAqM,EAAA,MAAe,KAAK,OAAArM,EAAA8jE,SAAiB,CAAE,UAAA9jE,EAAA01D,QAAA11D,EAAA01D,SAAArpD,EAAA,OAAwCrM,IAAA01D,OAAW11D,EAAA8jE,QAAApO,OAAA11D,EAAA01D,OAA0B11D,IAAA8jE,UAAc+a,GAAA,aAC1aC,GAAA,SAAA1yE,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB,IAAAokB,EAAAngD,EAAAsnE,cAAsB,GAAAnnB,IAAAtsD,EAAA,CAAU,IAAAosD,EAAAhgD,EAAA0oD,UAAwC,OAAtB+iB,GAAAH,GAAAnpE,SAAepC,EAAA,KAAOpM,GAAU,YAAAusD,EAAA2S,GAAA7S,EAAAE,GAAuBtsD,EAAAi/D,GAAA7S,EAAApsD,GAAUmM,EAAA,GAAK,MAAM,aAAAmgD,EAAA+e,GAAAjf,EAAAE,GAAwBtsD,EAAAqrE,GAAAjf,EAAApsD,GAAUmM,EAAA,GAAK,MAAM,aAAAmgD,EAAA9qD,EAAA,GAAoB8qD,EAAA,CAAI3rD,WAAA,IAAeX,EAAAwB,EAAA,GAAMxB,EAAA,CAAIW,WAAA,IAAewL,EAAA,GAAK,MAAM,eAAAmgD,EAAAmf,GAAArf,EAAAE,GAA0BtsD,EAAAyrE,GAAArf,EAAApsD,GAAUmM,EAAA,GAAK,MAAM,4BAAAmgD,EAAAn0C,SAAA,oBAAAnY,EAAAmY,UAAAi0C,EAAA2yB,QAAAvO,IAAqFJ,GAAArwE,EAAAC,GAAQosD,EAAArsD,OAAA,EAAW,IAAAssD,EAAA,KAAW,IAAAtsD,KAAAusD,EAAA,IAAAtsD,EAAAuB,eAAAxB,IAAAusD,EAAA/qD,eAAAxB,IAAA,MAAAusD,EAAAvsD,GAAA,aAC/aA,EAAA,CAAG,IAAAJ,EAAA2sD,EAAAvsD,GAAW,IAAAqsD,KAAAzsD,IAAA4B,eAAA6qD,KAAAC,MAAA,IAAyCA,EAAAD,GAAA,QAAW,4BAAArsD,GAAA,aAAAA,GAAA,mCAAAA,GAAA,6BAAAA,GAAA,cAAAA,IAAA2zD,EAAAnyD,eAAAxB,GAAAoM,MAAA,KAAAA,KAAA,IAAAF,KAAAlM,EAAA,OAAkM,IAAAA,KAAAC,EAAA,CAAY,IAAAwrD,EAAAxrD,EAAAD,GAAiC,GAAtBJ,EAAA,MAAA2sD,IAAAvsD,QAAA,EAAsBC,EAAAuB,eAAAxB,IAAAyrD,IAAA7rD,IAAA,MAAA6rD,GAAA,MAAA7rD,GAAA,aAAAI,EAAA,GAAAJ,EAAA,CAAuE,IAAAysD,KAAAzsD,KAAA4B,eAAA6qD,IAAAZ,KAAAjqD,eAAA6qD,KAAAC,MAAA,IAAkEA,EAAAD,GAAA,IAAW,IAAAA,KAAAZ,IAAAjqD,eAAA6qD,IAAAzsD,EAAAysD,KAAAZ,EAAAY,KAAAC,IACrcA,EAAA,IAAKA,EAAAD,GAAAZ,EAAAY,SAAaC,IAAAlgD,MAAA,IAAAA,EAAAF,KAAAlM,EAAAssD,MAAAb,MAAoC,4BAAAzrD,GAAAyrD,MAAA9qC,YAAA,EAAA/gB,MAAA+gB,YAAA,QAAA8qC,GAAA7rD,IAAA6rD,IAAAr/C,KAAA,IAAAF,KAAAlM,EAAA,GAAAyrD,IAAA,aAAAzrD,EAAAJ,IAAA6rD,GAAA,kBAAAA,GAAA,kBAAAA,IAAAr/C,KAAA,IAAAF,KAAAlM,EAAA,GAAAyrD,GAAA,mCAAAzrD,GAAA,6BAAAA,IAAA2zD,EAAAnyD,eAAAxB,IAAA,MAAAyrD,GAAA8kB,GAAApoC,EAAAnoC,GAAAoM,GAAAxM,IAAA6rD,IAAAr/C,EAAA,MAAAA,KAAA,IAAAF,KAAAlM,EAAAyrD,IAA+Va,IAAAlgD,KAAA,IAAAF,KAAA,QAAAogD,GAA6BnkB,EAAA/7B,GAAIC,EAAAonE,YAAAtrC,IAAAw2C,GAAAtyE,KAA2B0yE,GAAA,SAAA3yE,EAAAC,EAAArM,EAAAC,GAAqBD,IAAAC,GAAA0+E,GAAAtyE,IACte,IAAA4yE,GAAA,oBAAAC,gBAAAxN,IAA+C,SAAAyN,GAAA/yE,EAAAC,GAAiB,IAAArM,EAAAqM,EAAAoP,OAAAxb,EAAAoM,EAAAqyE,MAAyB,OAAAz+E,GAAA,OAAAD,IAAAC,EAAA09D,GAAA39D,IAA8B,OAAAA,GAAA09D,GAAA19D,EAAA2J,MAAqB0C,IAAAzL,MAAU,OAAAwL,GAAA,IAAAA,EAAAipD,KAAAqI,GAAAtxD,EAAAzC,MAAgC,IAAI1B,QAAAC,MAAAmE,GAAiB,MAAA87B,GAASzuB,WAAA,WAAsB,MAAAyuB,KAAY,SAAAi3C,GAAAhzE,GAAe,IAAAC,EAAAD,EAAAzI,IAAY,UAAA0I,EAAA,uBAAAA,EAAA,IAAyCA,EAAA,MAAQ,MAAArM,GAASq/E,GAAAjzE,EAAApM,QAAQqM,EAAAmC,QAAA,KACnV,SAAA8wE,GAAAlzE,EAAAC,EAAArM,GAAgE,GAA7CA,IAAAyzE,YAAgBzzE,EAAA,OAAAA,IAAA2zE,WAAA,KAA6B,OAAA3zE,EAAA,CAAa,IAAAC,EAAAD,IAAA2K,KAAe,GAAG,IAAA1K,EAAAo1D,IAAAjpD,KAAA+rE,GAAA,CAAmB,IAAAhwC,EAAAloC,EAAA0yB,QAAgB1yB,EAAA0yB,aAAA,OAAiB,IAAAwV,QAAgBloC,EAAAo1D,IAAAhpD,KAAA8rE,KAAAhwC,EAAAloC,EAAAgB,OAAAhB,EAAA0yB,QAAAwV,KAA2CloC,IAAA0K,WAAS1K,IAAAD,IACvN,SAAAu/E,GAAAnzE,EAAAC,GAAiB,QAAArM,EAAAoM,IAAa,CAAE,OAAApM,EAAAq1D,IAAA,CAAc,IAAAp1D,EAAAD,EAAA+0D,UAAkB,GAAA1oD,EAAApM,EAAAmH,MAAAwyB,QAAA,WAA4B,CAAK35B,EAAAD,EAAA+0D,UAAc,IAAA5sB,EAAAnoC,EAAA0zE,cAAAtsE,MAA4B+gC,OAAA,IAAAA,GAAA,OAAAA,KAAA3mC,eAAA,WAAA2mC,EAAAvO,QAAA,KAAmE35B,EAAAmH,MAAAwyB,QAAA41C,GAAA,UAAArnC,SAAiC,OAAAnoC,EAAAq1D,IAAAr1D,EAAA+0D,UAAA8X,UAAAxgE,EAAA,GAAArM,EAAA0zE,kBAA6D,SAAA1zE,EAAAq1D,KAAA,OAAAr1D,EAAAwzE,cAAA,CAA4CvzE,EAAAD,EAAAuwC,MAAAuzB,QAAkB7jE,EAAAy1D,OAAA11D,EAAWA,EAAAC,EAAI,SAAS,UAAAD,EAAAuwC,MAAA,CAAwBvwC,EAAAuwC,MAAAmlB,OAAA11D,EAAiBA,IAAAuwC,MAAU,UAAS,GAAAvwC,IAAAoM,EAAA,MAAe,KAAK,OAAApM,EAAA8jE,SAAiB,CAAE,UAAA9jE,EAAA01D,QACre11D,EAAA01D,SAAAtpD,EAAA,OAAoBpM,IAAA01D,OAAW11D,EAAA8jE,QAAApO,OAAA11D,EAAA01D,OAA0B11D,IAAA8jE,SACzD,SAAA0b,GAAApzE,GAA6C,OAA9B,oBAAAymE,OAAAzmE,GAA8BA,EAAAipD,KAAc,mCAAAhpD,EAAAD,EAAAqnE,YAAmD,UAAApnE,QAAAsnE,WAAA,OAAAtnE,GAAA,CAAwC,IAAArM,EAAAqM,IAAA1B,KAAe,GAAG,IAAA1K,EAAAD,EAAA2yB,QAAgB,YAAA1yB,EAAA,CAAe,IAAAkoC,EAAA/7B,EAAQ,IAAInM,IAAI,MAAAssD,GAAS8yB,GAAAl3C,EAAAokB,IAASvsD,IAAA2K,WAAS3K,IAAAqM,GAAa,MAAM,OAA2B,GAA3B+yE,GAAAhzE,GAAaC,EAAAD,EAAA2oD,UAAc,oBAAA1oD,EAAAozE,qBAAA,IAAkDpzE,EAAA3I,MAAA0I,EAAAsnE,cAAArnE,EAAAK,MAAAN,EAAAonE,cAAAnnE,EAAAozE,uBAAyE,MAAAlzB,GAAS8yB,GAAAjzE,EAAAmgD,GAAQ,MAAM,OAAA6yB,GAAAhzE,GAAa,MAAM,OAAAszE,GAAAtzE,IACrc,SAAAuzE,GAAAvzE,GAAe,WAAAA,EAAAipD,KAAA,IAAAjpD,EAAAipD,KAAA,IAAAjpD,EAAAipD,IACf,SAAAuqB,GAAAxzE,GAAeA,EAAA,CAAG,QAAAC,EAAAD,EAAAspD,OAAmB,OAAArpD,GAAS,CAAE,GAAAszE,GAAAtzE,GAAA,CAAU,IAAArM,EAAAqM,EAAQ,MAAAD,EAAQC,IAAAqpD,OAAW70D,EAAA,OAASb,OAAA,EAAS,IAAAC,EAAAoM,OAAA,EAAe,OAAArM,EAAAq1D,KAAc,OAAAhpD,EAAArM,EAAA+0D,UAAqB90D,GAAA,EAAK,MAAM,OAAAoM,EAAArM,EAAA+0D,UAAAsU,cAAmCppE,GAAA,EAAK,MAAM,OAAAoM,EAAArM,EAAA+0D,UAAAsU,cAAmCppE,GAAA,EAAK,MAAM,QAAAY,EAAA,OAAiB,GAAAb,EAAA2jE,YAAAiJ,GAAAvgE,EAAA,IAAArM,EAAA2jE,YAAA,IAA4Cv3D,EAAAC,EAAA,IAAArM,EAAAoM,IAAa,CAAE,KAAK,OAAApM,EAAA8jE,SAAiB,CAAE,UAAA9jE,EAAA01D,QAAAiqB,GAAA3/E,EAAA01D,QAAA,CAAkC11D,EAAA,KAAO,MAAAoM,EAAQpM,IAAA01D,OAAqC,IAA1B11D,EAAA8jE,QAAApO,OAAA11D,EAAA01D,OAA0B11D,IAAA8jE,QAAgB,IAAA9jE,EAAAq1D,KAAA,IAAAr1D,EAAAq1D,KAAqB,CAAE,KAAAr1D,EAAA2jE,UAAA,SAAAt3D,EACje,UAAArM,EAAAuwC,OAAA,IAAAvwC,EAAAq1D,IAAA,SAAAhpD,EAAwCrM,EAAAuwC,MAAAmlB,OAAA11D,MAAAuwC,MAAgC,OAAAvwC,EAAA2jE,WAAA,CAAqB3jE,IAAA+0D,UAAc,MAAA3oD,GAAS,QAAA+7B,EAAA/7B,IAAa,CAAE,OAAA+7B,EAAAktB,KAAA,IAAAltB,EAAAktB,IAAA,GAAAr1D,EAAA,GAAAC,EAAA,CAAmC,IAAAssD,EAAAlgD,EAAAggD,EAAAlkB,EAAA4sB,UAAAzI,EAAAtsD,EAA0B,IAAAusD,EAAAsP,SAAAtP,EAAA/5B,WAAAuM,aAAAstB,EAAAC,GAAAC,EAAAxtB,aAAAstB,EAAAC,QAAkEjgD,EAAA0yB,aAAAoJ,EAAA4sB,UAAA/0D,QAAmCC,GAAAosD,EAAAhgD,EAAAigD,EAAAnkB,EAAA4sB,UAAA,IAAA1I,EAAAwP,UAAAtP,EAAAF,EAAA75B,WAAA+5B,EAAAxtB,aAAAutB,EAAAD,KAAAE,EAAAF,EAAAE,EAAAx4B,YAAAu4B,IAAAD,IAAAwzB,oBAAA,OAAAxzB,QAAA,IAAAA,GAAA,OAAAE,EAAAyyB,UAAAzyB,EAAAyyB,QAAAvO,KAAApkE,EAAA0nB,YAAAoU,EAAA4sB,gBACrS,OAAA5sB,EAAAktB,KAAA,OAAAltB,EAAAoI,MAAA,CAAmCpI,EAAAoI,MAAAmlB,OAAAvtB,EAAiBA,IAAAoI,MAAU,SAAS,GAAApI,IAAA/7B,EAAA,MAAe,KAAK,OAAA+7B,EAAA27B,SAAiB,CAAE,UAAA37B,EAAAutB,QAAAvtB,EAAAutB,SAAAtpD,EAAA,OAAwC+7B,IAAAutB,OAAWvtB,EAAA27B,QAAApO,OAAAvtB,EAAAutB,OAA0BvtB,IAAA27B,SAC3L,SAAA4b,GAAAtzE,GAAe,QAAAC,EAAAD,EAAApM,GAAA,EAAAC,OAAA,EAAAkoC,OAAA,IAAoC,CAAE,IAAAnoC,EAAA,CAAOA,EAAAqM,EAAAqpD,OAAWtpD,EAAA,OAAQ,CAA2B,OAAzB,OAAApM,GAAAa,EAAA,OAAyBb,EAAAq1D,KAAc,OAAAp1D,EAAAD,EAAA+0D,UAAqB5sB,GAAA,EAAK,MAAA/7B,EAAQ,OAAAnM,EAAAD,EAAA+0D,UAAAsU,cAAmClhC,GAAA,EAAK,MAAA/7B,EAAQ,OAAAnM,EAAAD,EAAA+0D,UAAAsU,cAAmClhC,GAAA,EAAK,MAAA/7B,EAAQpM,IAAA01D,OAAW11D,GAAA,EAAK,OAAAqM,EAAAgpD,KAAA,IAAAhpD,EAAAgpD,IAAA,CAAyBjpD,EAAA,QAAAmgD,EAAAlgD,EAAAggD,EAAAE,IAAmB,GAAAizB,GAAAnzB,GAAA,OAAAA,EAAA9b,OAAA,IAAA8b,EAAAgJ,IAAAhJ,EAAA9b,MAAAmlB,OAAArJ,MAAA9b,UAA+D,CAAK,GAAA8b,IAAAE,EAAA,MAAe,KAAK,OAAAF,EAAAyX,SAAiB,CAAE,UAAAzX,EAAAqJ,QAAArJ,EAAAqJ,SAAAnJ,EAAA,MAAAngD,EAAyCigD,IAAAqJ,OAAWrJ,EAAAyX,QAAApO,OAAArJ,EAAAqJ,OAA0BrJ,IAAAyX,QAAY37B,GAC3fokB,EAAAtsD,EAAAosD,EAAAhgD,EAAA0oD,UAAA,IAAAxI,EAAAsP,SAAAtP,EAAA/5B,WAAAC,YAAA45B,GAAAE,EAAA95B,YAAA45B,IAAApsD,EAAAwyB,YAAApmB,EAAA0oD,gBAA2G,OAAA1oD,EAAAgpD,KAAAp1D,EAAAoM,EAAA0oD,UAAAsU,cAAAlhC,GAAA,GAAAq3C,GAAAnzE,GAAA,OAAAA,EAAAkkC,MAAA,CAA2ElkC,EAAAkkC,MAAAmlB,OAAArpD,EAAiBA,IAAAkkC,MAAU,SAAS,GAAAlkC,IAAAD,EAAA,MAAe,KAAK,OAAAC,EAAAy3D,SAAiB,CAAE,UAAAz3D,EAAAqpD,QAAArpD,EAAAqpD,SAAAtpD,EAAA,OAAwCC,IAAAqpD,OAAW,IAAArpD,EAAAgpD,MAAAr1D,GAAA,GAAkBqM,EAAAy3D,QAAApO,OAAArpD,EAAAqpD,OAA0BrpD,IAAAy3D,SAChW,SAAAgc,GAAA1zE,EAAAC,GAAiB,OAAAA,EAAAgpD,KAAc,+BAAAiqB,GAAAjH,GAAAC,GAAAjsE,GAA2C,MAAM,aAAa,WAAArM,EAAAqM,EAAA0oD,UAAyB,SAAA/0D,EAAA,CAAY,IAAAC,EAAAoM,EAAAqnE,cAAsBtnE,EAAA,OAAAA,IAAAsnE,cAAAzzE,EAA6B,IAAAkoC,EAAA97B,EAAA1C,KAAA4iD,EAAAlgD,EAAAonE,YAA6BpnE,EAAAonE,YAAA,KAAmB,OAAAlnB,GAAA8kB,GAAArxE,EAAAusD,EAAApkB,EAAA/7B,EAAAnM,EAAAoM,GAA0B,MAAM,cAAAA,EAAA0oD,WAAAl0D,EAAA,OAA0CwL,EAAA0oD,UAAA8X,UAAAxgE,EAAAqnE,cAAsC,MAAM,aAAa,cAAc,QACxW,GADwW1zE,EAAAqM,EAAAmnE,cAA0BvzE,OAAA,EAASmM,EAAAC,EAAI,OAAArM,EAAAC,GAAA,GAAAA,GAAA,EAAAmM,EAAAC,EAAAkkC,MAAA,IAAAvwC,EAAA28E,aAAA38E,EAAA28E,WAAAhH,OAAqE,OAAAvpE,GAAAmzE,GAAAnzE,EAAAnM,GAAkBD,EACpfqM,EAAAonE,YAAc,OAAAzzE,EAAA,CAAaqM,EAAAonE,YAAA,KAAmB,IAAApnB,EAAAhgD,EAAA0oD,UAAkB,OAAA1I,MAAAhgD,EAAA0oD,UAAA,IAAAkqB,IAAiCj/E,EAAA8L,QAAA,SAAAM,GAAsB,IAAApM,EAAA+/E,GAAA5+E,KAAA,KAAAkL,EAAAD,GAAwBigD,EAAA2zB,IAAA5zE,KAAAigD,EAAAr3B,IAAA5oB,KAAAga,KAAApmB,QAAmC,MAAM,cAAc,QAAAa,EAAA,QAAkB,IAAAo/E,GAAA,oBAAAC,gBAAA5I,IAA+C,SAAA6I,GAAA/zE,EAAAC,EAAArM,GAAmBA,EAAA61E,GAAA71E,GAAQA,EAAAq1D,IAAAqoB,GAAS19E,EAAA6R,QAAA,CAAW/G,QAAA,MAAc,IAAA7K,EAAAoM,EAAAzL,MAAmD,OAArCZ,EAAA4tB,SAAA,WAAsBwyD,GAAAngF,GAAMk/E,GAAA/yE,EAAAC,IAASrM,EACvX,SAAAqgF,GAAAj0E,EAAAC,EAAArM,GAAmBA,EAAA61E,GAAA71E,GAAQA,EAAAq1D,IAAAqoB,GAAS,IAAAz9E,EAAAmM,EAAAzC,KAAA4yE,yBAAsC,uBAAAt8E,EAAA,CAA0B,IAAAkoC,EAAA97B,EAAAzL,MAAcZ,EAAA6R,QAAA,WAAqB,OAAA5R,EAAAkoC,IAAa,IAAAokB,EAAAngD,EAAA2oD,UAA0P,OAAxO,OAAAxI,GAAA,oBAAAA,EAAA+zB,oBAAAtgF,EAAA4tB,SAAA,WAA0E,oBAAA3tB,IAAA,OAAAsgF,MAAA,IAAA7O,IAAA,CAAAvtE,OAAAo8E,GAAAvrD,IAAA7wB,OAAmE,IAAAnE,EAAAqM,EAAAzL,MAAAunC,EAAA97B,EAAAqyE,MAAwBS,GAAA/yE,EAAAC,GAAQlI,KAAAm8E,kBAAAtgF,EAAA,CAA0BwgF,eAAA,OAAAr4C,IAAA,OAAiCnoC,EAC9Y,SAAAygF,GAAAr0E,GAAe,OAAAA,EAAAipD,KAAc,OAAAvH,GAAA1hD,EAAAzC,OAAAyoE,GAAAhmE,GAAwB,IAAAC,EAAAD,EAAAu3D,UAAkB,YAAAt3D,GAAAD,EAAAu3D,WAAA,KAAAt3D,EAAA,GAAAD,GAAA,KAA8C,cAAA4rE,GAAA5rE,GAAAimE,GAAAjmE,GAAAC,EAAAD,EAAAu3D,UAAA,QAAAt3D,IAAAxL,EAAA,OAAAuL,EAAAu3D,WAAA,KAAAt3D,EAAA,GAAAD,EAA4F,cAAA8rE,GAAA9rE,GAAA,KAAyB,eAAAC,EAAAD,EAAAu3D,UAAA,KAAAt3D,GAAAD,EAAAu3D,WAAA,KAAAt3D,EAAA,GAAAD,GAAA,KAAoE,cAAA4rE,GAAA5rE,GAAA,KAAyB,eAAAoxE,GAAApxE,GAAA,KAA0B,qBACjW,IAAAs0E,GAAAhkB,GAAApL,uBAAAqvB,GAAAjkB,GAAAnL,kBAAAqvB,GAAA,WAAAC,GAAA,EAAAC,IAAA,EAAAjyB,GAAA,KAAAkyB,GAAA,KAAAhyB,GAAA,EAAAiyB,IAAA,EAAAC,IAAA,EAAA/xB,GAAA,KAAAgyB,IAAA,EAAAC,GAAA,KAAAC,GAAA,KAAAC,GAAA,KAAAd,GAAA,KAA8J,SAAAe,KAAc,UAAAzyB,GAAA,QAAAziD,EAAAyiD,GAAA6G,OAA+B,OAAAtpD,GAAS,CAAE,IAAAC,EAAAD,EAAQ,OAAAC,EAAAgpD,KAAc,WAAAr1D,EAAAqM,EAAA1C,KAAAwoE,kBAAsC,OAAAnyE,QAAA,IAAAA,GAAAoyE,GAAA/lE,GAA4B,MAAM,OAAA2rE,GAAA3rE,GAAagmE,GAAAhmE,GAAM,MAAM,OAAA6rE,GAAA7rE,GAAa,MAAM,OAAA2rE,GAAA3rE,GAAa,MAAM,QAAAmxE,GAAAnxE,GAAcD,IAAAspD,OAAWqrB,GAAA,KAAQhyB,GAAA,EAAIiyB,IAAA,EAAMC,IAAA,EAAMpyB,GAAA,KACpa,SAAA0yB,GAAAn1E,EAAAC,GAAiBg1E,GAAAD,GAAAD,GAAA,KAAc,IAAAnhF,EAAAmvD,GAAQA,IAAA,EAAK,GAAG,OAAA9iD,EAAAs3D,UAAA,CAAoB,IAAA1jE,GAAA,EAAAkoC,OAAA,EAAkB,IAAI,IAAAokB,EAAAlgD,EAAQizE,GAAA5G,GAAAP,GAAA5rB,GAAY+yB,GAAAnH,GAAAM,GAAAlsB,GAAY,MAAAF,GAASpsD,GAAA,EAAAkoC,EAAAkkB,EAASpsD,GAAAo/E,GAAAhzE,EAAA87B,GAAW97B,IAAAwnE,iBAAe,OAAAxnE,GAAgB8iD,GAAAnvD,EAAIA,EAAAoM,EAAA2nE,eAAmB,IAAA/zE,GAAAwhF,GAAAp1E,EAAApM,GAAe,SAAA81E,KAAc,OAAAsL,IAAAjQ,GAAAiQ,IAAkB,OAAAC,SAC3P,SAAAI,GAAAr1E,GAAe,OAAM,CAAE,IAAAC,EAAAD,EAAAk3D,UAAAtjE,EAAAoM,EAAAspD,OAAAz1D,EAAAmM,EAAA03D,QAAyC,aAAA13D,EAAAu3D,WAAA,CAA2B9U,GAAAziD,EAAIA,EAAA,CAAG,IAAA+7B,EAAA97B,EAAQA,EAAAD,EAAI,IAAAmgD,EAAAwC,GAAQ1C,EAAAhgD,EAAAinE,aAAqB,OAAAjnE,EAAAgpD,KAAc,aAAa,cAAc,qBAAqB,OAAAvH,GAAAzhD,EAAA1C,OAAAyoE,GAAA/lE,GAAwB,MAAM,OAAA2rE,GAAA3rE,GAAagmE,GAAAhmE,GAAMggD,EAAAhgD,EAAA0oD,UAAc1I,EAAAowB,iBAAApwB,EAAAzoD,QAAAyoD,EAAAowB,eAAApwB,EAAAowB,eAAA,MAAqE,OAAAt0C,GAAA,OAAAA,EAAAoI,QAAAgrC,GAAAlvE,KAAAs3D,YAAA,GAAkDkb,GAAAxyE,GAAM,MAAM,OAAA6rE,GAAA7rE,GAAa,IAAAigD,EAAAwrB,GAAAD,GAAArpE,SAA8B,GAAT+9C,EAAAlgD,EAAA1C,KAAS,OAAAw+B,GAAA,MAAA97B,EAAA0oD,UAAA+pB,GAAA32C,EAAA97B,EAAAkgD,EAAAF,EAAAC,GAAAnkB,EAAAxkC,MAAA0I,EAAA1I,MAAA0I,EAAAs3D,WACtb,UAAK,GAAAtX,EAAA,CAAW,IAAAzsD,EAAAk4E,GAAAH,GAAAnpE,SAAqB,GAAA+sE,GAAAlvE,GAAA,CAAUggD,EAAAhgD,EAAI87B,EAAAkkB,EAAA0I,UAAc,IAAAtJ,EAAAY,EAAA1iD,KAAA5J,EAAAssD,EAAAqnB,cAAA/nB,EAAAW,EAAgE,OAA7BnkB,EAAA+sB,GAAA7I,EAAQlkB,EAAAgtB,GAAAp1D,EAAQwsD,OAAA,EAASD,EAAAb,EAAIa,GAAU,0BAAAgB,GAAA,OAAAnlB,GAAwC,MAAM,4BAAAsjB,EAAA,EAAkCA,EAAAyL,GAAA3xD,OAAYkmD,IAAA6B,GAAA4J,GAAAzL,GAAAtjB,GAAe,MAAM,aAAAmlB,GAAA,QAAAnlB,GAA2B,MAAM,iCAAAmlB,GAAA,QAAAnlB,GAAiDmlB,GAAA,OAAAnlB,GAAY,MAAM,WAAAmlB,GAAA,QAAAnlB,GAAyBmlB,GAAA,SAAAnlB,GAAc,MAAM,cAAAmlB,GAAA,SAAAnlB,GAA6B,MAAM,YAAAo3B,GAAAp3B,EAAApoC,GAAqButD,GAAA,UAAAnlB,GAAeooC,GAAA5kB,EAAA,YAAiB,MAAM,aAAAxjB,EAAAk3B,cAC3e,CAACiS,cAAAvxE,EAAAwxE,UAA0BjkB,GAAA,UAAAnlB,GAAeooC,GAAA5kB,EAAA,YAAiB,MAAM,eAAAggB,GAAAxjC,EAAApoC,GAAAutD,GAAA,UAAAnlB,GAAAooC,GAAA5kB,EAAA,YAAuE,IAAAY,KAAf8jB,GAAA/jB,EAAAvsD,GAAQ0rD,EAAA,KAAO1rD,IAAAyB,eAAA+qD,KAAA3sD,EAAAG,EAAAwsD,GAAA,aAAAA,EAAA,kBAAA3sD,EAAAuoC,EAAAovB,cAAA33D,IAAA6rD,EAAA,YAAA7rD,IAAA,kBAAAA,GAAAuoC,EAAAovB,cAAA,GAAA33D,IAAA6rD,EAAA,eAAA7rD,IAAA+zD,EAAAnyD,eAAA+qD,IAAA,MAAA3sD,GAAA2wE,GAAA5kB,EAAAY,IAA0N,OAAAD,GAAU,YAAAiQ,GAAAp0B,GAAmB03B,GAAA13B,EAAApoC,GAAA,GAAW,MAAM,eAAAw8D,GAAAp0B,GAAsBzvB,GAAAyvB,EAAApoC,GAAQ,MAAM,gCAAkC,4BAAAA,EAAAqY,UACtd+vB,EAAA62C,QAAAvO,IAAelkB,EAAAd,EAAIY,EAAAonB,YAAAlnB,EAAgBF,EAAA,OAAAE,EAAiBF,GAAAsyB,GAAAtyE,OAAS,CAAKtM,EAAAsM,EAAI87B,EAAAokB,EAAIZ,EAAAU,EAAIZ,EAAA,IAAAa,EAAAuP,SAAAvP,IAAAwT,cAAmClgE,IAAAssE,GAAA1jC,OAAA5oC,EAAAysE,GAAAlkC,IAAuBvoC,IAAAssE,GAAA1jC,KAAA,WAAAL,KAAAsjB,EAAAppD,cAAA,OAAA8lC,EAAArH,UAAA,qBAAA2qB,EAAAtjB,EAAA1V,YAAA0V,EAAA8hC,aAAA,kBAAAte,EAAA90B,GAAA40B,IAAAppD,cAAA8lC,EAAA,CAAiKtR,GAAA80B,EAAA90B,MAAQ40B,IAAAppD,cAAA8lC,GAAA,WAAAA,GAAAwjB,EAAA4lB,WAAA9lB,EAAA8lB,UAAA,IAAA9lB,IAAAi2B,gBAAA9hF,EAAAuoC,GAA4FA,EAAAsjB,EAAItjB,EAAA+sB,GAAAn1D,EAAQooC,EAAAgtB,GAAA9I,EAAQuyB,GAAAz2C,EAAA97B,GAAA,MAAcs/C,EAAAxjB,EAAIsjB,EAAAc,EAAIxsD,EAAAssD,EAAI,IAAA9sC,EAAA+sC,EAAAI,EAAA4jB,GAAA7kB,EAAA1rD,GAAkB,OAAA0rD,GAAU,0BAAA6B,GAAA,OACvd3B,GAAGW,EAAAvsD,EAAI,MAAM,4BAAAusD,EAAA,EAAkCA,EAAA4K,GAAA3xD,OAAY+mD,IAAAgB,GAAA4J,GAAA5K,GAAAX,GAAeW,EAAAvsD,EAAI,MAAM,aAAAutD,GAAA,QAAA3B,GAA2BW,EAAAvsD,EAAI,MAAM,iCAAAutD,GAAA,QAAA3B,GAAiD2B,GAAA,OAAA3B,GAAYW,EAAAvsD,EAAI,MAAM,WAAAutD,GAAA,QAAA3B,GAAyB2B,GAAA,SAAA3B,GAAcW,EAAAvsD,EAAI,MAAM,cAAAutD,GAAA,SAAA3B,GAA6BW,EAAAvsD,EAAI,MAAM,YAAAw/D,GAAA5T,EAAA5rD,GAAqBusD,EAAA4S,GAAAvT,EAAA5rD,GAAUutD,GAAA,UAAA3B,GAAe4kB,GAAAhxD,EAAA,YAAiB,MAAM,aAAA+sC,EAAAgf,GAAA3f,EAAA5rD,GAAwB,MAAM,aAAA4rD,EAAA0T,cAAA,CAA+BiS,cAAAvxE,EAAAwxE,UAA0BjlB,EAAA7qD,EAAA,GAAM1B,EAAA,CAAIa,WAAA,IAAe0sD,GAAA,UAAA3B,GAAe4kB,GAAAhxD,EAAA,YAAiB,MAAM,eAAAosD,GAAAhgB,EACnf5rD,GAAGusD,EAAAof,GAAA/f,EAAA5rD,GAAUutD,GAAA,UAAA3B,GAAe4kB,GAAAhxD,EAAA,YAAiB,MAAM,QAAA+sC,EAAAvsD,EAAYswE,GAAA5kB,EAAAa,GAAQ1sD,OAAA,EAAS,IAAAksD,EAAAL,EAAAuB,EAAArB,EAAAE,EAAAS,EAAgB,IAAA1sD,KAAAisD,EAAA,GAAAA,EAAArqD,eAAA5B,GAAA,CAAmC,IAAAwB,EAAAyqD,EAAAjsD,GAAW,UAAAA,EAAA6vE,GAAAziB,EAAA5rD,GAAA,4BAAAxB,GAAAwB,MAAAuf,YAAA,QAAAvf,GAAAorE,GAAAxf,EAAA5rD,IAAA,aAAAxB,EAAA,kBAAAwB,GAAA,aAAA0qD,GAAA,KAAA1qD,IAAAwrE,GAAA5f,EAAA5rD,GAAA,kBAAAA,GAAAwrE,GAAA5f,EAAA,GAAA5rD,GAAA,mCAAAxB,GAAA,6BAAAA,GAAA,cAAAA,IAAA+zD,EAAAnyD,eAAA5B,GAAA,MAAAwB,GAAAmvE,GAAAhxD,EAAA3f,GAAA,MAAAwB,GAAA29D,GAAA/R,EAAAptD,EAAAwB,EAAAsrD,IAAkV,OAAAjB,GAAU,YAAA8Q,GAAA5Q,GAC1ekU,GAAAlU,EAAA5rD,GAAA,GAAW,MAAM,eAAAw8D,GAAA5Q,GAAsBjzC,GAAAizC,EAAA5rD,GAAQ,MAAM,mBAAAA,EAAAa,OAAA+qD,EAAAxgD,aAAA,WAAA8zD,GAAAl/D,EAAAa,QAAoE,MAAM,aAAA0rD,EAAAX,EAAkBW,EAAAilB,WAAAxxE,EAAAwxE,SAAwB5lB,EAAA5rD,EAAAa,MAAU,MAAA+qD,EAAA4f,GAAAjf,IAAAvsD,EAAAwxE,SAAA5lB,GAAA,SAAA5rD,EAAAq/D,cAAAmM,GAAAjf,IAAAvsD,EAAAwxE,SAAAxxE,EAAAq/D,cAAA,GAA2F,MAAM,4BAAA9S,EAAAl0C,UAAAuzC,EAAAqzB,QAAAvO,KAAsDpkB,EAAAukB,GAAArkB,EAAAF,KAAAsyB,GAAAtyE,GAAmBA,EAAA0oD,UAAA5sB,EAAc,OAAA97B,EAAA1I,MAAA0I,EAAAs3D,WAAA,UAAiC,OAAAt3D,EAAA0oD,WAAAl0D,EAAA,OAAwC,MAAM,OAAAsnC,GAAA,MAAA97B,EAAA0oD,UAAAgqB,GAAA52C,EAAA97B,EAAA87B,EAAAurC,cAAArnB,IAAA,kBAC1bA,IAAA,OAAAhgD,EAAA0oD,WAAAl0D,EAAA,QAAAsnC,EAAA2vC,GAAAD,GAAArpE,SAAAspE,GAAAH,GAAAnpE,SAAA+sE,GAAAlvE,IAAAggD,EAAAhgD,EAAAkgD,EAAAF,EAAA0I,UAAA5sB,EAAAkkB,EAAAqnB,cAAAnnB,EAAA2I,GAAA7I,KAAAE,EAAAsgB,YAAA1kC,IAAAw2C,GAAAtyE,KAAAkgD,EAAAlgD,EAAAggD,GAAA,IAAAlkB,EAAA0zB,SAAA1zB,IAAA23B,eAAA6hB,eAAAt1B,KAAA6I,GAAA7oD,EAAAkgD,EAAAwI,UAAA1I,IAAkP,MAAM,cAAc,QAA0B,GAA1BA,EAAAhgD,EAAAmnE,cAA0B,QAAAnnE,EAAAs3D,WAAA,CAAyBt3D,EAAA0nE,eAAAxnB,EAAmBsC,GAAAxiD,EAAI,MAAAD,EAAQigD,EAAA,OAAAA,EAAWE,EAAA,OAAApkB,GAAA,OAAAA,EAAAqrC,cAAmC,OAAArrC,IAAAkkB,GAAAE,IAAApkB,IAAAoI,MAAAuzB,QAAA,OAAA37B,IAAAmkB,EAAAjgD,EAAAunE,YAAA,OAAAtnB,GAAAjgD,EAAAunE,YAAAzrC,IAAA0rC,WAAAvnB,IAAAjgD,EAAAunE,YACtYvnE,EAAAsnE,WAAAxrC,IAAA0rC,WAAA,MAAA1rC,EAAAw7B,UAAA,KAAkDtX,GAAAE,KAAAlgD,EAAAs3D,WAAA,GAAuB,MAAM,aAAa,aAAa,cAAc,OAAAqU,GAAA3rE,GAAawyE,GAAAxyE,GAAM,MAAM,QAAAmxE,GAAAnxE,GAAc,MAAM,aAAa,cAAc,QAAAyhD,GAAAzhD,EAAA1C,OAAAyoE,GAAA/lE,GAAyB,MAAM,QAAAxL,EAAA,OAAiBguD,GAAA,KAAW,GAAJxiD,EAAAD,EAAI,IAAA2iD,IAAA,IAAA1iD,EAAAynE,oBAAA,CAAyC,IAAJznB,EAAA,EAAIE,EAAAlgD,EAAAkkC,MAAc,OAAAgc,GAASpkB,EAAAokB,EAAAwnB,eAAAznB,EAAAC,EAAAunB,oBAAA3rC,EAAAkkB,MAAAlkB,GAAAmkB,EAAAD,MAAAC,GAAAC,IAAAuX,QAA8Ez3D,EAAAynE,oBAAAznB,EAAwB,UAAAwC,GAAA,OAAAA,GAAqB,OAAA7uD,GAAA,UAAAA,EAAA2jE,aAAA,OAAA3jE,EAAA4zE,cAAA5zE,EAAA4zE,YACrbxnE,EAAAwnE,aAAA,OAAAxnE,EAAAunE,aAAA,OAAA3zE,EAAA2zE,aAAA3zE,EAAA2zE,WAAAE,WAAAznE,EAAAwnE,aAAA5zE,EAAA2zE,WAAAvnE,EAAAunE,YAAA,EAAAvnE,EAAAu3D,YAAA,OAAA3jE,EAAA2zE,WAAA3zE,EAAA2zE,WAAAE,WAAAznE,EAAApM,EAAA4zE,YAAAxnE,EAAApM,EAAA2zE,WAAAvnE,QAA4N,CAAe,GAAVA,EAAAq0E,GAAAr0E,EAAA2iD,IAAU,OAAA3iD,EAAA,OAAAA,EAAAu3D,WAAA,KAAAv3D,EAAuC,OAAApM,MAAA4zE,YAAA5zE,EAAA2zE,WAAA,KAAA3zE,EAAA2jE,WAAA,MAA8D,UAAA1jE,EAAA,OAAAA,EAAqB,UAAAD,EAAgB,MAAhBoM,EAAApM,EAA2B,YAChY,SAAA4hF,GAAAx1E,GAAe,IAAAC,EAAAwwE,GAAAzwE,EAAAk3D,UAAAl3D,EAAA2iD,IAA6F,OAAnE3iD,EAAAsnE,cAAAtnE,EAAAknE,aAA+B,OAAAjnE,MAAAo1E,GAAAr1E,IAAoBu0E,GAAAnyE,QAAA,KAAgBnC,EAC5G,SAAAw1E,GAAAz1E,EAAAC,GAAiBy0E,IAAAjgF,EAAA,OAAmBi1E,KAAKgL,IAAA,EAAM,IAAA9gF,EAAA0gF,GAAAlyE,QAAiBkyE,GAAAlyE,QAAAorE,GAAc,IAAA35E,EAAAmM,EAAAgpE,2BAAmCn1E,IAAA8uD,IAAA3iD,IAAA20E,IAAA,OAAAlyB,KAAAyyB,KAAAP,GAAA30E,EAAA2iD,GAAA9uD,EAAA4uD,GAAAqlB,GAAA6M,GAAAvyE,QAAA,KAAAugD,IAAA3iD,EAAA01E,4BAAA,GAAiG,IAAA35C,GAAA,EAAS,GAAG,IAAI,GAAA97B,EAAA,KAAU,OAAAwiD,KAAAkzB,MAAgBlzB,GAAA+yB,GAAA/yB,SAAS,KAAU,OAAAA,IAASA,GAAA+yB,GAAA/yB,IAAS,MAAA7B,GAAS,GAAAuwB,GAAAD,GAAAD,GAAA,KAAAxD,KAAA,OAAAhrB,GAAA1mB,GAAA,EAAAi4C,GAAApzB,OAA0C,CAAK,OAAA6B,IAAAhuD,EAAA,OAAyB,IAAA0rD,EAAAsC,GAAAxC,EAAAE,EAAAmJ,OAAmB,UAAArJ,EAAuB,CAAKjgD,EAAA,CAAG,IAAAkgD,EAAAlgD,EAAAxM,EAAAysD,EAAAZ,EAAAc,EAAAxsD,EAAAitD,EAA0E,GAAtDX,EAAA0C,GAAItD,EAAAkY,WAAA,KAAkBlY,EAAAmoB,YAAAnoB,EAAAkoB,WAAA,KAAgC,OAC9e5zE,GAAA,kBAAAA,GAAA,oBAAAA,EAAAqmB,KAAA,CAAoD,IAAAulC,EAAA5rD,EAAQA,EAAAH,EAAI,IAAA2f,GAAA,EAAAmtC,GAAA,EAAc,GAAG,QAAA3sD,EAAAs1D,IAAA,CAAe,IAAAvJ,EAAA/rD,EAAAujE,UAAkB,UAAAxX,QAAA0nB,cAAA,OAAA1nB,GAAA,CAA2CY,EAAA,eAAAZ,EAAA6wB,YAA+B,MAAM7wB,EAAA/rD,EAAAuzE,aAAA0O,YAA6B,kBAAAl2B,IAAA,GAAAA,EAAAvsC,EAAA,IAAmC,IAAAA,GAAAusC,EAAAvsC,OAAAusC,IAAwB/rD,IAAA21D,aAAW,OAAA31D,GAAgBA,EAAAH,EAAI,GAAiF,IAA9EksD,EAAA,KAAA/rD,EAAAs1D,OAAAvJ,OAAA,IAAA/rD,EAAA2zE,cAAAkJ,UAAA,OAAA78E,EAAAyzE,eAA8E1nB,EAAA,CAA6E,GAAvElsD,EAAAG,EAAA0zE,YAAgB,OAAA7zE,KAAA,IAAA8xE,IAAA9xE,EAAAo1B,IAAA22B,GAAA5rD,EAAA0zE,YAAA7zE,KAAAo1B,IAAA22B,GAAuD,OAAA5rD,EAAAe,MAAA,CAAmBf,EAAA4jE,WAC1e,GAAGlY,EAAAkY,YAAA,KAAmB,IAAAlY,EAAA4J,MAAA,OAAA5J,EAAA6X,UAAA7X,EAAA4J,IAAA,IAAAhJ,EAAAwpB,GAAA,YAAAxpB,EAAAgJ,IAAA6gB,GAAAH,GAAAtqB,EAAAY,KAA6EZ,EAAAsoB,eAAA,WAA4B,MAAA3nE,EAAQq/C,EAAAa,EAAA21B,UAAc,OAAAx2B,KAAAa,EAAA21B,UAAA,IAAAhC,GAAArgF,EAAA,IAAA8xE,IAAAjmB,EAAAlvC,IAAAovC,EAAA/rD,OAAA6rD,EAAAjrD,IAAAmrD,QAAA,IAAA/rD,MAAA,IAAA8xE,IAAAjmB,EAAAlvC,IAAAovC,EAAA/rD,KAAqGA,EAAAogF,IAAA3zB,KAAAzsD,EAAAo1B,IAAAq3B,GAAAZ,EAAAy2B,GAAA/gF,KAAA,KAAAmrD,EAAAX,EAAAU,GAAAV,EAAAvlC,KAAAqlC,OAAuD,IAAAlsC,EAAA+sC,EAAA,iBAAAI,MAAA,eAAAyoB,GAAA7oB,EAAAD,IAAA,KAAAC,EAAAI,EAAAntC,GAAoE,GAAA+sC,GAAA00B,GAAA10B,IAAA00B,GAAA10B,GAAmBvsD,EAAA4jE,WAAA,KAAkB5jE,EAAAg0E,eAAA1nB,EAAmB,MAAAjgD,EAAQrM,IAAA21D,aAAW,OAAA31D,GAAgBA,EAAAkU,OAAAypD,GAAAjS,EAAA9hD,OAAA,qBAChd,wLAAAg0D,GAAAlS,IAA+Lw1B,IAAA,EAAMlhF,EAAA0+E,GAAA1+E,EAAA0rD,GAAUa,EAAA1sD,EAAI,GAAG,OAAA0sD,EAAA+I,KAAc,OAAA/I,EAAAqX,WAAA,KAAyBrX,EAAAynB,eAAA1nB,EAAmBA,EAAA8zB,GAAA7zB,EAAAvsD,EAAAssD,GAAY+xB,GAAA9xB,EAAAD,GAAQ,MAAAjgD,EAAQ,UAAAu/C,EAAA5rD,EAAAwf,EAAA+sC,EAAA3iD,KAAA+iD,EAAAJ,EAAAyI,UAAA,QAAAzI,EAAAqX,aAAA,oBAAApkD,EAAAg9D,0BAAA,OAAA7vB,GAAA,oBAAAA,EAAA4zB,oBAAA,OAAAC,QAAAP,IAAAtzB,KAAA,CAAyLJ,EAAAqX,WAAA,KACrerX,EAAAynB,eAAA1nB,EAAmBA,EAAAg0B,GAAA/zB,EAAAX,EAAAU,GAAY+xB,GAAA9xB,EAAAD,GAAQ,MAAAjgD,GAASkgD,IAAAoJ,aAAW,OAAApJ,GAAgBuC,GAAA4yB,GAAAl1B,GAAQ,SAJkTpkB,GAAA,EAAAi4C,GAAApzB,IAIvS,YAAM,GAA+C,GAAtC8zB,IAAA,EAAMJ,GAAAlyE,QAAAxO,EAAau9E,GAAAD,GAAAD,GAAA,KAAcxD,KAAK1xC,EAAA44C,GAAA,KAAA30E,EAAA+1E,aAAA,UAAiC,UAAAtzB,GAAAziD,EAAA+1E,aAAA,SAAqC,CAA4D,GAAvDniF,EAAAoM,EAAAoC,QAAA80D,UAAsB,OAAAtjE,GAAAa,EAAA,OAAyBkgF,GAAA,KAAQE,GAAA,CAA0E,GAAnE94C,EAAA/7B,EAAAyoE,kBAAsBtoB,EAAAngD,EAAA8oE,oBAAwB7oB,EAAAjgD,EAAA4oE,iBAAqB,IAAA7sC,KAAAloC,GAAA,IAAAssD,KAAAtsD,GAAA,IAAAosD,KAAApsD,EAA6E,OAAtC80E,GAAA3oE,EAAAnM,QAAQmiF,GAAAh2E,EAAApM,EAAAC,EAAAmM,EAAA2nE,gBAAA,GAAqC,IAAA3nE,EAAAuoE,UAAAtoE,EACtY,OADyZD,EAAAuoE,UAAA,EAAc10E,EAAAmM,EAAAgpE,2BAAAn1E,EACpdoM,EAAAD,EAAA2nE,eAAA,gBAA8BqO,GAAAh2E,EAAApM,EAAAC,EAAAoM,GAAA,GAAuBA,IAAA,IAAA20E,IAAAjM,GAAA3oE,EAAAnM,GAAAoM,EAAA,eAAA8oE,GAAA/oE,EAAAnM,IAAAoM,EAAA20E,QAAA30E,KAAA,eAAAspE,MAAAtpE,EAAA20E,GAAA30E,EAAA+1E,GAAAh2E,EAAApM,EAAAC,EAAAmM,EAAA2nE,eAAA,EAAA1nE,EAAA,EAAAA,KAAAD,EAAA01E,4BAAA7hF,EAAAmM,EAAA+1E,aAAAniF,IACrD,SAAAq/E,GAAAjzE,EAAAC,GAAiB,QAAArM,EAAAoM,EAAAspD,OAAmB,OAAA11D,GAAS,CAAE,OAAAA,EAAAq1D,KAAc,WAAAp1D,EAAAD,EAAA+0D,UAAyB,uBAAA/0D,EAAA2J,KAAA4yE,0BAAA,oBAAAt8E,EAAAqgF,oBAAA,OAAAC,QAAAP,IAAA//E,IAAkL,OAAxDmM,EAAAqyE,GAAApyE,EAAAD,GAAUA,EAAAi0E,GAAArgF,EAAAoM,EAAA,YAAqB2pE,GAAA/1E,EAAAoM,QAAQ4pE,GAAAh2E,EAAA,YAAwB,MAAM,OAA+D,OAA/DoM,EAAAqyE,GAAApyE,EAAAD,GAAiBA,EAAA+zE,GAAAngF,EAAAoM,EAAA,YAAqB2pE,GAAA/1E,EAAAoM,QAAQ4pE,GAAAh2E,EAAA,YAAwBA,IAAA01D,OAAW,IAAAtpD,EAAAipD,MAAAr1D,EAAAy+E,GAAApyE,EAAAD,GAAApM,EAAAmgF,GAAA/zE,EAAApM,EAAA,YAAA+1E,GAAA3pE,EAAApM,GAAAg2E,GAAA5pE,EAAA,aACtW,SAAAwpE,GAAAxpE,EAAAC,GAAuN,OAAtM,IAAAw0E,GAAAz0E,EAAAy0E,GAAAC,GAAA10E,EAAA80E,GAAA,WAAAnyB,GAAA,EAAA1iD,EAAAvL,MAAAsL,EAAAi2E,GAAA,8BAAAj2E,EAAA,yCAAAA,EAAA,mBAAA20E,IAAA30E,IAAA2iD,MAAA3iD,KAAA,WAA2Ki2E,KAAA,IAAAC,IAAAl2E,EAAAk2E,SAAAl2E,GAA2BA,EACvN,SAAA81E,GAAA91E,EAAAC,EAAArM,GAAmB,IAAAC,EAAAmM,EAAA61E,UAAkB,OAAAhiF,KAAAs3E,OAAAlrE,GAAsB,OAAA00E,IAAAhyB,KAAA/uD,EAAA+gF,GAAA,MAA4B10E,EAAAD,EAAA6oE,sBAAAh1E,EAAAmM,EAAA8oE,oBAAA,IAAA7oE,GAAArM,GAAAqM,GAAArM,GAAAC,IAA6EmM,EAAAuoE,UAAA,EAActoE,EAAAD,EAAA4oE,kBAAqB,IAAA3oE,KAAArM,KAAAoM,EAAA4oE,iBAAAh1E,GAAmC80E,GAAA90E,EAAAoM,GAAQpM,EAAAoM,EAAA2nE,eAAmB,IAAA/zE,GAAAwhF,GAAAp1E,EAAApM,KAAgB,SAAA+/E,GAAA3zE,EAAAC,GAAiB,IAAArM,EAAAoM,EAAA2oD,UAAkB,OAAA/0D,KAAAu3E,OAAAlrE,GAAsBA,EAAAspE,KAAOtpE,EAAAupE,GAAAvpE,EAAAD,GAAUA,EAAAm2E,GAAAn2E,EAAAC,GAAU,OAAAD,IAAAsoE,GAAAtoE,EAAAC,KAAAD,EAAA2nE,eAAA,IAAA1nE,GAAAm1E,GAAAp1E,EAAAC,IACzW,SAAAk2E,GAAAn2E,EAAAC,GAAiBD,EAAA2nE,eAAA1nE,IAAAD,EAAA2nE,eAAA1nE,GAAyC,IAAArM,EAAAoM,EAAAk3D,UAAkB,OAAAtjE,KAAA+zE,eAAA1nE,IAAArM,EAAA+zE,eAAA1nE,GAAmD,IAAApM,EAAAmM,EAAAspD,OAAAvtB,EAAA,KAAsB,UAAAloC,GAAA,IAAAmM,EAAAipD,IAAAltB,EAAA/7B,EAAA2oD,eAAqC,KAAU,OAAA90D,GAAS,CAAgI,GAA9HD,EAAAC,EAAAqjE,UAAcrjE,EAAA6zE,oBAAAznE,IAAApM,EAAA6zE,oBAAAznE,GAAmD,OAAArM,KAAA8zE,oBAAAznE,IAAArM,EAAA8zE,oBAAAznE,GAA6D,OAAApM,EAAAy1D,QAAA,IAAAz1D,EAAAo1D,IAAA,CAA+BltB,EAAAloC,EAAA80D,UAAc,MAAM90D,IAAAy1D,OAAW,OAAAvtB,EAC3Y,SAAA6tC,GAAA5pE,EAAAC,GAAiBD,EAAAm2E,GAAAn2E,EAAAC,GAAU,OAAAD,KAAA00E,IAAA,IAAA/xB,IAAA1iD,EAAA0iD,IAAAuyB,KAAA5M,GAAAtoE,EAAAC,GAAAy0E,KAAAI,IAAAH,KAAA30E,GAAAo1E,GAAAp1E,IAAA2nE,gBAAAyO,GAAAC,KAAAD,GAAA,EAAA3hF,EAAA,SAAyG,SAAA6hF,GAAAt2E,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB,IAAAokB,EAAAs0B,GAASA,GAAA,WAAc,IAAI,OAAAz0E,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAkB,QAAQ04C,GAAAt0B,GAAM,IAAAo2B,GAAA,KAAAvzB,GAAA,KAAAwzB,GAAA,EAAAt3B,QAAA,EAAA6D,IAAA,EAAA0zB,GAAA,KAAArxB,GAAA,EAAA8wB,GAAA,EAAAQ,IAAA,EAAAC,GAAA,KAAAtxB,IAAA,EAAAuxB,IAAA,EAAAX,IAAA,EAAAY,GAAA,KAAAC,GAAAj3B,EAAAk3B,eAAAC,GAAA,YAAAF,GAAA,MAAAG,GAAAD,GAAAX,GAAA,GAAAD,GAAA,EAAAc,GAAA,KAAqK,SAAAC,KAAcH,GAAA,aAAAn3B,EAAAk3B,eAAAD,IAAA,MACzY,SAAAM,GAAAp3E,EAAAC,GAAiB,OAAAu2E,GAAA,CAAW,GAAAv2E,EAAAu2E,GAAA,OAAe,OAAAt3B,IAAAW,EAAAmlB,wBAAA9lB,IAA0Cs3B,GAAAv2E,EAAKD,EAAA6/C,EAAAk3B,eAAAD,GAAuB53B,GAAAW,EAAAilB,0BAAAuS,GAAA,CAAoCruD,QAAA,eAAA/oB,GAAAD,IAA8B,SAAAg2E,GAAAh2E,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB/7B,EAAA2nE,eAAA9zE,EAAmB,IAAAkoC,GAAA45C,KAAA,EAAA55C,IAAA/7B,EAAAs3E,cAAA3S,GAAA4S,GAAAxiF,KAAA,KAAAiL,EAAAC,EAAArM,GAAAmoC,KAAA/7B,EAAA01E,4BAAA9hF,EAAAoM,EAAA+1E,aAAA91E,GAAgH,SAAAs3E,GAAAv3E,EAAAC,EAAArM,GAAmBoM,EAAA01E,4BAAA9hF,EAAgCoM,EAAA+1E,aAAA91E,EAAiBk3E,KAAKF,GAAAD,GAAMQ,GAAAx3E,EAAApM,GAAQ,SAAA21E,KAAc,OAAAxmB,GAAAk0B,IAAeQ,KAAK,IAAAryB,IAAA,IAAAA,KAAA+xB,KAAAF,GAAAD,IAA2BC,IACje,SAAA7B,GAAAp1E,EAAAC,GAAiB,OAAAD,EAAA03E,mBAAA13E,EAAA2nE,eAAA1nE,EAAA,OAAA+iD,IAAAuzB,GAAAvzB,GAAAhjD,IAAA03E,kBAAA13E,IAAAgjD,MAAA00B,kBAAA13E,EAAAgjD,GAAA00B,kBAAAnB,KAAAt2E,EAAAD,EAAA2nE,iBAAA3nE,EAAA2nE,eAAA1nE,GAAkL8iD,KAAAsC,GAAAuxB,KAAAH,GAAAz2E,EAAAolD,GAAA,WAAAuyB,GAAA33E,EAAA,6BAAAC,EAAA23E,GAAA,eAAAR,GAAAp3E,EAAAC,IACnM,SAAAw3E,KAAc,IAAAz3E,EAAA,EAAAC,EAAA,KAAe,UAAA+iD,GAAA,QAAApvD,EAAAovD,GAAAnvD,EAAA0iF,GAA6B,OAAA1iF,GAAS,CAAE,IAAAkoC,EAAAloC,EAAA8zE,eAAuB,OAAA5rC,EAAA,CAA6C,IAAnC,OAAAnoC,GAAA,OAAAovD,KAAAvuD,EAAA,OAAmCZ,MAAA6jF,kBAAA,CAA4BnB,GAAAvzB,GAAAnvD,EAAA6jF,kBAAA,KAA8B,MAAM,GAAA7jF,IAAA0iF,MAAAx6C,EAAAloC,EAAA6jF,kBAAA10B,GAAA00B,kBAAA37C,EAAAloC,EAAA6jF,kBAAA,SAAuF,IAAA7jF,IAAAmvD,GAAA,CAAeA,GAAApvD,EAAIovD,GAAA00B,kBAAAnB,GAAuB1iF,EAAA6jF,kBAAA,KAAyB,MAAM9jF,EAAA8jF,kBAAA7jF,EAAA6jF,kBAAA7jF,EAAA6jF,kBAAA,KAAsE7jF,EAAAD,EAAA8jF,sBAAsB,CAAoB,GAAf37C,EAAA/7B,MAAA+7B,EAAA97B,EAAApM,GAAeA,IAAAmvD,GAAA,MAAe,gBACxehjD,EAAA,MAAQpM,EAAAC,EAAIA,IAAA6jF,mBAAuBjB,GAAAx2E,EAAKmlD,GAAAplD,EAAI,IAAA63E,IAAA,EAAU,SAAAlC,KAAc,QAAAkC,MAAAh4B,EAAAi4B,yBAAAD,IAAA,GAAgD,SAAAR,KAAc,IAAI,IAAA1B,MAAA,OAAAY,GAAA,CAAqBY,KAAK,IAAAn3E,EAAAu2E,GAAS,GAAG,IAAAt2E,EAAAD,EAAA2nE,eAAuB,IAAA1nE,GAAA+2E,IAAA/2E,IAAAD,EAAAgpE,2BAAAgO,IAAgDh3E,IAAA03E,wBAAsB13E,IAAAu2E,IAAcqB,GAAA,MAAS,QAAQC,IAAA,GACxS,SAAAD,GAAA53E,EAAAC,GAAsB,GAALw3E,KAAKx3E,EAAA,IAAAk3E,KAAAF,GAAAD,GAAoB,OAAAP,IAAA,IAAArxB,IAAAplD,GAAAolD,MAAAyyB,IAAAb,GAAA5xB,KAAoCuyB,GAAAlB,GAAArxB,GAAA4xB,GAAA5xB,IAAAqyB,KAAAN,KAAAF,GAAAD,QAA+B,KAAU,OAAAP,IAAA,IAAArxB,IAAAplD,GAAAolD,IAAuBuyB,GAAAlB,GAAArxB,IAAA,GAAAqyB,KAAiE,GAA/Cx3E,IAAAu2E,GAAA,EAAAt3B,GAAA,MAAkB,IAAAkG,IAAAgyB,GAAAX,GAAArxB,IAAgBgxB,GAAA,EAAKc,GAAA,KAAQ,OAAAL,GAAA,IAAA72E,EAAA62E,MAAA,KAAA52E,EAAA,EAAkCA,EAAAD,EAAA7G,OAAW8G,IAAA,CAAK,IAAArM,EAAAoM,EAAAC,GAAW,IAAIrM,EAAAmkF,cAAgB,MAAAlkF,GAAS6iF,SAAA,EAAAC,GAAA9iF,IAAkB,GAAA6iF,GAAA,MAAA12E,EAAA22E,MAAA,KAAAD,IAAA,EAAA12E,EAAkC,SAAAw3E,GAAAx3E,EAAAC,GAAiB8iD,IAAAtuD,EAAA,OAAkBgiF,GAAAz2E,EAAKolD,GAAAnlD,EAAI03E,GAAA33E,EAAAC,GAAA,GAAW23E,GAAA,eACpZ,SAAAD,GAAA33E,EAAAC,EAAArM,GAA0C,GAAvBmvD,IAAAtuD,EAAA,OAAkBsuD,IAAA,EAAKnvD,EAAA,CAAM,IAAAC,EAAAmM,EAAA+1E,aAAqB,OAAAliF,EAAAmkF,GAAAh4E,EAAAnM,EAAAoM,IAAAD,EAAA+1E,aAAA,KAAAliF,EAAAmM,EAAAs3E,eAAA,IAAAzjF,IAAAmM,EAAAs3E,eAAA,EAAA1S,GAAA/wE,IAAA4hF,GAAAz1E,EAAApM,GAAAC,EAAAmM,EAAA+1E,aAAA,OAAAliF,IAAA8hF,KAAA31E,EAAA+1E,aAAAliF,EAAAmkF,GAAAh4E,EAAAnM,EAAAoM,UAAmKpM,EAAAmM,EAAA+1E,aAAA,OAAAliF,EAAAmkF,GAAAh4E,EAAAnM,EAAAoM,IAAAD,EAAA+1E,aAAA,KAAAliF,EAAAmM,EAAAs3E,eAAA,IAAAzjF,IAAAmM,EAAAs3E,eAAA,EAAA1S,GAAA/wE,IAAA4hF,GAAAz1E,EAAApM,GAAAC,EAAAmM,EAAA+1E,aAAA,OAAAliF,GAAAmkF,GAAAh4E,EAAAnM,EAAAoM,IAAiK8iD,IAAA,EACzY,SAAAi1B,GAAAh4E,EAAAC,EAAArM,GAAmB,IAAAC,EAAAmM,EAAAi4E,WAAmB,UAAApkF,KAAAqkF,iBAAAtkF,IAAA,OAAAijF,MAAA,CAAAhjF,GAAAgjF,GAAA/2E,KAAAjM,KAAAskF,QAA+G,OAApCn4E,EAAA+1E,aAAA91E,OAAiBD,EAAA2nE,eAAA,GAA0B3nE,EAAA+1E,aAAA,KAAoB/1E,IAAAk3E,GAAAd,MAAAc,GAAAl3E,EAAAo2E,GAAA,GAAwBtB,GAAAJ,IAAA,EAAS10E,EAAAoC,UAAAnC,GAAAxL,EAAA,OAA8Bb,EAAAoM,EAAA01E,4BAAgC,IAAA9hF,GAAAa,EAAA,OAAsBuL,EAAA01E,4BAAA,EAAgC7hF,EAAAoM,EAAA0nE,eAAmB,IAAA5rC,EAAA97B,EAAAynE,oBACmJ,GADvH7zE,EAAAkoC,EAAAloC,EAAAkoC,EAAAloC,EAAUmM,EAAAuoE,UAAA,EAAc,IAAA10E,GAAAmM,EAAAwoE,oBAAA,EAAAxoE,EAAAyoE,kBAAA,EAAAzoE,EAAA6oE,sBAAA,EAAA7oE,EAAA8oE,oBAAA,EAAA9oE,EAAA4oE,iBAC5Y,IAAA/0E,EAAAmM,EAAA4oE,mBAAA5oE,EAAA4oE,iBAAA,GAAA7sC,EAAA/7B,EAAAyoE,kBAAA,IAAA1sC,MAAAloC,EAAAmM,EAAAwoE,oBAAAxoE,EAAAyoE,kBAAA,EAAAzoE,EAAAwoE,oBAAA30E,IAAAmM,EAAAwoE,oBAAAxoE,EAAAyoE,oBAAA1sC,EAAA/7B,EAAA6oE,sBAAA,IAAA9sC,EAAAusC,GAAAtoE,EAAAnM,KAAAmM,EAAA8oE,qBAAA9oE,EAAA6oE,sBAAA,EAAA7oE,EAAA8oE,oBAAA,EAAA9oE,EAAA4oE,iBAAA,EAAAN,GAAAtoE,EAAAnM,MAAAkoC,GAAAusC,GAAAtoE,EAAAnM,IAAoW60E,GAAA,EAAA1oE,GAAQu0E,GAAAnyE,QAAA,KAAgB,EAAAnC,EAAAs3D,UAAA,OAAAt3D,EAAAsnE,YAAAtnE,EAAAsnE,WAAAE,WAAAxnE,EAAApM,EAAAoM,EAAAunE,aAAA3zE,EAAAoM,EAAApM,EAAAoM,EAAAunE,YAAkGlD,GAAAnH,GAAMphC,EAAAkiC,KAAOG,GAAAriC,GAAA,CAAU,sBACrfA,EAAA,IAAAokB,EAAA,CAASvzB,MAAAmP,EAAA8iC,eAAAlyC,IAAAoP,EAAA+iC,mBAA2C9+D,EAAA,CAAQmgD,KAAApkB,EAAA23B,gBAAAvT,EAAA6W,aAAA5pD,OAA6C,IAAA6yC,EAAAE,EAAAv7C,cAAAu7C,EAAAv7C,eAAuC,GAAAq7C,GAAA,IAAAA,EAAAzxB,WAAA,CAAwB2xB,EAAAF,EAAAvxB,WAAe,IAAAwxB,EAAAD,EAAAnxB,aAAAt7B,EAAAysD,EAAApxB,UAAmCoxB,IAAAlxB,YAAgB,IAAIoxB,EAAAsP,SAAAj8D,EAAAi8D,SAAsB,MAAA2oB,GAAUj4B,EAAA,KAAO,MAAAngD,EAAQ,IAAAq/C,EAAA,EAAA1rD,GAAA,EAAA4rD,GAAA,EAAApsC,EAAA,EAAAmtC,EAAA,EAAAZ,EAAA3jB,EAAA6kB,EAAA,KAAqC3gD,EAAA,OAAQ,CAAE,QAAAw/C,IAAW,CAAsH,GAApHC,IAAAS,GAAA,IAAAD,GAAA,IAAAR,EAAA+P,WAAA97D,EAAA0rD,EAAAa,GAAsCR,IAAAlsD,GAAA,IAAAysD,GAAA,IAAAP,EAAA+P,WAAAlQ,EAAAF,EAAAY,GAAsC,IAAAP,EAAA+P,WAAApQ,GAAAK,EAAA+gB,UAAAtnE,QAAwC,QAAAsmD,EAAAC,EAAAme,YAAA,MAAiCjd,EAAAlB,EAAIA,EAAAD,EAAI,OAAM,CAAE,GAAAC,IAC9f3jB,EAAA,MAAA97B,EAAsD,GAA5C2gD,IAAAT,KAAAhtC,IAAA+sC,IAAAvsD,EAAA0rD,GAAsBuB,IAAAptD,KAAA8sD,IAAAL,IAAAV,EAAAF,GAAsB,QAAAI,EAAAC,EAAAqe,aAAA,MAAkCre,EAAAkB,EAAIA,EAAAlB,EAAAt5B,WAAes5B,EAAAD,EAAIU,GAAA,IAAAxsD,IAAA,IAAA4rD,EAAA,MAAuB3yB,MAAAj5B,EAAAg5B,IAAA4yB,QAAeY,EAAA,KAAYA,KAAA,CAAMvzB,MAAA,EAAAD,IAAA,QAAewzB,EAAA,KAAsD,IAA1CokB,GAAA,CAAI8T,YAAAt8C,EAAAu8C,eAAAn4B,GAAgCgd,IAAA,EAAMra,GAAAjvD,EAAQ,OAAAivD,IAAS,CAAE/mB,GAAA,EAAKokB,OAAA,EAAS,IAAI,KAAK,OAAA2C,IAAS,CAAE,OAAAA,GAAAyU,UAAAv3D,EAAA,CAAsB,IAAAhL,EAAA8tD,GAAAoU,UAAsB,OAAJhX,EAAA4C,GAAI5C,EAAA+I,KAAc,uBAAAiqB,GAAAlH,GAAAD,GAAA7rB,GAAmC,MAAAlgD,EAAQ,cAAAkgD,EAAAqX,WAAA,OAAAviE,EAAA,CAAqC,IAAAwqD,EAAAxqD,EAAAsyE,cAAA3nB,EAAA3qD,EAAAoyE,cAAAmR,EAAAr4B,EAAAyI,UAAA6vB,EAAAD,EAAA9N,wBAAAvqB,EAAA+mB,cAC3a/mB,EAAA3iD,KAAAiiD,EAAA2C,GAAAjC,EAAA3iD,KAAAiiD,GAAAG,GAAwB44B,EAAAE,oCAAAD,EAA0C,MAAAx4E,EAAQ,0CAAAA,EAA4C,QAAAvL,EAAA,QAAkBquD,MAAA2kB,YAAgB,MAAA2Q,GAAUr8C,GAAA,EAAAokB,EAAAi4B,EAAUr8C,IAAA,OAAA+mB,IAAAruD,EAAA,OAAAw+E,GAAAnwB,GAAA3C,GAAA,OAAA2C,WAAA2kB,aAAiE,IAAA3kB,GAAAjvD,EAAQ,OAAAivD,IAAS,CAAE9tD,GAAA,EAAKwqD,OAAA,EAAS,IAAI,KAAK,OAAAsD,IAAS,CAAE,IAAA1vC,EAAA0vC,GAAAyU,UAA2C,GAAzB,GAAAnkD,GAAAotD,GAAA1d,GAAA6F,UAAA,IAAyB,IAAAv1C,EAAA,CAAU,IAAAitC,EAAAyC,GAAAoU,UAAkB,UAAA7W,EAAA,CAAa,IAAAhsD,EAAAgsD,EAAA9oD,IAAY,OAAAlD,IAAA,oBAAAA,IAAA,MAAAA,EAAA+N,QAAA,OAA0D,UAAAgR,GAAa,OAAAogE,GAAA1wB,IAAaA,GAAAyU,YAAA,EAAgB,MAAM,OAAAic,GAAA1wB,IAC5eA,GAAAyU,YAAA,EAAgBmc,GAAA5wB,GAAAoU,UAAApU,IAAkB,MAAM,OAAA4wB,GAAA5wB,GAAAoU,UAAApU,IAAyB,MAAM,OAAAnD,EAAAmD,GAAWwwB,GAAA3zB,GAAMA,EAAA2J,OAAA,KAAc3J,EAAAxb,MAAA,KAAawb,EAAAynB,cAAA,KAAqBznB,EAAA0nB,YAAA,KAAmB,IAAAnlB,EAAAvC,EAAAuX,UAAkB,OAAAhV,MAAAoH,OAAA,KAAApH,EAAA/d,MAAA,KAAA+d,EAAAklB,cAAA,KAAAllB,EAAAmlB,YAAA,MAA+EvkB,MAAA2kB,YAAgB,MAAA2Q,GAAUpjF,GAAA,EAAAwqD,EAAA44B,EAAUpjF,IAAA,OAAA8tD,IAAAruD,EAAA,OAAAw+E,GAAAnwB,GAAAtD,GAAA,OAAAsD,WAAA2kB,aAAgH,GAA/CpzE,EAAAkwE,GAAKlkB,EAAA4d,KAAO7qD,EAAA/e,EAAAgkF,YAAgBrjF,EAAAX,EAAAikF,eAAmBj4B,IAAAjtC,QAAAsgD,eAAAsK,GAAA5qD,EAAAsgD,cAAAn4B,gBAAAnoB,GAAA,CAAqE,OAAApe,GAAAopE,GAAAhrD,KAAAitC,EAAArrD,EAAA43B,MAAAv4B,EAAAW,EAAA23B,SACrd,IAAAt4B,MAAAgsD,GAAA,mBAAAjtC,KAAAyrD,eAAAxe,EAAAjtC,EAAA0rD,aAAA9/D,KAAAE,IAAA7K,EAAA+e,EAAA5e,MAAA2E,UAAA9E,GAAAgsD,EAAAjtC,EAAAsgD,eAAA52D,WAAAujD,EAAA2W,aAAA5pD,OAAA/Y,EAAAuQ,eAAAvQ,IAAAuQ,eAAA46C,EAAApsC,EAAA+3C,YAAAhyD,OAAA+oD,EAAAljD,KAAAE,IAAAlK,EAAA43B,MAAA4yB,GAAAxqD,OAAA,IAAAA,EAAA23B,IAAAu1B,EAAAljD,KAAAE,IAAAlK,EAAA23B,IAAA6yB,IAAAnrD,EAAAqT,QAAAw6C,EAAAltD,IAAAwqD,EAAAxqD,IAAAktD,IAAA1C,KAAAse,GAAA1qD,EAAA8uC,GAAAvC,EAAAme,GAAA1qD,EAAApe,GAAAwqD,GAAAG,IAAA,IAAAtrD,EAAAm6B,YAAAn6B,EAAAq6B,aAAA8wB,EAAAv9B,MAAA5tB,EAAAy6B,eAAA0wB,EAAA31B,QAAAx1B,EAAAw6B,YAAA8wB,EAAA19B,MAAA5tB,EAAA06B,cAAA4wB,EAAA91B,UAAAw2B,IAAAtzB,cAAAszB,EAAAv2B,SAAA01B,EAAAv9B,KAAAu9B,EAAA31B,QAAAx1B,EAAAsyB,kBACAu7B,EAAAltD,GAAAX,EAAAqkF,SAAAr4B,GAAAhsD,EAAAqT,OAAAi4C,EAAA19B,KAAA09B,EAAA91B,UAAAw2B,EAAAt2B,OAAA41B,EAAA19B,KAAA09B,EAAA91B,QAAAx1B,EAAAqkF,SAAAr4B,QAA4FA,EAAA,GAAK,IAAAhsD,EAAA+e,EAAQ/e,IAAA+xB,YAAe,IAAA/xB,EAAAo7D,UAAApP,EAAAvgD,KAAA,CAAyBpB,QAAArK,EAAAud,KAAAvd,EAAAskF,WAAA9mE,IAAAxd,EAAAwf,YAAqF,IAAvC,oBAAAT,EAAA7W,OAAA6W,EAAA7W,QAAuC6W,EAAA,EAAQA,EAAAitC,EAAAlnD,OAAWia,IAAA/e,EAAAgsD,EAAAjtC,GAAA/e,EAAAqK,QAAAi6E,WAAAtkF,EAAAud,KAAAvd,EAAAqK,QAAAmV,UAAAxf,EAAAwd,IAAqG,IAApC0yD,GAAA,KAAQpH,KAAAmH,GAAQA,GAAA,KAAQtkE,EAAAoC,QAAAnC,EAAY6iD,GAAAjvD,EAAQ,OAAAivD,IAAS,CAAE1vC,GAAA,EAAKitC,OAAA,EAAS,IAAI,IAAAhsD,EAAA2L,EAAAkiD,EAAAtuD,EAAY,OAAAkvD,IAAS,CAAE,IAAA81B,EAAA91B,GAAAyU,UAAmB,MAAAqhB,EAAA,CAAU,IAAAC,EAAA/1B,GAAAoU,UAA2B,OAARliE,EAAA8tD,GAAItD,EAAA0C,EAAIltD,EAAAi0D,KAAc,uBAAAiqB,GAAA/G,GACheC,GAAAp3E,GAAM,MAAM,WAAAqN,EAAArN,EAAA2zD,UAA0B,KAAA3zD,EAAAuiE,UAAA,UAAAshB,EAAAx2E,EAAAuoE,wBAAqD,CAAK,IAAAkO,EAAA9jF,EAAAiyE,cAAAjyE,EAAAuI,KAAAs7E,EAAAvR,cAAAnlB,GAAAntD,EAAAuI,KAAAs7E,EAAAvR,eAA0EjlE,EAAA4tE,mBAAA6I,EAAAD,EAAAzR,cAAA/kE,EAAAo2E,qCAAkF,IAAAhpD,EAAAz6B,EAAAqyE,YAAqB,OAAA53C,GAAA0iD,GAAAn9E,EAAAy6B,EAAAptB,EAAAm9C,GAAyB,MAAM,WAAAu5B,EAAA/jF,EAAAqyE,YAA4B,UAAA0R,EAAA,CAAqB,GAAPp5B,EAAA,KAAO,OAAA3qD,EAAAmvC,MAAA,OAAAnvC,EAAAmvC,MAAA8kB,KAAsC,OAAAtJ,EAAA3qD,EAAAmvC,MAAAwkB,UAA2B,MAAM,OAAAhJ,EAAA3qD,EAAAmvC,MAAAwkB,UAA2BwpB,GAAAn9E,EAAA+jF,EAAAp5B,EAAAH,GAAa,MAAM,WAAAw5B,EAAAhkF,EAAA2zD,UAA0B,OAChfkwB,GAAA,EAAA7jF,EAAAuiE,WAAAiN,GAAAxvE,EAAAuI,KAAAvI,EAAAsyE,gBAAA0R,EAAAz8E,QAA0D,MAAM,aAAa,aAAa,cAAc,cAAc,cAAc,QAAA9H,EAAA,QAAkB,OAAAmkF,EAAA,CAAW,IAAAK,EAAAn2B,GAAAvrD,IAAa,UAAA0hF,EAAA,CAAc,IAAAC,EAAAp2B,GAAA6F,UAAmB,OAAA7F,GAAAmG,KAAc,WAAAkwB,EAAAD,EAAiB,MAAM,QAAAC,EAAAD,EAAc,oBAAAD,IAAAE,GAAAF,EAAA72E,QAAA+2E,GAA6C,IAAAP,IAAA7D,GAAA1gF,GAAeyuD,MAAA2kB,YAAgB,MAAA2Q,GAAUhlE,GAAA,EAAAitC,EAAA+3B,EAAUhlE,IAAA,OAAA0vC,IAAAruD,EAAA,OAAAw+E,GAAAnwB,GAAAzC,GAAA,OAAAyC,WAAA2kB,aAAiE,OAAA5zE,GAAA,OAAAkhF,KAAA6D,EAAAzD,GAAApgF,KAAA,KAAAiL,EAAAnM,GAAAmhF,GAAAnQ,GAAA+T,GAAA3D,GAAA2D,GAA4DlE,GAAAI,IAAA,EAAS,oBACxetO,OAAAvmE,EAAA0oD,WAA2BiwB,EAAA34E,EAAA0nE,eAAoB1nE,IAAAynE,oBAAwBznE,IAAA24E,EAAA34E,EAAA24E,EAAY,IAAA34E,IAAAk0E,GAAA,MAAiBn0E,EAAA2nE,eAAA1nE,EAAmBD,EAAA+1E,aAAA,KAAoB,SAAA/B,GAAAh0E,GAAe,OAAAy2E,IAAAhiF,EAAA,OAA0BgiF,GAAA9O,eAAA,EAAoB+O,SAAA,EAAAC,GAAA32E,GAAiB,SAAAo5E,GAAAp5E,EAAAC,GAAiB,IAAArM,EAAAyxD,GAAQA,IAAA,EAAK,IAAI,OAAArlD,EAAAC,GAAY,SAAQolD,GAAAzxD,IAAAmvD,IAAA60B,GAAA,gBAA6B,SAAAyB,GAAAr5E,EAAAC,GAAiB,GAAAolD,KAAAuxB,GAAA,CAAWA,IAAA,EAAM,IAAI,OAAA52E,EAAAC,GAAY,QAAQ22E,IAAA,GAAO,OAAA52E,EAAAC,GAC7W,SAAAq5E,GAAAt5E,EAAAC,EAAArM,GAAmB,GAAAqiF,GAAA,OAAAj2E,EAAAC,EAAArM,GAAoByxD,IAAAtC,IAAA,IAAAmzB,KAAA0B,GAAA1B,IAAA,GAAAA,GAAA,GAA+B,IAAAriF,EAAAoiF,GAAAl6C,EAAAspB,GAAaA,GAAA4wB,IAAA,EAAQ,IAAI,OAAAj2E,EAAAC,EAAArM,GAAc,QAAQqiF,GAAApiF,GAAAwxD,GAAAtpB,IAAAgnB,IAAA60B,GAAA,gBACrH,SAAA2B,GAAAv5E,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB,IAAAokB,EAAAlgD,EAAAmC,QAAgBpC,EAAA,GAAApM,EAAA,CAAQA,IAAA01E,oBAAwBrpE,EAAA,CAAG,IAAAq3D,GAAA1jE,IAAA,IAAAA,EAAAq1D,KAAAx0D,EAAA,OAAqC,IAAAwrD,EAAArsD,EAAQ,GAAG,OAAAqsD,EAAAgJ,KAAc,OAAAhJ,IAAA0I,UAAAnxD,QAA6B,MAAAyI,EAAQ,UAAAyhD,GAAAzB,EAAA1iD,MAAA,CAAqB0iD,IAAA0I,UAAA2d,0CAAwD,MAAArmE,GAASggD,IAAAqJ,aAAW,OAAArJ,GAAgBxrD,EAAA,OAASwrD,OAAA,EAAS,OAAArsD,EAAAq1D,IAAA,CAAc,IAAA/I,EAAAtsD,EAAA2J,KAAa,GAAAmkD,GAAAxB,GAAA,CAAStsD,EAAAuyE,GAAAvyE,EAAAssD,EAAAD,GAAY,MAAAjgD,GAASpM,EAAAqsD,OAAIrsD,EAAA6xE,GACxV,OADkW,OAAAxlE,EAAAzI,QAAAyI,EAAAzI,QAAA5D,EAAAqM,EAAAowE,eAAAz8E,EAAgDqM,EAAA87B,EAAIA,EAAA0tC,GAAA51E,GAAQkoC,EAAAt2B,QAAA,CAAW/G,QAAAsB,GAAWC,OAAA,IAAAA,EAAA,KAAAA,EAAoB,OAAAA,IAAA87B,EAAAva,SAAAvhB,GAC7dypE,KAAKC,GAAAxpB,EAAApkB,GAAQ6tC,GAAAzpB,EAAAtsD,GAAQA,EAAS,SAAA2lF,GAAAx5E,EAAAC,EAAArM,EAAAC,GAAqB,IAAAkoC,EAAA97B,EAAAmC,QAAA+9C,EAAAopB,KAAiC,OAAVxtC,EAAAytC,GAAArpB,EAAApkB,GAAUw9C,GAAAv5E,EAAAC,EAAArM,EAAAmoC,EAAAloC,GAAqB,SAAA4lF,GAAAz5E,GAA2B,GAAZA,IAAAoC,SAAYpC,EAAAmkC,MAAA,YAAwB,OAAAnkC,EAAAmkC,MAAA8kB,KAAoB,cAAAjpD,EAAAmkC,MAAAwkB,UAAgC,eAAA3oD,EAAAmkC,MAAAwkB,WAAkC,SAAA+wB,GAAA15E,EAAAC,EAAArM,GAAmB,IAAAC,EAAA,EAAAuE,UAAAe,aAAA,IAAAf,UAAA,GAAAA,UAAA,QAAkE,OAAOupD,SAAA8O,GAAA37D,IAAA,MAAAjB,EAAA,QAAAA,EAAAqN,SAAAlB,EAAAi9D,cAAAh9D,EAAAooE,eAAAz0E,GAE9U,SAAA+lF,GAAA35E,GAAe,IAAAC,EAAA,8BAAAspE,KAAA,YAAqDtpE,GAAAu0E,KAAAv0E,EAAAu0E,GAAA,GAAgBz8E,KAAAmgF,gBAAA1D,GAAAv0E,EAA0BlI,KAAA6hF,MAAA55E,EAAajI,KAAA8hF,WAAA9hF,KAAA+hF,MAAA,KAAgC/hF,KAAAgiF,aAAAhiF,KAAAiiF,cAAA,EAAuCjiF,KAAAkiF,UAAA,KAAoBliF,KAAAogF,QAAA,EAGvC,SAAA+B,KAAcniF,KAAA8hF,WAAA,KAAqB9hF,KAAAoiF,YAAA,EAAmBpiF,KAAAqiF,UAAAriF,KAAAqiF,UAAArlF,KAAAgD,MAErO,SAAAsiF,GAAAr6E,EAAAC,EAAArM,GAAmBqM,EAAA6hD,GAAA,YAAA7hD,EAAA,KAAuBD,EAAA,CAAGoC,QAAAnC,EAAAg9D,cAAAj9D,EAAAooE,gBAAA,KAAAyN,UAAA,KAAArN,oBAAA,EAAAC,kBAAA,EAAAI,sBAAA,EAAAC,oBAAA,EAAAF,iBAAA,EAAAL,UAAA,EAAAmN,4BAAA,EAAAK,aAAA,KAAAuB,eAAA,EAAA9/E,QAAA,KAAA64E,eAAA,KAAAM,QAAA/8E,EAAAo1E,2BAAA,EAAArB,eAAA,EAAAsQ,WAAA,KAAAP,kBAAA,MAAuX3/E,KAAAuiF,cAAAr6E,EAAA0oD,UAAA3oD,EAErK,SAAAu6E,GAAAv6E,GAAe,SAAAA,GAAA,IAAAA,EAAAyvD,UAAA,IAAAzvD,EAAAyvD,UAAA,KAAAzvD,EAAAyvD,WAAA,IAAAzvD,EAAAyvD,UAAA,iCAAAzvD,EAAAygE,YAC9Q,SAAA+Z,GAAAx6E,EAAAC,GAAwI,GAAvHA,MAAAD,EAAA,IAAAA,EAAAyvD,SAAAzvD,EAAAu7B,gBAAAv7B,EAAA69D,WAAA,KAAA59D,QAAA,IAAAA,EAAAwvD,WAAAxvD,EAAA6wB,aAAA,qBAAuH7wB,EAAA,QAAArM,EAAgBA,EAAAoM,EAAAg4B,WAAch4B,EAAAqmB,YAAAzyB,GAAkB,WAAAymF,GAAAr6E,GAAA,EAAAC,GACxL,SAAAw6E,GAAAz6E,EAAAC,EAAArM,EAAAC,EAAAkoC,GAAuB,IAAAokB,EAAAvsD,EAAA6/E,oBAA4B,GAAAtzB,EAAA,CAAM,uBAAApkB,EAAA,CAA0B,IAAAkkB,EAAAlkB,EAAQA,EAAA,WAAa,IAAA/7B,EAAAy5E,GAAAt5B,EAAAm6B,eAA0Br6B,EAAAvsD,KAAAsM,IAAW,MAAAA,EAAAmgD,EAAAu6B,kCAAA16E,EAAAC,EAAA87B,GAAAokB,EAAAr4B,OAAA7nB,EAAA87B,OAAiE,CAAqC,GAAhCokB,EAAAvsD,EAAA6/E,oBAAA+G,GAAA5mF,EAAAC,GAAgC,oBAAAkoC,EAAA,CAA0B,IAAAmkB,EAAAnkB,EAAQA,EAAA,WAAa,IAAA/7B,EAAAy5E,GAAAt5B,EAAAm6B,eAA0Bp6B,EAAAxsD,KAAAsM,IAAWq5E,GAAA,WAAc,MAAAr5E,EAAAmgD,EAAAu6B,kCAAA16E,EAAAC,EAAA87B,GAAAokB,EAAAr4B,OAAA7nB,EAAA87B,KAAmE,OAAA09C,GAAAt5B,EAAAm6B,eACxZ,SAAAK,GAAA36E,EAAAC,GAAiB,IAAArM,EAAA,EAAAwE,UAAAe,aAAA,IAAAf,UAAA,GAAAA,UAAA,QAAwF,OAAtBmiF,GAAAt6E,IAAAxL,EAAA,OAAsBilF,GAAA15E,EAAAC,EAAA,KAAArM,GAXzGm6D,GAAA,SAAA/tD,EAAAC,EAAArM,GAAmB,OAAAqM,GAAU,YAA8B,GAA9BszD,GAAAvzD,EAAApM,GAAqBqM,EAAArM,EAAAE,KAAS,UAAAF,EAAA2J,MAAA,MAAA0C,EAAA,CAA8B,IAAArM,EAAAoM,EAAQpM,EAAAwyB,YAAaxyB,IAAAwyB,WAA2F,IAA3ExyB,IAAA2L,iBAAA,cAAAsuC,KAAAE,UAAA,GAAA9tC,GAAA,mBAA2EA,EAAA,EAAQA,EAAArM,EAAAuF,OAAW8G,IAAA,CAAK,IAAApM,EAAAD,EAAAqM,GAAW,GAAApM,IAAAmM,GAAAnM,EAAA+mF,OAAA56E,EAAA46E,KAAA,CAA2B,IAAA7+C,EAAAqtB,EAAAv1D,GAAYkoC,GAAAtnC,EAAA,MAAiB27D,GAAAv8D,GAAM0/D,GAAA1/D,EAAAkoC,KAAU,MAAM,eAAAyjC,GAAAx/D,EAAApM,GAAwB,MAAM,aAAAqM,EAAArM,EAAAY,MAAA,MAAAyL,GAAAk/D,GAAAn/D,IAAApM,EAAAuxE,SAAAllE,GAAA,KACnH05E,GAAAxkF,UAAA2yB,OAAA,SAAA9nB,GAAgCjI,KAAAogF,QAAA1jF,EAAA,OAA4BsD,KAAAgiF,cAAA,EAAqBhiF,KAAAkiF,UAAAj6E,EAAiB,IAAAC,EAAAlI,KAAA6hF,MAAAU,cAAA1mF,EAAAmE,KAAAmgF,gBAAArkF,EAAA,IAAAqmF,GAA0F,OAA3BX,GAAAv5E,EAAAC,EAAA,KAAArM,EAAAC,EAAAumF,WAA2BvmF,GACja8lF,GAAAxkF,UAAA6kB,KAAA,SAAAha,GAA8B,GAAAjI,KAAAiiF,aAAAh6E,QAAyB,CAAK,IAAAC,EAAAlI,KAAA8hF,WAAsB,OAAA55E,MAAAlI,KAAA8hF,WAAA,IAAiC55E,EAAAH,KAAAE,KACnH25E,GAAAxkF,UAAA0lF,OAAA,WAA+B,IAAA76E,EAAAjI,KAAA6hF,MAAAU,cAAAr6E,EAAAD,EAAAi4E,WAAoF,GAAtClgF,KAAAogF,QAAA,OAAAl4E,GAAAxL,EAAA,OAAsCsD,KAAAgiF,aAAA,CAAsB,IAAAnmF,EAAAmE,KAAAmgF,gBAA2B,GAAAj4E,IAAAlI,KAAA,CAAaA,KAAAgiF,eAAAnmF,EAAAmE,KAAAmgF,gBAAAj4E,EAAAi4E,gBAAAngF,KAAA+vB,OAAA/vB,KAAAkiF,YAA0F,QAAApmF,EAAA,KAAAkoC,EAAA97B,EAAmB87B,IAAAhkC,MAASlE,EAAAkoC,MAAA+9C,MAAe,OAAAjmF,GAAAY,EAAA,OAAyBZ,EAAAimF,MAAA/9C,EAAA+9C,MAAgB/hF,KAAA+hF,MAAA75E,EAAaD,EAAAi4E,WAAAlgF,KAAkBA,KAAAogF,QAAA,EAAeX,GAAAx3E,EAAApM,GAAQqM,EAAAlI,KAAA+hF,MAAa/hF,KAAA+hF,MAAA,KAAgB75E,EAAAD,EAAAi4E,WAAAh4E,EAAiB,OAAAA,KAAA85E,cAAA95E,EAAA6nB,OAAA7nB,EAAAg6E,gBAAgDliF,KAAA+hF,MACnf,KAAA/hF,KAAAogF,QAAA,GAAqBwB,GAAAxkF,UAAA4iF,YAAA,WAAoC,IAAAhgF,KAAAiiF,aAAA,CAAuBjiF,KAAAiiF,cAAA,EAAqB,IAAAh6E,EAAAjI,KAAA8hF,WAAsB,UAAA75E,EAAA,QAAAC,EAAA,EAAwBA,EAAAD,EAAA7G,OAAW8G,KAAA,EAAAD,EAAAC,QAAgHi6E,GAAA/kF,UAAA6kB,KAAA,SAAAha,GAA8B,GAAAjI,KAAAoiF,WAAAn6E,QAAuB,CAAK,IAAAC,EAAAlI,KAAA8hF,WAAsB,OAAA55E,MAAAlI,KAAA8hF,WAAA,IAAiC55E,EAAAH,KAAAE,KAC/Xk6E,GAAA/kF,UAAAilF,UAAA,WAAkC,IAAAriF,KAAAoiF,WAAA,CAAqBpiF,KAAAoiF,YAAA,EAAmB,IAAAn6E,EAAAjI,KAAA8hF,WAAsB,UAAA75E,EAAA,QAAAC,EAAA,EAAwBA,EAAAD,EAAA7G,OAAW8G,IAAA,CAAK,IAAArM,EAAAoM,EAAAC,GAAW,oBAAArM,GAAAa,EAAA,MAAAb,GAAwCA,OAE3LymF,GAAAllF,UAAA2yB,OAAA,SAAA9nB,EAAAC,GAAkC,IAAArM,EAAAmE,KAAAuiF,cAAAzmF,EAAA,IAAAqmF,GAAmG,OAAjEj6E,OAAA,IAAAA,EAAA,KAAAA,EAAoB,OAAAA,GAAApM,EAAAmmB,KAAA/Z,GAAoBu5E,GAAAx5E,EAAApM,EAAA,KAAAC,EAAAumF,WAAyBvmF,GAAUwmF,GAAAllF,UAAA2lF,QAAA,SAAA96E,GAAiC,IAAAC,EAAAlI,KAAAuiF,cAAA1mF,EAAA,IAAAsmF,GAAsG,OAApEl6E,OAAA,IAAAA,EAAA,KAAAA,EAAoB,OAAAA,GAAApM,EAAAomB,KAAAha,GAAoBw5E,GAAA,KAAAv5E,EAAA,KAAArM,EAAAwmF,WAA4BxmF,GAAUymF,GAAAllF,UAAAulF,kCAAA,SAAA16E,EAAAC,EAAArM,GAA+D,IAAAC,EAAAkE,KAAAuiF,cAAAv+C,EAAA,IAAAm+C,GAAgG,OAA9DtmF,OAAA,IAAAA,EAAA,KAAAA,EAAoB,OAAAA,GAAAmoC,EAAA/hB,KAAApmB,GAAoB4lF,GAAAv5E,EAAApM,EAAAmM,EAAA+7B,EAAAq+C,WAAsBr+C,GAC/bs+C,GAAAllF,UAAA4lF,YAAA,WAAoC,IAAA/6E,EAAA,IAAA25E,GAAA5hF,MAAAkI,EAAAD,EAAAk4E,gBAAAtkF,EAAAmE,KAAAuiF,cAAAzmF,EAAAD,EAAAqkF,WAA2E,UAAApkF,EAAAD,EAAAqkF,WAAAj4E,IAAA85E,MAAA,SAAwC,CAAK,IAAAlmF,EAAA,KAAW,OAAAC,KAAAqkF,iBAAAj4E,GAA+BrM,EAAAC,MAAAimF,MAAe95E,EAAA85E,MAAAjmF,EAAU,OAAAD,MAAAkmF,MAAA95E,GAAsB,OAAAA,GAAsJquD,GAAA+qB,GAAM9qB,GAAAgrB,GAAM/qB,GAAA,WAAcxL,IAAA,IAAAmzB,KAAA0B,GAAA1B,IAAA,GAAAA,GAAA,IAIra,IAAA8E,GAAA,CAAQC,aAAAN,GAAAt7E,YAAA,SAAAW,GAAwC,SAAAA,EAAA,YAAuB,OAAAA,EAAAyvD,SAAA,OAAAzvD,EAA2B,IAAAC,EAAAD,EAAAspE,oBAA4I,YAAhH,IAAArpE,IAAA,oBAAAD,EAAA8nB,OAAArzB,EAAA,OAAAA,EAAA,MAAAR,OAAA2J,KAAAoC,KAA4EA,EAAA23D,GAAA13D,GAAQD,EAAA,OAAAA,EAAA,KAAAA,EAAA2oD,UAA4B3oD,GAAS2wE,QAAA,SAAA3wE,EAAAC,EAAArM,GAA+C,OAAtB2mF,GAAAt6E,IAAAxL,EAAA,OAAsBgmF,GAAA,KAAAz6E,EAAAC,GAAA,EAAArM,IAAyBk0B,OAAA,SAAA9nB,EAAAC,EAAArM,GAA8C,OAAtB2mF,GAAAt6E,IAAAxL,EAAA,OAAsBgmF,GAAA,KAAAz6E,EAAAC,GAAA,EAAArM,IAAyBsnF,oCAAA,SAAAl7E,EAAAC,EAAArM,EAAAC,GACvX,OAD8a0mF,GAAA3mF,IAAAa,EAAA,QAAsB,MAAAuL,QAAA,IAAAA,EAAAspE,sBACnd70E,EAAA,MAAegmF,GAAAz6E,EAAAC,EAAArM,GAAA,EAAAC,IAAsBsyB,uBAAA,SAAAnmB,GAAyD,OAArBu6E,GAAAv6E,IAAAvL,EAAA,QAAqBuL,EAAAyzE,sBAAA4F,GAAA,WAA4CoB,GAAA,UAAAz6E,GAAA,aAA6BA,EAAAyzE,oBAAA,UAA6B,IAAS0H,sBAAA,WAAkC,OAAAR,GAAAxiF,WAAA,EAAAC,YAAkCgjF,wBAAAhC,GAAAiC,4BAAA/B,GAAAgC,UAAA,SAAAt7E,EAAAC,GAAmF8iD,IAAAtuD,EAAA,OAAkB,IAAAb,EAAAyxD,GAAQA,IAAA,EAAK,IAAI,OAAAixB,GAAAt2E,EAAAC,GAAe,QAAQolD,GAAAzxD,EAAAgkF,GAAA,iBAAuB2D,oBAAAC,GAAAC,yBAAA,SAAAz7E,GAA6D,IAAAC,EAClfolD,GAAEA,IAAA,EAAK,IAAIixB,GAAAt2E,GAAM,SAAQqlD,GAAAplD,IAAA8iD,IAAA60B,GAAA,iBAA6B3yB,mDAAA,CAAqDy2B,OAAA,CAAAxyB,EAAAC,EAAAC,EAAAb,EAAAE,yBAAAtB,EAAA0C,EAAA,SAAA7pD,GAA+DgoD,EAAAhoD,EAAA4pD,IAASuE,GAAAC,GAAAiP,GAAAzU,KAAgB,SAAA4yB,GAAAx7E,EAAAC,GAA6D,OAA5Cs6E,GAAAv6E,IAAAvL,EAAA,6BAA4C,IAAA4lF,GAAAr6E,GAAA,QAAAC,IAAA,IAAAA,EAAA0wE,UAChQ,SAAA3wE,GAAa,IAAAC,EAAAD,EAAA27E,wBAAgChV,GAAAtxE,EAAA,GAAc2K,EAAA,CAAI47E,cAAA,KAAAC,qBAAAvrB,GAAApL,uBAAA42B,wBAAA,SAAA97E,GAA8G,OAARA,EAAA23D,GAAA33D,GAAQ,OAAAA,EAAA,KAAAA,EAAA2oD,WAAiCgzB,wBAAA,SAAA37E,GAAqC,OAAAC,IAAAD,GAAA,UAAnP,CAA0Q,CAAG27E,wBAAA3yB,EAAA+yB,WAAA,EAAAt2D,QAAA,SAAAu2D,oBAAA,cAA2F,IAAAC,GAAA,CAAQjmF,QAAAglF,IAAWkB,GAAAD,IAAAjB,IAAAiB,GAAe3oF,EAAAD,QAAA6oF,GAAAlmF,SAAAkmF,iCCxQ1Y5oF,EAAAD,QAAmBF,EAAQ,mCCH3B,SAAAgpF,GASaloF,OAAAC,eAAAb,EAAA,cAA4CmB,OAAA,IAAW,IAAAZ,EAAA,KAAAusD,GAAA,EAAAD,EAAA,EAAAb,GAAA,EAAA7rD,GAAA,EAAAG,GAAA,EAAAqB,GAAA,EAAwC,SAAAK,IAAa,IAAA1B,EAAA,CAAO,IAAAqM,EAAApM,EAAA+zE,eAAuB3yE,EAAAuqD,IAAAvqD,GAAA,EAAWX,EAAAI,EAAAuL,IAClK,SAAAw/C,IAAa,IAAAx/C,EAAApM,EAAAqM,EAAArM,EAAA2K,KAAiB,GAAA3K,IAAAqM,EAAArM,EAAA,SAAgB,CAAK,IAAAC,EAAAD,EAAAwoF,SAAiBxoF,EAAAC,EAAA0K,KAAA0B,EAAWA,EAAAm8E,SAAAvoF,EAAamM,EAAAzB,KAAAyB,EAAAo8E,SAAA,KAAuBvoF,EAAAmM,EAAAwhB,SAAavhB,EAAAD,EAAA2nE,eAAmB3nE,IAAAq8E,cAAkB,IAAAtgD,EAAAmkB,EAAAkC,EAAA5uD,EAAY0sD,EAAAlgD,EAAIxM,EAAAyM,EAAI,IAAI,IAAAggD,EAAApsD,IAAU,QAAQqsD,EAAAnkB,EAAAvoC,EAAA4uD,EAAQ,uBAAAnC,EAAA,GAAAA,EAAA,CAA+Bz+B,SAAAy+B,EAAAo8B,cAAAr8E,EAAA2nE,eAAA1nE,EAAA1B,KAAA,KAAA69E,SAAA,MAAoE,OAAAxoF,IAAAqsD,EAAA1hD,KAAA0hD,EAAAm8B,SAAAn8B,MAAgC,CAAKpsD,EAAA,KAAOmM,EAAApM,EAAI,GAAG,GAAAoM,EAAA2nE,gBAAA1nE,EAAA,CAAwBpM,EAAAmM,EAAI,MAAMA,IAAAzB,WAASyB,IAAApM,GAAa,OAAAC,IAAAD,EAAAC,IAAAD,MAAAqsD,EAAA5qD,KAA8B4K,EAAApM,EAAAuoF,SAAan8E,EAAA1B,KAAA1K,EAAAuoF,SAAAn8B,EAAoBA,EAAA1hD,KAAA1K,EAASosD,EAAAm8B,SAC7en8E,GAAG,SAAAw/C,IAAa,QAAAJ,GAAA,OAAAzrD,GAAA,IAAAA,EAAAyoF,cAAA,CAA0C1oF,GAAA,EAAK,IAAI,GAAA6rD,UAAO,OAAA5rD,GAAA,IAAAA,EAAAyoF,eAAqC,QAAQ1oF,GAAA,SAAAC,EAAAyB,IAAAL,GAAA,IAAyB,SAAAP,EAAAuL,GAAcrM,GAAA,EAAK,IAAAsM,EAAAkgD,EAAQA,EAAAngD,EAAI,IAAI,GAAAA,EAAA,KAAU,OAAApM,GAAS,CAAE,IAAAC,EAAAR,EAAA0jF,eAA6B,KAAAnjF,EAAA+zE,gBAAA9zE,GAAoE,MAA5C,GAAA2rD,UAAO,OAAA5rD,KAAA+zE,gBAAA9zE,QAAgD,UAAAD,EAAkB,GAAA4rD,UAAO,OAAA5rD,IAAA8rD,KAAuB,QAAQ/rD,GAAA,EAAAwsD,EAAAlgD,EAAA,OAAArM,EAAAyB,IAAAL,GAAA,EAAAyqD,KAC5W,IAAAa,EAAAK,EAAAxtC,EAAAgK,KAAA/J,EAAA,oBAAA9F,2BAAA,EAAAqyC,EAAA,oBAAAtmC,+BAAA,EAAAymC,EAAA,oBAAAzyC,iDAAA,EAAAgzC,EAAA,oBAAAthC,+CAAA,EAAyQ,SAAA6hC,EAAA5gD,GAAcsgD,EAAAR,EAAA,SAAA7/C,GAAgB0/C,EAAAgB,GAAK3gD,EAAAC,KAAO0gD,EAAAvtC,EAAA,WAAeitC,EAAAC,GAAKtgD,EAAA3M,EAAA0jF,iBAA0B,KACjW,qBAAAuF,aAAA,oBAAAA,YAAAl/D,IAAA,CAAuE,IAAA0jC,EAAAw7B,YAAkBjpF,EAAA0jF,aAAA,WAAgC,OAAAj2B,EAAA1jC,YAAgB/pB,EAAA0jF,aAAA,WAAqC,OAAA5jE,EAAAiK,OAAgB,IAAA/oB,EAAAkrD,EAAAG,EAAAqB,EAAA,KAC9L,GAD+M,qBAAA3zC,OAAA2zC,EAAA3zC,OAAA,qBAAA+uE,IAAAp7B,EAAAo7B,GAC/Mp7B,KAAAw7B,WAAA,CAAoB,IAAAr7B,EAAAH,EAAAw7B,WAAmBloF,EAAA6sD,EAAA,GAAO3B,EAAA2B,EAAA,GAAOxB,EAAAwB,EAAA,GAAO7tD,EAAA0jF,aAAA71B,EAAA,QAA0B,wBAAA9zC,QAAA,oBAAAovE,eAAA,CAAyE,IAAAp7B,EAAA,KAAAC,EAAA,SAAArhD,GAAyB,UAAAohD,EAAA,IAAgBA,EAAAphD,GAAK,QAAQohD,EAAA,OAAS/sD,EAAA,SAAA2L,GAAc,OAAAohD,EAAA9zC,WAAAjZ,EAAA,EAAA2L,IAAAohD,EAAAphD,EAAAsN,WAAA+zC,EAAA,QAAqD9B,EAAA,WAAa6B,EAAA,MAAQ1B,EAAA,WAAa,cAAU,CAAK,qBAAA7jD,UAAA,oBAAAikD,GAAAjkD,QAAAC,MAAA,2IAClV,oBAAAukD,GAAAxkD,QAAAC,MAAA,2IAAgL,IAAAwlD,EAAA,KAAAC,GAAA,EAAAG,GAAA,EAAAI,GAAA,EAAAI,GAAA,EAAAC,EAAA,EAAAI,EAAA,GAAAC,EAAA,GAA6C9C,EAAA,WAAa,OAAAyC,GAAA9uD,EAAA0jF,gBAAkC,IAAAt0B,EAAA,IAAA+5B,eAAA75B,EAAAF,EAAAg6B,MAAmCh6B,EAAAi6B,MAAAC,UAAA,WAA6Bp7B,GAAA,EAAK,IAAAvhD,EAAAshD,EAAArhD,EAAAyhD,EAAYJ,EAAA,KAAOI,GAAA,EAAK,IAAA7tD,EAAAR,EAAA0jF,eAAAh7C,GAAA,EAAkC,MAAAomB,EAAAtuD,EAAA,WAAAoM,MAAApM,GAA2D,OAAvBiuD,OAAA,EAAAlB,EAAAkC,IAAexB,EAAAthD,OAAI0hD,EAAAzhD,GAAvD87B,GAAA,EAAkE,UAAA/7B,EAAA,CAAakiD,GAAA,EAAK,IAAIliD,EAAA+7B,GAAK,QAAQmmB,GAAA,KAChf,IAAAY,EAAA,SAAA9iD,GAAkB,UAAAshD,EAAA,CAAaV,EAAAkC,GAAK,IAAA7iD,EAAAD,EAAAmiD,EAAAK,EAAYviD,EAAAuiD,GAAAD,EAAAC,GAAA,EAAAviD,MAAA,GAAAuiD,EAAAviD,EAAAsiD,IAAAtiD,GAAAsiD,EAAAtiD,EAAoCkiD,EAAAniD,EAAAwiD,EAAMjB,OAAA,EAAAoB,EAAAi6B,iBAAA,SAAgC96B,GAAA,GAAWztD,EAAA,SAAA2L,EAAAC,GAAgBqhD,EAAAthD,EAAI0hD,EAAAzhD,EAAIiiD,GAAA,EAAAjiD,EAAA0iD,EAAAi6B,iBAAA,GAAA96B,OAAA,EAAAlB,EAAAkC,KAA6CvD,EAAA,WAAa+B,EAAA,KAAOC,GAAA,EAAKG,GAAA,GAAMruD,EAAAwpF,2BAAA,EAAqCxpF,EAAAypF,8BAAA,EAAwCzpF,EAAA0pF,wBAAA,EAAkC1pF,EAAA2pF,sBAAA,EAAgC3pF,EAAA4pF,qBAAA,EACxX5pF,EAAA6pF,yBAAA,SAAAl9E,EAAAC,GAA+C,OAAAD,GAAU,yCAAyC,QAAAA,EAAA,EAAY,IAAAnM,EAAAqsD,EAAAnkB,EAAAsjB,EAAYa,EAAAlgD,EAAIq/C,EAAAhsD,EAAA0jF,eAAyB,IAAI,OAAA92E,IAAW,QAAQigD,EAAArsD,EAAAwrD,EAAAtjB,EAAA0jB,MAC9KpsD,EAAAyxE,0BAAA,SAAA9kE,EAAAC,GAAgD,IAAApM,GAAA,IAAAwrD,IAAAhsD,EAAA0jF,eAAsC,qBAAA92E,GAAA,OAAAA,GAAA,kBAAAA,EAAA+oB,QAAA/oB,EAAApM,EAAAoM,EAAA+oB,aAA4E,OAAAk3B,GAAe,OAAAjgD,EAAApM,GAAA,EAAc,MAAM,OAAAoM,EAAApM,EAAA,IAAe,MAAM,OAAAoM,EAAApM,EAAA,WAAsB,MAAM,OAAAoM,EAAApM,EAAA,IAAe,MAAM,QAAAoM,EAAApM,EAAA,IAAwF,GAAxEmM,EAAA,CAAGwhB,SAAAxhB,EAAAq8E,cAAAn8B,EAAAynB,eAAA1nE,EAAA1B,KAAA,KAAA69E,SAAA,MAAqE,OAAAxoF,IAAAoM,EAAAzB,KAAAyB,EAAAo8E,SAAAp8E,EAAA3K,QAAsC,CAAKxB,EAAA,KAAO,IAAAkoC,EAAAnoC,EAAQ,GAAG,GAAAmoC,EAAA4rC,eAAA1nE,EAAA,CAAuBpM,EAAAkoC,EAAI,MAAMA,IAAAx9B,WAASw9B,IAAAnoC,GAAa,OAAAC,IAAAD,EAAAC,IAAAD,MAAAoM,EAAA3K,KACvd4K,EAAApM,EAAAuoF,SAAan8E,EAAA1B,KAAA1K,EAAAuoF,SAAAp8E,EAAoBA,EAAAzB,KAAA1K,EAASmM,EAAAo8E,SAAAn8E,EAAa,OAAAD,GAAU3M,EAAA2xE,wBAAA,SAAAhlE,GAA4C,IAAAC,EAAAD,EAAAzB,KAAa,UAAA0B,EAAA,CAAa,GAAAA,IAAAD,EAAApM,EAAA,SAAgB,CAAKoM,IAAApM,MAAAqM,GAAa,IAAApM,EAAAmM,EAAAo8E,SAAiBvoF,EAAA0K,KAAA0B,EAASA,EAAAm8E,SAAAvoF,EAAamM,EAAAzB,KAAAyB,EAAAo8E,SAAA,OAAyB/oF,EAAA8pF,sBAAA,SAAAn9E,GAA0C,IAAAC,EAAAigD,EAAQ,kBAAkB,IAAArsD,EAAAqsD,EAAAnkB,EAAAsjB,EAAYa,EAAAjgD,EAAIo/C,EAAAhsD,EAAA0jF,eAAyB,IAAI,OAAA/2E,EAAA7H,MAAAJ,KAAAK,WAA+B,QAAQ8nD,EAAArsD,EAAAwrD,EAAAtjB,EAAA0jB,OAAepsD,EAAA+pF,iCAAA,WAAoD,OAAAl9B,GACpc7sD,EAAAykF,qBAAA,WAAwC,OAAA33B,IAAA,OAAAvsD,KAAA+zE,eAAAn0E,GAAAksD,MAA+CrsD,EAAAgqF,2BAAA,WAA8C,OAAAzpF,GAAAyB,KAAehC,EAAAiqF,wBAAA,aAA6CjqF,EAAAkqF,8BAAA,WAAiD,OAAA3pF,qCCpBlP,IAAAqsD,EAGAA,EAAA,WACA,OAAAloD,KADA,GAIA,IAEAkoD,KAAA,IAAAu9B,SAAA,iBACC,MAAAzhD,GAED,kBAAA3uB,SAAA6yC,EAAA7yC,QAOA9Z,EAAAD,QAAA4sD,gCClBK3kD,SAAS6gB,QAAQ/nB,IAAI,kBAazBkH,SAAS6gB,QAAQyM,IAAI,gBAAiB,CAQrCq2B,WAAY,SAAS5oD,GAEpB,IAAIiF,SAAS6gB,QAAQ/nB,IAAI,QAAzB,CAQA,IAJA,IAAIqpF,EAAS,GACTC,EAAernF,EAAO+8B,EAAEuqD,WAAa,GACrC73B,EAAazvD,EAAO+8B,EAAE0yB,UAAY,GAE7BvyD,EAAI,EAAGA,EAAIkqF,EAAOtkF,OAAQ5F,IAClCmqF,EAAYD,EAAOlqF,IAAMA,EAAI,EAY9B8C,EAAOunF,aAAe,SAAS9pF,EAAMuuE,GACpCqb,EAAY5pF,GAAQuuE,GAAS,KAU9BhsE,EAAOwnF,YAAc,SAAS/pF,EAAMoyD,GAC/Bw3B,EAAYx3B,EAAW43B,SAC1Bh4B,EAAUhyD,GAAQ,CACjBA,KAAMA,EACNoyD,WAAYA,KAWf7vD,EAAO0nF,aAAe,SAASC,GAC9B,IAAK,IAAIC,KAAYD,EAChBA,EAAY5oF,eAAe6oF,IAC9BlmF,KAAK8lF,YAAYI,EAAUD,EAAYC,KAY1C5nF,EAAO2vD,YAAc,SAASlyD,GAC7B,OAAOgyD,EAAUhyD,IASlBuC,EAAO6nF,eAAiB,SAASpqF,UACzBgyD,EAAUhyD,+RCjGrB0B,EAAArC,EAAA,UACA4P,EAAA5P,EAAA,WACAsC,EAAAtC,EAAA,4nBAGA,IAAKmI,SAAS6gB,QAAQ/nB,IAAI,4BAA6B,CACtD,IAAI+pF,EAAkB,GAYlBC,EAAgC,SACnCC,EACAC,EACAjoF,GAEA,IAO4BuC,EAAAG,EAPxBwlF,EAAwBn6E,YAAYia,QAAQggE,IAEhDF,EAAgB9nF,EAAOvC,MAAQqqF,EAAgB9nF,EAAOvC,OAAS,GAC/DqqF,EAAgB9nF,EAAOvC,MAAMuqF,GAC5BF,EAAgB9nF,EAAOvC,MAAMuqF,IAC7BC,EAEIC,KACJA,gBAAA,SAAAA,IAAA,OAAAzmF,EAAAC,KAAAwmF,GAAAvmF,EAAAD,MAAAwmF,EAAAtmF,WAAAhE,OAAAiE,eAAAqmF,IAAApmF,MAAAJ,KAAAK,YAAA,OAAAC,EAAAkmF,EAAArgC,GAAA5lD,EAAAimF,EAAA,EAAAzpF,IAAA,cAAAN,MAAA,eAAAM,IAAA,SAAAN,MAAA,WAYE,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCuxD,EACHw4B,EAAgB9nF,EAAOvC,MAAMuqF,GAC3BvqF,MACFqqF,EAAgB9nF,EAAOvC,MAAMuqF,GAC3B3kF,SACF2kF,EAEGlgC,EAAkB,6BAElBI,EAAgB,WAAaoH,EAE7BnH,EAAY,GAEZC,EAAWnjD,SAASojD,KAAKC,aAC5BgH,GAGD,GAAIlH,EAAU,CACb,IAAIG,EAAgBH,EAASvjD,MAAM,KAEnCsjD,EAAUtf,gBAAkB0f,EAAc,GAAGxmB,UAC5CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAEjCuhD,EAAUK,mBAAqBD,EAAc,GAAGxmB,UAC/CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAEjCuhD,EAAUM,eAAiBF,EAAc,GAAGxmB,UAC3CwmB,EAAc,GAAG3hD,QAAQ,KAAO,GAIlC,IAAIuhF,SAMJ,OAJIzmF,KAAKT,MAAMwW,WACd0wE,EAAQzmF,KAAK0mF,aAIb1oF,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aACCqyE,EAAgB9nF,EAAOvC,MACtBuqF,GACCx7E,MAEHhN,UAAWsoD,EACXnyC,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MACCkyE,EAAgB9nF,EAAOvC,MACtBuqF,GACCx7E,OAEH9M,EAAAC,QAAAC,cAAA,QACCJ,UAAW0oD,EACXvjD,MAAOwjD,KAGRggC,KA1EL,CAAA1pF,IAAA,YAAAN,MAAA,WAgFE,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCsqF,EACHP,EAAgB9nF,EAAOvC,MAAMuqF,GAC3BM,QAECH,EAAQ,CACXriD,KAAMpkC,KAAKT,MAAM2M,eACjBi4B,KAAMnkC,KAAKT,MAAM2M,gBAGd26E,EAAe,IAAItjF,SAASwX,IAAIpU,QAAQ,OAExCioC,EAAQ,CACXjoC,QAASkgF,EACThhF,KAAM,IAWP,OAPI8gF,GACHA,EAAuBhrF,KAAKqE,KAAMymF,EAAO73C,GAOzC5wC,EAAAC,QAAAC,cAACiO,EAAAlO,QAAD,CAAgB0H,UAAW3F,KAAKT,MAAM2M,gBACrClO,EAAAC,QAAAC,cAAA,OACCJ,UAAW+oF,EAAa/+E,aAAa,SACrCyU,wBAAyB,CACxBC,OAAQqqE,EAAaC,kBA/G3BN,GAAsCvnF,UAAMG,WAA5CyB,EACQkB,YAAc/C,UADtB6B,EAGQmmD,YAAcs/B,EAHtBzlF,EAKQ9D,IAAMupF,EALdE,EAAAxlF,EAuHAqL,YAAYia,QAAQggE,GAAuBE,GAG5C,OAAOA,GAIHjjF,SAAS6gB,QAAQ/nB,IAAI,qBACzBkH,SAASwjF,eAAiB,kBAE1BxjF,SAAS6gB,QAAQyM,IAAI,kBAAmB,KAIpCttB,SAAS6gB,QAAQ/nB,IAAI,iBACzBkH,SAASwjF,eAAiB,cAE1BxjF,SAAS6gB,QAAQyM,IAAI,cAAe,KAarCttB,SAAS6gB,QAAQyM,IAAI,2BAA4B,CAChDmD,SAAU,CAAC,eASXkzB,WAAY,SAAS5oD,GACpBA,EAAO6oD,GAAG6/B,mBAAqB,SAC9BV,EACAC,GAEAvmF,KAAK6wB,IACJy1D,EACA/iF,SAASwjF,eACTR,IAIFjoF,EAAO6oD,GAAGE,WAAW9jD,SAASwjF,eAAgB,CAC7Cl2D,IAAKw1D,EACLvpF,OAAQ,SAASypF,GAChB,IAAID,EACH,yBAA4C,IAAhBr/E,KAAKwC,WAAoB,GAClD+8E,EAAwBH,EAC3BC,EACAC,GAGD,OAAO,IAAIC,gSCpNhB/oF,EAAArC,EAAA,UACA4P,EAAA5P,EAAA,WACA0V,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,4nBAGA,IAAKmI,SAAS6gB,QAAQ/nB,IAAI,sBAAuB,CAChD,IAAI4qF,EAAkB,GAYlBC,EAA0B,SAC7BC,EACAC,EACA9oF,GAEA,IAOsBuC,EAAAG,EAPlBqmF,EAAkBh7E,YAAYia,QAAQ6gE,IAE1CF,EAAgB3oF,EAAOvC,MAAQkrF,EAAgB3oF,EAAOvC,OAAS,GAC/DkrF,EAAgB3oF,EAAOvC,MAAMorF,GAC5BF,EAAgB3oF,EAAOvC,MAAMorF,IAAkBC,EAChDH,EAAgB3oF,EAAOvC,MAAMorF,GAAeG,kBAAevpF,EAEtDspF,KACJA,gBAOC,SAAAA,EAAY9nF,GAAOQ,EAAAC,KAAAqnF,GAAA,IAAApmF,EAAAhB,EAAAD,MAAAqnF,EAAAnnF,WAAAhE,OAAAiE,eAAAknF,IAAA1rF,KAAAqE,KACZT,IADY,OAAA0B,EAmInBib,SAAW,SAAAzX,GACV,IAAInG,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEjCkrF,EACHN,EAAgB3oF,EAAOvC,MAAMorF,GAE9B,GAAII,EAAYtzE,QAAS,CACxB,IAAIq7B,EAAW7qC,EAAMsrD,cAAcjoD,aAClC,cAGDy/E,EAAYtzE,QAAQtY,KAApBsF,EAA+BquC,GAE/B23C,EAAgB3oF,EAAOvC,MACtBorF,GACCG,aAAeh4C,EAEjBhxC,EAAOwD,KAAK,kBAAZb,KAlJDA,EAAKsH,MAAQ,CACZ9L,MACCwqF,EAAgB3oF,EAAOvC,MAAMorF,GAC3BG,cALcrmF,EAPpB,OAAAX,EAAA+mF,EAAAlhC,GAAA5lD,EAAA8mF,EAAA,EAAAtqF,IAAA,SAAAN,MAAA,eAAAM,IAAA,cAAAN,MAAA,eAAAM,IAAA,UAAAN,MAAA,eAAAM,IAAA,SAAAN,MAAA,eAAAM,IAAA,WAAAN,MAAA,eAAAM,IAAA,YAAAN,MAAA,eAAAM,IAAA,WAAAN,MAAA,eAAAM,IAAA,OAAAN,MAAA,eAAAM,IAAA,UAAAN,MAAA,eAAAM,IAAA,aAAAN,MAAA,eAAAM,IAAA,YAAAN,MAAA,eAAAM,IAAA,MAAAN,MAAA,SA8BKA,EAAOkpC,EAASzxB,GACnBlU,KAAKwnF,OAAOz/E,KAAK,CAChB49B,QAASA,EACTzxB,MAAOA,EACPzX,MAAOA,MAlCV,CAAAM,IAAA,qBAAAN,MAAA,WAuCE,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCkrF,EACHN,EAAgB3oF,EAAOvC,MAAMorF,GAE9BnnF,KAAKwnF,OAAS,GAEdxnF,KAAKi4D,SAAWj4D,KAAKynF,UAEjBF,EAAYpwD,MACfowD,EAAYpwD,KAAKx7B,KAAKqE,MAGnBunF,EAAYG,UACfH,EAAYG,SAAS/rF,KAAKqE,QArD7B,CAAAjD,IAAA,uBAAAN,MAAA,WA0DEuD,KAAK2nF,YAAY3nF,KAAKuI,MAAM9L,OAE5BuD,KAAKi4D,SAAWj4D,KAAK2nF,cA5DvB,CAAA5qF,IAAA,WAAAN,MAAA,WAgEE,OAAOuD,KAAKuI,MAAM9L,QAhEpB,CAAAM,IAAA,SAAAN,MAAA,WAoEE,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCurF,EACHX,EAAgB3oF,EAAOvC,MAAMorF,GAC3BG,cAAgBF,EAAoBt8E,MAEvC,OACC9M,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,yCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAY6zE,EACZ9pF,UAAU,qBACVmW,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO0zE,GACP5pF,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gBACdE,EAAAC,QAAAC,cAAA,QAAMJ,UAAU,uCACd8pF,GAEF5pF,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBAGpBoC,KAAKT,MAAMwW,UACX/X,EAAAC,QAAAC,cAACiO,EAAAlO,QAAD,CACC0H,UAAW3F,KAAKT,MAAM2M,gBACrBlM,KAAK6nF,gBA9FZ,CAAA9qF,IAAA,cAAAN,MAAA,SAqGaA,GACX,IAAI6B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAErC4qF,EAAgB3oF,EAAOvC,MACtBorF,GACCG,aAAe7qF,IA1GnB,CAAAM,IAAA,YAAAN,MAAA,WA8GE,IAAIqrF,EAAY9nF,KAEZ0K,EAAQ1K,KAAKwnF,OAAO78E,IACvB,SAAS/C,GACR,IAAI9J,EACH,uBACC8J,EAAKnL,QAAUuD,KAAKuI,MAAM9L,MACxB,SACA,IAEJ,OACCuB,EAAAC,QAAAC,cAAA,MAAInB,IAAK6K,EAAKsM,MAAOhL,KAAK,UACzBlL,EAAAC,QAAAC,cAAA,UACCJ,UAAWA,EACXye,wBAAyB,CACxBC,OAAQ5U,EAAK+9B,SAEd/jB,aAAYha,EAAKnL,MACjBwX,QAAS6zE,EAAU5rE,aAIrBlf,KAAKgD,OAGR,OAAO0K,IAvIT,CAAA3N,IAAA,YAAAN,MAAA,SA+JWA,GACTuD,KAAK2nF,YAAYlrF,GAEjBuD,KAAKsQ,SAAS,CACb7T,MAAOA,QAnKV4qF,GAAgCpoF,UAAMG,WAAtCyB,EACQkB,YAAc/C,UADtB6B,EAGQmmD,YAAcmgC,EAHtBtmF,EAKQ9D,IAAMoqF,EALdE,EAAArmF,EAwKAqL,YAAYia,QAAQ6gE,GAAiBE,GAGtC,OAAOA,GAIH9jF,SAAS6gB,QAAQ/nB,IAAI,eACzBkH,SAASwkF,aAAe,YAExBxkF,SAAS6gB,QAAQyM,IAAI,YAAa,KAanCttB,SAAS6gB,QAAQyM,IAAI,qBAAsB,CAC1CmD,SAAU,CAAC,eASXkzB,WAAY,SAAS5oD,GACpBA,EAAO6oD,GAAG6gC,aAAe,SACxBb,EACAC,GAEApnF,KAAK6wB,IACJs2D,EACA5jF,SAASwkF,aACTX,IAIF9oF,EAAO6oD,GAAGE,WAAW9jD,SAASwkF,aAAc,CAC3Cl3D,IAAKq2D,EACLpqF,OAAQ,SAASsqF,GAChB,IAAID,EACH,mBAAsC,IAAhBlgF,KAAKwC,WAAoB,GAC5C49E,EAAkBH,EACrBC,EACAC,GAGD,OAAO,IAAIC,uCC9PX9jF,SAAS6gB,QAAQ/nB,IAAI,gBASzBkH,SAAS6gB,QAAQyM,IAAI,cAAe,CAOnCq2B,WAAY,SAAS5oD,GACpB,IAAI2pF,EAAkB3pF,EAAO6oD,GAAGt2B,IAEhCvyB,EAAO6oD,GAAGt2B,IAAM,SAAS90B,EAAMyJ,EAAM2oD,GACpC85B,EAAgBtsF,KAAKqE,KAAMjE,EAAMyJ,EAAM2oD,GAEvC,IAAI+5B,EAAcloF,KAAKq7B,EAAE8sD,SAAS3iF,GAE9B0iF,GAAeA,EAAYr3D,MAC9Bq3D,EAAYr3D,IAAI90B,EAAMoyD,EAAY7vD,GAClC+N,YAAY4f,qBACXlwB,EACAuC,EAAOw1B,qBAAqBrG,OAAO1xB,0FC7BzC,IAAA+tB,EAAA1uB,EAAA,WACAuE,EAAAvE,EAAA,UACA2uB,EAAA3uB,EAAA,8DAQA,SAASwxB,EAAKnuB,GACbmuB,EAAK1c,WAAWD,YAAYtU,KAAKqE,KAAMvB,GAEvCuB,KAAKm3B,KAAK14B,IAGX,EAAAkuB,EAAA1uB,SAAO2uB,EAAMlV,UAAW,CAUvByf,KAAM,SAAS14B,GACduB,KAAKooF,WAAW,cAAe3pF,IAUhC+vB,QAAS,WACRxuB,KAAKooF,WAAW,eAajBA,WAAY,SAASC,EAAKhnF,GACzB,IAAI4jC,EAAM,GAENqjD,EAAOtoF,KAAKiQ,YAEhB,MAAOq4E,EACF7nF,UAAKC,WAAW4nF,EAAKlrF,UAAUirF,KAClCpjD,EAAIl9B,KAAKugF,EAAKlrF,UAAUirF,IAGzBC,EAAOA,EAAKp4E,WAAao4E,EAAKp4E,WAAWD,YAAc,KAGxDg1B,EAAMA,EAAIsjD,UAEVlnF,EAAOZ,UAAKuB,QAAQX,GAAQA,EAAO,CAACA,GAEpC,IAAK,IAAI7F,EAAI,EAAGA,EAAIypC,EAAI7jC,OAAQ5F,IAAK,CACpC,IAAIoM,EAAOq9B,EAAIzpC,GAEfoM,EAAKxH,MAAMJ,KAAMqB,iBAKLurB,0UC5Ef47D,EAAAptF,EAAA,WACAqC,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,UACAqtF,EAAArtF,EAAA,WACAyN,EAAAzN,EAAA,UACAsC,EAAAtC,EAAA,goBASMstF,cAoDL,SAAAA,EAAYnpF,GAAOQ,EAAAC,KAAA0oF,GAAA,IAAAznF,EAAAhB,EAAAD,MAAA0oF,EAAAxoF,WAAAhE,OAAAiE,eAAAuoF,IAAA/sF,KAAAqE,KACZT,IADY,OAAA0B,EAwOnB0nF,uBAAyB,WACxB,IAAMrqF,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEvCiC,EAAOkG,SAxOPvD,EAAKsH,MAAQ,CACZswE,QAAQ,GAJS53E,+DAeC,IAAAuL,EAAAxM,KACb1B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEvCiC,EAAOutB,GAAG,oBAAqB7rB,KAAK4oF,qBAAsB5oF,MAC1D1B,EAAOutB,GAAG,kBAAmB7rB,KAAK6oF,mBAAoB7oF,MACtD1B,EAAOutB,GAAG,MAAO7rB,KAAK8oF,aAAc9oF,MAUpCA,KAAK+oF,mBAAqB,SAAAtkF,GACzB+H,EAAKw8E,aAAavkF,EAAME,SAGzB3E,KAAKipF,iBAAmB1lF,SAASoF,MAAMqoB,SACtC,SAAA0L,GACClwB,EAAKw8E,aAAajkF,SAASC,gBAE5BhF,KAAKT,MAAM2wB,YACXlwB,MAGD+E,SAASsZ,iBAAiB,YAAare,KAAK+oF,oBAC5ChkF,SAASsZ,iBAAiB,UAAWre,KAAKipF,6DAYxBC,EAAWC,GAC7B,IAAM/hF,EAAUC,UAASC,YAAYtH,MAE/B1B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEnC+K,GACH9I,EAAOwD,KAAK,aAAc,CACzBk7B,QAASh9B,KAAKopF,6BAA6BhiF,KAI7C9I,EAAOwD,KAAK,eAAgB,CAC3BonF,UAAWA,EACXC,UAAWA,EACX5pF,MAAOS,KAAKT,MACZgJ,MAAOvI,KAAKuI,uDAIS8gF,GAWtB,OAVKrpF,KAAKspF,uBACTtpF,KAAKspF,qBAAuB,IAGxBtpF,KAAKspF,qBAAqBD,KAC9BrpF,KAAKspF,qBAAqBD,GAAc,IAAI9lF,SAAS6kC,SACpDpoC,KAAKupF,kBAAkBF,KAIlBrpF,KAAKspF,qBAAqBD,6CAkBjC,OACCrpF,KAAKT,MAAMiqF,aAAe,CACzBC,UAAWp9E,YAAYC,QAAQo9E,oBAC/BC,WAAYt9E,YAAYC,QAAQs9E,qBAChCC,aAAcx9E,YAAYC,QAAQw9E,6EAeR1iF,GAC5B,IAAM2iF,EAAmB3iF,EAAQI,iBAAiB,oBAElD,GAAKuiF,EAAiB3oF,OAEf,CACN,IAAM4oF,EAAe1oF,MAAMlE,UAAUsK,MACnC/L,KAAKouF,GACLp/E,IAAI,SAAAqP,GACJ,OAAOA,EAAQlS,aAAa,gBAGxBuhF,EACmB,IAAxBW,EAAa5oF,OAAe,aAAe,eAE5C,OAAOpB,KAAKiqF,uBAAuBZ,GAAY3tD,OAAO,CACrD1O,SAAUg9D,EACR7yE,KAAK,KACLwW,QAAQ,YAAa,aAdxB,OAAO3tB,KAAKupF,kBAAkBE,yDA2B3BzpF,KAAK+oF,oBACRhkF,SAASy/B,oBAAoB,YAAaxkC,KAAK+oF,oBAG5C/oF,KAAKipF,mBACRjpF,KAAKipF,iBAAiB33D,SACtBvsB,SAASy/B,oBAAoB,UAAWxkC,KAAKipF,oDAatC,IAAApnE,EAAA7hB,KACR,GAAIA,KAAKuI,MAAMswE,OACd,OAAO,KAGR,IAAI7rD,EAAW9wB,OAAO2J,KAAK7F,KAAKT,MAAMytB,UAAUriB,IAAI,SAAAqP,GACnD,OAAO3N,YAAYggB,SAASrS,IAAY3E,OAAO2E,KAmBhD,OAhBAgT,EAAWhtB,KAAKqmB,gBAAgB2G,GAAUriB,IAAI,SAAAqP,GAC7C,IAAMza,EAAQsiB,EAAK2E,oBAClB,CACC/nB,OAAQojB,EAAKtiB,MAAMytB,SAAShT,EAAQjd,KACpCuB,OAAQujB,EAAKpiB,QAAQnB,OACrBqd,YAAakG,EAAKtZ,MAAMoT,YACxB5e,IAAKid,EAAQjd,IACb4I,UAAWkc,EAAK8mE,uBAChBh7E,cAAekU,EAAKtZ,MAAMoF,eAE3BqM,EAAQjd,KAGT,OAAOkC,UAAMf,cAAc8b,EAASza,KAIpCvB,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,cAAckL,UAAWhJ,KAAKqF,WAC3C2nB,8CAce0P,GAClB,IAAMp+B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEvCiC,EAAOkG,QAEPxE,KAAKsQ,SAAS,CACbD,cAAe,KACf1C,cAAerP,EAAOq3B,kEA4BHlxB,GACpBzE,KAAKsQ,SAAS,CACbqL,YAAalX,EACbo0E,QAAQ,EACRxoE,cAAe,KACf1C,cAAelJ,EAAM/C,KAAKiM,qDAYflJ,GACZ,IAAM4iB,EAAc5iB,EAAM/C,KAAKwoF,SAAShiE,EAEpCb,EAAYwgB,QAAkC,MAAxBxgB,EAAYjhB,SACrCpG,KAAKwE,6CAcMG,GACZ,IAAMyC,EAAUC,UAASC,YAAYtH,MAErC,GAAIoH,EAAS,CACZ,IAAM6iB,EAAWjqB,KAAKP,QAAQnB,OAAOjC,IAAI,gBAAgB4tB,WACnDoE,EAAa1pB,EAAO0pB,WACpB87D,EAAa,IAAI5mF,SAASwX,IAAImP,KAAKvlB,GAEzC,GAAKslB,EAIE,CACN,IAAIX,EACHW,EAAS/B,IAAMvjB,GACfslB,EAAS7b,SAAS+7E,IAClB,IAAI5mF,SAASwX,IAAIpU,QAAQS,GAASgH,SAAS+7E,GAExC97D,IACH/E,EAAMA,GAAyB,aAAlB+E,EAAW/jB,IAGpBgf,GACJtpB,KAAKsQ,SAAS,CACbuoE,QAAQ,SAfV74E,KAAKsQ,SAAS,CACbuoE,QAAQ,YAzVI55E,UAAMG,WAAjBspF,EACE3mF,YAAc/C,UADhB0pF,EAWEt/E,aAAe,CACrB7C,UAAU,EACVgB,YAAa,uBACb2oB,YAAa,EACbrqB,KAAM,CACLW,KAAM,IAhBHkiF,EAoBE0B,UAAY,CAWlBZ,YAAaa,UAAUntF,OASvBgzB,YAAam6D,UAAUpzB,OASvBjqC,SAAUq9D,UAAUntF,OAAOotF,uBAgVd,EAAAC,EAAAtsF,UAAgB,EAAAoL,EAAApL,SAAmByqF,kCCtYlD,IAAA8B,EAA2BpvF,EAAQ,IAEnC,SAAAqvF,KAEAlvF,EAAAD,QAAA,WACA,SAAAovF,EAAAnrF,EAAAorF,EAAAC,EAAAtmE,EAAAumE,EAAAC,GACA,GAAAA,IAAAN,EAAA,CAIA,IAAA3mF,EAAA,IAAAiM,MACA,mLAKA,MADAjM,EAAA9H,KAAA,sBACA8H,GAGA,SAAAknF,IACA,OAAAL,EAFAA,EAAAJ,WAAAI,EAMA,IAAAM,EAAA,CACAC,MAAAP,EACAQ,KAAAR,EACAngC,KAAAmgC,EACAzzB,OAAAyzB,EACAxtF,OAAAwtF,EACAS,OAAAT,EACA9sF,OAAA8sF,EAEAU,IAAAV,EACAW,QAAAN,EACApkF,QAAA+jF,EACAY,WAAAP,EACA7gE,KAAAwgE,EACAa,SAAAR,EACAS,MAAAT,EACAU,UAAAV,EACAW,MAAAX,EACAY,MAAAZ,GAMA,OAHAC,EAAAY,eAAAnB,EACAO,EAAAX,UAAAW,EAEAA,iCChDA,IAAAR,EAAA,+CAEAjvF,EAAAD,QAAAkvF,6GCXA,IAAAqB,EAAAzwF,EAAA,gEAEQu1B,4GCFR,IAAMA,EAAqB,CAC1BjnB,KAAM,SAAApL,GACL,IAAM0T,EAAY1T,EAAOuO,eAEzB,GAAImF,EAAW,CACd,IAAMikB,EAASjkB,EAAU1D,YACnBhB,EAAiB2oB,EAAO,GAAG3oB,eAE3Bw+E,EAAY,IAAIvoF,SAASwX,IAAI7N,MAAMI,GACzCw+E,EAAU/5D,SAASzkB,EAAgB,GACnCw+E,EAAU95D,OAAO1kB,EAAgB,GAEjC,IAAM+S,EAAkBrO,EAAUsO,qBAElC,GAAID,GAAiD,QAA9BA,EAAgB3R,UAAqB,CAC3D,IAAMq9E,EAAS/5E,EAAU4jB,YACrBm2D,GACHA,EAAOn9D,kBAGR5c,EAAUigB,aAAa,CAAC65D,IAExBzrE,EAAgBlO,uBAMLwe,uFC5Bf,IAAAq7D,EAAA5wF,EAAA,YACA6wF,EAAA7wF,EAAA,YACA8wF,EAAA9wF,EAAA,YACA+wF,EAAA/wF,EAAA,YACAgxF,EAAAhxF,EAAA,YACAixF,EAAAjxF,EAAA,YACAkxF,EAAAlxF,EAAA,YACA8O,EAAA9O,EAAA,YACAmxF,EAAAnxF,EAAA,YACA4P,EAAA5P,EAAA,YACAoxF,EAAApxF,EAAA,YACAqxF,EAAArxF,EAAA,YACAsxF,EAAAtxF,EAAA,YACAuxF,EAAAvxF,EAAA,YACAwxF,EAAAxxF,EAAA,YACAyxF,EAAAzxF,EAAA,YACA0xF,EAAA1xF,EAAA,aACA2xF,EAAA3xF,EAAA,aACA4xF,EAAA5xF,EAAA,aACA6xF,EAAA7xF,EAAA,aACA8xF,EAAA9xF,EAAA,aACA+xF,EAAA/xF,EAAA,aACAgyF,EAAAhyF,EAAA,aACAiyF,EAAAjyF,EAAA,aACAkyF,EAAAlyF,EAAA,aACAmyF,GAAAnyF,EAAA,eACA2V,GAAA3V,EAAA,cACAoyF,GAAApyF,EAAA,eACAqyF,GAAAryF,EAAA,cACA+mB,GAAA/mB,EAAA,cACA4V,GAAA5V,EAAA,cACAsyF,GAAAtyF,EAAA,cACAuyF,GAAAvyF,EAAA,eACAwyF,GAAAxyF,EAAA,eACAyyF,GAAAzyF,EAAA,eACA0yF,GAAA1yF,EAAA,eACA2yF,GAAA3yF,EAAA,eACA4yF,GAAA5yF,EAAA,eACA6yF,GAAA7yF,EAAA,eACA8yF,GAAA9yF,EAAA,eACA+yF,GAAA/yF,EAAA,eACAgzF,GAAAhzF,EAAA,eACAizF,GAAAjzF,EAAA,eACAkzF,GAAAlzF,EAAA,eACAmzF,GAAAnzF,EAAA,eACA+P,GAAA/P,EAAA,cACA8P,GAAA9P,EAAA,cACA6P,GAAA7P,EAAA,cACAozF,GAAApzF,EAAA,cACAqzF,GAAArzF,EAAA,eACAszF,GAAAtzF,EAAA,eACAuzF,GAAAvzF,EAAA,eACAwzF,GAAAxzF,EAAA,eACAyzF,GAAAzzF,EAAA,eACA0zF,GAAA1zF,EAAA,cACA2zF,GAAA3zF,EAAA,eACA4zF,GAAA5zF,EAAA,eACA6zF,GAAA7zF,EAAA,eACA8zF,GAAA9zF,EAAA,eACA0nB,GAAA1nB,EAAA,cACA+zF,GAAA/zF,EAAA,eACAg0F,GAAAh0F,EAAA,eACAi0F,GAAAj0F,EAAA,iNAGEk0F,UAA4BvyF,IAAMuyF,gBAClCC,UAAsBxyF,IAAMwyF,gBAC5BC,UAAWzyF,IAAMyyF,gBACjBtyE,UAAkBngB,IAAMmgB,gBACxBuyE,UAAa1yF,IAAM0yF,gBACnBC,UAAW3yF,IAAM2yF,gBACjBC,UAAY5yF,IAAM4yF,gBAClBnwE,UAAsBziB,IAAMyiB,gBAC5BrV,UAAmBpN,IAAMoN,gBACzBrB,UAAe/L,IAAM+L,gBACrB+W,UAAgB9iB,IAAM8iB,gBACtB+vE,UAAY7yF,IAAM6yF,gBAClBjvE,UAAqB5jB,IAAM4jB,gBAC3BkvE,UAAiB9yF,IAAM8yF,gBACvBC,UAAS/yF,IAAM+yF,gBACfC,UAAShzF,IAAMgzF,gBACfC,UAAYjzF,IAAMizF,gBAClBC,UAAuBlzF,IAAMkzF,gBAC7BC,UAAqBnzF,IAAMmzF,gBAC3BC,UAAsBpzF,IAAMozF,gBAC5BC,UAAYrzF,IAAMqzF,gBAClBC,UAAkBtzF,IAAMszF,gBACxBC,UAAavzF,IAAMuzF,gBACnBC,UAAwBxzF,IAAMwzF,gBAC9BC,UAAwBzzF,IAAMyzF,gBAC9BC,WAAwB1zF,IAAM0zF,iBAC9B78E,WAA2B7W,IAAM6W,iBACjC88E,WAAiB3zF,IAAM2zF,iBACvB/sE,WAAqB5mB,IAAM4mB,iBAC3BzS,WAAenU,IAAMmU,iBACrBiC,WAAqBpW,IAAMoW,iBAC3BkP,WAAWtlB,IAAMslB,iBACjBsuE,WAAS5zF,IAAM4zF,iBACfC,WAAmB7zF,IAAM6zF,iBACzBC,WAAqB9zF,IAAM8zF,iBAC3BC,WAAyB/zF,IAAM+zF,iBAC/BC,WAA0Bh0F,IAAMg0F,iBAChCC,WAAsBj0F,IAAMi0F,iBAC5BC,WAAuBl0F,IAAMk0F,iBAC7BC,WAAYn0F,IAAMm0F,iBAClBC,WAAmBp0F,IAAMo0F,iBACzBC,WAAkBr0F,IAAMq0F,iBACxBC,WAAgBt0F,IAAMs0F,iBACtBC,WAAcv0F,IAAMu0F,iBACpBC,WAAax0F,IAAMw0F,iBACnBC,WAAuBz0F,IAAMy0F,iBAC7B70E,WAA2B5f,IAAM4f,iBACjCV,WAAqBlf,IAAMkf,iBAC3B7Q,WAAiBrO,IAAMqO,iBACvBqmF,WAAa10F,IAAM00F,iBACnBC,WAAgB30F,IAAM20F,iBACtBC,WAAkB50F,IAAM40F,iBACxBC,WAAgB70F,IAAM60F,iBACtBC,WAAkB90F,IAAM80F,iBACxBrtE,WAAgBznB,IAAMynB,iBACtBstE,WAAmB/0F,IAAM+0F,iBACzBC,WAAkBh1F,IAAMg1F,iBACxBC,WAAej1F,IAAMi1F,iBACrBC,WAAYl1F,IAAMk1F,iBAClB/uE,WAAiBnmB,IAAMmmB,iBACvBgvE,WAAcn1F,IAAMm1F,iBACpBC,WAASp1F,IAAMo1F,iBACfC,WAAgBr1F,IAAMq1F,uVC/HxBthF,EAAA1V,EAAA,UACAyV,EAAAzV,EAAA,WACAgnB,EAAAhnB,EAAA,UACAsC,EAAAtC,EAAA,UACAqC,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,goBAUMk0F,cAKL,SAAAA,EAAY/vF,GAAOQ,EAAAC,KAAAsvF,GAAA,IAAAruF,EAAAhB,EAAAD,MAAAsvF,EAAApvF,WAAAhE,OAAAiE,eAAAmvF,IAAA3zF,KAAAqE,KACZT,IADY8yF,EAAA12F,KAAAsF,GAGlB,IAAM0F,EAAUpH,EAAME,QAAQnB,OAC5BjC,IAAI,gBACJwQ,eACAyT,qBAEIgyE,EAAY3rF,GAAWA,EAAQmB,aAAa,QAAW,GAR3C,OAUlB7G,EAAKsH,MAAQ,CACZ5B,UACA2rF,YAZiBrxF,oDAuBlB,IAAMshB,EAAW,aAAeviB,KAAKwiB,kBAErC,OAAIxiB,KAAKT,MAAMqR,gBAEb5S,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,0BACdE,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,0BACdE,EAAAC,QAAAC,cAAA,SACC6V,aAAW,MACXjW,UAAU,WACVgX,SAAU9U,KAAKuyF,iBACfvpF,UAAWhJ,KAAKsR,eAChBkD,YAAY,MACZhV,IAAI,cACJ0U,MAAM,MACN1O,KAAK,OACL/I,MAAOuD,KAAKuI,MAAM+pF,YAGpBt0F,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQyI,QAChCjX,UAAU,YACVmW,QAASjU,KAAKwyF,gBACdt+E,MAAO7H,YAAYC,QAAQyI,SAC3B/W,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,YAMrBI,EAAAC,QAAAC,cAAA,UACCJ,UAAWykB,EACXtO,QAASjU,KAAKsiB,kBACdrZ,SAAUjJ,KAAKT,MAAM0J,UACrBjL,EAAAC,QAAAC,cAAA,SAAOJ,UAAU,iBAAjB,iDAaH,IAAMqX,EAAWnV,KAEXyyF,EAAa,WAClBprF,UAASC,YAAY6N,EAAS4L,KAAK2xE,aAAaluF,SAG7C6Q,OAAOC,sBACVD,OAAOC,sBAAsBm9E,GAE7Bl9E,WAAWk9E,EAAY,UAnFgBxzF,UAAMG,WAA1CkwF,EACEvtF,YAAc/C,UADhBswF,EAGEvyF,IAAM,4CA2Fbw1F,iBAAmB,SAAA9tF,GAClB+H,EAAK8D,SAAS,CACbgiF,SAAU7tF,EAAME,OAAOlI,QAGxB+P,EAAKmmF,uBAWNrhF,eAAiB,SAAA7M,GACM,KAAlBA,EAAM2B,UACT3B,EAAMW,iBAENoH,EAAKgmF,yBAUPlwE,kBAAoB,WACnB9V,EAAKjN,MAAM6Q,iBAAiBk/E,EAA4BvyF,WAUzDy1F,gBAAkB,WACjB,IAAMl0F,EAASkO,EAAK/M,QAAQnB,OAAOjC,IAAI,gBAEjCi2F,EAAW9lF,EAAKuU,KAAK2xE,YAAYj2F,MAEvC+P,EAAK8D,SAAS,CACbgiF,aAGD9lF,EAAKjE,MAAM5B,QAAQK,aAAa,MAAOsrF,GAEvCh0F,EAAOwD,KAAK,kBAAmB0K,GAI/BA,EAAKjN,MAAMoR,8BAIE3R,UAAcG,SAC5B,EAAAyW,EAAA3X,UAAY,EAAA4kB,EAAA5kB,SAAmBqxF,6UC1KhCx+E,EAAA1V,EAAA,UACAyV,EAAAzV,EAAA,WACAgnB,EAAAhnB,EAAA,UACAozF,EAAApzF,EAAA,WACAsC,EAAAtC,EAAA,UACAotF,EAAAptF,EAAA,WACAqC,EAAArC,EAAA,goBAEMm0F,oKAoEI,IAAA/iF,EAAAxM,KACJ4yF,EAAcvmF,YAAYC,QAAQ0Q,OAElC61E,EAAmB,GAEjBC,EAAS9yF,KAAK+yF,aAEdC,EAAY,CACjBrsF,QAAS,OACT4oB,WAAY,CACXwc,MAAO,KAIT+mD,EAAOnrF,QAAQ,SAAAC,GACdorF,EAAUzjE,WAAWwc,MAAQnkC,EAAKqrF,WAE9BzmF,EAAK0mF,aAAaF,KACrBJ,EAAchrF,EAAK7L,KAEnB82F,EAAmBjrF,EAAK3E,MAAMssB,WAAWwc,SApBnC,IAAAonD,EAwBqCnzF,KAAKT,MAA3CwW,EAxBCo9E,EAwBDp9E,SAAU9M,EAxBTkqF,EAwBSlqF,SAAUiD,EAxBnBinF,EAwBmBjnF,eAErBknF,EAAoB,CACzB1mF,YAAakmF,EACbjtF,UAAWuG,EACXF,sBAAsB,EACtBR,OAAQsnF,GAGT,OACC90F,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAejN,EACfjY,UAAU,qBACVmW,QAAS/H,EACThD,KAAK,WACLD,SAAUA,GACVjL,EAAAC,QAAAC,cAAA,QAAMJ,UAAW+0F,GAChB70F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,cAGpBmY,GAAY/X,EAAAC,QAAAC,cAACm1F,EAAAp1F,QAAqBm1F,wCAK1Bt1F,GAAW,IAAA+jB,EAAA7hB,KAChB1B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCi3F,EAAc,CACnB3sF,QAAS,OACT4oB,WAAY,CACXwc,MAAOjuC,IAITQ,EAAOuO,eAAeC,OAEtB9M,KAAK+yF,aAAaprF,QAAQ,SAAAC,GACzB0rF,EAAY/jE,WAAWwc,MAAQnkC,EAAKqrF,WAEhCpxE,EAAKqxE,aAAaI,IACrBh1F,EAAOyO,YAAY,IAAIxJ,SAASN,MAAMqwF,MAIxCA,EAAY/jE,WAAWwc,MAAQjuC,EAE/B,IAAMmF,EAAQ,IAAIM,SAASN,MAAMqwF,GAEjCh1F,EAAOsO,WAAW3J,GAElB3E,EAAOuO,eAAeG,SAEtB1O,EAAOwD,KAAK,kBAAmB9B,2CAanBszF,GACZ,IAAM/0F,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBAI7Ci3F,EAAc/vF,SAASoF,MAAMC,MAAM,CAACjC,QAAS,QAAS2sF,GAEtD,IAAMrwF,EAAQ,IAAIM,SAASN,MAAMqwF,GAEjC,OAAOrwF,EAAMS,YAAYnF,EAAaiF,cAAejF,wCAgBrD,OACCyB,KAAKT,MAAMiM,QAAU,CACpB,CACCzP,KAAMsQ,YAAYC,QAAQ0Q,OAC1B/Z,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,cAGTknD,WAAY,GACZM,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,KAEtC,CACCjE,KAAMsQ,YAAYC,QAAQmnF,QAC1BxwF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,iBAGTknD,WAAY,aACZM,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,eAEtC,CACCjE,KAAMsQ,YAAYC,QAAQqI,SAC1B1R,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,mBAGTknD,WAAY,eACZM,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,iBAEtC,CACCjE,KAAMsQ,YAAYC,QAAQonF,QAC1BzwF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,iBAGTknD,WAAY,aACZM,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,eAEtC,CACCjE,KAAMsQ,YAAYC,QAAQqnF,OAC1B1wF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,gBAGTknD,WAAY,YACZM,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,cAEtC,CACCjE,KAAMsQ,YAAYC,QAAQsnF,QAC1B3wF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,iBAGTknD,WAAY,aACZM,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,eAEtC,CACCjE,KAAMsQ,YAAYC,QAAQunF,KAC1B5wF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,cAGTknD,WAAY,UACZM,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,oBArQNf,UAAMG,WAApCmwF,EACExtF,YAAc/C,UADhBuwF,EAGExyF,IAAM,kBAHRwyF,EAKEnF,UAAY,CAQlBr0E,SAAUs0E,UAAUa,KASpBpgF,MAAOu/E,UAAUc,OASjBn/E,qBAAsBq+E,UAAUa,KAShC1/E,OAAQ6+E,UAAUgB,QAAQhB,UAAUntF,QAUpC+L,SAAUohF,UAAUpzB,OASpB/qD,eAAgBm+E,UAAU9/B,iBAiNb,EAAA30C,EAAA3X,UAAY,EAAA4kB,EAAA5kB,SAAmBsxF,4UCpR9ChwE,EAAAnkB,EAAA,UACA8mB,EAAA9mB,EAAA,WACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAWMo0F,oKAqCJ,IAAMjtE,gBAAyBviB,KAAKwiB,kBAEpC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQwnF,KAChCC,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,cACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQwnF,MAC3B91F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,iBAhDEqB,UAAMG,WAAzBowF,EASEpmF,aAAe,CACrBzH,QAAS,OACT4H,UAAW,CACVK,GAAI,cACJ/D,KAAMtC,SAASof,KAAO,IAEvB1f,MAAO,mBAfHusF,EA0BEzyF,IAAM,kBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA2kB,EAAA3kB,UAAgB,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYuxF,8UCvEhDrD,EAAA/wF,EAAA,WACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAUMq0F,oKAoBJ,GAAIzvF,KAAKT,MAAMqR,gBACd,OAAO5S,EAAAC,QAAAC,cAAC81F,EAAA/1F,QAAsB+B,KAAKT,OAEnC,IAAMoV,IACL8J,UAAUS,cACTT,UAAUU,oBACY,UAAtBmF,SAAS2vE,UACVx1E,UAAUC,iBACVD,UAAUW,gBAGLtU,EAAQ6J,EACXtI,YAAYC,QAAQ4nF,eACpB7nF,YAAYC,QAAQ6nF,OAEvB,OACCn2F,EAAAC,QAAAC,cAAA,UACC6V,aAAYjJ,EACZhN,UAAU,YACV4iB,YAAU,sBACV/L,SAAUA,EACVV,QAASjU,KAAKT,MAAM6Q,iBAAiBpT,KAAKyyF,EAAa1yF,KACvDkM,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAOpJ,GACP9M,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBA5CGqB,UAAMG,WAA3BqwF,EASE1yF,IAAM,mBA0CC0yF,0UC/Df1zE,EAAA3gB,EAAA,WACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAUMs0F,oKAiCJ,IAAMntE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ8nF,KAChCL,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,cACVzM,QAASjU,KAAK4M,WACd3D,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ8nF,MAC3Bp2F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,iBA5CEqB,UAAMG,WAAzBswF,EAQEtmF,aAAe,CACrBnG,MAAO,CACN0D,QAAS,QAVN+oF,EAsBE3yF,IAAM,kBA4BC,EAAA0f,EAAAxe,UAAkB,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYyxF,6UChEhE7+E,EAAAzV,EAAA,WACAgnB,EAAAhnB,EAAA,UACA0V,EAAA1V,EAAA,UACAozF,EAAApzF,EAAA,WACAsC,EAAAtC,EAAA,UACAqC,EAAArC,EAAA,UACAotF,EAAAptF,EAAA,ioBAUMu0F,oKAoEI,IAAAnjF,EAAAxM,KACJ4yF,EAAcvmF,YAAYC,QAAQ0Q,OAElC61E,EAAmB,YAEjBC,EAAS9yF,KAAK+yF,aAEpBD,EAAO3qF,KAAK,SAAAP,GACP4E,EAAK0mF,aAAatrF,EAAK3E,SAC1B2vF,EAAchrF,EAAK7L,KAEnB82F,EAAmBjrF,EAAK3E,MAAMssB,WAAWwc,SAXnC,IAAAonD,EAeqCnzF,KAAKT,MAA3CwW,EAfCo9E,EAeDp9E,SAAU9M,EAfTkqF,EAeSlqF,SAAUiD,EAfnBinF,EAemBjnF,eAErBknF,EAAoB,CACzB1mF,YAAakmF,EACbjtF,UAAWuG,EACXF,sBAAsB,EACtBR,OAAQsnF,GAGT,OACC90F,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAejN,EACfjY,UAAU,qBACVmW,QAAS/H,EACThD,KAAK,WACLD,SAAUA,GACVjL,EAAAC,QAAAC,cAAA,QAAMJ,UAAW+0F,GAChB70F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBAGpBmY,GAAY/X,EAAAC,QAAAC,cAACm1F,EAAAp1F,QAAqBm1F,wCAK1Bt1F,GAAW,IAAA+jB,EAAA7hB,KAChB1B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCi3F,EAAc,CACnB3sF,QAAS,OACT4oB,WAAY,CACXwc,MAAOjuC,IAIHmF,EAAQ,IAAIM,SAASN,MAAMqwF,GAEjCh1F,EAAOuO,eAAeC,OAEtB9M,KAAK+yF,aAAaprF,QAAQ,SAAAC,GACrBia,EAAKqxE,aAAatrF,EAAK3E,QAC1B3E,EAAOyO,YAAY,IAAIxJ,SAASN,MAAM2E,EAAK3E,UAI7C3E,EAAOsO,WAAW3J,GAElB3E,EAAOuO,eAAeG,SAEtB1O,EAAOwD,KAAK,kBAAmB9B,2CAanBszF,GACZ,IAAM/0F,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBAI7Ci3F,EAAc/vF,SAASoF,MAAMC,MAAM,CAACjC,QAAS,QAAS2sF,GAEtD,IAAMrwF,EAAQ,IAAIM,SAASN,MAAMqwF,GAEjC,OAAOrwF,EAAMS,YAAYnF,EAAaiF,cAAejF,wCAiBrD,OACCyB,KAAKT,MAAMiM,QAAU,CACpB,CACCzP,KAAMsQ,YAAYC,QAAQ0Q,OAC1B/Z,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,cAGTwnD,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,KAEtC,CACCjE,KAAMsQ,YAAYC,QAAQmnF,QAC1BxwF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,iBAGTwnD,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,iBAEtC,CACCjE,KAAMsQ,YAAYC,QAAQqI,SAC1B1R,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,mBAGTwnD,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,mBAEtC,CACCjE,KAAMsQ,YAAYC,QAAQonF,QAC1BzwF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,iBAGTwnD,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,iBAEtC,CACCjE,KAAMsQ,YAAYC,QAAQqnF,OAC1B1wF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,gBAGTwnD,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,gBAEtC,CACCjE,KAAMsQ,YAAYC,QAAQsnF,QAC1B3wF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,iBAGTwnD,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,iBAEtC,CACCjE,KAAMsQ,YAAYC,QAAQunF,KAC1B5wF,MAAO,CACN0D,QAAS,OACT4oB,WAAY,CACXwc,MAAO,cAGTwnD,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,sBAlPhBf,UAAMG,WAA1BuwF,EACE5tF,YAAc/C,UADhB2wF,EAGE5yF,IAAM,QAHR4yF,EAKEvF,UAAY,CAQlBr0E,SAAUs0E,UAAUa,KASpBpgF,MAAOu/E,UAAUc,OASjBn/E,qBAAsBq+E,UAAUa,KAShC1/E,OAAQ6+E,UAAUgB,QAAQhB,UAAUntF,QAUpC+L,SAAUohF,UAAUpzB,OASpB/qD,eAAgBm+E,UAAU9/B,iBA8Lb,EAAA30C,EAAA3X,UAAY,EAAA4kB,EAAA5kB,SAAmB0xF,4UCzQ9CnD,EAAApxF,EAAA,WACA0V,EAAA1V,EAAA,UACA8mB,EAAA9mB,EAAA,WACAqC,EAAArC,EAAA,goBAYMw0F,qNA4DLttE,kBAAoB,WACnBrhB,EAAK1B,MAAM6Q,iBAAiBw/E,EAAY7yF,mEA1BxC,OAAIiD,KAAKT,MAAMqR,gBACP5S,EAAAC,QAAAC,cAACm2F,EAAAp2F,QAAoB+B,KAAKT,OAGhCvB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQmD,KAChC3R,UAAU,YACV4iB,YAAU,eACVzM,QAASjU,KAAKsiB,kBACdrZ,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQmD,MAC3BzR,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,iBA9CEqB,UAAMG,WAA1BwwF,EASExmF,aAAe,CACrBG,UAAW,CACVK,GAAI,oBACJ/D,KAAMtC,SAASof,KAAOpf,SAASqtB,MAAQ,KAZpCg/D,EAwBE7yF,IAAM,mBAyCC,EAAA6lB,EAAA3kB,SAAgB2xF,2UChF/BlD,EAAAtxF,EAAA,WACA0V,EAAA1V,EAAA,UACAyV,EAAAzV,EAAA,WACAotF,EAAAptF,EAAA,WACAqC,EAAArC,EAAA,goBAQMy0F,oKA+BJ,OAAI7vF,KAAKT,MAAMqR,gBACP5S,EAAAC,QAAAC,cAACo2F,EAAAr2F,QAAyB+B,KAAKT,OAGrCvB,EAAAC,QAAAC,cAAA,UACCJ,UAAU,YACV4iB,YAAU,qBACVzM,QAASjU,KAAKT,MAAM6Q,iBACpBnH,SAAUjJ,KAAKT,MAAM0J,UACrBjL,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBAxCOqB,UAAMG,WAA/BywF,EACE9yF,IAAM,aADR8yF,EAGEzF,UAAY,CAQlBt/E,MAAOu/E,UAAUc,OAUjBliF,SAAUohF,UAAUpzB,mBA0BP,EAAArhD,EAAA3X,SAAY4xF,2UC3D3B9zE,EAAA3gB,EAAA,WACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAUM00F,oKAkCJ,IAAMvtE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQioF,GAChCR,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,YACVzM,QAASjU,KAAK4M,WACd3D,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQioF,IAC3Bv2F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,eA7CAqB,UAAMG,WAAvB0wF,EASE1mF,aAAe,CACrBnG,MAAO,CACN0D,QAAS,OAXNmpF,EAuBE/yF,IAAM,gBA4BC,EAAA0f,EAAAxe,UAAkB,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAY6xF,6UCjEhE/zE,EAAA3gB,EAAA,WACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAUM20F,oKAkCJ,IAAMxtE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQkoF,GAChCT,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,YACVzM,QAASjU,KAAK4M,WACd3D,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQkoF,IAC3Bx2F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,eA7CAqB,UAAMG,WAAvB2wF,EASE3mF,aAAe,CACrBnG,MAAO,CACN0D,QAAS,OAXNopF,EAuBEhzF,IAAM,gBA4BC,EAAA0f,EAAAxe,UAAkB,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAY8xF,6UCjEhExwE,EAAAnkB,EAAA,UACA4gB,EAAA5gB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBASM40F,oKAmCJ,OACChyF,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQmoF,eAChC32F,UAAU,YACV4iB,YAAU,eACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQmoF,gBAC3Bz2F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,eA3CGqB,UAAMG,WAA1B4wF,EASE5mF,aAAe,CACrBzH,QAAS,iBACTsB,MAAO,CACN0D,QAAS,OAZNqpF,EAwBEjzF,IAAM,mBAyBC,EAAA2iB,EAAAzhB,UAAc,EAAAye,EAAAze,SAAY+xF,4UC7DzCzwE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUM60F,oKAgCJ,IAAM1tE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQqoF,YAChCZ,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,4BACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQqoF,aAC3B32F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,+BA3CcqB,UAAMG,WAArC6wF,EASE7mF,aAAe,CACrBzH,QAAS,iBAVLsuF,EAqBElzF,IAAM,yBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmBgyF,6UChExC1wE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUM80F,oKAgCJ,IAAM3tE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQuoF,UAChCd,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,0BACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQuoF,WAC3B72F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,6BA3CYqB,UAAMG,WAAnC8wF,EASE9mF,aAAe,CACrBzH,QAAS,eAVLuuF,EAqBEnzF,IAAM,uBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmBiyF,6UChExC3wE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUM+0F,oKAgCJ,IAAM5tE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQwoF,WAChCf,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,2BACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQwoF,YAC3B92F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,8BA3CaqB,UAAMG,WAApC+wF,EASE/mF,aAAe,CACrBzH,QAAS,gBAVLwuF,EAqBEpzF,IAAM,wBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmBkyF,6UChExCr/E,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,UACAqC,EAAArC,EAAA,goBAOMg1F,cAaL,SAAAA,EAAY7wF,GAAOQ,EAAAC,KAAAowF,GAAA,IAAAnvF,EAAAhB,EAAAD,MAAAowF,EAAAlwF,WAAAhE,OAAAiE,eAAAiwF,IAAAz0F,KAAAqE,KACZT,IADY,OAAA0B,EA+CnB8zF,YAAc,WACb9zF,EAAK+zF,UAAU3qF,QAAQ4qF,SA9CvBh0F,EAAK+zF,UAAY/1F,UAAMmL,YAFLnJ,oDAclB,IAAMi0F,EAAY,CAACz/D,QAAS,QAE5B,OACCz3B,EAAAC,QAAAC,cAAA,WACCF,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQkD,MAChC1R,UAAU,YACV4iB,YAAU,eACVzM,QAASjU,KAAK+0F,YACd9rF,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQkD,OAC3BxR,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,oBAGpBI,EAAAC,QAAAC,cAAA,SACCi3F,OAAO,UACPrgF,SAAU9U,KAAKo1F,eACf51F,IAAKQ,KAAKg1F,UACV/xF,MAAOiyF,EACP1vF,KAAK,mDAkCQ,IAAAgH,EAAAxM,KACVq1F,EAAUr1F,KAAKg1F,UAAU3qF,QAI/B,GAAKgrF,EAAQ13D,MAAMv8B,OAAnB,CAIA,IAAMo9B,EAAS,IAAIC,WACbb,EAAOy3D,EAAQ13D,MAAM,GAE3Ba,EAAO0a,OAAS,SAAAz0C,GACf,IAAMnG,EAASkO,EAAK/M,QAAQnB,OAAOjC,IAAI,gBAEjCqc,EAASpa,EAAOwD,KAAK,iBAAkB,CAC5C+7B,WAAYD,IAGb,GAAIllB,EAAQ,CACX,IAAMoF,EAAKva,SAASwX,IAAIpU,QAAQoX,eAArB,aACGtZ,EAAME,OAAO+T,OADhB,MAIXpa,EAAO0f,cAAcF,GAErBxf,EAAOwD,KAAK,kBAAmB0K,GAE/B,IAAMmyB,EAAY,CACjB7gB,GAAIA,EACJ8f,KAAMA,GAGPt/B,EAAOwD,KAAK,WAAY68B,KAI1BH,EAAOI,cAAchB,GAErBy3D,EAAQ54F,MAAQ,WAvHQwC,UAAMG,WAA1BgxF,EACEruF,YAAc/C,UADhBoxF,EAWErzF,IAAM,kBAgHCqzF,0UCpIf7wE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUMi1F,oKAgCJ,IAAM9tE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQgpF,OAChCvB,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,sBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQgpF,QAC3Bt3F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,wBA3CSqB,UAAMG,WAAhCixF,EASEjnF,aAAe,CACrBzH,QAAS,UAVL0uF,EAqBEtzF,IAAM,yBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmBoyF,6UChExC9wE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACA8mB,EAAA9mB,EAAA,WACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAWMk1F,oKAqCJ,IAAM/tE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQipF,OAChCxB,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,gBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQipF,QAC3Bv3F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBAhDIqB,UAAMG,WAA3BkxF,EASElnF,aAAe,CACrBzH,QAAS,SACT4H,UAAW,CACVK,GAAI,cACJ/D,KAAMtC,SAASof,KAAO,IAEvB1f,MAAO,qBAfHqtF,EA0BEvzF,IAAM,oBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA2kB,EAAA3kB,UAAgB,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYqyF,8UCvEhD/wE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAMMm1F,qNAmBLvqC,aAAe,WACd/kD,EAAKQ,YAAY,oEAZjB,OACCzD,EAAAC,QAAAC,cAAA,UACCJ,UAAU,YACV4iB,YAAU,eACVzM,QAASjU,KAAKgmD,aACd/8C,SAAUjJ,KAAKT,MAAM0J,UACrBjL,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBAdeqB,UAAMG,WAAtCmxF,EACEnnF,aAAe,CACrBzH,QAAS,iBAFL4uF,EAKExzF,IAAM,mBAmBC,EAAA2iB,EAAAzhB,SAAcsyF,2UChC7BhxE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAMMo1F,qNAmBLxqC,aAAe,WACd/kD,EAAKQ,YAAY,oEAZjB,OACCzD,EAAAC,QAAAC,cAAA,UACCJ,UAAU,YACV4iB,YAAU,eACVzM,QAASjU,KAAKgmD,aACd/8C,SAAUjJ,KAAKT,MAAM0J,UACrBjL,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,oBAdeqB,UAAMG,WAAtCoxF,EACEpnF,aAAe,CACrBzH,QAAS,iBAFL6uF,EAKEzzF,IAAM,mBAmBC,EAAA2iB,EAAAzhB,SAAcuyF,2UChC7BjxE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAMMq1F,qNAmBLzqC,aAAe,WACd/kD,EAAKQ,YAAY,oEAZjB,OACCzD,EAAAC,QAAAC,cAAA,UACCJ,UAAU,YACV4iB,YAAU,eACVzM,QAASjU,KAAKgmD,aACd/8C,SAAUjJ,KAAKT,MAAM0J,UACrBjL,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBAdeqB,UAAMG,WAAtCqxF,EACErnF,aAAe,CACrBzH,QAAS,iBAFL8uF,EAKE1zF,IAAM,mBAmBC,EAAA2iB,EAAAzhB,SAAcwyF,2UChC7BvuE,EAAA9mB,EAAA,WACAsyF,EAAAtyF,EAAA,WACAqyF,EAAAryF,EAAA,WACAyV,EAAAzV,EAAA,WACAgnB,EAAAhnB,EAAA,UACAotF,EAAAptF,EAAA,WACAqC,EAAArC,EAAA,goBAWMs1F,oKAkCJ,OAAI1wF,KAAKT,MAAMqR,iBACd5Q,KAAKT,MAAQS,KAAKyiB,sBAEXzkB,EAAAC,QAAAC,cAACs3F,EAAAv3F,QAAyB+B,KAAKT,QAE/BvB,EAAAC,QAAAC,cAACu3F,EAAAx3F,QAAe+B,KAAKT,mDAW7BS,KAAKT,MAAM6Q,iBAAiBsgF,EAAiB3zF,YAlDhBkC,UAAMG,WAA/BsxF,EACEtnF,aAAe,CACrBG,UAAW,CACVK,GAAI,oBACJ/D,KAAMtC,SAASof,KAAO,KAJnB+tE,EAQE3zF,IAAM,aARR2zF,EAUEtG,UAAY,CAMlBt/E,MAAOu/E,UAAUc,OAQjBliF,SAAUohF,UAAUpzB,mBA8BP,EAAArhD,EAAA3X,UACd,EAAA4kB,EAAA5kB,UAAmB,EAAA2kB,EAAA3kB,SAAgByyF,6UCxEpCnxE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAUMs6F,oKAmCJ,IAAMnzE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQqpF,aAChC5B,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,YACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQqpF,cAC3B33F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,oBA9CSqB,UAAMG,WAAhCs2F,EASEtsF,aAAe,CACrBzH,QAAS,eACTsB,MAAO,CACN0D,QAAS,OAZN+uF,EAwBE34F,IAAM,gBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYy3F,6UCnEhCn2E,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUMw1F,oKAgCJ,IAAMruE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQspF,QAChC7B,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,uBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQspF,SAC3B53F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,wBA3CUqB,UAAMG,WAAjCwxF,EASExnF,aAAe,CACrBzH,QAAS,WAVLivF,EAqBE7zF,IAAM,0BA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmB2yF,6UChExCnzF,EAAArC,EAAA,UACAmxF,EAAAnxF,EAAA,WACA0V,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,goBAOMy1F,oKAcJ,IAAIgF,SACAC,SAEA91F,KAAKT,MAAMwW,WACd+/E,EAAuBjF,EAAqB9zF,IAAM,OAClD84F,EACC73F,EAAAC,QAAAC,cAAC63F,EAAA93F,QAAD,CACCwM,SAAUzK,KAAKg2F,eACfzrF,OAAQurF,EACRG,aAAa,EACbtwF,UAAW3F,KAAKT,MAAM2M,kBAKzB,IAAM5N,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjC65F,EAAgBl2F,KAAKg2F,eACzBxlF,OAAO,SAAAilC,GACP,IAAM9zC,EAAUrD,EAAOgK,WAAWmtC,EAAU9zC,SAE5C,QAAOA,GAAUA,EAAQ4G,QAAUhF,SAASiF,cAE5C+3B,MAEIimB,EAAgB0vC,EAAcnrF,KAEpC,OACC/M,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,sEACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAYmiF,EAAcprF,MAC1BqrF,YAAWL,EACXh4F,UAAU,qBACVmW,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ6rB,KAC3Bn6B,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gBACdE,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAQ4oD,IACpBxoD,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBAGpBi4F,0CAgBH,OACC71F,KAAKT,MAAMkL,UAAY,CACtB,CACC9I,QAAS,cACToJ,KAAM,aACND,MAAOuB,YAAYC,QAAQuoF,WAE5B,CACClzF,QAAS,gBACToJ,KAAM,eACND,MAAOuB,YAAYC,QAAQqoF,aAE5B,CACChzF,QAAS,eACToJ,KAAM,cACND,MAAOuB,YAAYC,QAAQwoF,YAE5B,CACCnzF,QAAS,eACToJ,KAAM,gBACND,MAAOuB,YAAYC,QAAQ8pF,sBA7FGn3F,UAAMG,WAAnCyxF,EACE9uF,YAAc/C,UADhB6xF,EAGE9zF,IAAM,2BAiGC8zF,0UC9GftxE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAWM01F,oKAgCJ,IAAMvuE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQuoF,UAChCd,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,8BACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQuoF,WAC3B72F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,uBA3CgBqB,UAAMG,WAAvC0xF,EASE1nF,aAAe,CACrBzH,QAAS,eAVLmvF,EAqBE/zF,IAAM,2BA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmB6yF,6UCjExCvxE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUM21F,oKAgCJ,IAAMxuE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQwoF,WAChCf,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,+BACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQwoF,YAC3B92F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,wBA3CiBqB,UAAMG,WAAxC2xF,EASE3nF,aAAe,CACrBzH,QAAS,gBAVLovF,EAqBEh0F,IAAM,4BA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmB8yF,6UChExCxxE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUM41F,oKAgCJ,IAAMzuE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQqoF,YAChCZ,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,0BACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQqoF,aAC3B32F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,yBA3CaqB,UAAMG,WAApC4xF,EASE5nF,aAAe,CACrBzH,QAAS,iBAVLqvF,EAqBEj0F,IAAM,6BA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmB+yF,6UChExCzxE,EAAAnkB,EAAA,UACAs5F,EAAAt5F,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAUM61F,oKAgCJ,IAAM1uE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ8pF,aAChCrC,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,2BACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ8pF,cAC3Bp4F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,0BA3CcqB,UAAMG,WAArC6xF,EASE7nF,aAAe,CACrBzH,QAAS,gBAVLsvF,EAqBEl0F,IAAM,8BA4BC,EAAA2iB,EAAAzhB,UACd,EAAA22F,EAAA32F,UAAoB,EAAA4kB,EAAA5kB,SAAmBgzF,6UChExC1xE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAUM81F,oKAmCJ,IAAM3uE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ+pF,MAChCtC,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,eACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ+pF,OAC3Br4F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,wBA9CGqB,UAAMG,WAA1B8xF,EASE9nF,aAAe,CACrBzH,QAAS,aACTsB,MAAO,CACN0D,QAAS,eAZNuqF,EAwBEn0F,IAAM,mBA4BC,EAAA2iB,EAAAzhB,UAAc,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYizF,6UClE5D3xE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAQM+1F,oKAgCJ,OACCnzF,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQgqF,aAChCx4F,UAAU,YACV4iB,YAAU,sBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQgqF,cAC3Bt4F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,yBAxCUqB,UAAMG,WAAjC+xF,EASE/nF,aAAe,CACrBzH,QAAS,gBAVLwvF,EAqBEp0F,IAAM,0BAyBC,EAAA2iB,EAAAzhB,SAAckzF,2UCxD7B5xE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAqC,EAAArC,EAAA,goBAQMg2F,oKAWJ,IAAM7uE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQokB,YAChCqjE,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACXtO,QAASjU,KAAKyB,aACdzD,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,yBAnBSqB,UAAMG,WAAhCgyF,EACEhoF,aAAe,CACrBzH,QAAS,eAFLyvF,EAKEr0F,IAAM,yBAoBC,EAAA2iB,EAAAzhB,UAAc,EAAA4kB,EAAA5kB,SAAmBmzF,mFCpChD,IAAA3zF,EAAArC,EAAA,6DAKA,SAASi2F,EAAgB8B,GACxB,OAAOn1F,EAAAC,QAAAC,cAAA,QAAMJ,UAAU,iBAWxBuzF,EAAgBt0F,IAAM,sBAEPs0F,0UCnBf7I,EAAAptF,EAAA,WACAqC,EAAArC,EAAA,UACA0V,EAAA1V,EAAA,UACAyV,EAAAzV,EAAA,WACAgnB,EAAAhnB,EAAA,UACAozF,EAAApzF,EAAA,ioBAUMk2F,oKAkEI,IAAA9kF,EAAAxM,KACJu2F,EAAgB,OAEdC,EAAWx2F,KAAKy2F,eAEtBD,EAAS7uF,QAAQ,SAAAC,GACZ4E,EAAK0mF,aAAatrF,EAAK3E,SAC1BszF,EAAgB3uF,EAAK7L,QAPf,IAAAo3F,EAW6CnzF,KAAKT,MAAnDjB,EAXC60F,EAWD70F,OAAQyX,EAXPo9E,EAWOp9E,SAAU9M,EAXjBkqF,EAWiBlqF,SAAUiD,EAX3BinF,EAW2BjnF,eAE7BknF,EAAoB,CACzB1mF,YAAa6pF,EACbj4F,OAAQA,EACRqH,UAAWuG,EACXF,sBAAsB,EACtBR,OAAQgrF,GAGT,OACCx4F,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,4DACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAejN,EACfjY,UAAU,qBACVmW,QAAS/H,EACThD,KAAK,WACLD,SAAUA,GACVjL,EAAAC,QAAAC,cAAA,YACCF,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,cADpB,IAGE24F,IAGFxgF,GAAY/X,EAAAC,QAAAC,cAACm1F,EAAAp1F,QAAqBm1F,wCAK1Bt1F,GAAW,IAAA+jB,EAAA7hB,KAChB1B,EAAS0B,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEjCi3F,EAAc,CACnB3sF,QAAS,MACT4oB,WAAY,CACXwc,MAAOjuC,IAIHmF,EAAQ,IAAIM,SAASN,MAAMqwF,GAEjCh1F,EAAOuO,eAAeC,OAEtB9M,KAAKy2F,eAAe9uF,QAAQ,SAAAC,GACvBia,EAAKqxE,aAAatrF,EAAK3E,QAC1B3E,EAAOyO,YAAY,IAAIxJ,SAASN,MAAM2E,EAAK3E,UAI7C3E,EAAOsO,WAAW3J,GAElB3E,EAAOuO,eAAeG,SAEtB1O,EAAOwD,KAAK,kBAAmB9B,2CAanBszF,GACZ,IAAM/0F,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEzCq6F,GAAS,EAEPlzF,EAAcjF,EAAaiF,cAajC,OAXIA,GAAeA,EAAY8rB,YAC9BgkE,EAAY/jE,WAAWwc,MACrB5oC,MAAM,KACNwE,QAAQ,SAAS7J,GACjB44F,EACCA,GAAUlzF,EAAY8rB,YAAYnP,SAASriB,KAG9C44F,GAAS,EAGHA,yCAiBP,OACC12F,KAAKT,MAAMiM,QAAU,CACpB,CACCzP,KAAM,OACNkH,MAAO,CACN0D,QAAS,MACT4oB,WAAY,CACXwc,MAAO,IAERvmC,KAAM,GAEP+tF,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,KAEtC,CACCjE,KAAM,OACNkH,MAAO,CACN0D,QAAS,MACT4oB,WAAY,CACXwc,MAAO,aAERvmC,KAAM,GAEP+tF,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,cAEtC,CACCjE,KAAM,OACNkH,MAAO,CACN0D,QAAS,MACT4oB,WAAY,CACXwc,MAAO,aAERvmC,KAAM,GAEP+tF,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,cAEtC,CACCjE,KAAM,OACNkH,MAAO,CACN0D,QAAS,MACT4oB,WAAY,CACXwc,MAAO,aAERvmC,KAAM,GAEP+tF,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,cAEtC,CACCjE,KAAM,OACNkH,MAAO,CACN0D,QAAS,MACT4oB,WAAY,CACXwc,MAAO,aAERvmC,KAAM,GAEP+tF,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,cAEtC,CACCjE,KAAM,OACNkH,MAAO,CACN0D,QAAS,MACT4oB,WAAY,CACXwc,MAAO,aAERvmC,KAAM,GAEP+tF,QAASvzF,KAAKwzF,YAAYx2F,KAAKgD,KAAM,sBApPdf,UAAMG,WAA5BkyF,EACEv0F,IAAM,UADRu0F,EAGElH,UAAY,CAQlBr0E,SAAUs0E,UAAUa,KASpBpgF,MAAOu/E,UAAUc,OASjBn/E,qBAAsBq+E,UAAUa,KAShC1/E,OAAQ6+E,UAAUgB,QAAQhB,UAAUntF,QAUpC+L,SAAUohF,UAAUpzB,OASpB/qD,eAAgBm+E,UAAU9/B,iBAkMb,EAAA30C,EAAA3X,UAAY,EAAA4kB,EAAA5kB,SAAmBqzF,4UC1Q9C/xE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAUMm2F,oKAgCJ,IAAMhvE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQqqF,OAChC5C,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,gBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQqqF,QAC3B34F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,0BA3CIqB,UAAMG,WAA3BmyF,EASEnoF,aAAe,CACrBzH,QAAS,SACTsB,MAAO,qBAXHsuF,EAsBEx0F,IAAM,oBA2BC,EAAA2iB,EAAAzhB,UAAc,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYszF,6UC/D5D9zF,EAAArC,EAAA,UACA0V,EAAA1V,EAAA,UACAozF,EAAApzF,EAAA,WACAsC,EAAAtC,EAAA,goBASMq2F,oKAqBI,IAAAjlF,EAAAxM,KACJ0M,EAAcL,YAAYC,QAAQ0Q,OAEhCxR,EAASxL,KAAK42F,aAEpBprF,EAAO7D,QAAQ,SAAAC,GACV4E,EAAK0mF,aAAatrF,EAAK3E,SAC1ByJ,EAAc9E,EAAK7L,QAIrB,IAAI86F,SAaJ,OAXI72F,KAAKT,MAAMwW,WACd8gF,EACC74F,EAAAC,QAAAC,cAACm1F,EAAAp1F,QAAD,CACCyO,YAAaA,EACb/G,UAAW3F,KAAKT,MAAM2M,eACtBF,qBAAsBhM,KAAKT,MAAMyM,qBACjCR,OAAQA,KAMVxN,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,yCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAY1H,YAAYC,QAAQd,OAAS,IAAMkB,EAC/C5O,UAAU,qBACVmW,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQd,OAAS,IAAMkB,GAC1C1O,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gBACdE,EAAAC,QAAAC,cAAA,QAAMJ,UAAU,uCACd4O,GAEF1O,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBAGpBi5F,wCAeSvD,GACZ,IAAM/0F,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBAI7Ci3F,EAAc/vF,SAASoF,MAAMC,MAAM,CAACjC,QAAS,QAAS2sF,GAEtD,IAAMrwF,EAAQ,IAAIM,SAASN,MAAMqwF,GAEjC,OAAOrwF,EAAMS,YAAYnF,EAAaiF,cAAejF,wCAgBrD,OACCyB,KAAKT,MAAMiM,QAAU,CACpB,CACCzP,KAAMsQ,YAAYC,QAAQioF,GAC1BtxF,MAAO,CACN0D,QAAS,OAGX,CACC5K,KAAMsQ,YAAYC,QAAQkoF,GAC1BvxF,MAAO,CACN0D,QAAS,OAGX,CACC5K,KAAMsQ,YAAYC,QAAQwqF,UAC1B7zF,MAAO,CACN0D,QAAS,QAGX,CACC5K,KAAMsQ,YAAYC,QAAQyqF,KAC1B9zF,MAAO,CACN0D,QAAS,SAGX,CACC5K,KAAMsQ,YAAYC,QAAQ8nF,KAC1BnxF,MAAO,CACN0D,QAAS,iBAnIY1H,UAAMG,WAA3BqyF,EACE1vF,YAAc/C,UADhByyF,EAWE10F,IAAM,mBAgIC00F,0UCvJflyE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAWMs2F,oKAiCJ,IAAMnvE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ0qF,UAChCjD,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,mBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ0qF,WAC3Bh5F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,sBA5COqB,UAAMG,WAA9BsyF,EASEtoF,aAAe,CACrBzH,QAAS,YACTsB,MAAO,wBAXHyuF,EAsBE30F,IAAM,uBA4BC,EAAA2iB,EAAAzhB,UAAc,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYyzF,6UCjE5DnyE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAWMu2F,oKAiCJ,IAAMpvE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ2qF,YAChClD,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,qBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ2qF,aAC3Bj5F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,wBA5CSqB,UAAMG,WAAhCuyF,EASEvoF,aAAe,CACrBzH,QAAS,cACTsB,MAAO,0BAXH0uF,EAsBE50F,IAAM,yBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAY0zF,6UClEhCpF,EAAAnxF,EAAA,WACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAOMw2F,oKAoBJ,IAAIiE,SACAC,SAaJ,OAXI91F,KAAKT,MAAMwW,WACd+/E,EAAuBlE,EAAgB70F,IAAM,OAC7C84F,EACC73F,EAAAC,QAAAC,cAAC63F,EAAA93F,QAAD,CACCwM,SAAUzK,KAAKg2F,eACfzrF,OAAQurF,EACRnwF,UAAW3F,KAAKT,MAAM2M,kBAMxBlO,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAY1H,YAAYC,QAAQ+rB,KAChC89D,YAAWL,EACXh4F,UAAU,YACVmW,QAASjU,KAAKT,MAAM2M,eACpBjD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ+rB,MAC3Br6B,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,cAEnBi4F,0CAgBH,OACC71F,KAAKT,MAAMkL,UAAY,CACtB,CACC9I,QAAS,mBACTmJ,MAAOuB,YAAYC,QAAQ4qF,kBAE5B,CACCv1F,QAAS,kBACTmJ,MAAOuB,YAAYC,QAAQ6qF,iBAE5B,CACCx1F,QAAS,aACTmJ,MAAOuB,YAAYC,QAAQ8qF,YAE5B,CACCz1F,QAAS,YACTmJ,MAAOuB,YAAYC,QAAQ+qF,WAE5B,CACC11F,QAAS,gBACTmJ,MAAOuB,YAAYC,QAAQgrF,eAE5B,CACC31F,QAAS,iBACTmJ,MAAOuB,YAAYC,QAAQirF,gBAE5B,CACC51F,QAAS,sBACTmJ,MAAOuB,YAAYC,QAAQkrF,qBAE5B,CACC71F,QAAS,oBACTmJ,MAAOuB,YAAYC,QAAQmrF,2BA9FFx4F,UAAMG,WAA9BwyF,EASE70F,IAAM,sBA4FC60F,0UC9Gfn0F,EAAArC,EAAA,UACAmxF,EAAAnxF,EAAA,WACA0V,EAAA1V,EAAA,goBAOMy2F,oKAoBJ,IAAIgE,SACAC,SAaJ,OAXI91F,KAAKT,MAAMwW,WACd+/E,EAAuBjE,EAAkB90F,IAAM,OAC/C84F,EACC73F,EAAAC,QAAAC,cAAC63F,EAAA93F,QAAD,CACCwM,SAAUzK,KAAKg2F,eACfzrF,OAAQurF,EACRnwF,UAAW3F,KAAKT,MAAM2M,kBAMxBlO,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAY1H,YAAYC,QAAQorF,OAChCvB,YAAWL,EACXh4F,UAAU,YACVmW,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,UACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQorF,QAC3B15F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,gBAEnBi4F,0CAgBH,OACC71F,KAAKT,MAAMkL,UAAY,CACtB,CACC9I,QAAS,qBACTmJ,MAAOuB,YAAYC,QAAQqrF,oBAE5B,CACCh2F,QAAS,oBACTmJ,MAAOuB,YAAYC,QAAQsrF,mBAE5B,CACCj2F,QAAS,eACTmJ,MAAOuB,YAAYC,QAAQurF,sBA3EA54F,UAAMG,WAAhCyyF,EASE90F,IAAM,wBAyEC80F,0UC3Ffp0F,EAAArC,EAAA,UACAmxF,EAAAnxF,EAAA,WACA0V,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,goBAOM02F,oKAsBJ,IAAI+D,SACAC,SAEA91F,KAAKT,MAAMwW,WACd+/E,EAAuBhE,EAAmB/0F,IAAM,OAChD84F,EACC73F,EAAAC,QAAAC,cAAC63F,EAAA93F,QAAD,CACCwM,SAAUzK,KAAKg2F,eACfzrF,OAAQurF,EACRnwF,UAAW3F,KAAKT,MAAM2M,kBAKzB,IAAM4rF,EAAgB,IAAIv0F,SAAS2L,MAClClP,KAAKP,QAAQnB,OAAOjC,IAAI,iBACvB48B,aACI8+D,EAAqB1rF,YAAYC,QAAQ0rF,QAAU,IACnDC,EACL5rF,YAAYC,QAAQ,UAAYwrF,GAEjC,OACC95F,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,4CACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAW,GACXjW,UAAU,qBACVmW,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAM,IACNlW,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gBACdE,EAAAC,QAAAC,cAAA,QAAMJ,UAAU,uCACdi6F,EAAoB,IACrB/5F,EAAAC,QAAAC,cAAA,cAAS+5F,IAEVj6F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,mBAGpBi4F,0CAgBH,OACC71F,KAAKT,MAAMkL,UAAY,CACtB,CACC9I,QAAS,mBACTmJ,MAAOuB,YAAYC,QAAQ4rF,aAE5B,CACCv2F,QAAS,kBACTmJ,MAAOuB,YAAYC,QAAQ6rF,YAE5B,CACCx2F,QAAS,qBACTmJ,MAAOuB,YAAYC,QAAQ8rF,eAE5B,CACCz2F,QAAS,mBACTmJ,MAAOuB,YAAYC,QAAQ+rF,qBA7FCp5F,UAAMG,WAAjC0yF,EACE/vF,YAAc/C,UADhB8yF,EAWE/0F,IAAM,yBAyFC+0F,0UC9Gfr0F,EAAArC,EAAA,UACA0V,EAAA1V,EAAA,UACAsC,EAAAtC,EAAA,goBAOM22F,qNA2CLuG,aAAe,WACd,IAAMh6F,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBACjCqoB,EAAa,IAAInhB,SAAS2L,MAAM5Q,GAEtComB,EAAWvS,SAEX7T,EAAOwD,KAAK,kBAAZb,iEA3BA,OACCjD,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQisF,YAChCz6F,UAAU,YACV4iB,YAAU,sBACVzM,QAASjU,KAAKs4F,aACdrvF,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQisF,aAC3Bv6F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBA9BSqB,UAAMG,WAAhC2yF,EACEhwF,YAAc/C,UADhB+yF,EAWEh1F,IAAM,wBA0CCg1F,0UC9DfxF,EAAAnxF,EAAA,WACA0V,EAAA1V,EAAA,UACAqC,EAAArC,EAAA,goBAOM42F,oKAoBJ,IAAI6D,SACAC,SAaJ,OAXI91F,KAAKT,MAAMwW,WACd+/E,EAAuB9D,EAAej1F,IAAM,OAC5C84F,EACC73F,EAAAC,QAAAC,cAAC63F,EAAA93F,QAAD,CACCwM,SAAUzK,KAAKg2F,eACfzrF,OAAQurF,EACRnwF,UAAW3F,KAAKT,MAAM2M,kBAMxBlO,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gCACdE,EAAAC,QAAAC,cAAA,UACC8kB,gBAAehjB,KAAKT,MAAMwW,SAC1BhC,aAAY1H,YAAYC,QAAQ6rB,IAChCg+D,YAAWL,EACXh4F,UAAU,YACVmW,QAASjU,KAAKT,MAAM2M,eACpBhD,KAAK,WACLD,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ6rB,KAC3Bn6B,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,aAEnBi4F,0CAgBH,OACC71F,KAAKT,MAAMkL,UAAY,CACtB,CACC9I,QAAS,kBACTmJ,MAAOuB,YAAYC,QAAQksF,iBAE5B,CACC72F,QAAS,iBACTmJ,MAAOuB,YAAYC,QAAQmsF,gBAE5B,CACC92F,QAAS,YACTmJ,MAAOuB,YAAYC,QAAQosF,mBA3EHz5F,UAAMG,WAA7B4yF,EASEj1F,IAAM,qBAyECi1F,0UC3FflhF,EAAA1V,EAAA,UACA0zF,EAAA1zF,EAAA,WACAqC,EAAArC,EAAA,goBAWM62F,oKAoBJ,OAAIjyF,KAAKT,MAAMqR,gBACP5S,EAAAC,QAAAC,cAACy6F,EAAA16F,QAAoB+B,KAAKT,OAGhCvB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ2C,MAChCnR,UAAU,YACV4iB,YAAU,eACVzM,QAASjU,KAAKT,MAAM6Q,iBACpBnH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ2C,OAC3BjR,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,kBA/BEqB,UAAMG,WAA1B6yF,EASEl1F,IAAM,kBA6BCk1F,0UCnDfnhF,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACAsC,EAAAtC,EAAA,UACAqC,EAAArC,EAAA,4nBAEA,IAAMw9F,EAAmB,IASnB1G,qNAoBL6C,YAAc,WACb,IAAMz2F,EAAS2C,EAAKxB,QAAQnB,OAAOjC,IAAI,gBAEjC0V,EAAY,IAAIxO,SAASgL,KAAKjQ,GAEhC2C,EAAKN,WACRoR,EAAUI,OAAOJ,EAAUvD,oBAE3BuD,EAAUjV,OAAOmE,EAAK43F,WAAY,CACjC9sD,MAAO,kBACPpnC,OAAQ,WAIVrG,EAAOwD,KAAK,kBAAZb,mEAYA,IAAMwO,EAAO,IAAIlM,SAASgL,KACzBvO,KAAKP,QAAQnB,OAAOjC,IAAI,iBACvBmS,mBAEF,OACCiB,IACmE,IAAnEA,EAAK3H,aAAa,QAAQ5C,QAAQ,6DAanC,IAAMqd,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQwsF,QAChCh7F,UAAWykB,EACX7B,YAAU,iBACVzM,QAASjU,KAAK+0F,YACd9rF,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQwsF,SAC3B96F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,gDAgBrB,IAAMW,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBACvC08F,EAAex6F,EACnBsO,eACAgpB,kBACAwK,UAAU,EAAGu4D,GACT74E,EAAM/f,KAAKT,MAAMwgB,IACnBi5E,EAAMh5F,KAAKT,MAAMy5F,IACjBC,EACH,yCAA2CF,EAU5C,OARIh5E,IACHk5E,GAAe,QAAUl5E,GAGtBi5E,IACHC,GAAe,QAAUD,GAGnBC,SA7GmBh6F,UAAMG,WAA5B8yF,EACEnwF,YAAc/C,UADhBkzF,EAWEn1F,IAAM,qBAsGC,EAAA8lB,EAAA5kB,SAAmBi0F,2UC/HlC3yE,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAUM89F,oKAmCJ,IAAM32E,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ6sF,aAChCpF,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,YACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ6sF,cAC3Bn7F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,oBA9CWqB,UAAMG,WAAlC85F,EASE9vF,aAAe,CACrBzH,QAAS,eACTsB,MAAO,CACN0D,QAAS,OAZNuyF,EAwBEn8F,IAAM,gBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYi7F,6UCnEhC35E,EAAAnkB,EAAA,UACA0V,EAAA1V,EAAA,UACA8mB,EAAA9mB,EAAA,WACAgnB,EAAAhnB,EAAA,UACA4gB,EAAA5gB,EAAA,UACAqC,EAAArC,EAAA,goBAWMg3F,oKAqCJ,IAAM7vE,eAAwBviB,KAAKwiB,kBAEnC,OACCxkB,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQ8sF,UAChCrF,gBAA+C,IAAjCxxE,EAASrd,QAAQ,WAC/BpH,UAAWykB,EACX7B,YAAU,mBACVzM,QAASjU,KAAKyB,YACdwH,SAAUjJ,KAAKT,MAAM0J,SACrBiL,MAAO7H,YAAYC,QAAQ8sF,WAC3Bp7F,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,sBAhDOqB,UAAMG,WAA9BgzF,EASEhpF,aAAe,CACrBzH,QAAS,YACT4H,UAAW,CACVK,GAAI,cACJ/D,KAAMtC,SAASof,KAAO,IAEvB1f,MAAO,wBAfHmvF,EA0BEr1F,IAAM,uBA4BC,EAAA2iB,EAAAzhB,UACd,EAAA2kB,EAAA3kB,UAAgB,EAAA4kB,EAAA5kB,UAAmB,EAAAye,EAAAze,SAAYm0F,2FCvEhD,IAAAiH,EAAAj+F,EAAA,YACAk+F,EAAAl+F,EAAA,2MAGEm+F,UAAWx8F,IAAMw8F,eACjBC,UAAcz8F,IAAMy8F,sVCLtB/7F,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,UACAsC,EAAAtC,EAAA,UACAq+F,EAAAr+F,EAAA,WACAs+F,EAAAt+F,EAAA,WACA6V,EAAA7V,EAAA,WACAqtF,EAAArtF,EAAA,WACAyN,EAAAzN,EAAA,UACAu+F,EAAAv+F,EAAA,WACA0V,EAAA1V,EAAA,4nBAEA,IAAIw+F,EAAgB,EAChBC,EAAiB,EAafN,cAGL,SAAAA,EAAYh6F,GAAOQ,EAAAC,KAAAu5F,GAAA,IAAAt4F,EAAAhB,EAAAD,MAAAu5F,EAAAr5F,WAAAhE,OAAAiE,eAAAo5F,IAAA59F,KAAAqE,KACZT,IADY,OAGlB0B,EAAKsH,MAAQ,GAHKtH,+DAelBjB,KAAK85F,6DAaaC,EAAYC,GAC9Bh6F,KAAK85F,kBAID95F,KAAKT,MAAMqR,iBACd5Q,KAAKwE,yCAqBN,IACExE,KAAKuI,MAAM8H,eACZrQ,KAAKT,MAAMoc,aACX3b,KAAKT,MAAMoc,YAAYja,KAAK2lB,YAAY1iB,SACvC3E,KAAKT,MAAMoc,YAAYja,KAAK2lB,YAAY1iB,OAAOs1F,kBAEhD,OAAO,KAGR,IAAI9gF,EAAUnZ,KAAKk6F,cACfp8F,EAAYkC,KAAKm6F,uBAErB,OACCn8F,EAAAC,QAAAC,cAAA,OACC6V,aAAY1H,YAAYC,QAAQukB,IAChC/yB,UAAWA,EACXs8F,gBAAep6F,KAAKT,MAAMd,OAAOwK,UAAY,EAC7CF,QAAS/I,KAAKwE,MAAMxH,KAAKgD,MACzBgJ,UAAWhJ,KAAKqF,UAAUrI,KAAKgD,MAC/BkJ,KAAK,UACLD,SAAS,MACTjL,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,gBAAgBqb,0CAejC,IAAIA,SAqBJ,OAnBInZ,KAAKT,MAAMqR,gBACduI,EAAUnZ,KAAKkmB,kBAAkBlmB,KAAKT,MAAMd,OAAO0a,SAE/CnZ,KAAKT,MAAMoO,eAAiB3N,KAAKT,MAAMoO,cAAcM,SACxDkL,EACCnb,EAAAC,QAAAC,cAAA,UACC6V,aAAY1H,YAAYC,QAAQukB,IAChC/yB,UAAU,0BACVmW,QAASjU,KAAKT,MAAM6Q,iBAAiBpT,KACpCgD,KACAu5F,EAAWx8F,KAEZmX,MAAO7H,YAAYC,QAAQukB,KAC3B7yB,EAAAC,QAAAC,cAACkW,EAAAnW,QAAD,CAAYL,OAAO,WAMhBub,iDAaP,IAAIoJ,EAAW,iBAMf,OAJIviB,KAAKT,MAAMqR,kBACd2R,EAAW,cAAgBviB,KAAKyZ,sBAG1B8I,4CAYP,IAAItU,SAGJ,GAAK5G,UAASC,YAAYtH,MAI1B,GAAIA,KAAKT,MAAMqR,gBACd5Q,KAAKq6F,iBACLr6F,KAAKmkC,YAML,GAJInkC,KAAKT,MAAMoO,gBACdM,EAASjO,KAAKT,MAAMoO,cAAcM,QAG/BA,EAAQ,CACX,IAAI7G,EAAUC,UAASC,YAAYtH,MAE/BuoB,EAAa,IAAIhlB,SAASwX,IAAIpU,QAAQS,GAEtCqgB,EAAYxZ,EAAOwZ,WAAaxZ,EAEhC1P,EAAeyB,KAAKP,QAAQnB,OAAOjC,IAAI,gBAEvCi+F,EAAa/7F,EAAa0rB,WAAWrO,gBAErC2+E,SAEA1jE,EACH72B,KAAKT,MAAMd,OAAOo4B,UAAY72B,KAAKT,MAAMs3B,SAGzC0jE,EADG1jE,IAAa+iE,EAEfU,EAAWzgF,KACXzS,EAAQyT,YACR7a,KAAKT,MAAMi7F,gBAAgB3gF,KAC3B,KAGAygF,EAAWzyE,MACX7nB,KAAKT,MAAMi7F,gBAAgB3gF,KAC3B,KAGFzS,EAAQnE,MAAM4W,KAAO0gF,EAErBnzF,EAAQnE,MAAM6W,IACb7S,KAAK4uC,OAAO5nC,EAAOma,OAASna,EAAO6L,KAAO,GAAK,KAEhD,IAAMK,EAASna,KAAKP,QAAQnB,OAAOjC,IAAI,UAEjCyf,EAAY3B,EAASA,EAAO2B,UAAY,EAEI,SAA9Cvd,EAAaoI,QAAQlD,SAAS,YACjC2D,EAAQnE,MAAM6W,IACb7S,KAAK4uC,MACJ5nC,EAAO6L,IACN1S,EAAQoU,aAAe,EACvBiM,EAAU3oB,OAAS,EACnBgd,GACE,KAEL1U,EAAQnE,MAAM6W,IACb7S,KAAK4uC,MACJt3C,EAAaoI,QAAQuhB,EAAEC,UACtBV,EAAU3oB,OAAS,EACnBsI,EAAQoU,aAAe,GACrB,KAGNpU,EAAQnE,MAAMud,QAAU,EAExB+H,EAAWI,YAAY,gBAEvB3oB,KAAKy6F,0BA5NgBx7F,UAAMG,WAAzBm6F,EACEx3F,YAAc/C,UAyOtBu6F,EAAWx8F,IAAM,MAUjBw8F,EAAW1/E,KAAO+/E,EAUlBL,EAAW1xE,MAAQgyE,EAUnBN,EAAWnwF,aAAe,CACzB7C,UAAU,EACVgB,YAAa,aACbizF,gBAAiB,CAChB3gF,KAAM,GACNC,IAAK,GAENjU,KAAM,CACLI,QAAS,CAAC,IACVO,KAAM,CAAC,GAAI,IACXC,KAAM,CAAC,GAAI,KAEZowB,SAAU+iE,cAGI,EAAAc,EAAAz8F,UACd,EAAA4X,EAAA5X,UACC,EAAAssF,EAAAtsF,UACC,EAAAoL,EAAApL,UAAmB,EAAA08F,EAAA18F,UAAe,EAAA28F,EAAA38F,SAAes7F,+hBCnTpD97F,EAAArC,EAAA,UACA4I,EAAA5I,EAAA,UACAq+F,EAAAr+F,EAAA,WACAs+F,EAAAt+F,EAAA,WACA6V,EAAA7V,EAAA,WACAqtF,EAAArtF,EAAA,WACAyN,EAAAzN,EAAA,UACAu+F,EAAAv+F,EAAA,WACAsC,EAAAtC,EAAA,UACAuE,EAAAvE,EAAA,goBAaMo+F,cAGL,SAAAA,EAAYj6F,GAAOQ,EAAAC,KAAAw5F,GAAA,IAAAv4F,EAAAhB,EAAAD,MAAAw5F,EAAAt5F,WAAAhE,OAAAiE,eAAAq5F,IAAA79F,KAAAqE,KACZT,IADY,OAGlB0B,EAAKsH,MAAQ,GAHKtH,+DAelBjB,KAAK85F,6DAaaC,EAAYC,GAC9Bh6F,KAAK85F,mDAaL,IAAIe,EAAmB76F,KAAK86F,uBAE5B,GAAID,EAAkB,CACrB,IAAIE,EAAuB/6F,KAAKg7F,sBAC/BH,EAAiBphF,oBAEdmN,SAGHA,EADGm0E,EACeA,IAEA/6F,KAAKyZ,qBAGxB,IAAIwhF,EAAa,qBAAuBr0E,EAEpCzN,EAAU0hF,EAAiB1hF,QAER,YAAnB,qBAAOA,EAAP,YAAA3W,EAAO2W,KAAyB7X,MAAMU,QAAQmX,KACjDA,EACCA,EAAQnZ,KAAKP,QAAQnB,OAAOjC,IAAI,UAChC8c,EAAQ,WAGV,IAAI+hF,EAAel7F,KAAKm7F,uBAAuBhiF,EAAS,CACvDvG,gBAAiB5S,KAAKT,MAAMoc,YACzB3b,KAAKT,MAAMoc,YAAYja,KAAKkR,gBAC5B,KACHwoF,cAAeP,EAAiB9+F,OAG7Bs/F,EACHH,EAAa1qF,OAAO,SAASyV,GAC5B,OAAO3kB,MAAMU,QAAQikB,KACnB7kB,OAAS,EAETtD,EAAY,eAMhB,OAJIu9F,IACHv9F,GAAa,wBAIbE,EAAAC,QAAAC,cAAA,OACC6V,aAAY1H,YAAYC,QAAQd,OAChC1N,UAAWm9F,EACXb,gBAAep6F,KAAKT,MAAMd,OAAOwK,UAAY,EAC7CF,QAAS/I,KAAKwE,MAAMxH,KAAKgD,MACzBgJ,UAAWhJ,KAAKqF,UAAUrI,KAAKgD,MAC/BkJ,KAAK,UACLD,SAAS,MACTjL,EAAAC,QAAAC,cAAA,OAAKJ,UAAWA,GACdo9F,EAAavwF,IAAI,SAASlO,EAAO2L,GACjC,OAAI9G,MAAMU,QAAQvF,GAEhBuB,EAAAC,QAAAC,cAAA,OAAKJ,UAAU,SAASf,IAAKqL,GAC3B3L,EAAMkO,IAAI,SAASsb,GACnB,OAAOA,KAKHxpB,MAQb,OAAO,mDAac6+F,GACrB,IAAIC,SAEJ,GAAI96F,UAAKC,WAAW46F,GACnBC,EAAoBD,OACd,GAAI76F,UAAKgC,SAAS64F,GAAc,CACtC,IAAIp4F,EAAQo4F,EAAYn4F,MAAM,KAC1BC,EAAgBiS,OAChBlY,EAAW+F,EAAMG,QAErB,MACClG,GACAsD,UAAK6B,SAASc,IACd3C,UAAK6B,SAASc,EAAcjG,IAE5BiG,EAAgBA,EAAcjG,GAC9BA,EAAW+F,EAAMG,QAGd5C,UAAKC,WAAW0C,KACnBm4F,EAAoBn4F,GAItB,OAAOm4F,iDAaP,IAAIn0E,EAAepnB,KAAKT,MAAMoc,YAC3B3b,KAAKT,MAAMoc,YAAYja,KACvB,KACCsQ,SAwBJ,OAtBIoV,GACHpnB,KAAKT,MAAMd,OAAOqyB,WAAW3oB,KAAK,SAASP,GAC1C,IAAI4zF,EAASx7F,KAAKg7F,sBAAsBpzF,EAAKwR,MACzCV,SAeJ,OAbI8iF,IACH9iF,EACC0O,EAAaxU,kBAAoBhL,EAAK7L,MACtCy/F,EAAO,CACN95F,KAAM0lB,EACN9oB,OAAQ0B,KAAKP,QAAQnB,UAIpBoa,IACH1G,EAAYpK,GAGN8Q,GACL1Y,MAGGgS,4CAaP,GAAK3K,UAASC,YAAYtH,MAA1B,CAIA,IAAI66F,EAAmB76F,KAAK86F,uBACxBpiF,SAIJ,GAAImiF,EAAkB,CACrB,IAAIY,EAAgBz7F,KAAKg7F,sBACxBH,EAAiBxhF,aAGdoiF,IACH/iF,EAAS+iF,EAAc9/F,KAAKqE,KAAM,CACjC1B,OAAQ0B,KAAKP,QAAQnB,OACrBqd,YAAa3b,KAAKT,MAAMoc,YACxBhO,cAAe3N,KAAKT,MAAMoO,iBAKxB+K,IACJ1Y,KAAKq6F,iBACLr6F,KAAKmkC,gBAtOoBllC,UAAMG,WAA5Bo6F,EACEz3F,YAAc/C,UAkPtBw6F,EAAcpwF,aAAe,CAC5B7C,UAAU,EACVgB,YAAa,6DACb1B,KAAM,CACLI,QAAS,CAAC,IACVO,KAAM,CAAC,GAAI,IACXC,KAAM,CAAC,GAAI,MAYb+yF,EAAcz8F,IAAM,oBAEL,EAAA29F,EAAAz8F,UACd,EAAA4X,EAAA5X,UACC,EAAAssF,EAAAtsF,UACC,EAAAoL,EAAApL,UAAmB,EAAA08F,EAAA18F,UAAe,EAAA28F,EAAA38F,SAAeu7F","file":"alloy-editor-no-ckeditor-min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 44);\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","import React from 'react';\nimport EditorContext from '../../adapter/editor-context';\n\nexport default function ButtonIcon({symbol, className = ''}) {\n\treturn (\n\t\t<EditorContext.Consumer>\n\t\t\t{({editor}) => {\n\t\t\t\tconst nativeEditor = editor.get('nativeEditor');\n\t\t\t\tconst spritemap = nativeEditor.config.spritemap || '';\n\t\t\t\tconst path = `${spritemap}#${symbol}`;\n\t\t\t\tconst classNamePrefix = className ? ` ${className}` : '';\n\t\t\t\tconst combinedClassName = `ae-svg-icon${classNamePrefix}`;\n\n\t\t\t\treturn (\n\t\t\t\t\t<svg className={combinedClassName} width=\"18\" height=\"18\">\n\t\t\t\t\t\t<use href={path} />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EditorContext.Consumer>\n\t);\n}\n","import React from 'react';\n\n/**\n * React context to avoid explicitly passing the editor instance all\n * through the component hierarchy via props.\n */\nconst EditorContext = React.createContext({});\n\n/**\n * Helper that passes the editor context in via a prop.\n *\n * Context can only be accessed in `render()` and in lifecycle methods\n * (`componentDidMount()` etc). If a component needs to access context\n * elsewhere, such as in a constructor, the context needs to be passed\n * in via a prop.\n */\nEditorContext.toProps = Component => {\n\tconst forwardingComponent = React.forwardRef((props, ref) => (\n\t\t<EditorContext.Consumer>\n\t\t\t{context => <Component {...props} context={context} ref={ref} />}\n\t\t</EditorContext.Consumer>\n\t));\n\tforwardingComponent.key = Component.key;\n\treturn forwardingComponent;\n};\n\nexport default EditorContext;\n","import Lang from '../../oop/lang';\n\n/**\n * ButtonStateClasses is a mixin that decorates the domElement of a component\n * with different CSS classes based on the current state of the element.\n *\n * To check for state, the component can expose the following methods:\n * - `Function` **isActive** to check the active state\n * - `Function` **isDisabled** to check the disabled state\n *\n * @class ButtonStateClasses\n */\nexport default WrappedComponent =>\n\tclass ButtonStateClasses extends WrappedComponent {\n\t\t/**\n\t\t * Returns the list of state classes associated to the current element's state, according\n\t\t * to the results of the isActive and isDisabled methods.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStateClasses\n\t\t * @method getStateClasses\n\t\t * @return {String} A string with the state CSS classes.\n\t\t */\n\t\tgetStateClasses() {\n\t\t\tlet stateClasses = '';\n\n\t\t\t// Check for active state\n\t\t\tif (Lang.isFunction(this.isActive) && this.isActive()) {\n\t\t\t\tstateClasses += 'ae-button-pressed';\n\t\t\t}\n\n\t\t\t// Check for disabled state\n\t\t\tif (Lang.isFunction(this.isDisabled) && this.isDisabled()) {\n\t\t\t\tstateClasses += ' ae-button-disabled';\n\t\t\t}\n\n\t\t\treturn stateClasses;\n\t\t}\n\t};\n","import EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCommand is a mixin that executes a command via CKEDITOR's API.\n *\n * @class ButtonCommand\n */\nexport default WrappedComponent =>\n\tclass ButtonCommand extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Executes a CKEditor command and fires `actionPerformed` event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.\n\t\t * @method execCommand\n\t\t */\n\t\texecCommand = data => {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\teditor.execCommand(this.props.command, data);\n\n\t\t\tif (this.props.modifiesSelection) {\n\t\t\t\teditor.selectionChange(true);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t};\n\t};\n","/**\n * Provides core language utilities.\n *\n * @class Lang\n */\nconst Lang = {\n\t/**\n\t * Check if the passed value is an array.\n\t *\n\t * @memberof Lang\n\t * @method isArray\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an array, false otherwise.\n\t * @static\n\t */\n\tisArray: function(value) {\n\t\treturn Object.prototype.toString.call(value) === '[object Array]';\n\t},\n\n\t/**\n\t * Check if the passed value is boolean.\n\t *\n\t * @memberof Lang\n\t * @method isBoolean\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is boolean, false otherwise.\n\t * @static\n\t */\n\tisBoolean: function(value) {\n\t\treturn typeof value === 'boolean';\n\t},\n\n\t/**\n\t * Check if the passed value is a function.\n\t *\n\t * @memberof Lang\n\t * @method isFunction\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a function, false otherwise.\n\t * @static\n\t */\n\tisFunction: function(value) {\n\t\treturn typeof value === 'function';\n\t},\n\n\t/**\n\t * Check if the passed value is NULL.\n\t *\n\t * @memberof Lang\n\t * @method isNull\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is NULL, false otherwise.\n\t * @static\n\t */\n\tisNull: function(value) {\n\t\treturn value === null;\n\t},\n\n\t/**\n\t * Check if the passed value is number.\n\t *\n\t * @memberof Lang\n\t * @method isNumber\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is number, false otherwise.\n\t * @static\n\t */\n\tisNumber: function(value) {\n\t\treturn typeof value === 'number' && isFinite(value);\n\t},\n\n\t/**\n\t * Check if the passed value is an object\n\t *\n\t * @memberof Lang\n\t * @method isObject\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an object, false otherwise.\n\t * @static\n\t */\n\tisObject: function(value) {\n\t\tlet valueType = typeof value;\n\n\t\treturn value && (valueType === 'object' || Lang.isFunction(value));\n\t},\n\n\t/**\n\t * Check if the passed value is a string.\n\t *\n\t * @memberof Lang\n\t * @method isString\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a string, false otherwise.\n\t * @static\n\t */\n\tisString: function(value) {\n\t\treturn typeof value === 'string';\n\t},\n\n\t/**\n\t * Adds all properties from the supplier to the receiver.\n\t * The function will add all properties, not only these owned by the supplier.\n\t *\n\t * @memberof Lang\n\t * @method mix\n\t * @param {Object} receiver The object which will receive properties.\n\t * @param {Object} supplier The object which provides properties.\n\t * @return {Object} The modified receiver.\n\t * @static\n\t */\n\tmix: function(receiver, supplier) {\n\t\tlet hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\tfor (let key in supplier) {\n\t\t\tif (hasOwnProperty.call(supplier, key)) {\n\t\t\t\treceiver[key] = supplier[key];\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Converts value to Integer.\n\t *\n\t * @memberof Lang\n\t * @method toInt\n\t * @param {Any} value The value which have to be converted to Integer.\n\t * @return {Integer} The converted value.\n\t * @static\n\t */\n\ttoInt: function(value) {\n\t\treturn parseInt(value, 10);\n\t},\n};\n\nexport default Lang;\n","import EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStyle is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonStyle\n */\nexport default WrappedComponent =>\n\tclass ButtonStyle extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tlet style = this.props.style;\n\n\t\t\tif (Lang.isString(style)) {\n\t\t\t\tlet parts = style.split('.');\n\t\t\t\tlet currentMember = this.context.editor.get('nativeEditor')\n\t\t\t\t\t.config;\n\t\t\t\tlet property = parts.shift();\n\n\t\t\t\twhile (\n\t\t\t\t\tproperty &&\n\t\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t\t) {\n\t\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\t\tproperty = parts.shift();\n\t\t\t\t}\n\n\t\t\t\tif (Lang.isObject(currentMember)) {\n\t\t\t\t\tstyle = currentMember;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._style = new CKEDITOR.style(style);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis._style = null;\n\t\t}\n\n\t\t/**\n\t\t * Returns instance of CKEDITOR.style which represents the current button style.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method getStyle\n\t\t * @return {CKEDITOR.style} The current style representation.\n\t\t */\n\t\tgetStyle() {\n\t\t\treturn this._style;\n\t\t}\n\n\t\t/**\n\t\t * Checks if style is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method isActive\n\t\t * @return {Boolean} True if style is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\t\tconst elementPath = editor.elementPath();\n\t\t\treturn this.getStyle().checkActive(elementPath, editor);\n\t\t}\n\t};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","import Lang from '../../oop/lang';\nimport ReactDOM from 'react-dom';\n\nlet DIRECTION_NONE = 0;\nlet DIRECTION_NEXT = 1;\nlet DIRECTION_PREV = -1;\n\nlet ACTION_NONE = 0;\nlet ACTION_MOVE_FOCUS = 1;\nlet ACTION_DISMISS_FOCUS = 2;\n\n/**\n * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,\n * it exposes the following props and methods:\n *\n * @class WidgetFocusManager\n */\nexport default WrappedComponent =>\n\tclass WidgetFocusManager extends WrappedComponent {\n\t\t/**\n\t\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidMount\n\t\t */\n\t\tcomponentDidMount() {\n\t\t\tif (Lang.isFunction(super.componentDidMount)) {\n\t\t\t\tsuper.componentDidMount();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t\t * Refreshes the descendants list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidUpdate\n\t\t */\n\t\tcomponentDidUpdate() {\n\t\t\tif (Lang.isFunction(super.componentDidUpdate)) {\n\t\t\t\tsuper.componentDidUpdate();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Focuses the current active descendant.\n\t\t *\n\t\t * Several Widgets can be nested in a component hierarchy by attaching this focus method to\n\t\t * the widget DOM node, transferring the DOM focus control to the inner FocusManager.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method focus\n\t\t */\n\t\tfocus = event => {\n\t\t\tif (!event || this._isValidTarget(event.target)) {\n\t\t\t\tif (this._descendants && this._descendants.length) {\n\t\t\t\t\tlet activeDescendantEl = this._descendants[\n\t\t\t\t\t\tthis._activeDescendant\n\t\t\t\t\t];\n\t\t\t\t\t// When user clicks with the mouse, the activeElement is already set and there\n\t\t\t\t\t// is no need to focus it. Focusing of the active descendant (usually some button) is required\n\t\t\t\t\t// in case of keyboard navigation, because the focused element might be not the first button,\n\t\t\t\t\t// but the div element, which contains the button.\n\t\t\t\t\tif (\n\t\t\t\t\t\tdocument.activeElement !== activeDescendantEl &&\n\t\t\t\t\t\t!this.props.focusFirstChild\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis._descendants.indexOf(\n\t\t\t\t\t\t\t\tdocument.activeElement\n\t\t\t\t\t\t\t) === -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tactiveDescendantEl.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Handles the key events on a DOM node to execute the appropriate navigation when needed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @param {Object} event The Keyboard event that was detected on the widget DOM node.\n\t\t * @method handleKey\n\t\t */\n\t\thandleKey = event => {\n\t\t\tif (this._isValidTarget(event.target) && this._descendants) {\n\t\t\t\tlet action = this._getFocusAction(event);\n\n\t\t\t\tif (action.type) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif (action.type === ACTION_MOVE_FOCUS) {\n\t\t\t\t\t\tthis._moveFocus(action.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (action.type === ACTION_DISMISS_FOCUS) {\n\t\t\t\t\t\tthis.props.onDismiss(action.direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t */\n\t\tmoveFocus(direction) {\n\t\t\tdirection = Lang.isNumber(direction) ? direction : 0;\n\n\t\t\tthis._moveFocus(direction);\n\t\t}\n\n\t\t/**\n\t\t * Returns the action, if any, that a keyboard event in the current focus manager state\n\t\t * should produce.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusAction\n\t\t * @param {object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} An action object with type and direction properties.\n\t\t */\n\t\t_getFocusAction(event) {\n\t\t\tlet action = {\n\t\t\t\ttype: ACTION_NONE,\n\t\t\t};\n\n\t\t\tif (this.props.keys) {\n\t\t\t\tlet direction = this._getFocusMoveDirection(event);\n\n\t\t\t\tif (direction) {\n\t\t\t\t\taction.direction = direction;\n\t\t\t\t\taction.type = ACTION_MOVE_FOCUS;\n\t\t\t\t}\n\n\t\t\t\tlet dismissAction = this._getFocusDismissAction(\n\t\t\t\t\tevent,\n\t\t\t\t\tdirection\n\t\t\t\t);\n\n\t\t\t\tif (dismissAction.dismiss) {\n\t\t\t\t\taction.direction = dismissAction.direction;\n\t\t\t\t\taction.type = ACTION_DISMISS_FOCUS;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn action;\n\t\t}\n\n\t\t/**\n\t\t * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This\n\t\t * will happen in any of these scenarios if a dismiss callback has been specified:\n\t\t * - A dismiss key has been pressed\n\t\t * - In a non-circular focus manager, when:\n\t\t *     - The active descendant is the first one and a prev key has been pressed.\n\t\t *     - The active descendant is the last one and a next key has been pressed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusDismissAction\n\t\t * @param {Number} focusMoveDirection The focus movement direction (if any).\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} A dismiss action with dismiss and direction properties.\n\t\t */\n\t\t_getFocusDismissAction(event, focusMoveDirection) {\n\t\t\tlet dismissAction = {\n\t\t\t\tdirection: focusMoveDirection,\n\t\t\t\tdismiss: false,\n\t\t\t};\n\n\t\t\tif (this.props.onDismiss) {\n\t\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissNext)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_NEXT;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissPrev)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_PREV;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!dismissAction.dismiss &&\n\t\t\t\t\t!this.props.circular &&\n\t\t\t\t\tfocusMoveDirection\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss =\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_PREV &&\n\t\t\t\t\t\t\tthis._activeDescendant === 0) ||\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_NEXT &&\n\t\t\t\t\t\t\tthis._activeDescendant ===\n\t\t\t\t\t\t\t\tthis._descendants.length - 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn dismissAction;\n\t\t}\n\n\t\t/**\n\t\t * Returns the direction, if any, in which the focus should be moved. In presence of the\n\t\t * shift key modifier, the direction of the movement is inverted.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusMoveDirection\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Number} The computed direction of the expected focus movement.\n\t\t */\n\t\t_getFocusMoveDirection(event) {\n\t\t\tlet direction = DIRECTION_NONE;\n\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.next)) {\n\t\t\t\tdirection = DIRECTION_NEXT;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.prev)) {\n\t\t\t\tdirection = DIRECTION_PREV;\n\t\t\t}\n\n\t\t\tif (event.shifKey) {\n\t\t\t\tdirection *= -1;\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given keyCode is valid for the given set of keys.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.\n\t\t * @param {Number} keyCode An event keyCode.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the key is valid.\n\t\t */\n\t\t_isValidKey(keyCode, keys) {\n\t\t\treturn Lang.isArray(keys)\n\t\t\t\t? keys.indexOf(keyCode) !== -1\n\t\t\t\t: keyCode === keys;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given element is valid for focus management. User input elements such as\n\t\t * input, select or textarea are excluded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {DOMNode} element A DOM element.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the element is valid.\n\t\t */\n\t\t_isValidTarget(element) {\n\t\t\tlet tagName = element.tagName.toLowerCase();\n\n\t\t\treturn (\n\t\t\t\ttagName !== 'input' &&\n\t\t\t\ttagName !== 'select' &&\n\t\t\t\ttagName !== 'textarea'\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t * @protected\n\t\t */\n\t\t_moveFocus(direction) {\n\t\t\tlet numDescendants = this._descendants.length;\n\n\t\t\tlet descendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', -1);\n\n\t\t\tthis._activeDescendant += direction;\n\n\t\t\tif (this.props.circular) {\n\t\t\t\t// Calculate proper modulo result since remainder operator doesn't behave in the\n\t\t\t\t// same way for negative numbers\n\t\t\t\tthis._activeDescendant =\n\t\t\t\t\t((this._activeDescendant % numDescendants) +\n\t\t\t\t\t\tnumDescendants) %\n\t\t\t\t\tnumDescendants;\n\t\t\t} else {\n\t\t\t\tthis._activeDescendant = Math.max(\n\t\t\t\t\tMath.min(this._activeDescendant, numDescendants - 1),\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tdescendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', 0);\n\t\t\tdescendant.focus();\n\t\t}\n\n\t\t/**\n\t\t * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _refresh\n\t\t * @protected\n\t\t */\n\t\t_refresh() {\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tlet descendants = domNode.querySelectorAll(\n\t\t\t\t\tthis.props.descendants\n\t\t\t\t);\n\n\t\t\t\tlet priorityDescendants = [];\n\n\t\t\t\tthis._descendants = [];\n\n\t\t\t\tArray.prototype.slice.call(descendants).forEach(\n\t\t\t\t\tfunction(item) {\n\t\t\t\t\t\tlet dataTabIndex = item.getAttribute('data-tabindex');\n\n\t\t\t\t\t\tif (dataTabIndex) {\n\t\t\t\t\t\t\tpriorityDescendants.push(item);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._descendants.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this)\n\t\t\t\t);\n\n\t\t\t\tpriorityDescendants = priorityDescendants.sort(function(a, b) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tLang.toInt(a.getAttribute('data-tabindex')) >\n\t\t\t\t\t\tLang.toInt(b.getAttribute('data-tabindex'))\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\tthis._descendants = priorityDescendants.concat(\n\t\t\t\t\tthis._descendants\n\t\t\t\t);\n\n\t\t\t\tthis._activeDescendant = 0;\n\n\t\t\t\tthis._descendants.some(\n\t\t\t\t\tfunction(item, index) {\n\t\t\t\t\t\tif (item.getAttribute('tabindex') === '0') {\n\t\t\t\t\t\t\tthis._activeDescendant = index;\n\t\t\t\t\t\t\tthis.focus();\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n","import EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCommandActive is a mixin that provides an `isActive` method to determine if\n * a context-aware command is currently in an active state.\n *\n * @class ButtonCommandActive\n */\nexport default WrappedComponent =>\n\tclass ButtonCommandActive extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Checks if the command is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommandActive\n\t\t * @method isActive\n\t\t * @return {Boolean} True if the command is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tconst command = editor.getCommand(this.props.command);\n\n\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t}\n\t};\n","import EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCfgProps is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonCfgProps\n */\nexport default WrappedComponent =>\n\tclass ButtonCfgProps extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Merges the properties, passed to the current component with user's configuration\n\t\t * via `buttonCfg` property.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCfgProps\n\t\t * @method mergeButtonCfgProps\n\t\t * @param {Object} props The properties to be merged with the provided configuration for this\n\t\t * button. If not passed, the user configuration will be merged with `this.props`\n\t\t * @return {Object} The merged properties\n\t\t */\n\t\tmergeButtonCfgProps(props = this.props) {\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\t\t\treturn CKEDITOR.tools.merge(props, buttonCfg['linkEdit']);\n\t\t}\n\t};\n","import WidgetFocusManager from '../base/widget-focus-manager';\nimport React from 'react';\n\n/**\n * The ButtonDropdown class provides markup and keyboard navigation behaviour to a dropdown\n * opened from a button.\n *\n * @class ButtonDropdown\n */\nclass ButtonDropdown extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the dropdown in the configuration.\n\t *\n\t * @default dropdown\n\t * @memberof ButtonDropdown\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'dropdown';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-dropdown ae-arrow-box ae-arrow-box-top-left\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul className=\"ae-listbox\" role=\"listbox\">\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WidgetFocusManager(ButtonDropdown);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring\n * a function of the instance to be invoked upon the keystroke activation.\n *\n * @class ButtonKeystroke\n */\nexport default WrappedComponent =>\n\tclass ButtonKeystroke extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst keystroke = this.props.keystroke;\n\n\t\t\tconst commandName =\n\t\t\t\tkeystroke.name || ((Math.random() * 1e9) >>> 0).toString();\n\n\t\t\tlet command = nativeEditor.getCommand(commandName);\n\n\t\t\tif (!command) {\n\t\t\t\tcommand = new CKEDITOR.command(nativeEditor, {\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet keystrokeFn = keystroke.fn;\n\n\t\t\t\t\t\tif (Lang.isString(keystrokeFn)) {\n\t\t\t\t\t\t\tthis[keystrokeFn].call(this, editor);\n\t\t\t\t\t\t} else if (Lang.isFunction(keystrokeFn)) {\n\t\t\t\t\t\t\tkeystrokeFn.call(this, editor);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this),\n\t\t\t\t});\n\n\t\t\t\tnativeEditor.addCommand(commandName, command);\n\t\t\t}\n\n\t\t\tthis._defaultKeystrokeCommand =\n\t\t\t\tnativeEditor.keystrokeHandler.keystrokes[keystroke.keys];\n\n\t\t\tnativeEditor.setKeystroke(keystroke.keys, commandName);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis.context.editor\n\t\t\t\t.get('nativeEditor')\n\t\t\t\t.setKeystroke(\n\t\t\t\t\tthis.props.keystroke.keys,\n\t\t\t\t\tthis._defaultKeystrokeCommand\n\t\t\t\t);\n\t\t}\n\t};\n","import React from 'react';\nimport ButtonCommandListItem from './button-command-list-item.jsx';\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ButtonCommandsList class provides functionality for showing a list of commands that can be\n * executed to the current selection..\n *\n * @class ButtonCommandsList\n * @uses WidgetFocusManager\n */\nclass ButtonCommandsList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandsList\n\t * @memberof ButtonCommandsList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandsList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._ref = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._ref.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-dropdown ae-arrow-box ae-arrow-box-top-left\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\tref={this._ref}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"ae-listbox\"\n\t\t\t\t\tid={this.props.listId}\n\t\t\t\t\trole=\"listbox\">\n\t\t\t\t\t{this._renderActions(this.props.commands)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonCommandListItem with the description of the row action that will be executed.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method _renderActions\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonCommandListItem class\n\t */\n\t_renderActions(commands) {\n\t\tlet items;\n\n\t\tif (commands && commands.length) {\n\t\t\titems = commands.map(function(item) {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.command} role=\"option\">\n\t\t\t\t\t\t<ButtonCommandListItem\n\t\t\t\t\t\t\tcommand={item.command}\n\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\ttypeof item.label === 'string'\n\t\t\t\t\t\t\t\t\t? item.label\n\t\t\t\t\t\t\t\t\t: item.label()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticon={item.icon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonCommandsList);\n","import ButtonDropdown from './button-dropdown.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonsStylesListHeader from './button-styles-list-header.jsx';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ButtonStylesList class provides functionality for showing a list of styles that can be\n * applied to the current selection..\n *\n * @class ButtonStylesList\n * @uses WidgetFocusManager\n */\nclass ButtonStylesList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowRemoveStylesItem: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @memberof ButtonStylesList\n\t * @static\n\t * @property {String} key\n\t * @default buttonStylesList\n\t */\n\tstatic key = 'buttonStylesList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tconst blockStyles = [];\n\t\tconst inlineStyles = [];\n\t\tconst objectStyles = [];\n\n\t\tthis.props.styles.forEach(function(item) {\n\t\t\tconst style = new CKEDITOR.style(item.style);\n\n\t\t\tif (style.type === CKEDITOR.STYLE_BLOCK) {\n\t\t\t\tblockStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_INLINE) {\n\t\t\t\tinlineStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_OBJECT) {\n\t\t\t\tobjectStyles.push(item);\n\t\t\t}\n\t\t});\n\n\t\tthis._blockStyles = blockStyles;\n\t\tthis._inlineStyles = inlineStyles;\n\t\tthis._objectStyles = objectStyles;\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet removeStylesItem;\n\n\t\tif (this.props.showRemoveStylesItem) {\n\t\t\tremoveStylesItem = (\n\t\t\t\t<ButtonStylesListItemRemove\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown {...this.props}>\n\t\t\t\t{removeStylesItem}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.blockStyles}\n\t\t\t\t\tstyles={this._blockStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._blockStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.inlineStyles}\n\t\t\t\t\tstyles={this._inlineStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._inlineStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.objectStyles}\n\t\t\t\t\tstyles={this._objectStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._objectStyles)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonStylesListItem with the preview of the correspondent block, inline or object styles.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method _renderStylesItems\n\t * @param {Array} styles List of styles for which preview should be rendered.\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonStylesListItem class\n\t */\n\t_renderStylesItems(styles) {\n\t\tlet items;\n\n\t\tif (styles && styles.length) {\n\t\t\titems = styles.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.name} role=\"option\">\n\t\t\t\t\t\t<ButtonStylesListItem\n\t\t\t\t\t\t\tactiveStyle={this.props.activeStyle}\n\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\tstyle={item.style}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonStylesList);\n","import EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonActionStyle is a mixin that provides applying style implementation for a\n * button based on the `applyStyle` and `removeStyle` API of CKEDITOR.\n *\n * To execute properly, the component has to expose the following methods which can be obtained\n * out of the box using the {{#crossLink \"ButtonStyle\"}}{{/crossLink}} mixin:\n * - `Function` {{#crossLink \"ButtonStyle/isActive\"}}{{/crossLink}} to check the active state\n * - `Function` {{#crossLink \"ButtonStyle/getStyle\"}}{{/crossLink}} to return the style that should be applied\n *\n * @class ButtonActionStyle\n */\nexport default WrappedComponent =>\n\tclass ButtonActionStyle extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Removes or applies the component style to the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonActionStyle\n\t\t * @method applyStyle\n\t\t */\n\t\tapplyStyle = () => {\n\t\t\tif (\n\t\t\t\tLang.isFunction(this.isActive) &&\n\t\t\t\tLang.isFunction(this.getStyle)\n\t\t\t) {\n\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\teditor.getSelection().lock();\n\n\t\t\t\tif (this.isActive()) {\n\t\t\t\t\teditor.removeStyle(this.getStyle());\n\t\t\t\t} else {\n\t\t\t\t\teditor.applyStyle(this.getStyle());\n\t\t\t\t}\n\n\t\t\t\teditor.getSelection().unlock();\n\n\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t}\n\t\t};\n\t};\n","let _isRangeAtElementEnd = function(range, element) {\n\t// Finding if a range is at the end of an element is somewhat tricky due to how CKEditor handles\n\t// ranges. It might depend on wether a source node inside the element is selected or not. For now,\n\t// we need to cover the following cases:\n\t//\n\t// - The text length of the element is the same as the endOffset of the range\n\t// - Both start and end containers match the element and the start and end offsets are 1\n\n\treturn (\n\t\telement.getText().length === range.endOffset ||\n\t\t(element.equals(range.startContainer) &&\n\t\t\telement.equals(range.endContainer) &&\n\t\t\trange.startOffset === range.endOffset &&\n\t\t\trange.endOffset === 1)\n\t);\n};\n\nlet embedSelectionTest = function(payload) {\n\tlet selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'ae_embed'\n\t);\n};\n\nconst embedUrlSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'embedurl'\n\t);\n};\n\nconst headingTextSelectionTest = function(payload) {\n\tconst headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst selectionData = payload.data.selectionData;\n\tconst selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly() &&\n\t\tnativeEditor.elementPath().contains(headings)\n\t);\n};\n\nlet linkSelectionTest = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\tlet range = nativeEditor.getSelection().getRanges()[0];\n\tlet selectionData = payload.data.selectionData;\n\n\tlet element = new CKEDITOR.Link(nativeEditor).getFromSelection();\n\tlet isSelectionEmpty = nativeEditor.isSelectionEmpty();\n\tlet elementIsNotImage = selectionData.element\n\t\t? selectionData.element.getName() !== 'img'\n\t\t: true;\n\n\treturn !!(\n\t\tisSelectionEmpty &&\n\t\telementIsNotImage &&\n\t\telement &&\n\t\telement.getText().length !== range.endOffset &&\n\t\telement &&\n\t\t!element.isReadOnly() &&\n\t\t!_isRangeAtElementEnd(range, element)\n\t);\n};\n\nconst imageSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\tconst element = selectionData.element;\n\tconst hasImage = !!element && !!element.findOne('img');\n\tconst isImage = !!element && element.getName() === 'img';\n\n\treturn !!(element && (hasImage || isImage));\n};\n\nlet textSelectionTest = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\n\tlet selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\tlet selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly()\n\t);\n};\n\nlet tableSelectionTest = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\n\tlet table = new CKEDITOR.Table(nativeEditor);\n\tlet element = table.getFromSelection();\n\n\treturn !!(element && table.isEditable(element));\n};\n\nconst SelectionTest = {\n\tembed: embedSelectionTest,\n\tembedUrl: embedUrlSelectionTest,\n\theader: headingTextSelectionTest,\n\timage: imageSelectionTest,\n\tlink: linkSelectionTest,\n\ttable: tableSelectionTest,\n\ttext: textSelectionTest,\n};\n\nexport default SelectionTest;\n","import Lang from './lang';\n\n/**\n * Sets the prototype, constructor and superclass properties to support an inheritance strategy\n * that can chain constructors and methods. Static members will not be inherited.\n *\n * @memberof OOP\n * @method extend\n * @param {Function} receiver The class which will extend another class.\n * @param {Function} supplier The class which will provide the properties the child class.\n * @param {Object} protoProps Prototype properties to add/override.\n * @param {Object} staticProps Static properties to add/overwrite.\n * @return {Function} The extended class.\n * @static\n */\nconst extend = function(receiver, supplier, protoProps, staticProps) {\n\tif (!supplier || !receiver) {\n\t\tthrow new Error('extend failed, verify dependencies');\n\t}\n\n\tlet supplierProto = supplier.prototype;\n\n\tlet receiverProto = Object.create(supplierProto);\n\treceiver.prototype = receiverProto;\n\n\treceiverProto.constructor = receiver;\n\treceiver.superclass = supplierProto;\n\n\t// assign constructor property\n\tif (\n\t\tsupplier !== Object &&\n\t\tsupplierProto.constructor === Object.prototype.constructor\n\t) {\n\t\tsupplierProto.constructor = supplier;\n\t}\n\n\t// add prototype overrides\n\tif (protoProps) {\n\t\tLang.mix(receiverProto, protoProps);\n\t}\n\n\t// add object overrides\n\tif (staticProps) {\n\t\tLang.mix(receiver, staticProps);\n\t}\n\n\treturn receiver;\n};\n\nexport default extend;\n","import Lang from '../../oop/lang';\n\n/**\n * Provides functionality for managing exclusive state of an widget.\n * The exclusive state means that a button may request to be the only rendered\n * widget in its parent container. WidgetExclusive will manage this state by\n * filtering and suppressing the other sibling widgets from displaying.\n *\n * @class WidgetExclusive\n */\nexport default WrappedComponent =>\n\tclass WidgetExclusive extends WrappedComponent {\n\t\t/**\n\t\t * Cancels the exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method cancelExclusive\n\t\t * @param {Object} itemExclusive The widget which exclusive state should be canceled.\n\t\t */\n\t\tcancelExclusive(itemExclusive) {\n\t\t\tif (this.state.itemExclusive === itemExclusive) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titemExclusive: null,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t * Calling this.setState() within this function will not trigger an additional render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method componentWillReceiveProps\n\t\t * @param {Object} nextProps Object containing the current set of properties.\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\t// Receiving properties means that the component is being re-rendered.\n\t\t\t// Re-rendering is triggered by editorInteraction, so we have to\n\t\t\t// reset the exclusive state and render the UI according to the new selection.\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Filters the items and returns only those with exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method filterExclusive\n\t\t * @param {Array} items The widgets to be filtered.\n\t\t * @return {Array|Object} The item with executive state.\n\t\t */\n\t\tfilterExclusive(items) {\n\t\t\treturn items.filter(\n\t\t\t\tfunction(item) {\n\t\t\t\t\tif (this.state.itemExclusive) {\n\t\t\t\t\t\tif (this.state.itemExclusive === item.key) {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with three more properties:\n\t\t * - cancelExclusive - function, which can be used by a widget in order to cancel executive state.\n\t\t * - renderExclusive - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - requestExclusive - function, which can be used by a widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method mergeExclusiveProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to exclusive state.\n\t\t * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeExclusiveProps(obj, itemKey) {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\tcancelExclusive: this.cancelExclusive.bind(this, itemKey),\n\t\t\t\trenderExclusive: this.state.itemExclusive === itemKey,\n\t\t\t\trequestExclusive: this.requestExclusive.bind(this, itemKey),\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Requests and sets exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method requestExclusive\n\t\t * @param {Object} itemExclusive The widget which requests exclusive state.\n\t\t */\n\t\trequestExclusive = itemExclusive => {\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: itemExclusive,\n\t\t\t});\n\t\t};\n\t};\n","import React from 'react';\nimport ButtonCfgProps from '../base/button-props';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ButtonLinkEdit class provides functionality for creating and editing a link in a document.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEdit\n * @uses ButtonCfgProps\n * @uses WidgetDropdown\n * @uses WidgetFocusManager\n */\nclass ButtonLinkEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tappendProtocol: true,\n\t\tautocompleteUrl: '',\n\t\tcircular: true,\n\t\tcustomIndexStart: true,\n\t\tdefaultLinkTarget: '',\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowTargetSelector: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkEdit\n\t * @memberof ButtonLinkEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this._getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tthis._focusLinkInput();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this._getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet targetSelector = {\n\t\t\tallowedTargets: this.props.allowedTargets,\n\t\t\teditor: this.context.editor,\n\t\t\thandleLinkTargetChange: this._handleLinkTargetChange,\n\t\t\tselectedTarget:\n\t\t\t\tthis.state.linkTarget || AlloyEditor.Strings.linkTargetDefault,\n\t\t};\n\n\t\ttargetSelector = this.mergeDropdownProps(\n\t\t\ttargetSelector,\n\t\t\tButtonLinkTargetEdit.key\n\t\t);\n\n\t\tlet autocompleteDropdown;\n\n\t\tif (this.props.data) {\n\t\t\tlet dataFn = this.props.data;\n\n\t\t\tif (!Lang.isFunction(dataFn)) {\n\t\t\t\tconst items = this.props.data;\n\n\t\t\t\tdataFn = () => items;\n\t\t\t}\n\n\t\t\tlet autocompleteDropdownProps = {\n\t\t\t\tautocompleteSelected: this.state.autocompleteSelected,\n\t\t\t\tdata: dataFn,\n\t\t\t\teditor: this.context.editor,\n\t\t\t\thandleLinkAutocompleteClick: this._handleLinkAutocompleteClick,\n\t\t\t\tonDismiss: this.props.toggleDropdown,\n\t\t\t\tsetAutocompleteState: this._setAutocompleteState,\n\t\t\t\tterm: this.state.linkHref,\n\t\t\t};\n\n\t\t\tautocompleteDropdownProps = this.mergeDropdownProps(\n\t\t\t\tautocompleteDropdownProps,\n\t\t\t\tButtonLinkAutocompleteList.key\n\t\t\t);\n\n\t\t\tautocompleteDropdown = (\n\t\t\t\t<ButtonLinkAutocompleteList {...autocompleteDropdownProps} />\n\t\t\t);\n\t\t}\n\n\t\tlet buttonClearLink;\n\n\t\tif (this.state.linkHref) {\n\t\t\tbuttonClearLink = (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t<ButtonIcon symbol=\"times-circle\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\n\t\tconst placeholderProp = {};\n\n\t\tif (!CKEDITOR.env.ie && AlloyEditor.Strings) {\n\t\t\tplaceholderProp.placeholder = AlloyEditor.Strings.editLink;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.removeLink}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.remove}>\n\t\t\t\t\t<ButtonIcon symbol=\"chain-broken\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t{this.props.showTargetSelector && (\n\t\t\t\t\t\t<ButtonLinkTargetEdit {...targetSelector} />\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"ae-container-input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\t{...placeholderProp}\n\t\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{autocompleteDropdown}\n\t\t\t\t\t</div>\n\t\t\t\t\t{buttonClearLink}\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._updateLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" className=\"ae-icon-svg-check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _getInitialState\n\t * @protected\n\t * @return {Object}\n\t */\n\t_getInitialState() {\n\t\t// Can't access context from contructor, so get editor from props.\n\t\tconst {editor} = this.props.context;\n\t\tconst {defaultLinkTarget} = this.props;\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\teditor.get('nativeEditor')\n\t\t).getFromSelection();\n\t\tconst href = (link && link.getAttribute('href')) || '';\n\t\tconst target =\n\t\t\t(link && link.getAttribute('target')) || defaultLinkTarget;\n\n\t\treturn {\n\t\t\tautocompleteSelected: false,\n\t\t\telement: link,\n\t\t\tinitialLink: {\n\t\t\t\thref: href,\n\t\t\t\ttarget: target,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t\tlinkTarget: target,\n\t\t};\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput() {\n\t\tconst instance = this;\n\n\t\tconst focusLinkEl = function() {\n\t\t\tinstance.linkInput.current.focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusLinkEl);\n\t\t} else {\n\t\t\tsetTimeout(focusLinkEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13 || event.keyCode === 27) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === 13) {\n\t\t\tthis._updateLink();\n\t\t} else if (event.keyCode === 40) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteSelected: true,\n\t\t\t});\n\t\t} else if (event.keyCode === 27) {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tnew CKEDITOR.Link(editor).advanceSelection();\n\n\t\t\tthis.context.editor\n\t\t\t\t.get('nativeEditor')\n\t\t\t\t.fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when the link target changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkTargetChange\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkTargetChange = event => {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkTarget: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when an autocomplete link result is selected by user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkAutocompleteClick\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkAutocompleteClick(event) {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkHref: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t}\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href and that either that or the link target are different\n\t * from the original link.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} [description]\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\t(this.state.linkHref !== this.state.initialLink.href ||\n\t\t\t\tthis.state.linkTarget !== this.state.initialLink.target);\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the link in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _removeLink\n\t * @protected\n\t */\n\t_removeLink = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\t\tconst selection = editor.getSelection();\n\t\tconst bookmarks = selection.createBookmarks();\n\n\t\tlinkUtils.remove(this.state.element, {advance: true});\n\n\t\tselection.selectBookmarks(bookmarks);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Update autocompleteSelected state to focus and select autocompletes dropdown\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _setAutocompleteState\n\t * @protected\n\t */\n\t_setAutocompleteState(state) {\n\t\tthis.setState({\n\t\t\tautocompleteSelected: state.selected,\n\t\t});\n\t}\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _updateLink\n\t * @protected\n\t */\n\t_updateLink = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {\n\t\t\tappendProtocol: this.props.appendProtocol,\n\t\t});\n\t\tconst linkAttrs = {\n\t\t\ttarget: this.state.linkTarget,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (this.state.linkHref) {\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = this.state.linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlinkUtils.create(\n\t\t\t\t\tthis.state.linkHref,\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default EditorContext.toProps(\n\tButtonCfgProps(WidgetDropdown(WidgetFocusManager(ButtonLinkEdit)))\n);\n","import Lang from '../../oop/lang';\nimport ReactDOM from 'react-dom';\n\n/**\n * Provides functionality for managing different dropdowns inside a widget.\n *\n * @class WidgetDropdown\n */\nexport default WrappedComponent =>\n\tclass WidgetDropdown extends WrappedComponent {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method componentWillReceiveProps\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with two more properties:\n\t\t * - expanded - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - toggleDropdown - function, which can be used by an widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method mergeDropdownProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to dropdown state.\n\t\t * @param {Object} itemKey They key of an React Widget which contains the dropdown.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeDropdownProps = (obj, itemKey) => {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\texpanded: this.state.itemDropdown === itemKey ? true : false,\n\t\t\t\ttabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,\n\t\t\t\ttoggleDropdown: this.toggleDropdown.bind(this, itemKey),\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Sets the active dropdown of the widget or discards the toggled item from the state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method toggleDropdown\n\t\t * @param {Object} itemDropdown The widget which requests to toggle its dropdown.\n\t\t * @param {Number} toggleDirection User movement direction when toggled via keyboard.\n\t\t */\n\t\ttoggleDropdown = (itemDropdown, toggleDirection) => {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tdropdownTrigger: itemDropdown,\n\t\t\t\t\titemDropdown:\n\t\t\t\t\t\titemDropdown !== this.state.itemDropdown\n\t\t\t\t\t\t\t? itemDropdown\n\t\t\t\t\t\t\t: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tif (!this.state.itemDropdown) {\n\t\t\t\t\t\tif (this.moveFocus) {\n\t\t\t\t\t\t\tthis.moveFocus(toggleDirection);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tReactDOM.findDOMNode(this).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\t};\n","import './addimages';\nimport './autolink';\nimport './autolist';\nimport './dragresize';\nimport './dragresize_ie';\nimport './dragresize_ie11';\nimport './embed';\nimport embedurl from './embedurl';\nimport './imagealignment';\nimport './pasteimages';\nimport './placeholder';\nimport './selectionkeystrokes';\nimport './tableresize';\nimport './tabletools';\n\nexport {embedurl};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import Lang from './lang';\n\n/**\n * Attribute implementation.\n *\n * @class Attribute\n * @constructor\n */\nfunction Attribute(config) {\n\tthis.__config__ = config || {};\n\tthis.__ATTRS__ = {};\n}\n\nAttribute.prototype = {\n\tconstructor: Attribute,\n\n\t/**\n\t * Retrieves the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method get\n\t * @param {String} attr The attribute which value should be retrieved.\n\t * @return {Any} The value of the attribute.\n\t */\n\tget: function(attr) {\n\t\tlet currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tlet curValue = this.__ATTRS__[attr];\n\n\t\tif (currentAttr.getter) {\n\t\t\tcurValue = this._callStringOrFunction(currentAttr.getter, curValue);\n\t\t}\n\n\t\treturn curValue;\n\t},\n\n\t/**\n\t * Sets the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method set\n\t * @param {String} attr The attribute which value should be set.\n\t * @param {Any} value The value which should be set to the attribute.\n\t */\n\tset: function(attr, value) {\n\t\tlet currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tif (currentAttr.readOnly) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.writeOnce && this._isInitialized(attr)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.setter) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Calls the provided param as function with the supplied arguments.\n\t * If param provided as string, a corresponding function in this object will\n\t * be called. If provided param is a function, it will be directly called.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _callStringOrFunction\n\t * @param  {Any|Array} args The arguments which will be provided to the called function\n\t * @param  {String|Function} stringOrFunction The function which should be called\n\t * @protected\n\t * @return {Any} The returned value from the called function\n\t */\n\t_callStringOrFunction: function(stringOrFunction, args) {\n\t\tlet result = null;\n\n\t\tif (!Lang.isArray(args)) {\n\t\t\targs = [args];\n\t\t}\n\n\t\tif (\n\t\t\tLang.isString(stringOrFunction) &&\n\t\t\tLang.isFunction(this[stringOrFunction])\n\t\t) {\n\t\t\tresult = this[stringOrFunction](...args);\n\t\t} else if (Lang.isFunction(stringOrFunction)) {\n\t\t\tresult = stringOrFunction.apply(this, args);\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Initializes an attribute. Sets its default value depending on the flags of the\n\t * attribute and the passed configuration object to the constructor.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _init\n\t * @param {String} attr The name of the attribute which have to be initialized.\n\t * @protected\n\t */\n\t_init: function(attr) {\n\t\tlet value;\n\n\t\tlet currentAttr = this.constructor.ATTRS[attr];\n\n\t\t// Check if there is default value or passed one via configuration object\n\t\tlet hasDefaultValue = Object.prototype.hasOwnProperty.call(\n\t\t\tcurrentAttr,\n\t\t\t'value'\n\t\t);\n\t\tlet hasPassedValueViaConfig = Object.prototype.hasOwnProperty.call(\n\t\t\tthis.__config__,\n\t\t\tattr\n\t\t);\n\n\t\t// If there is valueFn, set the value to be the result of invocation of this function\n\t\tif (currentAttr.valueFn) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.valueFn, value);\n\n\t\t\tthis.__ATTRS__[attr] = value;\n\t\t}\n\t\t// else if the attribute has readOnly flag, set the default value from the attribute,\n\t\t// regardless if there is value or not\n\t\telse if (currentAttr.readOnly) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\t\t// else if the attribute has writeOnce value, set it from the passed configuration or from the\n\t\t// default value, in this order. Otherwise, return miserable.\n\t\telse if (currentAttr.writeOnce) {\n\t\t\tif (hasPassedValueViaConfig) {\n\t\t\t\tvalue = this.__config__[attr];\n\t\t\t} else if (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// These two cases below are easy - set the value to be from the passed config or\n\t\t// from the default value, in this order.\n\t\telse if (hasPassedValueViaConfig) {\n\t\t\tvalue = this.__config__[attr];\n\t\t} else if (hasDefaultValue) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\n\t\t// If there is validator, and user passed config object - check the returned value.\n\t\t// If it is false, then set as initial value the default one.\n\t\t// However, if there is no default value, just return.\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\thasPassedValueViaConfig &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\tif (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If there is setter and user passed config object - pass the value thought the setter.\n\t\t// The value might be one from defaultFn, default value or provided from the config.\n\t\tif (currentAttr.setter && hasPassedValueViaConfig) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\t// Finally, set the value as initial value to the storage with values.\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Checks if an attribute is initialized. An attribute is considered as initialized\n\t * when there is an own property with this name in the local collection of attribute values\n\t * for the current instance.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _isInitialized\n\t * @param {String} attr The attribute which should be checked if it is initialized.\n\t * @protected\n\t * @return {Boolean} Returns true if the attribute has been initialized, false otherwise.\n\t */\n\t_isInitialized: function(attr) {\n\t\treturn Object.prototype.hasOwnProperty.call(this.__ATTRS__, attr);\n\t},\n};\n\nexport default Attribute;\n","import SelectionGetArrowBoxClasses from './selection-arrowbox';\nimport SelectionSetPosition from './selection-position';\nimport SelectionTest from './selection-test';\n\nconst Selections = [\n\t{\n\t\tname: 'embed',\n\t\tbuttons: ['embedRemove', 'embedEdit'],\n\t\ttest: SelectionTest.embed,\n\t},\n\t{\n\t\tname: 'embedUrl',\n\t\tbuttons: ['embedVideo', 'embedVideoEdit'],\n\t\ttest: SelectionTest.embedUrl,\n\t},\n\t{\n\t\tname: 'link',\n\t\tbuttons: ['linkEdit'],\n\t\ttest: SelectionTest.link,\n\t},\n\t{\n\t\tname: 'image',\n\t\tbuttons: ['imageLeft', 'imageCenter', 'imageRight', 'removeImage'],\n\t\tsetPosition: SelectionSetPosition.image,\n\t\ttest: SelectionTest.image,\n\t},\n\t{\n\t\tname: 'text',\n\t\tbuttons: {\n\t\t\tfull: [\n\t\t\t\t[\n\t\t\t\t\t'Font',\n\t\t\t\t\t'FontSize',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'bold',\n\t\t\t\t\t'italic',\n\t\t\t\t\t'underline',\n\t\t\t\t\t'strike',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'link',\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t'paragraphAlign',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'ul',\n\t\t\t\t\t'ol',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'h1',\n\t\t\t\t\t'h2',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'indentBlock',\n\t\t\t\t\t'outdentBlock',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'TextColor',\n\t\t\t\t\t'BGColor',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'code',\n\t\t\t\t\t'quote',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'removeFormat',\n\t\t\t\t],\n\t\t\t],\n\n\t\t\tsimple: ['styles', 'bold', 'italic', 'underline', 'link'],\n\t\t},\n\t\ttest: SelectionTest.text,\n\t},\n\t{\n\t\tname: 'table',\n\t\tbuttons: [\n\t\t\t'tableHeading',\n\t\t\t'tableRow',\n\t\t\t'tableColumn',\n\t\t\t'tableCell',\n\t\t\t'tableRemove',\n\t\t],\n\t\tgetArrowBoxClasses: SelectionGetArrowBoxClasses.table,\n\t\tsetPosition: SelectionSetPosition.table,\n\t\ttest: SelectionTest.table,\n\t},\n];\n\nexport default Selections;\n","let tableSelectionGetArrowBoxClasses = function() {\n\treturn 'ae-arrow-box ae-arrow-box-bottom';\n};\n\nconst SelectionGetArrowBoxClasses = {\n\ttable: tableSelectionGetArrowBoxClasses,\n};\n\nexport default SelectionGetArrowBoxClasses;\n","import ReactDOM from 'react-dom';\n\n// Default gutter value for toolbar positioning\nlet DEFAULT_GUTTER = {\n\tleft: 0,\n\ttop: 0,\n};\n\n/**\n * Centers a Toolbar according to given rectangle\n *\n * @method centerToolbar\n * @param {Object} toolbar The toolbar to be centered\n * @param {Object} rect The rectangle according to which the Toolbar will be centered\n */\nlet centerToolbar = function(toolbar, rect) {\n\tlet toolbarNode = ReactDOM.findDOMNode(toolbar);\n\n\tlet nativeEditor = toolbar.context.editor.get('nativeEditor');\n\tlet uiNode = nativeEditor.config.uiNode || document.body;\n\tlet uiNodeStyle = getComputedStyle(uiNode);\n\tlet uiNodeMarginLeft = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t10\n\t);\n\tlet uiNodeMarginRight = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t10\n\t);\n\tlet totalWidth = uiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\tlet halfNodeWidth = toolbarNode.offsetWidth / 2;\n\tlet scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();\n\n\tlet gutter = toolbar.props.gutter || DEFAULT_GUTTER;\n\n\tlet widgetXY = toolbar.getWidgetXYPoint(\n\t\trect.left + rect.width / 2 - scrollPosition.x,\n\t\trect.top + scrollPosition.y,\n\t\tCKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t);\n\n\tlet endPosition = [\n\t\trect.left + rect.width / 2 - halfNodeWidth - scrollPosition.x,\n\t\trect.top - toolbarNode.offsetHeight + scrollPosition.y - gutter.top,\n\t];\n\n\tif (endPosition[0] < 0) {\n\t\tendPosition[0] = 0;\n\t} else if (endPosition[0] > totalWidth - toolbarNode.offsetWidth) {\n\t\tendPosition[0] = totalWidth - toolbarNode.offsetWidth;\n\t}\n\n\ttoolbar.moveToPoint(widgetXY, endPosition);\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method imageSelectionSetPosition\n * @param {Object} payload Payload, should contain the selection data for retrieving the\n * client rectangle of the selected image\n * @return {Boolean} True, in all cases\n */\nlet imageSelectionSetPosition = function(payload) {\n\tlet selectionData = payload.selectionData\n\t\t? payload.selectionData\n\t\t: payload.editorEvent\n\t\t? payload.editorEvent.data.selectionData\n\t\t: null;\n\n\tif (selectionData && selectionData.element) {\n\t\tcenterToolbar(this, selectionData.element.getClientRect());\n\n\t\treturn true;\n\t}\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method tableSelectionSetPosition\n * @param {Object} payload Object, which contains the selection data for retrieving the\n * client rectangle of the selected table\n * @return {Boolean} True, in all cases\n */\nlet tableSelectionSetPosition = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\tlet uiNode = nativeEditor.config.uiNode;\n\n\tlet scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\tlet table = new CKEDITOR.Table(nativeEditor).getFromSelection();\n\tlet rect = table.getClientRect();\n\trect.top += scrollTop;\n\n\tcenterToolbar(this, rect);\n\n\treturn true;\n};\n\nconst SelectionSetPosition = {\n\timage: imageSelectionSetPosition,\n\ttable: tableSelectionSetPosition,\n};\n\nexport default SelectionSetPosition;\n","import ButtonActionStyle from '../base/button-action-style';\nimport ButtonStyle from '../base/button-style';\nimport EditorContext from '../../adapter/editor-context';\nimport React from 'react';\n\n/**\n * The ButtonStylesListItem class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItem\n * @uses ButtonActionStyle\n * @uses ButtonStyle\n */\nclass ButtonStylesListItem extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItem\n\t * @memberof ButtonStylesListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItem';\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\t// Styles with wildcard element (*) generate an empty tag in their preview < class=\"custom-class\" />.\n\t\t// We default to element span and remove the margins to obtain a more consistent set of previews.\n\t\tlet styleCfg = {\n\t\t\telement: 'span',\n\t\t\tstyles: {\n\t\t\t\tmargin: 0,\n\t\t\t},\n\t\t};\n\n\t\tstyleCfg = CKEDITOR.tools.merge(styleCfg, this.props.style);\n\n\t\tthis._preview = new CKEDITOR.style(styleCfg).buildPreview(\n\t\t\tthis.props.name\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\t// We need to use dangerouselySetInnterHTML since we're not in control of the style\n\t\t// preview that is generated by CKEditor.\n\t\tconst className =\n\t\t\tthis.props.name === this.props.activeStyle\n\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t: 'ae-toolbar-element';\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName={className}\n\t\t\t\tdangerouslySetInnerHTML={{__html: this._preview}}\n\t\t\t\tonClick={this._onClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n\t * Applies the item style to the editor selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method _onClick\n\t * @protected\n\t */\n\t_onClick = () => {\n\t\t// Typically, we want the style to be the only one applied to the current selection, so\n\t\t// we execute the 'removeFormat' command first. Note that block styles won't be cleaned.\n\t\t// However, this is consistent with other editors implementations of this feature.\n\t\tthis.context.editor.get('nativeEditor').execCommand('removeFormat');\n\n\t\tthis.applyStyle();\n\t};\n}\n\nexport default ButtonActionStyle(ButtonStyle(ButtonStylesListItem));\n","import React from 'react';\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonStylesListItemRemove class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItemRemove\n */\nclass ButtonStylesListItemRemove extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tremoveBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre'],\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItemRemove\n\t * @memberof ButtonStylesListItemRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItemRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<li role=\"option\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this._removeStyles}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t{AlloyEditor.Strings.normal}\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t);\n\t}\n\n\t/**\n\t * Removes all inline styles and configured block elements applied to the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method _removeStyles\n\t * @protected\n\t */\n\t_removeStyles = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.execCommand('removeFormat');\n\n\t\tthis.props.removeBlocks.forEach(function(blockItem) {\n\t\t\tconst blockStyle = new CKEDITOR.style({element: blockItem});\n\n\t\t\teditor.removeStyle(blockStyle);\n\t\t});\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonStylesListItemRemove;\n","import React from 'react';\n\n/**\n * The ButtonsStylesListHeader class provides the header of an list of style items.\n *\n * @class ButtonsStylesListHeader\n */\nclass ButtonsStylesListHeader extends React.Component {\n\tstatic key = 'buttonStylesListHeader';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonsStylesListHeader\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.styles && this.props.styles.length) {\n\t\t\treturn <span className=\"ae-list-header\">{this.props.name}</span>;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default ButtonsStylesListHeader;\n","import React from 'react';\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonCameraImage class takes photo from camera and inserts it to the content.\n *\n * @class ButtonCameraImage\n */\nclass ButtonCameraImage extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t */\n\tstatic defaultProps = {\n\t\tvideoWidth: 320,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default cameraImage\n\t * @memberof ButtonCameraImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'cameraImage';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._buttonTakePhotoRef = React.createRef();\n\t\tthis._canvasContainerRef = React.createRef();\n\t\tthis._videoContainerRef = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses the take photo button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._buttonTakePhotoRef.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._stream) {\n\t\t\tif (this._stream.stop) {\n\t\t\t\tthis._stream.stop();\n\t\t\t} else if (this._stream.getVideoTracks) {\n\t\t\t\tthis._stream.getVideoTracks().forEach(function(track) {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._stream = null;\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst getUserMedia =\n\t\t\tnavigator.getUserMedia ||\n\t\t\tnavigator.webkitGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia;\n\n\t\tgetUserMedia.call(\n\t\t\tnavigator,\n\t\t\t{\n\t\t\t\tvideo: true,\n\t\t\t\taudio: false,\n\t\t\t},\n\t\t\tthis._handleStreamSuccess,\n\t\t\tthis._handleStreamError\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"ae-camera\">\n\t\t\t\t<video ref={this._videoContainerRef}>\n\t\t\t\t\tVideo stream not available.\n\t\t\t\t</video>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-camera-shoot\"\n\t\t\t\t\tonClick={this.takePhoto}\n\t\t\t\t\tref={this._buttonTakePhotoRef}>\n\t\t\t\t\tTake photo\n\t\t\t\t</button>\n\t\t\t\t<canvas\n\t\t\t\t\tclassName=\"ae-camera-canvas\"\n\t\t\t\t\tref={this._canvasContainerRef}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Takes photo from the video stream and inserts in into editor's content.\n\t *\n\t * @fires ButtonCameraImage#imageCameraAdd\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method takePhoto\n\t */\n\ttakePhoto = () => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tconst context = canvasEl.getContext('2d');\n\n\t\tconst height = this._videoHeight;\n\t\tconst width = this.props.videoWidth;\n\n\t\tif (width && height) {\n\t\t\tcanvasEl.width = width;\n\t\t\tcanvasEl.height = height;\n\n\t\t\tcontext.drawImage(videoEl, 0, 0, width, height);\n\n\t\t\tconst imgURL = canvasEl.toDataURL('image/png');\n\n\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t'<img src=\"' + imgURL + '\">'\n\t\t\t);\n\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\teditor.insertElement(el);\n\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\teditor.fire('imageCameraAdd', el);\n\t\t}\n\t};\n\n\t/**\n\t * Displays error message in case of video stream capturing failure.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamError\n\t * @param {Event} error The fired event in case of error.\n\t * @protected\n\t */\n\t_handleStreamError = error => {\n\t\twindow.alert('An error occurred! ' + error);\n\t};\n\n\t/**\n\t * Starts streaming video in the video element and sets width/height to the video\n\t * and canvas elements.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamSuccess\n\t * @param {Object} stream The video stream\n\t * @protected\n\t */\n\t_handleStreamSuccess = stream => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tvideoEl.addEventListener(\n\t\t\t'canplay',\n\t\t\t() => {\n\t\t\t\tlet height =\n\t\t\t\t\tvideoEl.videoHeight /\n\t\t\t\t\t(videoEl.videoWidth / this.props.videoWidth);\n\n\t\t\t\tif (isNaN(height)) {\n\t\t\t\t\theight = this.props.videoWidth / (4 / 3);\n\t\t\t\t}\n\n\t\t\t\tvideoEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tvideoEl.setAttribute('height', height);\n\t\t\t\tcanvasEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tcanvasEl.setAttribute('height', height);\n\n\t\t\t\tthis._videoHeight = height;\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\n\t\tthis._stream = stream;\n\n\t\tif (navigator.mozGetUserMedia) {\n\t\t\tvideoEl.mozSrcObject = stream;\n\t\t} else {\n\t\t\tvideoEl.srcObject = stream;\n\t\t}\n\n\t\tvideoEl.play();\n\n\t\tthis._buttonTakePhotoRef.current.disabled = false;\n\t};\n\n\t/**\n\t * Fired when an image is being taken from the camera and added as an element to the editor.\n\t *\n\t * @event ButtonCameraImage#imageCameraAdd\n\t * @memberof ButtonCameraImage\n\t * @param {CKEDITOR.dom.element} el The created img element in editor.\n\t */\n}\n\nexport default ButtonCameraImage;\n","import ButtonCommand from '../base/button-command';\nimport React from 'react';\n\n/**\n * The ButtonCommandListItem class is a UI class that renders a ButtonCommand that can be used inside\n * a list as an item, with a string representation of its behaviour.\n *\n * @class ButtonCommandListItem\n * @uses ButtonCommand\n */\nclass ButtonCommandListItem extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandListItem\n\t * @memberof ButtonCommandListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandListItem';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={this.props.description}\n\t\t\t\tclassName={this._getClassName()}\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t{this.props.description}\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Returns the class name of Widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method _getClassName\n\t * @protected\n\t * @return {String} The class name of the Widget.\n\t */\n\t_getClassName() {\n\t\tconst className = 'ae-container ae-toolbar-element';\n\n\t\treturn className;\n\t}\n}\n\nexport default ButtonCommand(ButtonCommandListItem);\n","import React from 'react';\nimport ButtonIcon from './button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedEdit class provides functionality for creating and editing an embed link in a document.\n * Provides UI for creating and editing an embed link.\n *\n * @class ButtonEmbedEdit\n */\nclass ButtonEmbedEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embedEdit\n\t * @memberof ButtonEmbedEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embedEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusLinkInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusLinkInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this.getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\t// Can't access context from constructor, so get editor from props.\n\t\tconst editor = this.props.context.editor.get('nativeEditor');\n\t\tlet embed;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\tembed = selectedElement.findOne('[data-widget=\"ae_embed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst href = embed ? embed.getAttribute('data-ae-embed-url') : '';\n\n\t\treturn {\n\t\t\telement: embed,\n\t\t\tinitialLink: {\n\t\t\t\thref: href,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst clearLinkStyle = {\n\t\t\topacity: this.state.linkHref ? 1 : 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.deleteEmbed}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-remove\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeEmbed}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.deleteEmbed}>\n\t\t\t\t\t<ButtonIcon symbol=\"trash\" className=\"ae-icon-svg-trash\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={AlloyEditor.Strings.editLink}\n\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearLinkStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"times-clear\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" className=\"ae-icon-svg-check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\t};\n\n\t/**\n\t * Triggers the embedUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _embedLink\n\t * @protected\n\t */\n\t_embedLink = () => {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\turl: this.state.linkHref,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput = () => {\n\t\tthis.linkInput.current.focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedLink();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\tthis.state.linkHref !== this.state.initialLink.href;\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the embed in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _removeEmbed\n\t * @protected\n\t */\n\t_removeEmbed = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst embedWrapper = this.state.element.getAscendant(function(element) {\n\t\t\treturn element.hasClass('cke_widget_wrapper');\n\t\t});\n\n\t\tembedWrapper.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default EditorContext.toProps(ButtonEmbedEdit);\n","import ButtonIcon from './button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedVideoEdit class provides functionality for changing text color in a document.\n *\n * @uses ButtonIcon\n *\n * @class ButtonEmbedVideoEdit\n */\nclass ButtonEmbedVideoEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'embedVideoEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusVideoUrlInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusVideoUrlInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.replaceState(this.getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\t// Can't access context from constructor, so get editor from props.\n\t\tconst editor = this.props.context.editor.get('nativeEditor');\n\t\tlet element;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\telement = selectedElement.findOne('[data-widget=\"videoembed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst videoURL = element\n\t\t\t? element.getAttribute('data-embed-video-url')\n\t\t\t: '';\n\n\t\treturn {\n\t\t\telement,\n\t\t\tinitialEmbed: {\n\t\t\t\tvideoURL,\n\t\t\t},\n\t\t\tvideoURL,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputPlaceholder = AlloyEditor.Strings.pasteVideoLink;\n\n\t\tconst clearVideoURLStyle = {\n\t\t\topacity: this.state.videoURL ? 1 : 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-embed-video-edit\">\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleVideoURLChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={inputPlaceholder}\n\t\t\t\t\t\tref=\"linkInput\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.videoURL}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-icon-remove\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearVideoURLStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedVideoURL}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink() {\n\t\tthis.setState({\n\t\t\tvideoURL: '',\n\t\t});\n\t}\n\n\t/**\n\t * Triggers the embedVideoUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _embedVideoURL\n\t * @protected\n\t */\n\t_embedVideoURL = () => {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\ttype: 'video',\n\t\t\turl: this.state.videoURL,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _focusVideoUrlInput\n\t * @protected\n\t */\n\t_focusVideoUrlInput = () => {\n\t\tReactDOM.findDOMNode(this.refs.linkInput).focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedVideoURL();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleVideoURLChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleVideoURLChange = event => {\n\t\tthis.setState({\n\t\t\tvideoURL: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty videoURL that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.videoURL &&\n\t\t\tthis.state.videoURL !== this.state.initialEmbed.videoURL;\n\n\t\treturn validState;\n\t}\n}\n\nexport default EditorContext.toProps(ButtonEmbedVideoEdit);\n","import ButtonDropdown from './button-dropdown.jsx';\nimport React from 'react';\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ButtonLinkAutocompleteList class provides functionality for showing a list of\n * items that can be selected for the link.\n *\n * @class ButtonLinkAutocompleteList\n * @uses WidgetFocusManager\n */\nclass ButtonLinkAutocompleteList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdata: [],\n\t\tdelay: 100,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonLinkAutocompleteList\n\t * @memberof ButtonLinkAutocompleteList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonLinkAutocompleteList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!nextProps.term || nextProps.term !== this.props.term) {\n\t\t\tclearTimeout(this._timeout);\n\n\t\t\tif (nextProps.term) {\n\t\t\t\tthis._timeout = setTimeout(this._updateItems, this.props.delay);\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\titems: [],\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (nextProps.autocompleteSelected) {\n\t\t\tsetTimeout(this.focus, 0);\n\t\t\tthis.props.setAutocompleteState({\n\t\t\t\tselected: false,\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this._timeout);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (!this.props.expanded || !this.state.items.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown>\n\t\t\t\t{this._renderAutocompleteItems(this.state.items)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.term !== this.props.term ||\n\t\t\tnextState.items !== this.state.items\n\t\t);\n\t}\n\n\t/**\n\t * Renders a set of list items for the provided items\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _renderAutocompleteItems\n\t * @param {Array} items List of autocomplete items to render\n\t * @protected\n\t * @return {Array} Rendered list item instances\n\t */\n\t_renderAutocompleteItems(items) {\n\t\titems = items || [];\n\n\t\tconst handleLinkAutocompleteClick = this.props\n\t\t\t.handleLinkAutocompleteClick;\n\n\t\treturn items.map(item => {\n\t\t\tconst className =\n\t\t\t\tthis.props.term === item.url\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={item.url} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tonClick={handleLinkAutocompleteClick}\n\t\t\t\t\t\tdata-value={item.url}>\n\t\t\t\t\t\t{item.title}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the data according to {this.props.term} and calls setState() with the returned data\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _updateItems\n\t * @protected\n\t */\n\t_updateItems() {\n\t\tif (!this.props.term) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst promise = Promise.resolve(this.props.data(this.props.term));\n\n\t\tpromise.then(items => {\n\t\t\tif (items.length) {\n\t\t\t\t!this.props.expanded && this.props.toggleDropdown();\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\titems: items,\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default WidgetFocusManager(ButtonLinkAutocompleteList);\n","import ButtonCfgProps from '../base/button-props';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport EditorContext from '../../adapter/editor-context';\nimport React from 'react';\n\n/**\n * The ButtonLink class provides functionality for creating and editing a link in a document. ButtonLink\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonLinkEdit UI with all the link edition controls.\n *\n * @class ButtonLink\n * @uses ButtonCfgProps\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n */\nclass ButtonLink extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default link\n\t * @memberof ButtonLink\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'link';\n\n\t/**\n\t * Checks if the current selection is contained within a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a link, false otherwise.\n\t */\n\tisActive() {\n\t\treturn (\n\t\t\tnew CKEDITOR.Link(\n\t\t\t\tthis.context.editor.get('nativeEditor')\n\t\t\t).getFromSelection() !== null\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tconst props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEdit {...props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName={cssClass}\n\t\t\t\t\tdata-type=\"button-link\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon symbol=\"link\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonLink.key);\n\t};\n}\n\nexport default ButtonCfgProps(ButtonKeystroke(ButtonStateClasses(ButtonLink)));\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\nimport React from 'react';\n\n/**\n * The ButtonLinkTargetEdit class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonLinkTargetEdit\n */\nclass ButtonLinkTargetEdit extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonLinkTargetEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkTargetEdit';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\t\tconst allowedLinkTargets = this.props.allowedTargets;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-container-edit-link-target ae-container-dropdown ae-container-dropdown-medium ae-has-dropdown\"\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={this.props.selectedTarget}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={this.props.selectedTarget}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{this.props.selectedTarget}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t<ButtonTargetList\n\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\t\tallowedLinkTargets={allowedLinkTargets}\n\t\t\t\t\t\thandleLinkTargetChange={handleLinkTargetChange}\n\t\t\t\t\t\tselectedTarget={this.props.selectedTarget}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.selectedTarget !== this.props.selectedTarget\n\t\t);\n\t}\n}\n\nexport default ButtonLinkTargetEdit;\n","import ButtonDropdown from './button-dropdown.jsx';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ButtonTargetList class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonTargetList\n * @uses WidgetFocusManager\n */\nclass ButtonTargetList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: true,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonTargetList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'targetList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst listTargets = this._renderListTargets();\n\n\t\treturn <ButtonDropdown {...this.props}>{listTargets}</ButtonDropdown>;\n\t}\n\n\t/**\n\t * Returns the the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _getAllowedTargetItems\n\t * @protected\n\t * @return {Array} The allowed target items.\n\t */\n\t_getAllowedTargetItems() {\n\t\treturn (\n\t\t\tthis.props.allowedLinkTargets || [\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetDefault,\n\t\t\t\t\tvalue: '',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetSelf,\n\t\t\t\t\tvalue: '_self',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetBlank,\n\t\t\t\t\tvalue: '_blank',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetParent,\n\t\t\t\t\tvalue: '_parent',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetTop,\n\t\t\t\t\tvalue: '_top',\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n\n\t/**\n\t * Renders the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _renderListTargets\n\t * @protected\n\t * @return {Object} Returns the rendered link items\n\t */\n\t_renderListTargets() {\n\t\tlet targets = this._getAllowedTargetItems();\n\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\n\t\ttargets = targets.map(target => {\n\t\t\tconst className =\n\t\t\t\tthis.props.selectedTarget === target.value\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={target.value} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tdata-value={target.value}\n\t\t\t\t\t\tonClick={handleLinkTargetChange}>\n\t\t\t\t\t\t{target.label}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn targets;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonTargetList);\n","import React from 'react';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * The LinkEditBrowse class provides functionality for creating and editing a link in a document,\n * and also allows to link to an existing file in DM.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEditBrowse\n */\nclass ButtonLinkEditBrowse extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'linkEditBrowse';\n\n\t/**\n\t *\n\t * @inheritDoc\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\t// Can't access context from constructor, so get editor from props.\n\t\t\tthis.props.context.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\tconst href = link ? link.getAttribute('href') : '';\n\n\t\tthis.linkEditButtonRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\telement: link,\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ae-container-link-edit-browse\">\n\t\t\t\t<ButtonLinkEdit ref={this.linkEditButtonRef} {...this.props} />\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Browse\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._browseClick}\n\t\t\t\t\ttitle=\"browse\">\n\t\t\t\t\t<ButtonIcon symbol=\"folder\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Opens an item selector dialog.\n\t *\n\t * @protected\n\t * @method _browseClick\n\t */\n\t_browseClick = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst url = editor.config.documentBrowseLinkUrl;\n\t\tconst browseLinkCallback = editor.config.documentBrowseLinkCallback;\n\t\tconst linkTarget = this.linkEditButtonRef.current\n\t\t\t? this.linkEditButtonRef.current.state.linkTarget\n\t\t\t: '';\n\n\t\tconst changeLinkCallback = selectedItem => {\n\t\t\tthis._updateLink(selectedItem.value, linkTarget, selectedItem.href);\n\t\t};\n\n\t\tif (Lang.isFunction(browseLinkCallback)) {\n\t\t\tbrowseLinkCallback.apply(null, [editor, url, changeLinkCallback]);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @protected\n\t * @method _updateLink\n\t * @param {String} linkHref href value for the link\n\t * @param {String} linkTarget target value for the link\n\t * @param {String} linkTitle if the link is a title that points to a wiki page (only works for creole)\n\t */\n\t_updateLink = (linkHref, linkTarget, linkTitle) => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {appendProtocol: false});\n\t\tconst linkAttrs = {\n\t\t\ttarget: linkTarget,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (linkHref) {\n\t\t\tif (editor.plugins && editor.plugins.creole && !linkTitle) {\n\t\t\t\tlinkHref = location.origin + linkHref;\n\t\t\t}\n\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlinkUtils.create(linkHref, linkAttrs, modifySelection);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n}\n\nexport default EditorContext.toProps(ButtonLinkEditBrowse);\n","import React from 'react';\nimport ButtonIcon from './button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonTableEdit class provides functionality for creating and editing a table in a document.\n * Provides UI for creating a table.\n *\n * @class ButtonTableEdit\n */\nclass ButtonTableEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\ttableAttributes: {\n\t\t\tborder: 1,\n\t\t\tcellPadding: 0,\n\t\t\tcellSpacing: 0,\n\t\t\tstyle: 'width: 100%',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableEdit\n\t * @memberof ButtonTableEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableEdit';\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getInitialState\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.rowsRef = React.createRef();\n\t\tthis.colsRef = React.createRef();\n\t\tthis.state = {\n\t\t\tcols: 3,\n\t\t\trows: 3,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis.rowsRef.current.focus();\n\t}\n\n\t/**\n\t * Creates a table.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _createTable\n\t * @protected\n\t */\n\t_createTable = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.create({\n\t\t\tattrs: this.props.tableAttributes,\n\t\t\tcols: this.state.cols,\n\t\t\trows: this.state.rows,\n\t\t});\n\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Handles a change in input value. Sets the provided value from the user back to the input.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleChange\n\t * @param {String} inputName The name of the input which value should be updated.\n\t * @param {SyntheticEvent} event The provided event.\n\t * @protected\n\t */\n\t_handleChange = (inputName, event) => {\n\t\tconst state = {};\n\t\tstate[inputName] = event.target.value;\n\n\t\tthis.setState(state);\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates the table.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._createTable();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst time = Date.now();\n\t\tconst rowsId = time + 'rows';\n\t\tconst colsId = time + 'cols';\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-table\">\n\t\t\t\t<label htmlFor={rowsId}>{AlloyEditor.Strings.rows}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={rowsId}\n\t\t\t\t\t\tonChange={this._handleChange.bind(this, 'rows')}\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Rows\"\n\t\t\t\t\t\tref={this.rowsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.rows}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<label htmlFor={colsId}>{AlloyEditor.Strings.columns}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={colsId}\n\t\t\t\t\t\tonChange={this._handleChange.bind(this, 'cols')}\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Colums\"\n\t\t\t\t\t\tref={this.colsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.cols}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Confirm\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._createTable}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ButtonTableEdit;\n","import EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport React from 'react';\n\n/**\n * ToolbarButtons provides a list of buttons which have to be displayed\n * on the current toolbar depending on user preferences and given state.\n *\n * @class ToolbarButtons\n */\nexport default WrappedComponent =>\n\tclass ToolbarButtons extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Analyses the current selection and returns the buttons or button groups to be rendered.\n\t\t *\n\t\t * @instance\n\t\t * @method getToolbarButtonGroups\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons or button groups that should be rendered.\n\t\t */\n\t\tgetToolbarButtonGroups(buttons, additionalProps) {\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\treturn buttons.reduce((list, button) => {\n\t\t\t\tif (Array.isArray(button)) {\n\t\t\t\t\tlist.push(this.getToolbarButtons(button, additionalProps));\n\t\t\t\t\treturn list;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getToolbarButtons(buttons, additionalProps);\n\t\t\t\t}\n\t\t\t}, []);\n\t\t}\n\n\t\t/**\n\t\t * Analyzes the current selection and the buttons exclusive mode value to figure out which\n\t\t * buttons should be present in a given state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getToolbarButtons\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons that should be rendered.\n\t\t */\n\t\tgetToolbarButtons(buttons, additionalProps) {\n\t\t\tlet buttonProps = {};\n\n\t\t\tlet nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tlet buttonCfg = nativeEditor.config.buttonCfg || {};\n\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\tlet toolbarButtons = this.filterExclusive(\n\t\t\t\tbuttons\n\t\t\t\t\t.filter(function(button) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tbutton &&\n\t\t\t\t\t\t\t(AlloyEditor.Buttons[button] ||\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name])\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.map(function(button) {\n\t\t\t\t\t\tif (Lang.isString(button)) {\n\t\t\t\t\t\t\tbuttonProps[button] = buttonCfg[button];\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button];\n\t\t\t\t\t\t} else if (Lang.isString(button.name)) {\n\t\t\t\t\t\t\tbuttonProps[\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name].key\n\t\t\t\t\t\t\t] = CKEDITOR.tools.merge(\n\t\t\t\t\t\t\t\tbuttonCfg[button],\n\t\t\t\t\t\t\t\tbutton.cfg\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button.name];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn button;\n\t\t\t\t\t})\n\t\t\t).map(function(button, index) {\n\t\t\t\tlet props = this.mergeExclusiveProps(\n\t\t\t\t\t{\n\t\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\t\tkey:\n\t\t\t\t\t\t\tbutton.key !== 'separator'\n\t\t\t\t\t\t\t\t? button.key\n\t\t\t\t\t\t\t\t: `${button.key}-${index}`,\n\t\t\t\t\t\ttabKey: button.key,\n\t\t\t\t\t\ttabIndex:\n\t\t\t\t\t\t\tthis.props.trigger &&\n\t\t\t\t\t\t\tthis.props.trigger.props.tabKey === button.key\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: -1,\n\t\t\t\t\t\ttrigger: this.props.trigger,\n\t\t\t\t\t},\n\t\t\t\t\tbutton.key\n\t\t\t\t);\n\n\t\t\t\tprops = this.mergeDropdownProps(props, button.key);\n\n\t\t\t\tif (additionalProps) {\n\t\t\t\t\tprops = CKEDITOR.tools.merge(props, additionalProps);\n\t\t\t\t}\n\n\t\t\t\tprops = CKEDITOR.tools.merge(props, buttonProps[button.key]);\n\n\t\t\t\treturn React.createElement(button, props);\n\t\t\t}, this);\n\n\t\t\treturn toolbarButtons;\n\t\t}\n\t};\n","import Lang from '../../oop/lang';\n\n/**\n * Provides functionality for displaying Widget Arrow box on top or on bottom of the widget\n * depending on the point of user interaction with the editor.\n *\n * @class WidgetArrowBox\n */\nexport default WrappedComponent =>\n\tclass WidgetArrowBox extends WrappedComponent {\n\t\t/**\n\t\t * Returns the list of arrow box classes associated to the current element's state. It relies\n\t\t * on the getInteractionPoint method to calculate the selection direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetArrowBox\n\t\t * @method getArrowBoxClasses\n\t\t * @return {String} A string with the arrow box CSS classes.\n\t\t */\n\t\tgetArrowBoxClasses() {\n\t\t\tlet arrowBoxClasses = 'ae-arrow-box';\n\n\t\t\tif (\n\t\t\t\tLang.isFunction(this.getInteractionPoint) &&\n\t\t\t\tthis.getInteractionPoint()\n\t\t\t) {\n\t\t\t\tif (\n\t\t\t\t\tthis.getInteractionPoint().direction ===\n\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t) {\n\t\t\t\t\tarrowBoxClasses += ' ae-arrow-box-top';\n\t\t\t\t} else {\n\t\t\t\t\tarrowBoxClasses += ' ae-arrow-box-bottom';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn arrowBoxClasses;\n\t\t}\n\t};\n","import ReactDOM from 'react-dom';\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * Calculates the position where an Widget should be displayed based on the point\n * where user interacted with the editor.\n *\n * @class WidgetPosition\n */\nexport default WrappedComponent =>\n\tclass WidgetPosition extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method getDefaultProps\n\t\t */\n\t\tstatic defaultProps = {\n\t\t\t...WrappedComponent.defaultProps,\n\t\t\tgutter: {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 10,\n\t\t\t},\n\t\t\tconstrainToViewport: true,\n\t\t};\n\n\t\t/**\n\t\t * Cancels an scheduled animation frame.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method cancelAnimation\n\t\t */\n\t\tcancelAnimation() {\n\t\t\tif (window.cancelAnimationFrame) {\n\t\t\t\twindow.cancelAnimationFrame(this._animationFrameId);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Returns an object which contains the position of the element in page coordinates,\n\t\t * restricted to fit to given viewport.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method getConstrainedPosition\n\t\t * @param {Object} attrs The following properties, provided as numbers:\n\t\t * - height\n\t\t * - left\n\t\t * - top\n\t\t * - width\n\t\t * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:\n\t\t * - width\n\t\t * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the\n\t\t * element.\n\t\t */\n\t\tgetConstrainedPosition(attrs, viewPaneSize) {\n\t\t\tviewPaneSize =\n\t\t\t\tviewPaneSize ||\n\t\t\t\tnew CKEDITOR.dom.window(window).getViewPaneSize();\n\n\t\t\tlet x = attrs.left;\n\t\t\tlet y = attrs.top;\n\n\t\t\tif (attrs.left + attrs.width > viewPaneSize.width) {\n\t\t\t\tx -= attrs.left + attrs.width - viewPaneSize.width;\n\t\t\t}\n\n\t\t\tif (y < 0) {\n\t\t\t\ty = 0;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position, in page coordinates, according to which a widget should appear.\n\t\t * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.\n\t\t *\n\t\t * It depends on the props editorEvent to analyze the following user-interaction parameters:\n\t\t * - {Object} selectionData The data about the selection in the editor as returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * - {Number} pos Contains the coordinates of the position, considered as most appropriate.\n\t\t * This may be the point where the user released the mouse, or just the beginning or the end of\n\t\t * the selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @method getInteractionPoint\n\t\t * @return {Object} An Object which contains the following properties:\n\t\t * direction, x, y, where x and y are in page coordinates and direction can be one of these:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t */\n\t\tgetInteractionPoint() {\n\t\t\tlet eventPayload = this.props.editorEvent\n\t\t\t\t? this.props.editorEvent.data\n\t\t\t\t: null;\n\n\t\t\tif (!eventPayload) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet selectionData = eventPayload.selectionData;\n\n\t\t\tlet nativeEvent = eventPayload.nativeEvent;\n\n\t\t\tlet pos = {\n\t\t\t\tx: eventPayload.nativeEvent.pageX,\n\t\t\t\ty: selectionData.region.top,\n\t\t\t};\n\n\t\t\tlet direction = selectionData.region.direction;\n\n\t\t\tlet endRect = selectionData.region.endRect;\n\n\t\t\tlet startRect = selectionData.region.startRect;\n\n\t\t\tif (endRect && startRect && startRect.top === endRect.top) {\n\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t}\n\n\t\t\tlet x;\n\t\t\tlet y;\n\n\t\t\t// If we have the point where user released the mouse, show Toolbar at this point\n\t\t\t// otherwise show it on the middle of the selection.\n\n\t\t\tif (pos.x && pos.y) {\n\t\t\t\tx = this._getXPoint(selectionData, pos.x);\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {\n\t\t\t\t\ty = Math.min(pos.y, selectionData.region.top);\n\t\t\t\t} else {\n\t\t\t\t\ty = Math.max(\n\t\t\t\t\t\tpos.y,\n\t\t\t\t\t\tthis._getYPoint(selectionData, nativeEvent)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tx = selectionData.region.left + selectionData.region.width / 2;\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {\n\t\t\t\t\ty = this._getYPoint(selectionData, nativeEvent);\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdirection: direction,\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the Widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @method _getXPoint\n\t\t * @param {Object} eventX The X coordinate received from the native event (mouseup).\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated X point in page coordinates.\n\t\t */\n\t\t_getXPoint(selectionData, eventX) {\n\t\t\tlet region = selectionData.region;\n\n\t\t\tlet left = region.startRect ? region.startRect.left : region.left;\n\t\t\tlet right = region.endRect ? region.endRect.right : region.right;\n\n\t\t\tlet x;\n\n\t\t\tif (left < eventX && right > eventX) {\n\t\t\t\tx = eventX;\n\t\t\t} else {\n\t\t\t\tlet leftDist = Math.abs(left - eventX);\n\t\t\t\tlet rightDist = Math.abs(right - eventX);\n\n\t\t\t\tif (leftDist < rightDist) {\n\t\t\t\t\t// user raised the mouse on left on the selection\n\t\t\t\t\tx = left;\n\t\t\t\t} else {\n\t\t\t\t\tx = right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn x;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the Widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @method _getYPoint\n\t\t * @param {Object} nativeEvent The data about event is fired\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated Y point in page coordinates.\n\t\t */\n\t\t_getYPoint(selectionData, nativeEvent) {\n\t\t\tlet y = 0;\n\n\t\t\tif (selectionData && nativeEvent) {\n\t\t\t\tlet elementTarget = new CKEDITOR.dom.element(\n\t\t\t\t\tnativeEvent.target\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\telementTarget.$ &&\n\t\t\t\t\telementTarget.getStyle('overflow') === 'auto'\n\t\t\t\t) {\n\t\t\t\t\ty =\n\t\t\t\t\t\tnativeEvent.target.offsetTop +\n\t\t\t\t\t\tnativeEvent.target.offsetHeight;\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.bottom;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn y;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the Widget taking in consideration the\n\t\t * {{#crossLink \"WidgetPosition/gutter:attribute\"}}{{/crossLink}} attribute.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @protected\n\t\t * @method  getWidgetXYPoint\n\t\t * @param {Number} left The left offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} top The top offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} direction The direction of the selection. May be one of the following:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t * @return {Array} An Array with left and top offsets in page coordinates.\n\t\t */\n\t\tgetWidgetXYPoint(left, top, direction) {\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tlet gutter = this.props.gutter;\n\n\t\t\tif (\n\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t\t) {\n\t\t\t\tleft = left - gutter.left - domNode.offsetWidth / 2;\n\n\t\t\t\ttop =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t\t? top + gutter.top\n\t\t\t\t\t\t: top - domNode.offsetHeight - gutter.top;\n\t\t\t} else if (\n\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_RIGHT_TO_LEFT\n\t\t\t) {\n\t\t\t\tleft =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT\n\t\t\t\t\t\t? left + gutter.left + domNode.offsetHeight / 2\n\t\t\t\t\t\t: left - (3 * domNode.offsetHeight) / 2 - gutter.left;\n\n\t\t\t\ttop = top - gutter.top - domNode.offsetHeight / 2;\n\t\t\t}\n\n\t\t\tif (left < 0) {\n\t\t\t\tleft = 0;\n\t\t\t}\n\n\t\t\tif (top < 0) {\n\t\t\t\ttop = 0;\n\t\t\t}\n\n\t\t\treturn [left, top];\n\t\t}\n\n\t\t/**\n\t\t * Returns true if the widget is visible, false otherwise\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method isVisible\n\t\t * @return {Boolean} True if the widget is visible, false otherwise\n\t\t */\n\t\tisVisible() {\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tlet domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\treturn domElement.hasClass('alloy-editor-visible');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Moves a widget from a starting point to a destination point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method moveToPoint\n\t\t * @param  {Object} startPoint The starting point for the movement.\n\t\t * @param  {Object} endPoint The destination point for the movement.\n\t\t */\n\t\tmoveToPoint(startPoint, endPoint) {\n\t\t\tlet domElement = new CKEDITOR.dom.element(\n\t\t\t\tReactDOM.findDOMNode(this)\n\t\t\t);\n\n\t\t\tdomElement.setStyles({\n\t\t\t\tleft: startPoint[0] + 'px',\n\t\t\t\ttop: startPoint[1] + 'px',\n\t\t\t\topacity: 0,\n\t\t\t});\n\n\t\t\tdomElement.removeClass('alloy-editor-invisible');\n\n\t\t\tthis._animate(function() {\n\t\t\t\tdomElement.addClass('ae-toolbar-transition');\n\t\t\t\tdomElement.addClass('alloy-editor-visible');\n\t\t\t\tdomElement.setStyles({\n\t\t\t\t\tleft: endPoint[0] + 'px',\n\t\t\t\t\ttop: endPoint[1] + 'px',\n\t\t\t\t\topacity: 1,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Shows the widget with the default animation transition.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method show\n\t\t */\n\t\tshow() {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\t\t\tconst uiNode = this.context.editor.get('uiNode');\n\n\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tif (!this.isVisible() && domNode) {\n\t\t\t\tlet interactionPoint = this.getInteractionPoint();\n\n\t\t\t\tif (interactionPoint) {\n\t\t\t\t\tlet domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\t\tlet finalX;\n\t\t\t\t\tlet finalY;\n\t\t\t\t\tlet initialX;\n\t\t\t\t\tlet initialY;\n\n\t\t\t\t\tfinalX = initialX = parseFloat(domElement.getStyle('left'));\n\t\t\t\t\tfinalY = initialY = parseFloat(domElement.getStyle('top'));\n\n\t\t\t\t\tif (this.props.constrainToViewport) {\n\t\t\t\t\t\tlet res = this.getConstrainedPosition({\n\t\t\t\t\t\t\theight: parseFloat(domNode.offsetHeight),\n\t\t\t\t\t\t\tleft: finalX,\n\t\t\t\t\t\t\ttop: finalY,\n\t\t\t\t\t\t\twidth: parseFloat(domNode.offsetWidth),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfinalX = res.x;\n\t\t\t\t\t\tfinalY = res.y;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tinteractionPoint.direction ===\n\t\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t) {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.bottom + scrollTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.top + scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.moveToPoint([initialX, initialY], [finalX, finalY]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Updates the widget position based on the current interaction point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method updatePosition\n\t\t */\n\t\tupdatePosition() {\n\t\t\tlet interactionPoint = this.getInteractionPoint();\n\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (interactionPoint && domNode) {\n\t\t\t\tlet uiNode = this.context.editor.get('uiNode') || document.body;\n\t\t\t\tlet uiNodeStyle = getComputedStyle(uiNode);\n\t\t\t\tlet uiNodeMarginLeft = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tlet uiNodeMarginRight = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tlet totalWidth =\n\t\t\t\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\t\t\t\tlet scrollTop =\n\t\t\t\t\tuiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;\n\n\t\t\t\tlet xy = this.getWidgetXYPoint(\n\t\t\t\t\tinteractionPoint.x,\n\t\t\t\t\tinteractionPoint.y,\n\t\t\t\t\tinteractionPoint.direction\n\t\t\t\t);\n\t\t\t\txy[1] += scrollTop;\n\n\t\t\t\tif (xy[0] < 0) {\n\t\t\t\t\txy[0] = 0;\n\t\t\t\t}\n\t\t\t\tif (xy[0] > totalWidth - domNode.offsetWidth) {\n\t\t\t\t\txy[0] = totalWidth - domNode.offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tnew CKEDITOR.dom.element(domNode).setStyles({\n\t\t\t\t\tleft: xy[0] + 'px',\n\t\t\t\t\ttop: xy[1] + 'px',\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Requests an animation frame, if possible, to simulate an animation.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method _animate\n\t\t * @param {Function} callback The function to be executed on the scheduled frame.\n\t\t * @protected\n\t\t */\n\t\t_animate(callback) {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\tthis._animationFrameId = window.requestAnimationFrame(callback);\n\t\t\t} else {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t};\n","import Core from './core';\nimport Lang from '../oop/lang';\n\nimport Buttons from '../components/buttons';\nimport Toolbars from '../components/toolbars';\n\nimport SelectionGetArrowBoxClasses from '../selections/selection-arrowbox';\nimport Selections from '../selections/selections';\nimport SelectionSetPosition from '../selections/selection-position';\nimport SelectionTest from '../selections/selection-test';\n\nimport Attribute from '../oop/attribute';\nimport extend from '../oop/oop';\nimport '../plugins';\n\n// An object containing all currently registered plugins in AlloyEditor.\nlet BRIDGE_BUTTONS = {};\n\n/**\n * Creates an instance of AlloyEditor.\n *\n * @memberof AlloyEditor\n * @method editable\n * @static\n * @param {String|Node} node The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n * @param {Object} config Configuration attributes for the current instance of AlloyEditor.\n * @return {Object} An instance of {{#crossLink \"Core\"}}{{/crossLink}}\n */\nconst editable = function(node, config) {\n\tconfig = config || {};\n\tconfig.srcNode = node;\n\n\tAlloyEditor.implementEventTarget();\n\n\treturn new Core(config);\n};\n\n/**\n * The full URL for the AlloyEditor installation directory.\n * It is possible to manually provide the base path by setting a\n * global variable named `ALLOYEDITOR_BASEPATH`. This global variable\n * must be set **before** the editor script loading.\n *\n * @memberof AlloyEditor\n * @method getBasePath\n * @static\n * @return {String} The found base path\n */\nconst getBasePath = function() {\n\t// Find out the editor directory path, based on its <script> tag.\n\tlet path = window.ALLOYEDITOR_BASEPATH || '';\n\n\tif (!path) {\n\t\tlet scripts = document.getElementsByTagName('script');\n\n\t\tfor (let i = 0; i < scripts.length; i++) {\n\t\t\tlet match = scripts[i].src.match(AlloyEditor.regexBasePath);\n\n\t\t\tif (match) {\n\t\t\t\tpath = match[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// In IE (only) the script.src string is the raw value entered in the\n\t// HTML source. Other browsers return the full resolved URL instead.\n\tif (path.indexOf(':/') === -1 && path.slice(0, 2) !== '//') {\n\t\t// Absolute path.\n\t\tif (path.indexOf('/') === 0) {\n\t\t\tpath = location.href.match(/^.*?:\\/\\/[^/]*/)[0] + path;\n\t\t}\n\t\t// Relative path.\n\t\telse {\n\t\t\tpath = location.href.match(/^[^?]*\\/(?:)/)[0] + path;\n\t\t}\n\t}\n\n\tif (!path) {\n\t\tthrow new Error(\n\t\t\t'The AlloyEditor installation path could not be automatically detected. Please set the global variable \"ALLOYEDITOR_BASEPATH\" before creating editor instances.'\n\t\t);\n\t}\n\n\treturn path;\n};\n\n/**\n * Detects and load the corresponding language file if AlloyEditor language strings are not already present.\n * The function fires a {{#crossLink \"AlloyEditor/languageResourcesLoaded:event\"}}{{/crossLink}} event\n *\n * @memberof AlloyEditor\n * @method loadLanguageResources\n * @static\n * @param {Function} callback Optional callback to be called when AlloyEditor loads the language resource.\n */\nconst loadLanguageResources = function(callback) {\n\tAlloyEditor.implementEventTarget();\n\n\tif (Lang.isFunction(callback)) {\n\t\tif (AlloyEditor.Strings) {\n\t\t\tsetTimeout(callback, 0);\n\t\t} else {\n\t\t\tAlloyEditor.once('languageResourcesLoaded', function() {\n\t\t\t\tsetTimeout(callback, 0);\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!AlloyEditor._langResourceRequested) {\n\t\tAlloyEditor._langResourceRequested = true;\n\n\t\tlet languages = [\n\t\t\t'af',\n\t\t\t'ar',\n\t\t\t'bg',\n\t\t\t'bn',\n\t\t\t'bs',\n\t\t\t'ca',\n\t\t\t'cs',\n\t\t\t'cy',\n\t\t\t'da',\n\t\t\t'de',\n\t\t\t'el',\n\t\t\t'en-au',\n\t\t\t'en-ca',\n\t\t\t'en-gb',\n\t\t\t'en',\n\t\t\t'eo',\n\t\t\t'es',\n\t\t\t'et',\n\t\t\t'eu',\n\t\t\t'fa',\n\t\t\t'fi',\n\t\t\t'fo',\n\t\t\t'fr-ca',\n\t\t\t'fr',\n\t\t\t'gl',\n\t\t\t'gu',\n\t\t\t'he',\n\t\t\t'hi',\n\t\t\t'hr',\n\t\t\t'hu',\n\t\t\t'id',\n\t\t\t'is',\n\t\t\t'it',\n\t\t\t'ja',\n\t\t\t'ka',\n\t\t\t'km',\n\t\t\t'ko',\n\t\t\t'ku',\n\t\t\t'lt',\n\t\t\t'lv',\n\t\t\t'mk',\n\t\t\t'mn',\n\t\t\t'ms',\n\t\t\t'nb',\n\t\t\t'nl',\n\t\t\t'no',\n\t\t\t'pl',\n\t\t\t'pt-br',\n\t\t\t'pt',\n\t\t\t'ro',\n\t\t\t'ru',\n\t\t\t'si',\n\t\t\t'sk',\n\t\t\t'sl',\n\t\t\t'sq',\n\t\t\t'sr-latn',\n\t\t\t'sr',\n\t\t\t'sv',\n\t\t\t'th',\n\t\t\t'tr',\n\t\t\t'tt',\n\t\t\t'ug',\n\t\t\t'uk',\n\t\t\t'vi',\n\t\t\t'zh-cn',\n\t\t\t'zh',\n\t\t];\n\n\t\tlet userLanguage = navigator.language || navigator.userLanguage || 'en';\n\n\t\tlet parts = userLanguage.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/);\n\t\tlet lang = parts[1];\n\t\tlet locale = parts[2];\n\n\t\tif (languages.indexOf(lang + '-' + locale) >= 0) {\n\t\t\tlang = lang + '-' + locale;\n\t\t} else if (languages.indexOf(lang) === -1) {\n\t\t\tlang = 'en';\n\t\t}\n\n\t\tCKEDITOR.scriptLoader.load(\n\t\t\tAlloyEditor.getUrl('lang/alloy-editor/' + lang + '.js'),\n\t\t\tfunction(loaded) {\n\t\t\t\tif (loaded) {\n\t\t\t\t\tAlloyEditor.fire('languageResourcesLoaded');\n\t\t\t\t}\n\t\t\t},\n\t\t\t/* eslint-disable babel/no-invalid-this */\n\t\t\tthis // Always `AlloyEditor`.\n\t\t\t/* eslint-enable babel/no-invalid-this */\n\t\t);\n\t}\n};\n\n/**\n * Gets the full URL for AlloyEditor resources. By default, URLs\n * returned by this function contain a querystring parameter (\"t\")\n * set to the {@link CKEDITOR#timestamp} value.\n *\n * @memberof AlloyEditor\n * @method getUrl\n * @static\n * @param {String} resource The resource whose full URL we want to get.\n * It may be a full, absolute, or relative URL.\n * @return {String} The full URL.\n */\nconst getUrl = function(resource) {\n\tlet basePath = AlloyEditor.getBasePath();\n\n\t// If this is not a full or absolute path.\n\tif (resource.indexOf(':/') === -1 && resource.indexOf('/') !== 0) {\n\t\tresource = basePath + resource;\n\t}\n\n\t// Add the timestamp, except for directories.\n\tif (\n\t\tCKEDITOR.timestamp &&\n\t\tresource.charAt(resource.length - 1) !== '/' &&\n\t\t!/[&?]t=/.test(resource)\n\t) {\n\t\tresource +=\n\t\t\t(resource.indexOf('?') >= 0 ? '&' : '?') +\n\t\t\t't=' +\n\t\t\tCKEDITOR.timestamp;\n\t}\n\n\treturn resource;\n};\n\n/**\n * Implements event firing and subscribing via CKEDITOR.event.\n *\n * @memberof AlloyEditor\n * @method implementEventTarget\n * @static\n */\nconst implementEventTarget = function() {\n\tif (!AlloyEditor.fire && !AlloyEditor.on) {\n\t\tCKEDITOR.event.implementOn(AlloyEditor);\n\t}\n};\n\n/**\n * Regular expression which should match the script which have been used to load AlloyEditor.\n *\n * @memberof AlloyEditor\n * @property regexBasePath\n * @type {RegExp}\n * @static\n */\nconst regexBasePath = /(^|.*[\\\\/])(?:alloy-editor[^/]+|alloy-editor)\\.js(?:\\?.*|;.*)?$/i;\n\n/**\n * Fired when AlloyEditor detects the browser language and loads the corresponding language file. Once this event\n * is fired, AlloyEditor.Strings will be populated with data.\n *\n * @event languageResourcesLoaded\n */\n\n/**\n * Returns the required plugin names needed for a given plugin\n * if it is already registered or an empty array.\n *\n * @memberof AlloyEditor\n * @method getButtons\n * @param {Array} buttons An array of buttons or plugin names.\n * @return {Function} A function that can be invoked to resolve the requested button names.\n * @static\n */\nconst getButtons = function(buttons) {\n\treturn function() {\n\t\treturn buttons.reduce(function(acc, val) {\n\t\t\tval = BRIDGE_BUTTONS[val] || [val];\n\t\t\treturn acc.concat(val);\n\t\t}, []);\n\t};\n};\n\n/**\n * Register a button and try to get its required plugins.\n *\n * @memberof AlloyEditor\n * @method registerBridgeButton\n * @param {String} buttonName The name of the button.\n * @param {String} pluginName The name of the plugin that registers the button.\n * @static\n */\nconst registerBridgeButton = function(buttonName, pluginName) {\n\tif (!BRIDGE_BUTTONS[pluginName]) {\n\t\tBRIDGE_BUTTONS[pluginName] = [];\n\t}\n\n\tBRIDGE_BUTTONS[pluginName].push(buttonName);\n};\n\n/**\n * @method OOP\n * @memberof AlloyEditor\n */\nconst OOP = {\n\textend,\n};\n\nexport {\n\tAttribute,\n\tButtons,\n\tCore,\n\tLang,\n\tOOP,\n\tSelectionGetArrowBoxClasses,\n\tSelectionSetPosition,\n\tSelectionTest,\n\tSelections,\n\tToolbars,\n\teditable,\n\tgetBasePath,\n\tgetButtons,\n\tgetUrl,\n\timplementEventTarget,\n\tloadLanguageResources,\n\tregexBasePath,\n\tregisterBridgeButton,\n};\n","import '../core';\nimport '../plugins';\n\nimport '../components/uibridge';\n\nimport EditorContext from './editor-context';\nimport extend from '../oop/oop';\nimport Lang from '../oop/lang';\nimport Base from '../oop/base';\nimport Selections from '../selections/selections';\nimport UI from '../components/main.jsx';\n\nimport {removeImageCommand} from '../commands';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst EMBED_VIDEO_WIDTH = 560;\nconst EMBED_VIDEO_HEIGHT = 315;\n\n/**\n * AlloyEditor main class. Creates instance of the editor and provides the user configuration\n * to the UI.\n *\n * @class Core\n * @constructor\n * @param {Object} config The configuration to be used.\n */\nfunction Core(config) {\n\tCore.superclass.constructor.call(this, config);\n}\n\nextend(\n\tCore,\n\tBase,\n\t{\n\t\t/**\n\t\t * Initializer lifecycle implementation for the AlloyEditor class. Creates a CKEditor\n\t\t * instance, passing it the provided configuration attributes.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method initializer\n\t\t * @param {Object} config Configuration object literal for the editor.\n\t\t */\n\t\tinitializer: function(config) {\n\t\t\tlet node = this.get('srcNode');\n\n\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\tnode.setAttribute('contenteditable', 'true');\n\t\t\t}\n\n\t\t\tlet editor = CKEDITOR.inline(node);\n\n\t\t\teditor.config.allowedContent = this.get('allowedContent');\n\n\t\t\teditor.config.toolbars = this.get('toolbars');\n\n\t\t\teditor.config.removePlugins = this.get('removePlugins');\n\n\t\t\teditor.config.extraPlugins = this.get('extraPlugins');\n\n\t\t\teditor.config.embedProviders = this.get('embedProviders');\n\n\t\t\teditor.config.placeholderClass = this.get('placeholderClass');\n\n\t\t\teditor.config.pasteFromWordRemoveStyles = false;\n\t\t\teditor.config.pasteFromWordRemoveFontStyles = false;\n\n\t\t\teditor.config.selectionKeystrokes = this.get('selectionKeystrokes');\n\n\t\t\teditor.config.spritemap = this.get('spritemap');\n\n\t\t\tLang.mix(editor.config, config);\n\n\t\t\tif (CKEDITOR.env.ie && !CKEDITOR.env.edge) {\n\t\t\t\tconst plugin =\n\t\t\t\t\tCKEDITOR.env.version === 11\n\t\t\t\t\t\t? 'ae_dragresize_ie11'\n\t\t\t\t\t\t: 'ae_dragresize_ie';\n\n\t\t\t\teditor.config.extraPlugins = editor.config.extraPlugins.replace(\n\t\t\t\t\t'ae_dragresize',\n\t\t\t\t\tplugin\n\t\t\t\t);\n\t\t\t\teditor.config.removePlugins = editor.config.removePlugins.replace(\n\t\t\t\t\t'ae_dragresize',\n\t\t\t\t\tplugin\n\t\t\t\t);\n\t\t\t}\n\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tthis._addReadOnlyLinkClickListener(editor);\n\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\tlet extraCommands = this.get('extraCommands');\n\n\t\t\t\t\tconst extraCommandKeys = Object.keys(extraCommands);\n\t\t\t\t\tfor (let i = 0; i < extraCommandKeys.length; i++) {\n\t\t\t\t\t\tconst commandName = extraCommandKeys[i];\n\n\t\t\t\t\t\tif (editor.commands[commandName]) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\teditor.addCommand(\n\t\t\t\t\t\t\tcommandName,\n\t\t\t\t\t\t\textraCommands[commandName]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\teditable.addClass('ae-editable');\n\t\t\t\t}.bind(this)\n\t\t\t);\n\n\t\t\tthis._editor = editor;\n\n\t\t\tAlloyEditor.loadLanguageResources(this._renderUI.bind(this));\n\t\t},\n\n\t\t/**\n\t\t * Destructor lifecycle implementation for the AlloyEdtor class. Destroys the CKEditor\n\t\t * instance and destroys all created toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method destructor\n\t\t */\n\t\tdestructor: function() {\n\t\t\tthis._destroyed = true;\n\n\t\t\tif (this._editorUIElement) {\n\t\t\t\tReactDOM.unmountComponentAtNode(this._editorUIElement);\n\t\t\t\tthis._editorUIElement.parentNode.removeChild(\n\t\t\t\t\tthis._editorUIElement\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tlet nativeEditor = this.get('nativeEditor');\n\n\t\t\tif (nativeEditor) {\n\t\t\t\tlet editable = nativeEditor.editable();\n\n\t\t\t\tif (editable) {\n\t\t\t\t\teditable.removeClass('ae-editable');\n\n\t\t\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\t\t\tthis.get('srcNode').setAttribute(\n\t\t\t\t\t\t\t'contenteditable',\n\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._clearSelections();\n\n\t\t\t\tnativeEditor.destroy();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Clear selections from window object\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _clearSelections\n\t\t */\n\t\t_clearSelections: function() {\n\t\t\tlet nativeEditor = this.get('nativeEditor');\n\t\t\tlet isMSSelection = typeof window.getSelection != 'function';\n\n\t\t\tif (isMSSelection) {\n\t\t\t\tnativeEditor.document.$.selection.empty();\n\t\t\t} else {\n\t\t\t\tnativeEditor.document\n\t\t\t\t\t.getWindow()\n\t\t\t\t\t.$.getSelection()\n\t\t\t\t\t.removeAllRanges();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Method to set default link behavior\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _addReadOnlyLinkClickListener\n\t\t * @param {Object} editor\n\t\t */\n\t\t_addReadOnlyLinkClickListener: function(editor) {\n\t\t\teditor.editable().on('click', this._defaultReadOnlyClickFn, this, {\n\t\t\t\teditor: editor,\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Called on `click` event when the editor is in read only mode. Navigates to link's URL or opens\n\t\t * the link in a new window.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @event readOnlyClick\n\t\t * @protected\n\t\t * @method _defaultReadOnlyClickFn\n\t\t * @param {Object} event The fired `click` event payload\n\t\t */\n\t\t_defaultReadOnlyClickFn: function(event) {\n\t\t\tlet mouseEvent = event.data.$;\n\t\t\tlet hasCtrlKey = mouseEvent.ctrlKey || mouseEvent.metaKey;\n\t\t\tlet shouldOpen = this._editor.config.readOnly || hasCtrlKey;\n\n\t\t\tmouseEvent.preventDefault();\n\n\t\t\tif (!shouldOpen) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.listenerData.editor\n\t\t\t\t\t.editable()\n\t\t\t\t\t.editor.fire('readOnlyClick', event.data) !== false\n\t\t\t) {\n\t\t\t\tlet ckElement = new CKEDITOR.dom.elementPath(\n\t\t\t\t\tevent.data.getTarget(),\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t\tlet link = ckElement.lastElement;\n\n\t\t\t\tif (link) {\n\t\t\t\t\tlet href = link.$.attributes.href\n\t\t\t\t\t\t? link.$.attributes.href.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tlet target = hasCtrlKey\n\t\t\t\t\t\t? '_blank'\n\t\t\t\t\t\t: link.$.attributes.target\n\t\t\t\t\t\t? link.$.attributes.target.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tthis._redirectLink(href, target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the API of CKEditor OOTB.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _getNativeEditor\n\t\t * @return {Object} The current instance of CKEditor.\n\t\t */\n\t\t_getNativeEditor: function() {\n\t\t\treturn this._editor;\n\t\t},\n\n\t\t/**\n\t\t * Redirects the browser to a given link\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _redirectLink\n\t\t * @param {string} href The href to take the browser to\n\t\t * @param {string=} target Specifies where to display the link\n\t\t */\n\t\t_redirectLink: function(href, target) {\n\t\t\tif (target && href) {\n\t\t\t\twindow.open(href, target);\n\t\t\t} else if (href) {\n\t\t\t\twindow.location.href = href;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Renders the specified from the user toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _renderUI\n\t\t */\n\t\t_renderUI: function() {\n\t\t\tif (!this._destroyed) {\n\t\t\t\tlet editorUIElement = document.createElement('div');\n\t\t\t\teditorUIElement.className = 'ae-ui';\n\n\t\t\t\tlet uiNode = this.get('uiNode') || document.body;\n\n\t\t\t\tuiNode.appendChild(editorUIElement);\n\n\t\t\t\tconst callbackRef = element => {\n\t\t\t\t\tif (!this._mainUI && element) {\n\t\t\t\t\t\tthis._mainUI = element;\n\t\t\t\t\t\tthis.get('nativeEditor').fire('uiReady');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<EditorContext.Provider value={{editor: this}}>\n\t\t\t\t\t\t<UI\n\t\t\t\t\t\t\teventsDelay={this.get('eventsDelay')}\n\t\t\t\t\t\t\tref={callbackRef}\n\t\t\t\t\t\t\ttoolbars={this.get('toolbars')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</EditorContext.Provider>,\n\t\t\t\t\teditorUIElement\n\t\t\t\t);\n\n\t\t\t\tthis._editorUIElement = editorUIElement;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The function returns an HTML element from the passed value. If the passed value is a string, it should be\n\t\t * the Id of the element which have to be retrieved from the DOM.\n\t\t * If an HTML Element is passed, the element itself will be returned.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @method _toElement\n\t\t * @protected\n\t\t * @param {!(String|HTMLElement)} value String, which have to correspond to an HTML element from the DOM,\n\t\t * or the HTML element itself. If Id is passed, the HTML element will be retrieved from the DOM.\n\t\t * @return {HTMLElement} An HTML element.\n\t\t */\n\t\t_toElement: function(value) {\n\t\t\tif (Lang.isString(value)) {\n\t\t\t\tvalue = document.getElementById(value);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\t/**\n\t\t * Validates the allowed content attribute. Look\n\t\t * [here](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent) for more information about the\n\t\t * supported values.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateAllowedContent\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid configuration, false otherwise\n\t\t */\n\t\t_validateAllowedContent: function(value) {\n\t\t\treturn (\n\t\t\t\tLang.isString(value) ||\n\t\t\t\tLang.isObject(value) ||\n\t\t\t\tLang.isBoolean(value)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Validates the value of toolbars attribute\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateToolbars\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid toolbars configuration, false otherwise\n\t\t */\n\t\t_validateToolbars: function(value) {\n\t\t\treturn Lang.isObject(value) || Lang.isNull(value);\n\t\t},\n\t},\n\t{\n\t\tATTRS: {\n\t\t\t/**\n\t\t\t * Configures the allowed content for the current instance of AlloyEditor.\n\t\t\t * Look on the [official CKEditor API](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent)\n\t\t\t * for more information about the valid values.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property allowedContent\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t * @type {Boolean, String, Object}\n\t\t\t */\n\t\t\tallowedContent: {\n\t\t\t\tvalidator: '_validateAllowedContent',\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Callback to be invoked when clicking on the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkCallback\n\t\t\t * @default undefined\n\t\t\t * @type {Function|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkCallback: {\n\t\t\t\tvalidator: Lang.isFunction,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Configuration for the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkUrl\n\t\t\t * @default undefined\n\t\t\t * @type {String|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkUrl: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * List of embed providers for videos\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property embedProviders\n\t\t\t * @default []\n\t\t\t * @type Array}\n\t\t\t */\n\t\t\tembedProviders: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'facebook',\n\t\t\t\t\t\ttpl: `<iframe allowFullScreen=\"true\" allowTransparency=\"true\"\n                         frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n                         src=\"https://www.facebook.com/plugins/video.php?href={embedId}'\n                         &show_text=0&width=${EMBED_VIDEO_WIDTH}&height=${EMBED_VIDEO_HEIGHT}\" scrolling=\"no\"\n                         style=\"border:none;overflow:hidden\" width=\"${EMBED_VIDEO_WIDTH}}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'(https?:\\\\/\\\\/(?:www\\\\.)?facebook.com\\\\/\\\\S*\\\\/videos\\\\/\\\\S*)',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'twitch',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen=\"true\" frameborder=\"0\"\n                         height=\"${EMBED_VIDEO_HEIGHT}\"\n                         src=\"https://player.twitch.tv/?autoplay=false&video={embedId}\"\n                         scrolling=\"no\" width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?twitch.tv\\\\/videos\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'vimeo',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n                         mozallowfullscreen src=\"https://player.vimeo.com/video/{embedId}\"\n                         webkitallowfullscreen width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/album\\\\/.*\\\\/video\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/channels\\\\/.*\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/groups\\\\/.*\\\\/videos\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'youtube',\n\t\t\t\t\t\ttpl: `<iframe allow=\"autoplay; encrypted-media\" allowfullscreen\n                         height=\"${EMBED_VIDEO_HEIGHT}\" frameborder=\"0\"\n                         src=\"https://www.youtube.com/embed/{embedId}?rel=0\"\n                         width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?youtube.com\\\\/watch\\\\?v=(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies whether AlloyEditor set the contenteditable attribute\n\t\t\t * to \"true\" on its srcNode.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property enableContentEditable\n\t\t\t * @type Boolean\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tenableContentEditable: {\n\t\t\t\tvalidator: Lang.isBoolean,\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The delay (timeout), in ms, after which events such like key or mouse events will be processed.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property eventsDelay\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\teventsDelay: {\n\t\t\t\tvalidator: Lang.isNumber,\n\t\t\t\tvalue: 100,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The list of extra commands to be added to the editor.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property extraCommands\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\textraCommands: {\n\t\t\t\tvalidator: Lang.isObject,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoveImage: removeImageCommand,\n\t\t\t\t},\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the extra plugins which have to be loaded to the current CKEditor instance in order to\n\t\t\t * make AlloyEditor to work properly.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property extraPlugins\n\t\t\t * @default 'uicore,selectionregion,dragresize,addimages,placeholder,tabletools,tableresize,autolink'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\textraPlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue:\n\t\t\t\t\t'ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,' +\n\t\t\t\t\t'ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,' +\n\t\t\t\t\t'ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge,font,colorbutton',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the \"mode\" for alloy editor\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property mode\n\t\t\t * @default 'simple'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tmode: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'simple',\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the full API of CKEditor.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property nativeEditor\n\t\t\t * @readOnly\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\tnativeEditor: {\n\t\t\t\tgetter: '_getNativeEditor',\n\t\t\t\treadOnly: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the class, which should be added by Placeholder plugin\n\t\t\t * {{#crossLink \"CKEDITOR.plugins.ae_placeholder}}{{/crossLink}}\n\t\t\t * when editor is not focused.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property placeholderClass\n\t\t\t * @default 'ae-placeholder'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tplaceholderClass: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'ae-placeholder',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the plugins, which come by default with CKEditor, but which are not needed by AlloyEditor.\n\t\t\t * These plugins add the default UI for CKeditor, which is no more needed. Please note that AlloyEdtor\n\t\t\t * comes with its own highly optimized copy of CKEditor (just customized via their official download page).\n\t\t\t * This version does not come with the unneeded plugins, so the value of this property won't be needed.\n\t\t\t * However, if you decide to go with the OOTB version of CKEditor, you will have to remove some of the\n\t\t\t * plugins if you decide to use AlloyEditor. Keep in mind that removing these plugins doesn't remove them\n\t\t\t * entirely from CKEditor. It just removes them from its current instance, in which you will use different\n\t\t\t * UI - those of AlloyEditor. You will be fully able to use both OOTB CKEditor and AlloyEditor on the same\n\t\t\t * page!\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property removePlugins\n\t\t\t * @default 'contextmenu,toolbar,elementspath,resize,liststyle,link'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tremovePlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'contextmenu,toolbar,elementspath,resize,liststyle,link',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Array of manual selection triggers. They can be configured to manually show a specific selection toolbar\n\t\t\t * by forcing the selection type. A selectionKeystroke item consists of a keys property with a [CKEditor keystroke\n\t\t\t * definition](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-keystrokes) and a selection property with\n\t\t\t * the selection name to trigger.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property selectionKeystrokes\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tselectionKeystrokes: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\t\t\t\tselection: 'link',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t\t\t\t\tselection: 'embed',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The path to the spritemap SVG used for icons\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property spritemap\n\t\t\t * @type String\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tspritemap: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'alloy-editor/assets/icons/icons.svg',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property srcNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tsrcNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The toolbars configuration for this editor instance\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property {Object} toolbars\n\t\t\t */\n\t\t\ttoolbars: {\n\t\t\t\tvalidator: '_validateToolbars',\n\t\t\t\tvalue: {\n\t\t\t\t\tadd: {\n\t\t\t\t\t\tbuttons: ['image', 'embed', 'camera', 'hline', 'table'],\n\t\t\t\t\t\ttabIndex: 2,\n\t\t\t\t\t},\n\t\t\t\t\tstyles: {\n\t\t\t\t\t\tselections: Selections,\n\t\t\t\t\t\ttabIndex: 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, where AlloyEditor's UI should be rendered.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property uiNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tuiNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\t\t},\n\t}\n);\n\nCKEDITOR.event.implementOn(Core);\n\nexport default Core;\n","import debounce from './debounce';\nimport './link';\nimport './plugins';\nimport './selection-region';\nimport './table';\nimport './tools';\nimport './uicore';\n\nexport {debounce};\n","/**\n * Debounce util function. If a function execution is expensive, it might be debounced. This means\n * that it will be executed after some amount of time after its last call. For example, if we attach a\n * a function on scroll event, it might be called hundreds times per second. In this case it may be\n * debounced with, let's say 100ms. The real execution of this function will happen 100ms after last\n * scroll event.\n *\n * @memberof CKEDITOR.tools\n * @method debounce\n * @param {Array} args An array of arguments which the callback will receive.\n * @param {Function} callback The callback which has to be called after given timeout.\n * @param {Number} timeout Timeout in milliseconds after which the callback will be called.\n * @param {Object} context The context in which the callback will be called. This argument is optional.\n * @static\n */\nfunction debounce(callback, timeout, context, args = []) {\n\tlet debounceHandle;\n\n\tlet callFn = function(...callArgs) {\n\t\t/* eslint-disable babel/no-invalid-this */\n\t\tlet callContext = context || this;\n\t\t/* eslint-enable babel/no-invalid-this */\n\n\t\tclearTimeout(debounceHandle);\n\n\t\tdebounceHandle = setTimeout(function() {\n\t\t\tcallback.apply(callContext, [...callArgs, ...args]);\n\t\t}, timeout);\n\t};\n\n\tcallFn.detach = function() {\n\t\tclearTimeout(debounceHandle);\n\t};\n\n\treturn callFn;\n}\n\nCKEDITOR.tools.debounce = CKEDITOR.tools.debounce || debounce;\n\nexport default debounce;\n","let REGEX_BOOKMARK_SCHEME = /^#.*/i;\nlet REGEX_EMAIL_SCHEME = /^[a-z0-9\\u0430-\\u044F._-]+@/i;\nlet REGEX_URI_SCHEME = /^(?:[a-z][a-z0-9+\\-.]*):|^\\//i;\n\n/**\n * Link class utility. Provides methods for create, delete and update links.\n *\n * @class CKEDITOR.Link\n * @constructor\n * @param {Object} editor The CKEditor instance.\n */\nfunction Link(editor, config) {\n\tthis._editor = editor;\n\tthis.appendProtocol =\n\t\tconfig && config.appendProtocol === false ? false : true;\n}\n\nLink.prototype = {\n\tconstructor: Link,\n\n\t/**\n\t * Advances the editor selection to the next available position after a\n\t * given link or the one in the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method advanceSelection\n\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t */\n\tadvanceSelection: function(link) {\n\t\tlink = link || this.getFromSelection();\n\n\t\tlet range = this._editor.getSelection().getRanges()[0];\n\n\t\tif (link) {\n\t\t\trange.moveToElementEditEnd(link);\n\n\t\t\tlet nextNode = range.getNextEditableNode();\n\n\t\t\tif (\n\t\t\t\tnextNode &&\n\t\t\t\t!this._editor.element.equals(nextNode.getCommonAncestor(link))\n\t\t\t) {\n\t\t\t\tlet whitespace = /\\s/.exec(nextNode.getText());\n\n\t\t\t\tlet offset = whitespace ? whitespace.index + 1 : 0;\n\n\t\t\t\trange.setStart(nextNode, offset);\n\t\t\t\trange.setEnd(nextNode, offset);\n\t\t\t}\n\t\t}\n\n\t\tthis._editor.getSelection().selectRanges([range]);\n\t},\n\n\t/**\n\t * Create a link with given URI as href.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method create\n\t * @param {Object} attrs A config object with link attributes. These might be arbitrary DOM attributes.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t * @param {String} URI The URI of the link.\n\t */\n\tcreate: function(URI, attrs, modifySelection) {\n\t\tlet selection = this._editor.getSelection();\n\n\t\tlet range = selection.getRanges()[0];\n\n\t\tif (range.collapsed) {\n\t\t\tlet text = new CKEDITOR.dom.text(URI, this._editor.document);\n\t\t\trange.insertNode(text);\n\t\t\trange.selectNodeContents(text);\n\t\t}\n\n\t\tURI = this._getCompleteURI(URI);\n\n\t\tlet linkAttrs = CKEDITOR.tools.merge(\n\t\t\t{\n\t\t\t\t'data-cke-saved-href': URI,\n\t\t\t\thref: URI,\n\t\t\t},\n\t\t\tattrs\n\t\t);\n\n\t\tlet style = new CKEDITOR.style({\n\t\t\tattributes: linkAttrs,\n\t\t\telement: 'a',\n\t\t});\n\n\t\tstyle.type = CKEDITOR.STYLE_INLINE;\n\t\tstyle.applyToRange(range, this._editor);\n\n\t\tif (modifySelection && modifySelection.advance) {\n\t\t\tthis.advanceSelection();\n\t\t} else {\n\t\t\trange.select();\n\t\t}\n\t},\n\n\t/**\n\t * Retrieves a link from the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method getFromSelection\n\t * @return {CKEDITOR.dom.element} The retrieved link or null if not found.\n\t */\n\tgetFromSelection: function() {\n\t\tlet selection = this._editor.getSelection();\n\n\t\tlet selectedElement = selection.getSelectedElement();\n\n\t\tif (selectedElement && selectedElement.is('a')) {\n\t\t\treturn selectedElement;\n\t\t}\n\n\t\tif (selectedElement && CKEDITOR.env.ie) {\n\t\t\tlet children = selectedElement.getChildren();\n\n\t\t\tlet count = children.count();\n\n\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\tlet node = children.getItem(i);\n\n\t\t\t\tif (node.is('a')) {\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet range = selection.getRanges()[0];\n\n\t\tif (range) {\n\t\t\trange.shrink(CKEDITOR.SHRINK_TEXT);\n\n\t\t\treturn this._editor\n\t\t\t\t.elementPath(range.getCommonAncestor())\n\t\t\t\t.contains('a', 1);\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Removes a link from the editor.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method remove\n\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t */\n\tremove: function(link, modifySelection) {\n\t\tlet editor = this._editor;\n\n\t\tif (link) {\n\t\t\tif (modifySelection && modifySelection.advance) {\n\t\t\t\tthis.advanceSelection();\n\t\t\t}\n\n\t\t\tlink.remove(editor);\n\t\t} else {\n\t\t\tlet style = new CKEDITOR.style({\n\t\t\t\talwaysRemoveElement: 1,\n\t\t\t\telement: 'a',\n\t\t\t\ttype: CKEDITOR.STYLE_INLINE,\n\t\t\t});\n\n\t\t\t// 'removeStyle()' removes the style from the editor's current selection.\n\t\t\t//  We need to force the selection to be the whole link element\n\t\t\t//  to remove it properly.\n\n\t\t\tlet selection = editor.getSelection();\n\t\t\tselection.selectElement(selection.getStartElement());\n\n\t\t\teditor.removeStyle(style);\n\t\t}\n\t},\n\n\t/**\n\t * Updates the href of an already existing link.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method update\n\t * @param {CKEDITOR.dom.element} link The link element which href should be removed.\n\t * @param {Object|String} attrs The attributes to update or remove. Attributes with null values will be removed.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t */\n\tupdate: function(attrs, link, modifySelection) {\n\t\tlet instance = this;\n\n\t\tlink = link || this.getFromSelection();\n\n\t\tif (typeof attrs === 'string') {\n\t\t\tlet uri = instance._getCompleteURI(attrs);\n\n\t\t\tlink.setAttributes({\n\t\t\t\t'data-cke-saved-href': uri,\n\t\t\t\thref: uri,\n\t\t\t});\n\t\t} else if (typeof attrs === 'object') {\n\t\t\tlet removeAttrs = [];\n\n\t\t\tlet setAttrs = {};\n\n\t\t\tObject.keys(attrs).forEach(function(key) {\n\t\t\t\tif (attrs[key] === null) {\n\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\tremoveAttrs.push('data-cke-saved-href');\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveAttrs.push(key);\n\t\t\t\t} else {\n\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\tlet uri = instance._getCompleteURI(attrs[key]);\n\n\t\t\t\t\t\tsetAttrs['data-cke-saved-href'] = uri;\n\t\t\t\t\t\tsetAttrs[key] = uri;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetAttrs[key] = attrs[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlink.removeAttributes(removeAttrs);\n\t\t\tlink.setAttributes(setAttrs);\n\t\t}\n\n\t\tif (modifySelection && modifySelection.advance) {\n\t\t\tthis.advanceSelection(link);\n\t\t}\n\t},\n\n\t/**\n\t * Checks if the URI begins with a '#' symbol to determine if it's an on page bookmark.\n\t * If it doesn't, it then checks if the URI has an '@' symbol. If it does and the URI\n\t * looks like an email and doesn't have 'mailto:', 'mailto:' is added to the URI.\n\t * If it doesn't and the URI doesn't have a scheme, the default 'http' scheme with\n\t * hierarchical path '//' is added to the URI.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method _getCompleteURI\n\t * @param {String} URI The URI of the link.\n\t * @protected\n\t * @return {String} The URI updated with the protocol.\n\t */\n\t_getCompleteURI: function(URI) {\n\t\tif (REGEX_BOOKMARK_SCHEME.test(URI)) {\n\t\t\treturn URI;\n\t\t} else if (REGEX_EMAIL_SCHEME.test(URI)) {\n\t\t\tURI = 'mailto:' + URI;\n\t\t} else if (!REGEX_URI_SCHEME.test(URI)) {\n\t\t\tURI = this.appendProtocol ? 'http://' + URI : URI;\n\t\t}\n\n\t\treturn URI;\n\t},\n};\n\nCKEDITOR.Link = CKEDITOR.Link || Link;\n","// Wraps each of the plugin lifecycle methods in a closure that will\n// set up the editor.__processingPlugin__ variable so it can be globally\n// accessed exposing the plugin being processed and the lifecycle phase\n// in which it is happening\n//\n// @param {Object} plugin The plugin to wrap lifecycle methods\nlet wrapPluginLifecycle = function(plugin) {\n\tlet methods = ['beforeInit', 'init', 'afterInit'];\n\n\tmethods.forEach(function(methodName) {\n\t\tif (plugin[methodName]) {\n\t\t\tplugin[methodName] = CKEDITOR.tools.override(\n\t\t\t\tplugin[methodName],\n\t\t\t\tfunction(originalPluginMethod) {\n\t\t\t\t\tlet payload = {\n\t\t\t\t\t\tphase: methodName,\n\t\t\t\t\t\tplugin: plugin,\n\t\t\t\t\t};\n\n\t\t\t\t\treturn function(editor) {\n\t\t\t\t\t\teditor.__processingPlugin__ = payload;\n\n\t\t\t\t\t\t// eslint-disable-next-line babel/no-invalid-this\n\t\t\t\t\t\toriginalPluginMethod.call(this, editor);\n\n\t\t\t\t\t\teditor.__processingPlugin__ = null;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n};\n\n// Filters the requires object to remove unwanted dependencies. At this point\n// only 'toolbar' has been identified, but more can appear. An unwanted plugin\n// dependency is one that prevents a necessary plugin from being removed\n//\n// @param {string|Array<string>} requires The requires object\n// @return {string} The filtered requires object\nlet filterUnwantedDependencies = function(requires) {\n\tif (typeof requires === 'string') {\n\t\trequires = requires.split(',');\n\t}\n\n\treturn requires.filter(function(require) {\n\t\treturn require !== 'toolbar';\n\t});\n};\n\n/**\n * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.\n *\n * @class CKEDITOR.plugins\n */\n\n/**\n * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of\n * the loaded plugins to add some metainformation about the plugin being processed\n *\n * @param {String/Array} names The name of the resource to load. It may be a\n * string with a single resource name, or an array with several names.\n * @param {Function} callback A function to be called when all resources\n * are loaded. The callback will receive an array containing all loaded names.\n * @param {Object} [scope] The scope object to be used for the callback call.\n * @memberof CKEDITOR.plugins\n * @method load\n * @static\n */\nCKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function(\n\tpluginsLoad\n) {\n\t// Wrap original load function so we can transform the plugin input parameter\n\t// before passing it down to the original callback\n\treturn function(names, callback, scope) {\n\t\t// eslint-disable-next-line babel/no-invalid-this\n\t\tpluginsLoad.call(this, names, function(plugins) {\n\t\t\tif (callback) {\n\t\t\t\tObject.keys(plugins).forEach(function(pluginName) {\n\t\t\t\t\tlet plugin = plugins[pluginName];\n\n\t\t\t\t\tif (plugin.requires) {\n\t\t\t\t\t\tplugin.requires = filterUnwantedDependencies(\n\t\t\t\t\t\t\tplugin.requires\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\twrapPluginLifecycle(plugin);\n\t\t\t\t});\n\n\t\t\t\tcallback.call(scope, plugins);\n\t\t\t}\n\t\t});\n\t};\n});\n","if (!CKEDITOR.plugins.get('ae_selectionregion')) {\n\tCKEDITOR.SELECTION_TOP_TO_BOTTOM = 0;\n\tCKEDITOR.SELECTION_BOTTOM_TO_TOP = 1;\n\tCKEDITOR.SELECTION_LEFT_TO_RIGHT = 2;\n\tCKEDITOR.SELECTION_RIGHT_TO_LEFT = 3;\n\n\t/**\n\t * SelectionRegion utility class which provides metadata about the selection. The metadata may be the start and end\n\t * rectangles, caret region, etc. **This class is not intended to be used standalone. Its functions will\n\t * be merged into each editor instance, so the developer may use them directly via the editor, without making\n\t * an instance of this class**.\n\t *\n\t * @class SelectionRegion\n\t * @constructor\n\t */\n\tfunction SelectionRegion() {}\n\n\tSelectionRegion.prototype = {\n\t\tconstructor: SelectionRegion,\n\n\t\t/**\n\t\t * Creates selection from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromPoint\n\t\t * @param {Number} x X point in page coordinates.\n\t\t * @param {Number} y Y point in page coordinates.\n\t\t */\n\t\tcreateSelectionFromPoint: function(x, y) {\n\t\t\tthis.createSelectionFromRange(x, y, x, y);\n\t\t},\n\n\t\t/**\n\t\t * Creates selection from range. A range consists from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromRange\n\t\t * @param {Number} startX X coordinate of the first point.\n\t\t * @param {Number} startY Y coordinate of the first point.\n\t\t * @param {Number} endX X coordinate of the second point.\n\t\t * @param {Number} endY Y coordinate of the second point.\n\t\t */\n\t\tcreateSelectionFromRange: function(startX, startY, endX, endY) {\n\t\t\tlet end;\n\t\t\tlet endContainer;\n\t\t\tlet endOffset;\n\t\t\tlet range;\n\t\t\tlet start;\n\t\t\tlet startContainer;\n\t\t\tlet startOffset;\n\n\t\t\tif (typeof document.caretPositionFromPoint === 'function') {\n\t\t\t\tstart = document.caretPositionFromPoint(startX, startY);\n\t\t\t\tend = document.caretPositionFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.offsetNode;\n\t\t\t\tendContainer = end.offsetNode;\n\n\t\t\t\tstartOffset = start.offset;\n\t\t\t\tendOffset = end.offset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t} else if (typeof document.caretRangeFromPoint === 'function') {\n\t\t\t\tstart = document.caretRangeFromPoint(startX, startY);\n\t\t\t\tend = document.caretRangeFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.startContainer;\n\t\t\t\tendContainer = end.startContainer;\n\n\t\t\t\tstartOffset = start.startOffset;\n\t\t\t\tendOffset = end.startOffset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t}\n\n\t\t\tif (range && document.getSelection) {\n\t\t\t\trange.setStart(\n\t\t\t\t\tnew CKEDITOR.dom.node(startContainer),\n\t\t\t\t\tstartOffset\n\t\t\t\t);\n\t\t\t\trange.setEnd(new CKEDITOR.dom.node(endContainer), endOffset);\n\n\t\t\t\tthis.getSelection().selectRanges([range]);\n\t\t\t} else if (typeof document.body.createTextRange === 'function') {\n\t\t\t\tlet selection = this.getSelection();\n\n\t\t\t\tselection.unlock();\n\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToPoint(startX, startY);\n\n\t\t\t\tlet endRange = range.duplicate();\n\t\t\t\tendRange.moveToPoint(endX, endY);\n\n\t\t\t\trange.setEndPoint('EndToEnd', endRange);\n\t\t\t\trange.select();\n\n\t\t\t\tthis.getSelection().lock();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current position of the caret. The points are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getCaretRegion\n\t\t * @return {Object} Returns object with the following properties:\n\t\t * - bottom\n\t\t * - left\n\t\t * - right\n\t\t * - top\n\t\t */\n\t\tgetCaretRegion: function() {\n\t\t\tlet selection = this.getSelection();\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t};\n\n\t\t\tlet bookmarks = selection.createBookmarks();\n\n\t\t\tif (!bookmarks.length) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tlet bookmarkNodeEl = bookmarks[0].startNode.$;\n\n\t\t\tbookmarkNodeEl.style.display = 'inline-block';\n\n\t\t\tregion = new CKEDITOR.dom.element(bookmarkNodeEl).getClientRect();\n\n\t\t\tbookmarkNodeEl.parentNode.removeChild(bookmarkNodeEl);\n\n\t\t\tlet scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();\n\n\t\t\tregion.bottom = scrollPos.y + region.bottom;\n\t\t\tregion.left = scrollPos.x + region.left;\n\t\t\tregion.right = scrollPos.x + region.right;\n\t\t\tregion.top = scrollPos.y + region.top;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns data for the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionData\n\t\t * @return {Object|null} Returns an object with the following data:\n\t\t * - element - The currently selected element, if any\n\t\t * - text - The selected text\n\t\t * - region - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionRegion:method\"}}{{/crossLink}}\n\t\t */\n\t\tgetSelectionData: function() {\n\t\t\tlet selection = this.getSelection();\n\n\t\t\tif (!selection.getNative()) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tlet result = {\n\t\t\t\telement: selection.getSelectedElement(),\n\t\t\t\ttext: selection.getSelectedText(),\n\t\t\t};\n\n\t\t\tresult.region = this.getSelectionRegion(selection);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionRegion\n\t\t * @return {Object} Returns object which is being returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getClientRectsRegion:method\"}}{{/crossLink}} with three more properties:\n\t\t * - direction - the direction of the selection. Can be one of these:\n\t\t *   1. CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t *   2. CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t * - height - The height of the selection region\n\t\t * - width - The width of the selection region\n\t\t */\n\t\tgetSelectionRegion: function() {\n\t\t\tlet region = this.getClientRectsRegion();\n\n\t\t\tregion.direction = this.getSelectionDirection();\n\n\t\t\tregion.height = region.bottom - region.top;\n\t\t\tregion.width = region.right - region.left;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns true if the current selection is empty, false otherwise.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method isSelectionEmpty\n\t\t * @return {Boolean} Returns true if the current selection is empty, false otherwise.\n\t\t */\n\t\tisSelectionEmpty: function() {\n\t\t\tlet ranges;\n\n\t\t\tlet selection = this.getSelection();\n\n\t\t\treturn (\n\t\t\t\tselection.getType() === CKEDITOR.SELECTION_NONE ||\n\t\t\t\t((ranges = selection.getRanges()) &&\n\t\t\t\t\tranges.length === 1 &&\n\t\t\t\t\tranges[0].collapsed)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns object with data about the [client rectangles](https://developer.mozilla.org/en-US/docs/Web/API/Element.getClientRects) of the selection,\n\t\t * normalized across browses. All offsets below are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getClientRectsRegion\n\t\t * @return {Object} Returns object with the following data:\n\t\t * - bottom - bottom offset of all client rectangles\n\t\t * - left - left offset of all client rectangles\n\t\t * - right - right offset of all client rectangles\n\t\t * - top - top offset of all client rectangles\n\t\t * - startRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t * - endRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t *\n\t\t * If there is no native selection, the objects will be filled with 0.\n\t\t */\n\t\tgetClientRectsRegion: function() {\n\t\t\tlet selection = this.getSelection();\n\t\t\tlet nativeSelection = selection.getNative();\n\n\t\t\tlet defaultRect = {\n\t\t\t\tbottom: 0,\n\t\t\t\theight: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\twidth: 0,\n\t\t\t};\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tendRect: defaultRect,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tstartRect: defaultRect,\n\t\t\t};\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tlet bottom = 0;\n\t\t\tlet clientRects;\n\t\t\tlet left = Infinity;\n\t\t\tlet right = -Infinity;\n\t\t\tlet top = Infinity;\n\n\t\t\tif (nativeSelection.createRange) {\n\t\t\t\tclientRects = nativeSelection.createRange().getClientRects();\n\t\t\t} else {\n\t\t\t\tclientRects =\n\t\t\t\t\tnativeSelection.rangeCount > 0\n\t\t\t\t\t\t? nativeSelection.getRangeAt(0).getClientRects()\n\t\t\t\t\t\t: [];\n\t\t\t}\n\n\t\t\tif (clientRects.length === 0) {\n\t\t\t\tregion = this.getCaretRegion();\n\t\t\t} else {\n\t\t\t\tfor (let i = 0, length = clientRects.length; i < length; i++) {\n\t\t\t\t\tlet item = clientRects[i];\n\n\t\t\t\t\tif (item.left < left) {\n\t\t\t\t\t\tleft = item.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.right > right) {\n\t\t\t\t\t\tright = item.right;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.top < top) {\n\t\t\t\t\t\ttop = item.top;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.bottom > bottom) {\n\t\t\t\t\t\tbottom = item.bottom;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet scrollPos = new CKEDITOR.dom.window(\n\t\t\t\t\twindow\n\t\t\t\t).getScrollPosition();\n\n\t\t\t\tregion.bottom = scrollPos.y + bottom;\n\t\t\t\tregion.left = scrollPos.x + left;\n\t\t\t\tregion.right = scrollPos.x + right;\n\t\t\t\tregion.top = scrollPos.y + top;\n\n\t\t\t\tif (clientRects.length) {\n\t\t\t\t\tlet endRect = clientRects[clientRects.length - 1];\n\t\t\t\t\tlet startRect = clientRects[0];\n\n\t\t\t\t\tregion.endRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + endRect.bottom,\n\t\t\t\t\t\theight: endRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + endRect.left,\n\t\t\t\t\t\tright: scrollPos.x + endRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + endRect.top,\n\t\t\t\t\t\twidth: endRect.width,\n\t\t\t\t\t};\n\n\t\t\t\t\tregion.startRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + startRect.bottom,\n\t\t\t\t\t\theight: startRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + startRect.left,\n\t\t\t\t\t\tright: scrollPos.x + startRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + startRect.top,\n\t\t\t\t\t\twidth: startRect.width,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the direction of the selection. The direction is from top to bottom or from bottom to top.\n\t\t * For IE < 9 it is not possible, so the direction for these browsers will be always CKEDITOR.SELECTION_TOP_TO_BOTTOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionDirection\n\t\t * @return {Number} Returns a number which represents selection direction. It might be one of these:\n\t\t * - CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t * - CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t */\n\t\tgetSelectionDirection: function() {\n\t\t\tlet direction = CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t\tlet selection = this.getSelection();\n\t\t\tlet nativeSelection = selection.getNative();\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn direction;\n\t\t\t}\n\n\t\t\tlet anchorNode;\n\n\t\t\tif (\n\t\t\t\t(anchorNode = nativeSelection.anchorNode) &&\n\t\t\t\tanchorNode.compareDocumentPosition\n\t\t\t) {\n\t\t\t\tlet position = anchorNode.compareDocumentPosition(\n\t\t\t\t\tnativeSelection.focusNode\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\t(!position &&\n\t\t\t\t\t\tnativeSelection.anchorOffset >\n\t\t\t\t\t\t\tnativeSelection.focusOffset) ||\n\t\t\t\t\tposition === Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t) {\n\t\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t},\n\t};\n\n\tCKEDITOR.plugins.add('ae_selectionregion', {\n\t\tinit: function(editor) {\n\t\t\tlet attr;\n\t\t\tlet hasOwnProperty;\n\n\t\t\thasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\t\tfor (attr in SelectionRegion.prototype) {\n\t\t\t\tif (\n\t\t\t\t\thasOwnProperty.call(SelectionRegion.prototype, attr) &&\n\t\t\t\t\ttypeof editor[attr] === 'undefined'\n\t\t\t\t) {\n\t\t\t\t\teditor[attr] = SelectionRegion.prototype[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","let IE_NON_DIRECTLY_EDITABLE_ELEMENT = {\n\ttable: 1,\n\tcol: 1,\n\tcolgroup: 1,\n\ttbody: 1,\n\ttd: 1,\n\ttfoot: 1,\n\tth: 1,\n\tthead: 1,\n\ttr: 1,\n};\n\n/**\n * Table class utility. Provides methods for create, delete and update tables.\n *\n * @class CKEDITOR.Table\n * @constructor\n * @param {Object} editor The CKEditor instance.\n */\n\nfunction Table(editor) {\n\tthis._editor = editor;\n}\n\nTable.HEADING_BOTH = 'Both';\nTable.HEADING_COL = 'Column';\nTable.HEADING_NONE = 'None';\nTable.HEADING_ROW = 'Row';\n\nTable.prototype = {\n\tconstructor: Table,\n\n\t/**\n\t * Creates a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method create\n\t * @param {Object} config Table configuration object\n\t * @return {Object} The created table\n\t */\n\tcreate: function(config) {\n\t\tlet editor = this._editor;\n\t\tlet table = this._createElement('table');\n\n\t\tconfig = config || {};\n\n\t\t// Generate the rows and cols.\n\t\tlet tbody = table.append(this._createElement('tbody'));\n\t\tlet rows = config.rows || 1;\n\t\tlet cols = config.cols || 1;\n\n\t\tfor (let i = 0; i < rows; i++) {\n\t\t\tlet row = tbody.append(this._createElement('tr'));\n\t\t\tfor (let j = 0; j < cols; j++) {\n\t\t\t\tlet cell = row.append(this._createElement('td'));\n\n\t\t\t\tcell.appendBogus();\n\t\t\t}\n\t\t}\n\n\t\tthis.setAttributes(table, config.attrs);\n\t\tthis.setHeading(table, config.heading);\n\n\t\t// Insert the table element if we're creating one.\n\t\teditor.insertElement(table);\n\n\t\tlet firstCell = new CKEDITOR.dom.element(table.$.rows[0].cells[0]);\n\t\tlet range = editor.createRange();\n\t\trange.moveToPosition(firstCell, CKEDITOR.POSITION_AFTER_START);\n\t\trange.select();\n\n\t\treturn table;\n\t},\n\n\t/**\n\t * Retrieves a table from the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method getFromSelection\n\t * @return {CKEDITOR.dom.element} The retrieved table or null if not found.\n\t */\n\tgetFromSelection: function() {\n\t\tlet table;\n\t\tlet selection = this._editor.getSelection();\n\t\tlet selected = selection.getSelectedElement();\n\n\t\tif (selected && selected.is('table')) {\n\t\t\ttable = selected;\n\t\t} else {\n\t\t\tlet ranges = selection.getRanges();\n\n\t\t\tif (ranges.length > 0) {\n\t\t\t\t// Webkit could report the following range on cell selection (#4948):\n\t\t\t\t// <table><tr><td>[&nbsp;</td></tr></table>]\n\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (CKEDITOR.env.webkit) {\n\t\t\t\t\tranges[0].shrink(CKEDITOR.NODE_ELEMENT);\n\t\t\t\t}\n\n\t\t\t\ttable = this._editor\n\t\t\t\t\t.elementPath(ranges[0].getCommonAncestor(true))\n\t\t\t\t\t.contains('table', 1);\n\t\t\t}\n\t\t}\n\n\t\treturn table;\n\t},\n\n\t/**\n\t * Checks if a given table can be considered as editable. This method\n\t * workarounds a limitation of IE where for some elements (like table),\n\t * `isContentEditable` returns always false. This is because IE does not support\n\t * `contenteditable` on such elements. However, despite such elements\n\t * cannot be set as content editable directly, a content editable SPAN,\n\t * or DIV element can be placed inside the individual table cells.\n\t * See https://msdn.microsoft.com/en-us/library/ms537837%28v=VS.85%29.aspx\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method isEditable\n\t * @param {CKEDITOR.dom.element} el The table element to test if editable\n\t * @return {Boolean}\n\t */\n\tisEditable: function(el) {\n\t\tif (!CKEDITOR.env.ie || !el.is(IE_NON_DIRECTLY_EDITABLE_ELEMENT)) {\n\t\t\treturn !el.isReadOnly();\n\t\t}\n\n\t\tif (el.hasAttribute('contenteditable')) {\n\t\t\treturn el.getAttribute('contenteditable') !== 'false';\n\t\t}\n\n\t\treturn this.isEditable(el.getParent());\n\t},\n\n\t/**\n\t * Returns which heading style is set for the given table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method getHeading\n\t * @param {CKEDITOR.dom.element} table The table to gather the heading from. If null, it will be retrieved from the current selection.\n\t * @return {String} The heading of the table. Expected values are `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t */\n\tgetHeading: function(table) {\n\t\ttable = table || this.getFromSelection();\n\n\t\tif (!table) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet rowHeadingSettings = table.$.tHead !== null;\n\n\t\tlet colHeadingSettings = true;\n\n\t\t// Check if all of the first cells in every row are TH\n\t\tfor (let row = 0; row < table.$.rows.length; row++) {\n\t\t\t// If just one cell isn't a TH then it isn't a header column\n\t\t\tlet cell = table.$.rows[row].cells[0];\n\n\t\t\tif (cell && cell.nodeName.toLowerCase() !== 'th') {\n\t\t\t\tcolHeadingSettings = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tlet headingSettings = Table.HEADING_NONE;\n\n\t\tif (rowHeadingSettings) {\n\t\t\theadingSettings = Table.HEADING_ROW;\n\t\t}\n\n\t\tif (colHeadingSettings) {\n\t\t\theadingSettings =\n\t\t\t\theadingSettings === Table.HEADING_ROW\n\t\t\t\t\t? Table.HEADING_BOTH\n\t\t\t\t\t: Table.HEADING_COL;\n\t\t}\n\n\t\treturn headingSettings;\n\t},\n\n\t/**\n\t * Removes a table from the editor.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method remove\n\t * @param {CKEDITOR.dom.element} table The table element which table style should be removed.\n\t */\n\tremove: function(table) {\n\t\tlet editor = this._editor;\n\n\t\tif (table) {\n\t\t\ttable.remove();\n\t\t} else {\n\t\t\ttable = editor.elementPath().contains('table', 1);\n\n\t\t\tif (table) {\n\t\t\t\t// If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)\n\t\t\t\tlet parent = table.getParent();\n\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\tif (\n\t\t\t\t\tparent.getChildCount() === 1 &&\n\t\t\t\t\t!parent.is('td', 'th') &&\n\t\t\t\t\t!parent.equals(editable)\n\t\t\t\t) {\n\t\t\t\t\ttable = parent;\n\t\t\t\t}\n\n\t\t\t\tlet range = editor.createRange();\n\t\t\t\trange.moveToPosition(table, CKEDITOR.POSITION_BEFORE_START);\n\t\t\t\ttable.remove();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Assigns provided attributes to a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method setAttributes\n\t * @param {Object} table The table to which the attributes should be assigned\n\t * @param {Object} attrs The attributes which have to be assigned to the table\n\t */\n\tsetAttributes: function(table, attrs) {\n\t\tif (attrs) {\n\t\t\tObject.keys(attrs).forEach(function(attr) {\n\t\t\t\ttable.setAttribute(attr, attrs[attr]);\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Sets the appropriate table heading style to a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method setHeading\n\t * @param {CKEDITOR.dom.element} table The table element to which the heading should be set. If null, it will be retrieved from the current selection.\n\t * @param {String} heading The table heading to be set. Accepted values are: `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t */\n\tsetHeading: function(table, heading) {\n\t\ttable = table || this.getFromSelection();\n\n\t\tlet i;\n\t\tlet newCell;\n\t\tlet tableHead;\n\t\tlet tableBody = table.getElementsByTag('tbody').getItem(0);\n\n\t\tlet tableHeading = this.getHeading(table);\n\t\tlet hadColHeading =\n\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\tlet needColHeading =\n\t\t\theading === Table.HEADING_COL || heading === Table.HEADING_BOTH;\n\t\tlet needRowHeading =\n\t\t\theading === Table.HEADING_ROW || heading === Table.HEADING_BOTH;\n\n\t\t// If we need row heading and don't have a <thead> element yet, move the\n\t\t// first row of the table to the head and convert the nodes to <th> ones.\n\t\tif (!table.$.tHead && needRowHeading) {\n\t\t\tlet tableFirstRow = tableBody.getElementsByTag('tr').getItem(0);\n\t\t\tlet tableFirstRowChildCount = tableFirstRow.getChildCount();\n\n\t\t\t// Change TD to TH:\n\t\t\tfor (i = 0; i < tableFirstRowChildCount; i++) {\n\t\t\t\tlet cell = tableFirstRow.getChild(i);\n\n\t\t\t\t// Skip bookmark nodes. (#6155)\n\t\t\t\tif (\n\t\t\t\t\tcell.type === CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t!cell.data('cke-bookmark')\n\t\t\t\t) {\n\t\t\t\t\tcell.renameNode('th');\n\t\t\t\t\tcell.setAttribute('scope', 'col');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttableHead = this._createElement(table.$.createTHead());\n\t\t\ttableHead.append(tableFirstRow.remove());\n\t\t}\n\n\t\t// If we don't need row heading and we have a <thead> element, move the\n\t\t// row out of there and into the <tbody> element.\n\t\tif (table.$.tHead !== null && !needRowHeading) {\n\t\t\t// Move the row out of the THead and put it in the TBody:\n\t\t\ttableHead = this._createElement(table.$.tHead);\n\n\t\t\tlet previousFirstRow = tableBody.getFirst();\n\n\t\t\twhile (tableHead.getChildCount() > 0) {\n\t\t\t\tlet newFirstRow = tableHead.getFirst();\n\t\t\t\tlet newFirstRowChildCount = newFirstRow.getChildCount();\n\n\t\t\t\tfor (i = 0; i < newFirstRowChildCount; i++) {\n\t\t\t\t\tnewCell = newFirstRow.getChild(i);\n\n\t\t\t\t\tif (newCell.type === CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnewFirstRow.insertBefore(previousFirstRow);\n\t\t\t}\n\n\t\t\ttableHead.remove();\n\t\t}\n\n\t\ttableHeading = this.getHeading(table);\n\t\tlet hasColHeading =\n\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\t// If we need column heading and the table doesn't have it, convert every first cell in\n\t\t// every row into a `<th scope=\"row\">` element.\n\t\tif (!hasColHeading && needColHeading) {\n\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\tif (table.$.rows[i].cells[0].nodeName.toLowerCase() !== 'th') {\n\t\t\t\t\tnewCell = new CKEDITOR.dom.element(\n\t\t\t\t\t\ttable.$.rows[i].cells[0]\n\t\t\t\t\t);\n\t\t\t\t\tnewCell.renameNode('th');\n\t\t\t\t\tnewCell.setAttribute('scope', 'row');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If we don't need column heading but the table has it, convert every first cell in every\n\t\t// row back into a `<td>` element.\n\t\tif (hadColHeading && !needColHeading) {\n\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\tlet row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\tif (row.getParent().getName() === 'tbody') {\n\t\t\t\t\tnewCell = new CKEDITOR.dom.element(row.$.cells[0]);\n\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Creates a new CKEDITOR.dom.element using the passed tag name.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @protected\n\t * @method _createElement\n\t * @param {String} name The tag name from which an element should be created\n\t * @return {CKEDITOR.dom.element} Instance of CKEDITOR DOM element class\n\t */\n\t_createElement: function(name) {\n\t\treturn new CKEDITOR.dom.element(name, this._editor.document);\n\t},\n};\n\nCKEDITOR.on('instanceReady', function(event) {\n\tlet headingCommands = [\n\t\tTable.HEADING_NONE,\n\t\tTable.HEADING_ROW,\n\t\tTable.HEADING_COL,\n\t\tTable.HEADING_BOTH,\n\t];\n\n\tlet tableUtils = new Table(event.editor);\n\n\theadingCommands.forEach(function(heading) {\n\t\tevent.editor.addCommand('tableHeading' + heading, {\n\t\t\texec: function(_editor) {\n\t\t\t\ttableUtils.setHeading(null, heading);\n\t\t\t},\n\t\t});\n\t});\n});\n\nCKEDITOR.Table = CKEDITOR.Table || Table;\n","/**\n * CKEDITOR.tools class utility which adds additional methods to those of CKEditor.\n *\n * @class CKEDITOR.tools\n */\n\n/**\n * Sends a request using the JSONP technique.\n *\n * @memberof CKEDITOR.tools\n * @method jsonp\n * @param {CKEDITOR.template} urlTemplate The template of the URL to be requested. All properties passed in `urlParams` can be used, plus a `{callback}`, which represent a JSONP callback, must be defined.\n * @param {Function} callback A function to be called in case of success.\n * @param {Function} errorCallback A function to be called in case of failure.\n * @param {Object} urlParams Parameters to be passed to the `urlTemplate`.\n * @return {Object} An object with the following properties:\n *  - id: the transaction ID\n *  - a `cancel()` method\n * @static\n */\nCKEDITOR.tools.jsonp = function(\n\turlTemplate,\n\turlParams,\n\tcallback,\n\terrorCallback\n) {\n\tlet callbackKey = CKEDITOR.tools.getNextNumber();\n\n\turlParams = urlParams || {};\n\turlParams.callback = 'CKEDITOR._.jsonpCallbacks[' + callbackKey + ']';\n\n\tif (!CKEDITOR._.jsonpCallbacks) {\n\t\tCKEDITOR._.jsonpCallbacks = {};\n\t}\n\n\tCKEDITOR._.jsonpCallbacks[callbackKey] = function(response) {\n\t\tsetTimeout(function() {\n\t\t\tcleanUp();\n\n\t\t\tcallback(response);\n\t\t});\n\t};\n\n\tlet scriptElement = new CKEDITOR.dom.element('script');\n\tscriptElement.setAttribute('src', urlTemplate.output(urlParams));\n\tscriptElement.on('error', function() {\n\t\tcleanUp();\n\n\t\tif (errorCallback) {\n\t\t\terrorCallback();\n\t\t}\n\t});\n\n\tfunction cleanUp() {\n\t\tif (scriptElement) {\n\t\t\tscriptElement.remove();\n\t\t\tdelete CKEDITOR._.jsonpCallbacks[callbackKey];\n\t\t\tscriptElement = null;\n\t\t}\n\t}\n\n\tCKEDITOR.document.getBody().append(scriptElement);\n\n\treturn {\n\t\tcancel: cleanUp,\n\t\tid: callbackKey,\n\t};\n};\n\n/**\n * Returns a new object containing all of the properties of all the supplied\n * objects. The properties from later objects will overwrite those in earlier\n * objects.\n *\n * Passing in a single object will create a shallow copy of it.\n *\n * @memberof CKEDITOR.tools\n * @method merge\n * @param {Object} objects* One or more objects to merge.\n * @return {Object} A new merged object.\n * @static\n */\nCKEDITOR.tools.merge =\n\tCKEDITOR.tools.merge ||\n\tfunction(...args) {\n\t\tlet result = {};\n\n\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\tlet obj = args[i];\n\n\t\t\tfor (let key in obj) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\t\t\tresult[key] = obj[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n/**\n * Simulates event on a DOM element.\n *\n * @memberof CKEDITOR.tools\n * @method simulate\n * @param {DOMElement} element The element on which the event shoud be simualted.\n * @param {String} event The name of the event which have to be simulated.\n * @static\n */\nCKEDITOR.tools.simulate = function(element, event) {\n\tlet eventInstance = document.createEvent('Events');\n\teventInstance.initEvent(event, true, false);\n\telement.dispatchEvent(eventInstance);\n};\n","if (!CKEDITOR.plugins.get('ae_uicore')) {\n\t/**\n\t * UICore class which will handle user interactions with the editor. These interactions\n\t * might be triggered via mouse, keyboard or touch devices. The class fill fire an event via\n\t * CKEditor's event system - \"editorInteraction\". The UI may listen to this event and\n\t * execute some actions - for example to show/hide toolbars.\n\t *\n\t * By default if user presses the Esc key, 'editorInteraction' event won't be fired. However, this behaviour can be changed\n\t * by setting {{#crossLink \"CKEDITOR.plugins.ae_uicore/allowEsc:attribute\"}}{{/crossLink}} config property in editor's configuration to true.\n\t *\n\t * @class ae_uicore\n\t */\n\n\t/**\n\t * Fired when user interacts somehow with the browser. This may be clicking with the mouse, pressing keyboard button,\n\t * or touching screen. This even will be not fired after each interaction. It will be debounced. By default the timeout\n\t * is 50ms. This value can be overwritten via {{#crossLink \"CKEDITOR.plugins.ae_uicore/timeout:attribute\"}}{{/crossLink}}\n\t * property of editor's configuration, like: editor.config.uicore.timeout = 100\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#editorInteraction\n\t * @param {Object} data An object which contains the following properties:\n\t * - nativeEvent - The event as received from CKEditor.\n\t * - selectionData - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t */\n\n\t/**\n\t * Fired by UI elements like Toolbars or Buttons when their state changes. The listener updates the live region with the provided data.\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#ariaUpdate\n\t * @param {Object} data An object which contains the following properties:\n\t * - message - The provided message from the UI element.\n\t */\n\n\t/**\n\t * If set to true, the editor will still fire {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event,\n\t * if user presses Esc key.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute allowEsc\n\t * @default false\n\t * @type Boolean\n\t */\n\n\t/**\n\t * Specifies the default timeout after which the {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event\n\t * will be fired.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute timeout\n\t * @default 50 (ms)\n\t * @type Number\n\t */\n\n\tCKEDITOR.plugins.add('ae_uicore', {\n\t\t/**\n\t\t * Initializer lifecycle implementation for the UICore plugin.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method init\n\t\t * @param {Object} editor The current CKEditor instance.\n\t\t * @protected\n\t\t */\n\t\tinit: function(editor) {\n\t\t\tlet ariaState = [];\n\n\t\t\tlet ariaElement = this._createAriaElement(editor.id);\n\n\t\t\tlet uiTasksTimeout = editor.config.uicore\n\t\t\t\t? editor.config.uicore.timeout\n\t\t\t\t: 50;\n\n\t\t\tlet handleUI = CKEDITOR.tools.debounce(function(event) {\n\t\t\t\tariaState = [];\n\n\t\t\t\tif (\n\t\t\t\t\tevent.name !== 'keyup' ||\n\t\t\t\t\tevent.data.$.keyCode !== 27 ||\n\t\t\t\t\teditor.config.allowEsc\n\t\t\t\t) {\n\t\t\t\t\tlet selectionData = editor.getSelectionData();\n\n\t\t\t\t\tif (selectionData) {\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event.data.$,\n\t\t\t\t\t\t\tselectionData: selectionData,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tlet handleAria = CKEDITOR.tools.debounce(function(_event) {\n\t\t\t\tariaElement.innerHTML = ariaState.join('. ');\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tlet handleMouseLeave = CKEDITOR.tools.debounce(function(event) {\n\t\t\t\tlet aeUINodes = document.querySelectorAll('.ae-ui');\n\n\t\t\t\tlet found;\n\n\t\t\t\tfor (let i = 0; i < aeUINodes.length; i++) {\n\t\t\t\t\tif (aeUINodes[i].contains(event.data.$.relatedTarget)) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\thandleUI(event);\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\teditor.on('ariaUpdate', function(event) {\n\t\t\t\t// handleAria is debounced function, so if it is being called multiple times, it will\n\t\t\t\t// be canceled until some time passes.\n\t\t\t\t// For that reason here we explicitly append the current message to the list of messages\n\t\t\t\t// and call handleAria. Since it is debounced, when some timeout passes,\n\t\t\t\t// all the messages will be applied to the live region and not only the last one.\n\n\t\t\t\tariaState.push(event.data.message);\n\n\t\t\t\thandleAria();\n\t\t\t});\n\n\t\t\teditor.once('contentDom', function() {\n\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\tconst focusHandler = editable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'focus',\n\t\t\t\t\tfunction(event) {\n\t\t\t\t\t\tfocusHandler.removeListener();\n\n\t\t\t\t\t\teditable.attachListener(editable, 'keyup', handleUI);\n\t\t\t\t\t\teditable.attachListener(editable, 'mouseup', handleUI);\n\t\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\t\teditable,\n\t\t\t\t\t\t\t'mouseleave',\n\t\t\t\t\t\t\thandleMouseLeave\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\thandleUI(event);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\teditor.on('destroy', function(_event) {\n\t\t\t\tariaElement.parentNode.removeChild(ariaElement);\n\n\t\t\t\thandleUI.detach();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Creates and applies an HTML element to the body of the document which will contain ARIA messages.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method _createAriaElement\n\t\t * @param {String} id The provided id of the element. It will be used as prefix for the final element Id.\n\t\t * @protected\n\t\t * @return {HTMLElement} The created and applied to DOM element.\n\t\t */\n\t\t_createAriaElement: function(id) {\n\t\t\tlet statusElement = document.createElement('div');\n\n\t\t\tstatusElement.className = 'ae-sr-only';\n\n\t\t\tstatusElement.setAttribute('aria-live', 'polite');\n\t\t\tstatusElement.setAttribute('role', 'status');\n\t\t\tstatusElement.setAttribute('id', id + 'LiveRegion');\n\n\t\t\tdocument.body.appendChild(statusElement);\n\n\t\t\treturn statusElement;\n\t\t},\n\t});\n}\n","let isIE = CKEDITOR.env.ie;\n\nif (!CKEDITOR.plugins.get('ae_addimages')) {\n\t/**\n\t * CKEditor plugin which allows Drag&Drop of images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of dropped images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_addimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#imageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_addimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'dragenter', 'dragover', 'drop' and `paste` events on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'dragenter',\n\t\t\t\t\t\tthis._onDragEnter,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'dragover',\n\t\t\t\t\t\tthis._onDragOver,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'drop',\n\t\t\t\t\t\tthis._onDragDrop,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'paste',\n\t\t\t\t\t\tthis._onPaste,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Accepts an array of dropped files to the editor. Then, it filters the images and sends them for further\n\t\t * processing to {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}}\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _handleFiles\n\t\t * @param {Array} files Array of dropped files. Only the images from this list will be processed.\n\t\t * @param {Object} editor The current editor instance\n\t\t * @protected\n\t\t */\n\t\t_handleFiles: function(files, editor) {\n\t\t\tlet file;\n\t\t\tlet i;\n\n\t\t\tlet imageFiles = [];\n\n\t\t\tfor (i = 0; i < files.length; i++) {\n\t\t\t\tfile = files[i];\n\n\t\t\t\tif (file.type.indexOf('image') === 0) {\n\t\t\t\t\timageFiles.push(file);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles: imageFiles,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\tfor (i = 0; i < imageFiles.length; i++) {\n\t\t\t\t\tfile = imageFiles[i];\n\n\t\t\t\t\tthis._processFile(file, editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Handles drag drop event. The function will create a selection from the current\n\t\t * point and will send a list of files to be processed to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_handleFiles:method\"}}{{/crossLink}} method.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragDrop\n\t\t * @param {CKEDITOR.dom.event} event dragdrop event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragDrop: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tlet transferFiles = nativeEvent.dataTransfer.files;\n\n\t\t\tif (transferFiles.length > 0) {\n\t\t\t\tnew CKEDITOR.dom.event(nativeEvent).preventDefault();\n\n\t\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\t\tevent.listenerData.editor.createSelectionFromPoint(\n\t\t\t\t\tnativeEvent.clientX,\n\t\t\t\t\tnativeEvent.clientY\n\t\t\t\t);\n\n\t\t\t\tthis._handleFiles(transferFiles, editor);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag enter event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragEnter\n\t\t * @param {DOM event} event dragenter event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragEnter: function(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag over event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragOver\n\t\t * @param {DOM event} event dragover event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragOver: function(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if the pasted data is image and passes it to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}} for processing.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onPaste\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onPaste: function(event) {\n\t\t\tif (\n\t\t\t\tevent.data &&\n\t\t\t\tevent.data.$ &&\n\t\t\t\tevent.data.$.clipboardData &&\n\t\t\t\tevent.data.$.clipboardData.items &&\n\t\t\t\tevent.data.$.clipboardData.items.length > 0\n\t\t\t) {\n\t\t\t\tlet pastedData = event.data.$.clipboardData.items[0];\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tlet imageFile = pastedData.getAsFile();\n\n\t\t\t\t\tthis._processFile(imageFile, event.listenerData.editor);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Prevents a native event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_preventEvent: function(event) {\n\t\t\tevent = new CKEDITOR.dom.event(event.data.$);\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t},\n\n\t\t/**\n\t\t * Processes an image file. The function creates an img element and sets as source\n\t\t * a Data URI, then fires an 'imageAdd' event via CKEditor's event system.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#imageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_processFile: function(file, editor) {\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.addEventListener('loadend', function() {\n\t\t\t\tlet bin = reader.result;\n\n\t\t\t\tlet el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t'<img src=\"' + bin + '\">'\n\t\t\t\t);\n\n\t\t\t\teditor.insertElement(el);\n\n\t\t\t\tlet imageData = {\n\t\t\t\t\tel: el,\n\t\t\t\t\tfile: file,\n\t\t\t\t};\n\n\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t});\n\n\t\t\treader.readAsDataURL(file);\n\t\t},\n\t});\n}\n","if (!CKEDITOR.plugins.get('ae_autolink')) {\n\t// Disables the auto URL detection feature in IE, their lacks functionality:\n\t// They convert the links only on space. We do on space, comma, semicolon and Enter.\n\tif (/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)) {\n\t\tdocument.execCommand('AutoUrlDetect', false, false);\n\t}\n\n\tlet KEY_BACK = 8;\n\n\tlet KEY_COMMA = 188;\n\n\tlet KEY_ENTER = 13;\n\n\tlet KEY_SEMICOLON = 186;\n\n\tlet KEY_SPACE = 32;\n\n\tlet DELIMITERS = [KEY_COMMA, KEY_ENTER, KEY_SEMICOLON, KEY_SPACE];\n\n\tlet REGEX_LAST_WORD = /[^\\s]+/gim;\n\n\tlet REGEX_URL =\n\t\t'((([A - Za - z]{ 3, 9}: (?: \\\\/\\\\/)?)(?:[-;:&=\\\\+\\\\$,\\\\w]+@)?[A-Za-z0-9.-]+|(https?\\\\:\\\\/\\\\/|www.|[-;:&=.\\\\+\\\\$,\\\\w]+@)[A-Za-z0-9.-]+)((?:\\\\/[\\\\+~%\\\\/.\\\\w-_]*)?\\\\??(?:[-\\\\+=&;%@.\\\\w_]*)#?(?:[\\\\w]*))((.*):(\\\\d*)\\\\/?(.*))?)';\n\n\tlet REGEX_EMAIL = /[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}/i;\n\n\t/**\n\t * CKEditor plugin which automatically generates links when user types text which looks like URL.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolink\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolink', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers the `keyup` event on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'keyup',\n\t\t\t\t\t\tthis._onKeyUp,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\n\t\t\teditor.on(\n\t\t\t\t'paste',\n\t\t\t\tfunction(event) {\n\t\t\t\t\tif (event.data.method === 'paste') {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.data.dataValue.indexOf('<') > -1 ||\n\t\t\t\t\t\t\tevent.data.dataValue.indexOf('&lt;') > -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tevent.data.dataValue.indexOf(\n\t\t\t\t\t\t\t\t\t'<u><font color=\"'\n\t\t\t\t\t\t\t\t) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\t\t\t\t/<u><font color=\"#(.*?)\">|<\\/font><\\/u>/g,\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet instance = this;\n\n\t\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\t\tRegExp(REGEX_URL, 'gim'),\n\t\t\t\t\t\t\tfunction(url) {\n\t\t\t\t\t\t\t\tif (instance._isValidURL(url)) {\n\t\t\t\t\t\t\t\t\tif (instance._isValidEmail(url)) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t'<a href=\"mailto:' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t'<a href=\"' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the last word introduced by the user. Reads from the current\n\t\t * caret position backwards until it finds the first white space.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _getLastWord\n\t\t * @protected\n\t\t * @return {String} The last word introduced by user\n\t\t */\n\t\t_getLastWord: function(editor) {\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\n\t\t\tlet offset = range.startOffset;\n\n\t\t\tlet previousText = '';\n\n\t\t\t// The user pressed Enter, so we have to look on the previous node\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tlet previousNode = range.startContainer.getPrevious();\n\n\t\t\t\tlet lastChild;\n\n\t\t\t\tif (previousNode) {\n\t\t\t\t\t// If previous node is a SPACE, (it does not have 'getLast' method),\n\t\t\t\t\t// ignore it and find the previous text node\n\t\t\t\t\twhile (!previousNode.getLast) {\n\t\t\t\t\t\tpreviousNode = previousNode.getPrevious();\n\t\t\t\t\t}\n\n\t\t\t\t\tlastChild = previousNode.getLast();\n\n\t\t\t\t\t// Depending on the browser, the last child node may be a <BR>\n\t\t\t\t\t// (which does not have 'getText' method),\n\t\t\t\t\t// so ignore it and find the previous text node\n\t\t\t\t\twhile (lastChild && !lastChild.getText()) {\n\t\t\t\t\t\tlastChild = lastChild.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check if the lastChild is already a link\n\t\t\t\tif (!(lastChild && lastChild.$.href)) {\n\t\t\t\t\tthis._startContainer = lastChild;\n\t\t\t\t\tpreviousText = lastChild ? lastChild.getText() : '';\n\t\t\t\t\tthis._offset = previousText.length;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._startContainer = range.startContainer;\n\n\t\t\t\t// Last character is the delimiter, ignore it\n\t\t\t\tpreviousText = this._startContainer\n\t\t\t\t\t.getText()\n\t\t\t\t\t.substring(0, offset - 1);\n\n\t\t\t\tthis._offset = offset - 1;\n\t\t\t}\n\n\t\t\tlet lastWord = '';\n\n\t\t\tlet match = previousText.match(REGEX_LAST_WORD);\n\n\t\t\tif (match) {\n\t\t\t\tlastWord = match.pop();\n\t\t\t}\n\n\t\t\treturn lastWord;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid Email.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidEmail\n\t\t * @param {String} link The email we want to know if it is a valid Email\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the email is a valid Email, false otherwise\n\t\t */\n\t\t_isValidEmail: function(email) {\n\t\t\treturn REGEX_EMAIL.test(email);\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid URL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidURL\n\t\t * @param {String} link The link we want to know if it is a valid URL\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the link is a valid URL, false otherwise\n\t\t */\n\t\t_isValidURL: function(link) {\n\t\t\treturn RegExp(REGEX_URL, 'i').test(link);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `keydown` event and if the keycode is `Backspace`, removes the previously\n\t\t * created link.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyDown\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._onKeyDown);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\tevent.cancel();\n\t\t\t\tevent.data.preventDefault();\n\n\t\t\t\tthis._removeLink(editor);\n\t\t\t}\n\n\t\t\tthis._ckLink = null;\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Enter` and `Space` key events in order to check if the last word\n\t\t * introduced by the user should be replaced by a link element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyUp\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyUp: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tthis._currentKeyCode = nativeEvent.keyCode;\n\n\t\t\tif (DELIMITERS.indexOf(this._currentKeyCode) !== -1) {\n\t\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\t\tlet lastWord = this._getLastWord(editor);\n\n\t\t\t\tif (this._isValidURL(lastWord)) {\n\t\t\t\t\tthis._replaceContentByLink(editor, lastWord);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Replaces content by a link element.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _replaceContentByLink\n\t\t * @param {String} content The text that has to be replaced by an link element\n\t\t * @protected\n\t\t */\n\t\t_replaceContentByLink: function(editor, content) {\n\t\t\tlet range = editor.createRange();\n\t\t\tlet node = CKEDITOR.dom.element.get(this._startContainer);\n\t\t\tlet offset = this._offset;\n\n\t\t\t// Select the content, so CKEDITOR.Link can properly replace it\n\t\t\trange.setStart(node, offset - content.length);\n\t\t\trange.setEnd(node, offset);\n\t\t\trange.select();\n\n\t\t\tlet ckLink = new CKEDITOR.Link(editor);\n\t\t\tckLink.create(content);\n\t\t\tthis._ckLink = ckLink;\n\n\t\t\tlet linkNode = ckLink.getFromSelection();\n\t\t\teditor.fire('autolinkAdd', linkNode);\n\n\t\t\tthis._subscribeToKeyEvent(editor);\n\n\t\t\t// Now range is on the link and it is selected. We have to\n\t\t\t// return focus to the caret position.\n\t\t\trange = editor.getSelection().getRanges()[0];\n\n\t\t\t// If user pressed `Enter`, get the next editable node at position 0,\n\t\t\t// otherwise set the cursor at the next character of the link (the white space)\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tlet nextEditableNode = range.getNextEditableNode();\n\n\t\t\t\trange.setStart(nextEditableNode, 0);\n\t\t\t\trange.setEnd(nextEditableNode, 0);\n\t\t\t} else {\n\t\t\t\tlet enclosedNode = range.getEnclosedNode();\n\n\t\t\t\trange.setStart(enclosedNode, 0);\n\t\t\t\trange.setEnd(enclosedNode, 0);\n\t\t\t}\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Fired when a URL is detected in text and converted to a link.\n\t\t *\n\t\t * @event CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @param {CKEDITOR.dom.element} el Node of the created link.\n\t\t */\n\n\t\t/**\n\t\t * Removes the created link element, and replaces it by its text.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _removeLink\n\t\t * @protected\n\t\t */\n\t\t_removeLink: function(editor) {\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\t\t\tlet caretOffset = range.startOffset;\n\n\t\t\t// Select the link, so CKEDITOR.Link can properly remove it\n\t\t\tlet linkNode =\n\t\t\t\tthis._startContainer.getNext() || this._startContainer;\n\n\t\t\tlet newRange = editor.createRange();\n\t\t\tnewRange.setStart(linkNode, 0);\n\t\t\tnewRange.setEndAfter(linkNode);\n\t\t\tnewRange.select();\n\n\t\t\tthis._ckLink.remove();\n\n\t\t\t// Return focus to the caret position\n\t\t\trange.setEnd(range.startContainer, caretOffset);\n\t\t\trange.setStart(range.startContainer, caretOffset);\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Subscribe to a key event of the editable aria.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _subscribeToKeyEvent\n\t\t * @protected\n\t\t */\n\t\t_subscribeToKeyEvent: function(editor) {\n\t\t\tlet editable = editor.editable();\n\n\t\t\t// Change the priority of keydown listener - 1 means the highest priority.\n\t\t\t// In Chrome on pressing `Enter` the listener is not being invoked.\n\t\t\t// See http://dev.ckeditor.com/ticket/11861 for more information.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._onKeyDown,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor: editor,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\t});\n}\n","if (!CKEDITOR.plugins.get('ae_autolist')) {\n\tlet KEY_BACK = 8;\n\n\tlet KEY_SPACE = 32;\n\n\tlet DEFAULT_CONFIG = [\n\t\t{\n\t\t\tregex: /^\\*$/,\n\t\t\ttype: 'bulletedlist',\n\t\t},\n\t\t{\n\t\t\tregex: /^1\\.$/,\n\t\t\ttype: 'numberedlist',\n\t\t},\n\t];\n\n\t/**\n\t * CKEditor plugin which automatically generates ordered/unordered list when user types text which looks like a list.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolist\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolist', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKeditor plugin lifecycle.\n\t\t * The function registers the `keydown` event on the content editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'keydown',\n\t\t\t\t\t\tthis._onKeyDown,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Checks for pressing the `Backspace` key in order to undo the list creation.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkForBackspaceAndUndo\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_checkForBackspaceAndUndo: function(event) {\n\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._checkForBackspaceAndUndo);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\teditor.execCommand('undo');\n\t\t\t\teditor.insertHtml(event.listenerData.bullet + '&nbsp;');\n\t\t\t\tevent.data.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks current line to find match with MATCHES object to create OL or UL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkLine\n\t\t * @param {editor} Editor object\n\t\t * @protected\n\t\t * @return {Object|null} Returns an object which contains the detected list config if any\n\t\t */\n\t\t_getListConfig: function(editor) {\n\t\t\tlet configRegex = editor.config.autolist || DEFAULT_CONFIG;\n\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\n\t\t\tlet textContainer = range.endContainer.getText();\n\n\t\t\tlet bullet = textContainer.substring(0, range.startOffset);\n\n\t\t\tlet text = textContainer.substring(\n\t\t\t\trange.startOffset,\n\t\t\t\ttextContainer.length\n\t\t\t);\n\n\t\t\tlet index = 0;\n\n\t\t\tlet regexLen = configRegex.length;\n\n\t\t\tlet autolistCfg = null;\n\n\t\t\twhile (!autolistCfg && regexLen > index) {\n\t\t\t\tlet regexItem = configRegex[index];\n\n\t\t\t\tif (regexItem.regex.test(bullet)) {\n\t\t\t\t\tautolistCfg = {\n\t\t\t\t\t\tbullet: bullet,\n\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\ttext: text,\n\t\t\t\t\t\ttype: regexItem.type,\n\t\t\t\t\t};\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\treturn autolistCfg;\n\t\t},\n\n\t\t/**\n\t\t * Create list with different types: Bulleted or Numbered list\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _createList\n\t\t * @param {Object} listConfig Object that contains bullet, text and type for creating the list\n\t\t * @protected\n\t\t */\n\t\t_createList: function(listConfig) {\n\t\t\tlet editor = listConfig.editor;\n\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\n\t\t\trange.endContainer.setText(listConfig.text);\n\t\t\teditor.execCommand(listConfig.type);\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\t// Subscribe to keydown in order to check if the next key press is `Backspace`.\n\t\t\t// If so, the creation of the list will be discarded.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._checkForBackspaceAndUndo,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor: editor,\n\t\t\t\t\tbullet: listConfig.bullet,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Space` key events to check if the last word\n\t\t * introduced by the user should be replaced by a list (OL or UL)\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _onKeyDown\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tif (nativeEvent.keyCode === KEY_SPACE) {\n\t\t\t\tlet listConfig = this._getListConfig(event.listenerData.editor);\n\n\t\t\t\tif (listConfig) {\n\t\t\t\t\tevent.data.preventDefault();\n\t\t\t\t\tthis._createList(listConfig);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * CKEditor plugin: Dragable image resizing\n * https://github.com/sstur/ck-dragresize\n * - Shows semi-transparent overlay while resizing\n * - Enforces Aspect Ratio (unless holding shift)\n * - Snap to size of other images in editor\n * - Escape while dragging cancels resize\n */\nif (!CKEDITOR.plugins.get('ae_dragresize')) {\n\tlet IMAGE_HANDLES = {\n\t\tboth: ['tl', 'tm', 'tr', 'lm', 'rm', 'bl', 'bm', 'br'],\n\t\theight: ['tl', 'tm', 'tr', 'bl', 'bm', 'br'],\n\t\tscale: ['tl', 'tr', 'bl', 'br'],\n\t\twidth: ['tl', 'tr', 'lm', 'rm', 'bl', 'br'],\n\t};\n\n\tlet POSITION_ELEMENT_FN = {\n\t\tbl: function(handle, left, top, box) {\n\t\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t\t},\n\t\tbm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\tbox.height - 4 + top\n\t\t\t);\n\t\t},\n\t\tbr: function(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t\t},\n\t\tlm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\t-3 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t\ttl: function(handle, left, top, _box) {\n\t\t\tpositionElement(handle, left - 3, top - 3);\n\t\t},\n\t\ttm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\t-3 + top\n\t\t\t);\n\t\t},\n\t\ttr: function(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t\t},\n\t\trm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tbox.width - 4 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t};\n\n\tlet IMAGE_SNAP_TO_SIZE = 7;\n\n\tlet isFirefox = 'MozAppearance' in document.documentElement.style;\n\n\tlet isWebKit = 'WebkitAppearance' in document.documentElement.style;\n\n\tlet enablePlugin = isWebKit || isFirefox;\n\n\tif (enablePlugin) {\n\t\t// CSS is added in a compressed form\n\t\tCKEDITOR.addCss(\n\t\t\t'img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}'\n\t\t);\n\t}\n\n\t/**\n\t * Initializes the plugin\n\t */\n\tCKEDITOR.plugins.add('ae_dragresize', {\n\t\tonLoad: function() {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tinit: function(editor) {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.once('contentDom', function(_evt) {\n\t\t\t\tinit(editor);\n\t\t\t});\n\t\t},\n\t});\n\n\tfunction init(editor) {\n\t\tlet window = editor.window.$;\n\n\t\tlet document = editor.document.$;\n\n\t\tif (isFirefox) {\n\t\t\t// Disable the native image resizing\n\t\t\tdocument.execCommand('enableObjectResizing', false, false);\n\t\t}\n\n\t\tlet snapToSize =\n\t\t\ttypeof IMAGE_SNAP_TO_SIZE === 'undefined'\n\t\t\t\t? null\n\t\t\t\t: IMAGE_SNAP_TO_SIZE;\n\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\tlet resizer = new Resizer(editor, {\n\t\t\timageScaleResize: editor.config.imageScaleResize,\n\t\t\tsnapToSize: snapToSize,\n\t\t});\n\n\t\tlet mouseDownListener = function(e) {\n\t\t\tif (resizer.isHandle(e.target)) {\n\t\t\t\tresizer.initDrag(e);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\n\t\tfunction selectionChange() {\n\t\t\tlet selection = editor.getSelection();\n\n\t\t\tif (!selection) return;\n\t\t\t// If an element is selected and that element is an IMG\n\t\t\tif (\n\t\t\t\tselection.getType() !== CKEDITOR.SELECTION_NONE &&\n\t\t\t\tselection.getStartElement().is('img')\n\t\t\t) {\n\t\t\t\t// And we're not right or middle clicking on the image\n\t\t\t\tif (\n\t\t\t\t\t!window.event ||\n\t\t\t\t\t!window.event.button ||\n\t\t\t\t\twindow.event.button === 0\n\t\t\t\t) {\n\t\t\t\t\tresizer.show(selection.getStartElement().$);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresizer.hide();\n\t\t\t}\n\t\t}\n\n\t\teditor.on('selectionChange', selectionChange);\n\n\t\teditor.on('getData', function(e) {\n\t\t\tlet html = e.data.dataValue || '';\n\t\t\thtml = html.replace(/<div id=\"ckimgrsz\"([\\s\\S]*?)<\\/div>/i, '');\n\t\t\thtml = html.replace(/\\b(ckimgrsz)\\b/g, '');\n\t\t\te.data.dataValue = html;\n\t\t});\n\n\t\teditor.on('beforeUndoImage', function() {\n\t\t\t// Remove the handles before undo images are saved\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('afterUndoImage', function() {\n\t\t\t// Restore the handles after undo images are saved\n\t\t\tselectionChange();\n\t\t});\n\n\t\teditor.on('blur', function() {\n\t\t\t// Remove the handles when editor loses focus\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('beforeModeUnload', function self() {\n\t\t\teditor.removeListener('beforeModeUnload', self);\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('destroy', function() {\n\t\t\tlet resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\tif (resizeElement) {\n\t\t\t\tresizeElement.remove();\n\t\t\t}\n\n\t\t\tif (isFirefox) {\n\t\t\t\tdocument.execCommand('enableObjectResizing', false, true);\n\t\t\t}\n\n\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t});\n\n\t\t// Update the selection when the browser window is resized\n\t\tlet resizeTimeout;\n\t\teditor.window.on('resize', function() {\n\t\t\t// Cancel any resize waiting to happen\n\t\t\tclearTimeout(resizeTimeout);\n\t\t\t// Delay resize to \"debounce\"\n\t\t\tresizeTimeout = setTimeout(selectionChange, 50);\n\t\t});\n\t}\n\n\tfunction Resizer(editor, cfg) {\n\t\tthis.editor = editor;\n\t\tthis.window = editor.window.$;\n\t\tthis.document = editor.document.$;\n\t\tthis.cfg = cfg || {};\n\t\tthis.init();\n\t}\n\n\tResizer.prototype = {\n\t\tinit: function() {\n\t\t\tlet instance = this;\n\n\t\t\tlet container = (this.container = this.document.createElement(\n\t\t\t\t'div'\n\t\t\t));\n\n\t\t\tcontainer.id = 'ckimgrsz';\n\t\t\tthis.preview = this.document.createElement('span');\n\t\t\tcontainer.appendChild(this.preview);\n\n\t\t\tlet handles = (this.handles = {});\n\n\t\t\tIMAGE_HANDLES[this.cfg.imageScaleResize].forEach(function(\n\t\t\t\thandleName\n\t\t\t) {\n\t\t\t\thandles[handleName] = instance.handles[\n\t\t\t\t\thandleName\n\t\t\t\t] = instance.createHandle(handleName);\n\t\t\t});\n\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles.hasOwnProperty(n)) {\n\t\t\t\t\tcontainer.appendChild(handles[n]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreateHandle: function(name) {\n\t\t\tlet el = this.document.createElement('i');\n\t\t\tel.classList.add(name);\n\t\t\treturn el;\n\t\t},\n\t\tisHandle: function(el) {\n\t\t\tlet handles = this.handles;\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles[n] === el) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tshow: function(el) {\n\t\t\tlet uiNode = this.editor.config.uiNode;\n\n\t\t\tlet scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tthis.el = el;\n\t\t\tif (this.cfg.snapToSize) {\n\t\t\t\tthis.otherImages = toArray(\n\t\t\t\t\tthis.document.getElementsByTagName('img')\n\t\t\t\t);\n\t\t\t\tthis.otherImages.splice(this.otherImages.indexOf(el), 1);\n\t\t\t}\n\t\t\tlet box = (this.box = getBoundingBox(this.window, el));\n\t\t\tpositionElement(this.container, box.left, box.top + scrollTop);\n\n\t\t\tuiNode = uiNode || document.body;\n\n\t\t\tuiNode.appendChild(this.container);\n\n\t\t\tthis.el.classList.add('ckimgrsz');\n\t\t\tthis.showHandles();\n\t\t},\n\t\thide: function() {\n\t\t\t// Remove class from all img.ckimgrsz\n\t\t\tlet elements = this.document.getElementsByClassName('ckimgrsz');\n\t\t\tfor (let i = 0; i < elements.length; ++i) {\n\t\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t\t}\n\t\t\tthis.hideHandles();\n\t\t\tif (this.container.parentNode) {\n\t\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t\t}\n\t\t},\n\t\tinitDrag: function(e) {\n\t\t\tif (e.button !== 0) {\n\t\t\t\t// right-click or middle-click\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet resizer = this;\n\t\t\tlet drag = new DragEvent(this.window, this.document);\n\t\t\tdrag.onStart = function() {\n\t\t\t\tresizer.showPreview();\n\t\t\t\tresizer.isDragging = true;\n\t\t\t\tresizer.editor.getSelection().lock();\n\t\t\t};\n\t\t\tdrag.onDrag = function() {\n\t\t\t\tresizer.calculateSize(this);\n\t\t\t\tresizer.updatePreview();\n\t\t\t\tlet box = resizer.previewBox;\n\t\t\t\tresizer.updateHandles(box, box.left, box.top);\n\t\t\t};\n\t\t\tdrag.onRelease = function() {\n\t\t\t\tresizer.isDragging = false;\n\t\t\t\tresizer.hidePreview();\n\t\t\t\tresizer.hide();\n\t\t\t\tresizer.editor.getSelection().unlock();\n\t\t\t\t// Save an undo snapshot before the image is permanently changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.onComplete = function() {\n\t\t\t\tresizer.resizeComplete();\n\t\t\t\t// Save another snapshot after the image is changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.start(e);\n\t\t},\n\t\tupdateHandles: function(box, left, top) {\n\t\t\tleft = left || 0;\n\t\t\ttop = top || 0;\n\t\t\tlet handles = this.handles;\n\n\t\t\tfor (let handle in handles) {\n\t\t\t\tif (handles.hasOwnProperty(handle)) {\n\t\t\t\t\tPOSITION_ELEMENT_FN[handle](\n\t\t\t\t\t\thandles[handle],\n\t\t\t\t\t\tleft,\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\tbox\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowHandles: function() {\n\t\t\tlet handles = this.handles;\n\t\t\tthis.updateHandles(this.box);\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles.hasOwnProperty(n)) {\n\t\t\t\t\thandles[n].style.display = 'block';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thideHandles: function() {\n\t\t\tlet handles = this.handles;\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles.hasOwnProperty(n)) {\n\t\t\t\t\thandles[n].style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowPreview: function() {\n\t\t\tthis.preview.style.backgroundImage = 'url(\"' + this.el.src + '\")';\n\t\t\tthis.calculateSize();\n\t\t\tthis.updatePreview();\n\t\t\tthis.preview.style.display = 'block';\n\t\t},\n\t\tupdatePreview: function() {\n\t\t\tlet box = this.previewBox;\n\t\t\tpositionElement(this.preview, box.left, box.top);\n\t\t\tthis.preview.style.width = this.previewBox.width + 'px';\n\t\t\tthis.preview.style.height = this.previewBox.height + 'px';\n\t\t},\n\t\thidePreview: function() {\n\t\t\tlet box = getBoundingBox(this.window, this.preview);\n\t\t\tthis.result = {\n\t\t\t\twidth: box.width,\n\t\t\t\theight: box.height,\n\t\t\t};\n\t\t\tthis.preview.style.display = 'none';\n\t\t},\n\t\tcalculateSize: function(data) {\n\t\t\tlet box = (this.previewBox = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\twidth: this.box.width,\n\t\t\t\theight: this.box.height,\n\t\t\t});\n\n\t\t\tif (!data) return;\n\n\t\t\tlet attr = data.target.className;\n\n\t\t\tif (~attr.indexOf('r')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('b')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height + data.delta.y);\n\t\t\t}\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height - data.delta.y);\n\t\t\t}\n\t\t\t// if dragging corner, enforce aspect ratio (unless shift key is being held)\n\t\t\tif (attr.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\t\tlet ratio = this.box.width / this.box.height;\n\t\t\t\tif (box.width / box.height > ratio) {\n\t\t\t\t\tbox.height = Math.round(box.width / ratio);\n\t\t\t\t} else {\n\t\t\t\t\tbox.width = Math.round(box.height * ratio);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet snapToSize = this.cfg.snapToSize;\n\n\t\t\tif (snapToSize) {\n\t\t\t\tlet others = this.otherImages;\n\t\t\t\tfor (let i = 0; i < others.length; i++) {\n\t\t\t\t\tlet other = getBoundingBox(this.window, others[i]);\n\t\t\t\t\tif (\n\t\t\t\t\t\tMath.abs(box.width - other.width) <= snapToSize &&\n\t\t\t\t\t\tMath.abs(box.height - other.height) <= snapToSize\n\t\t\t\t\t) {\n\t\t\t\t\t\tbox.width = other.width;\n\t\t\t\t\t\tbox.height = other.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// recalculate left or top position\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.left = this.box.width - box.width;\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.top = this.box.height - box.height;\n\t\t\t}\n\t\t},\n\t\tresizeComplete: function() {\n\t\t\tresizeElement.call(\n\t\t\t\tthis,\n\t\t\t\tthis.el,\n\t\t\t\tthis.result.width,\n\t\t\t\tthis.result.height\n\t\t\t);\n\t\t},\n\t};\n\n\tfunction DragEvent(window, document) {\n\t\tthis.window = window;\n\t\tthis.document = document;\n\t\tthis.events = {\n\t\t\tmousemove: bind(this.mousemove, this),\n\t\t\tkeydown: bind(this.keydown, this),\n\t\t\tmouseup: bind(this.mouseup, this),\n\t\t};\n\t}\n\n\tDragEvent.prototype = {\n\t\tstart: function(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.target = e.target;\n\t\t\tthis.attr = e.target.className;\n\t\t\tthis.startPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.update(e);\n\t\t\tlet events = this.events;\n\t\t\tthis.document.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.addEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.addEventListener('mouseup', events.mouseup, false);\n\t\t\tthis.document.body.classList.add('dragging-' + this.attr);\n\t\t\tthis.onStart && this.onStart();\n\t\t},\n\t\tupdate: function(e) {\n\t\t\tthis.currentPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.delta = {\n\t\t\t\tx: e.clientX - this.startPos.x,\n\t\t\t\ty: e.clientY - this.startPos.y,\n\t\t\t};\n\t\t\tthis.keys = {\n\t\t\t\tshift: e.shiftKey,\n\t\t\t\tctrl: e.ctrlKey,\n\t\t\t\talt: e.altKey,\n\t\t\t};\n\t\t},\n\t\tmousemove: function(e) {\n\t\t\tthis.update(e);\n\t\t\tthis.onDrag && this.onDrag();\n\t\t\tif (e.which === 0) {\n\t\t\t\t// mouse button released outside window; mouseup wasn't fired (Chrome)\n\t\t\t\tthis.mouseup(e);\n\t\t\t}\n\t\t},\n\t\tkeydown: function(e) {\n\t\t\t// escape key cancels dragging\n\t\t\tif (e.keyCode === 27) {\n\t\t\t\tthis.release();\n\t\t\t}\n\t\t},\n\t\tmouseup: function(e) {\n\t\t\tthis.update(e);\n\t\t\tthis.release();\n\t\t\tthis.onComplete && this.onComplete();\n\t\t},\n\t\trelease: function() {\n\t\t\tthis.document.body.classList.remove('dragging-' + this.attr);\n\t\t\tlet events = this.events;\n\t\t\tthis.document.removeEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.removeEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.removeEventListener('mouseup', events.mouseup, false);\n\t\t\tthis.onRelease && this.onRelease();\n\t\t},\n\t};\n\n\t// helper functions\n\tfunction toArray(obj) {\n\t\tlet len = obj.length;\n\n\t\tlet arr = new Array(len);\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarr[i] = obj[i];\n\t\t}\n\t\treturn arr;\n\t}\n\n\tfunction bind(fn, ctx) {\n\t\tif (fn.bind) {\n\t\t\treturn fn.bind(ctx);\n\t\t}\n\t\treturn function(...args) {\n\t\t\tfn.apply(ctx, args);\n\t\t};\n\t}\n\n\tfunction positionElement(el, left, top) {\n\t\tel.style.left = String(left) + 'px';\n\t\tel.style.top = String(top) + 'px';\n\t}\n\n\tfunction resizeElement(el, width, height) {\n\t\tlet imageScaleResize = this.editor.config.imageScaleResize;\n\t\tif (imageScaleResize === 'both') {\n\t\t\tel.style.width = String(width) + 'px';\n\t\t\tel.style.height = String(height) + 'px';\n\t\t} else if (\n\t\t\timageScaleResize === 'width' ||\n\t\t\timageScaleResize === 'scale'\n\t\t) {\n\t\t\tel.style.height = 'auto';\n\t\t\tel.style.width = String(width) + 'px';\n\t\t} else if (imageScaleResize === 'height') {\n\t\t\tel.style.height = String(height) + 'px';\n\t\t\tel.style.width = 'auto';\n\t\t}\n\t}\n\n\tfunction getBoundingBox(window, el) {\n\t\tlet rect = el.getBoundingClientRect();\n\t\treturn {\n\t\t\tleft: rect.left + window.pageXOffset,\n\t\t\ttop: rect.top + window.pageYOffset,\n\t\t\twidth: rect.width,\n\t\t\theight: rect.height,\n\t\t};\n\t}\n}\n","/**\n * CKEditor plugin: Image2\n * - Show gripper to resize images on IE\n */\nif (!CKEDITOR.plugins.get('ae_dragresize_ie')) {\n\tlet alignmentsObj = {\n\t\tcenter: 1,\n\t\tleft: 0,\n\t\tright: 2,\n\t};\n\n\t/*\n\t * Set cursor css depend on imageScaleResize config\n\t **/\n\n\tlet cursor = {\n\t\tboth: 'nwse-resize',\n\t\theight: 'ns-resize',\n\t\tscale: 'nwse-resize',\n\t\twidth: 'ew-resize',\n\t};\n\n\tlet regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tlet template = '<img alt=\"\" src=\"\" />';\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie', {\n\t\thidpi: true,\n\n\t\ticons: 'image',\n\n\t\tinit: function(editor) {\n\t\t\tlet image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\t\t},\n\n\t\tonLoad: function() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ns-resize{' +\n\t\t\t\t\t'cursor: ns-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ew-resize{' +\n\t\t\t\t\t'cursor: ew-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizing{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\trequires: 'widget',\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>   <img style=float:left />   \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p style=text-align:center>\n\t// \t\t       <p style=text-align:center>   <img />                    \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>  <img style=float:right />  \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Non-captioned widget (config.image2_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>         <img class=left />         \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p class=center>           \n\t// \t\t       <p class=center>             <img />                     \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper class=right>        <img class=right />        \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>            <figure style=float:left />           \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper style=text-align:center>     <div style=text-align:center>         \n\t// \t\t       <figure style=display:inline-block /> <figure style=display:inline-block />\n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>           <figure style=float:right />          \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// Captioned widget (config.image2_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>                  <figure class=left />                 \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper class=center>                <div class=center>                    \n\t// \t\t       <figure />                              <figure />                             \n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper class=right>                 <figure class=right />                \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\teditor.on('imageAdd', function(imageData) {\n\t\t\teditor.widgets.initOn(imageData.data.el, 'image');\n\t\t});\n\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\tlet captionedClass = editor.config.image2_captionedClass;\n\n\t\treturn {\n\t\t\tinit: function() {\n\t\t\t\tlet helpers = CKEDITOR.plugins.image2;\n\n\t\t\t\tlet image = this.parts.image;\n\n\t\t\t\tlet data = {\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tlet link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) {\n\t\t\t\t\tthis.parts.link = link;\n\t\t\t\t}\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tlet alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\tif (editor.config.image2_disableResizer !== true) {\n\t\t\t\t\tsetupResizer(this);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass: function(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\tdata: function() {\n\t\t\t\tlet features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.hasCaption = false;\n\t\t\t\t}\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.align = 'none';\n\t\t\t\t}\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) {\n\t\t\t\t\t\tdelete this.parts.link;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link) {\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\talt: this.data.alt,\n\n\t\t\t\t\tcontenteditable: this.parts.image.getAttribute(\n\t\t\t\t\t\t'contenteditable'\n\t\t\t\t\t)\n\t\t\t\t\t\t? this.parts.image.getAttribute('contenteditable')\n\t\t\t\t\t\t: true,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\tsrc: this.data.src,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (let c in this.data.classes) {\n\t\t\t\t\t\tif (this.data.classes.hasOwnProperty(c)) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension)) {\n\t\t\t\t\tsetDimensions(this);\n\t\t\t\t}\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tdraggable: false,\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tlet classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tlet classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.image2_captionedClass nor config.image2_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (let c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) {\n\t\t\t\t\t\t\tdelete classes[c];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tgetLabel: function() {\n\t\t\t\tlet label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn label;\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass: function(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\timage: 'img',\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass: function(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate: template,\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (image2) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.image2 = {\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio: function(image) {\n\t\t\tlet $ = image.$;\n\n\t\t\tlet natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural: function(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: image.$.naturalHeigh,\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlet img = new Image();\n\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: img.heigh,\n\t\t\t\t\twidth: img.width,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\t};\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.image2_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tlet isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tlet captionedClass = editor.config.image2_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tlet dimensions = {\n\t\t\t\theight: 1,\n\t\t\t\twidth: 1,\n\t\t\t};\n\n\t\t\tlet name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tlet figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (let d in dimensions) {\n\t\t\t\tif (dimensions.hasOwnProperty(d)) {\n\t\t\t\t\tlet dimension = image.attributes[d];\n\n\t\t\t\t\tif (dimension && dimension.match(regexPercent)) {\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (image2_alignClasses).\n\t\t\tlet attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tdelete attrsHolder.attributes.contenteditable;\n\n\t\t\tlet attrs = attrsHolder.attributes;\n\n\t\t\tlet align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tlet resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper) {\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({\n\t\t\t\t\t\t\ta: 1,\n\t\t\t\t\t\t\timg: 1,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tlet styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tclass: alignClasses[1],\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\tstyle: 'text-align:center',\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (\n\t\t\t\t\talign in\n\t\t\t\t\t{\n\t\t\t\t\t\tleft: 1,\n\t\t\t\t\t\tright: 1,\n\t\t\t\t\t}\n\t\t\t\t) {\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyles['float'] = align;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) {\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tlet captionedClass = editor.config.image2_captionedClass;\n\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\tlet validChildren = {\n\t\t\ta: 1,\n\t\t\tfigure: 1,\n\t\t\timg: 1,\n\t\t};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tel.name in\n\t\t\t\t\t{\n\t\t\t\t\t\tdiv: 1,\n\t\t\t\t\t\tp: 1,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If image2_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') {\n\t\t\treturn true;\n\t\t} else if (el.name == 'a') {\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tlet data = widget.data;\n\n\t\tlet dimensions = {\n\t\t\theight: data.height,\n\t\t\twidth: data.width,\n\t\t};\n\n\t\tlet image = widget.parts.image;\n\n\t\tfor (let d in dimensions) {\n\t\t\tif (dimensions[d]) {\n\t\t\t\timage.setAttribute(d, dimensions[d]);\n\t\t\t} else {\n\t\t\t\timage.removeAttribute(d);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tlet editor = widget.editor;\n\n\t\tlet editable = editor.editable();\n\n\t\tlet doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\t\tlet resizer = (widget.resizer = doc.createElement('span'));\n\n\t\tresizer.addClass('cke_image_resizer');\n\t\tresizer.addClass(\n\t\t\t'cke_image_resizer_' + cursor[editor.config.imageScaleResize]\n\t\t);\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tlet imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tlet oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tlet resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) {\n\t\t\t\toldResizeWrapper.remove();\n\t\t\t}\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', function(evt) {\n\t\t\tlet image = widget.parts.image;\n\n\t\t\t// \"factor\" can be either 1 or -1. I.e.: For right-aligned images, we need to\n\t\t\t// subtract the difference to get proper width, etc. Without \"factor\",\n\t\t\t// resizer starts working the opposite way.\n\t\t\tlet factor = widget.data.align == 'right' ? -1 : 1;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\t\t\tlet startX = evt.data.$.screenX;\n\n\t\t\tlet startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\t\t\tlet startWidth = image.$.clientWidth;\n\n\t\t\tlet startHeight = image.$.clientHeight;\n\n\t\t\tlet listeners = [];\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tlet cursorClass = 'cke_image_s' + (!~factor ? 'w' : 'e');\n\n\t\t\tlet nativeEvt;\n\t\t\tlet newWidth;\n\t\t\tlet newHeight;\n\t\t\tlet updateData;\n\n\t\t\tlet moveDiffX;\n\t\t\tlet moveDiffY;\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tlet globalDoc = CKEDITOR.document;\n\n\t\t\t\tlet listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc)) {\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\t\t\t\t}\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; ) {\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tlet imageScaleResize = editor.config.imageScaleResize;\n\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'width' ||\n\t\t\t\t\timageScaleResize === 'both' ||\n\t\t\t\t\timageScaleResize === 'scale'\n\t\t\t\t) {\n\t\t\t\t\tnewWidth = startWidth + factor * moveDiffX;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'height' ||\n\t\t\t\t\timageScaleResize === 'both'\n\t\t\t\t) {\n\t\t\t\t\tnewHeight = startHeight - moveDiffY;\n\t\t\t\t}\n\n\t\t\t\tif (imageScaleResize === 'scale') {\n\t\t\t\t\tnewHeight = 'auto';\n\t\t\t\t}\n\n\t\t\t\tnewWidth = newWidth || startWidth;\n\t\t\t\tnewHeight = newHeight || startHeight;\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (\n\t\t\t\t\tnewWidth >= 15 &&\n\t\t\t\t\t(newHeight >= 15 || newHeight === 'auto')\n\t\t\t\t) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) {\n\t\t\t\t\tl.removeListener();\n\t\t\t\t}\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\n\t\t// Change the position of the widget resizer when data changes.\n\t\twidget.on('data', function() {\n\t\t\tresizer[widget.data.align == 'right' ? 'addClass' : 'removeClass'](\n\t\t\t\t'cke_image_resizer_left'\n\t\t\t);\n\t\t});\n\n\t\twidget.parts.image.on('click', function() {\n\t\t\tlet selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tlet element = selection.getStartElement();\n\n\t\t\t\tif (element) {\n\t\t\t\t\tlet widgetElement = element.findOne('img');\n\n\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\tlet scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event,\n\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#image2_alignClasses or\n\t// config#image2_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tlet rules = {\n\t\t\tfigcaption: true,\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.image2_captionedClass,\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t};\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\tlet features = {\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n}\n\nCKEDITOR.config.image2_captionedClass = 'image';\n","/**\n * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n(function() {\n\tif (CKEDITOR.plugins.get('ae_dragresize_ie11')) {\n\t\treturn;\n\t}\n\n\tlet template = '<img alt=\"\" src=\"\" />';\n\n\tlet templateBlock = new CKEDITOR.template(\n\t\t'<figure class=\"{captionedClass}\">' +\n\t\t\ttemplate +\n\t\t\t'<figcaption>{captionPlaceholder}</figcaption>' +\n\t\t\t'</figure>'\n\t);\n\n\tlet alignmentsObj = {left: 0, center: 1, right: 2};\n\n\tlet regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie11', {\n\t\trequires: 'widget',\n\t\tonLoad: function() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_editable.cke_image_ne, .cke_editable.cke_image_ne *{cursor:ne-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_nw, .cke_editable.cke_image_nw *{cursor:nw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_sw, .cke_editable.cke_image_sw *{cursor:sw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_se, .cke_editable.cke_image_se *{cursor:se-resize !important}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_ne{' +\n\t\t\t\t\t'cursor:ne-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_nw{' +\n\t\t\t\t\t'cursor:nw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_se{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_sw{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:sw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizing{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Expand widget wrapper when linked inline image.\n\t\t\t\t\t'.cke_widget_wrapper>a{' +\n\t\t\t\t\t'display:inline-block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\tinit: function(editor) {\n\t\t\t// Adapts configuration from original image plugin. Should be removed\n\t\t\t// when we'll rename ae_dragresize_ie11 to image.\n\n\t\t\tlet image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', function(_event) {\n\t\t\t\tlet selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tlet element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tlet widgetElement = element.findOne('img');\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\t\tlet scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tafterInit: function(editor) {\n\t\t\t// Integrate with align commands (justify plugin).\n\t\t\tlet align = {left: 1, right: 1, center: 1, block: 1};\n\n\t\t\tlet integrate = alignCommandIntegrator(editor);\n\n\t\t\tfor (let value in align) {\n\t\t\t\tif (align.hasOwnProperty(value)) {\n\t\t\t\t\tintegrate(value);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>   <img style=float:left />   \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p style=text-align:center>\n\t// \t\t       <p style=text-align:center>   <img />                    \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>  <img style=float:right />  \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Non-captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>         <img class=left />         \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p class=center>           \n\t// \t\t       <p class=center>             <img />                     \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper class=right>        <img class=right />        \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>            <figure style=float:left />           \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper style=text-align:center>     <div style=text-align:center>         \n\t// \t\t       <figure style=display:inline-block /> <figure style=display:inline-block />\n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>           <figure style=float:right />          \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// Captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>                  <figure class=left />                 \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper class=center>                <div class=center>                    \n\t// \t\t       <figure />                              <figure />                             \n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper class=right>                 <figure class=right />                \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tfunction deflate() {\n\t\t\tif (this.deflated) return;\n\n\t\t\t// Remember whether widget was focused before destroyed.\n\t\t\tif (editor.widgets.focused == this.widget) this.focused = true;\n\n\t\t\teditor.widgets.destroy(this.widget);\n\n\t\t\t// Mark widget was destroyed.\n\t\t\tthis.deflated = true;\n\t\t}\n\n\t\tfunction inflate() {\n\t\t\tlet editable = editor.editable();\n\n\t\t\tlet doc = editor.document;\n\n\t\t\t// Create a new widget. This widget will be either captioned\n\t\t\t// non-captioned, block or inline according to what is the\n\t\t\t// new state of the widget.\n\t\t\tif (this.deflated) {\n\t\t\t\tthis.widget = editor.widgets.initOn(\n\t\t\t\t\tthis.element,\n\t\t\t\t\t'image',\n\t\t\t\t\tthis.widget.data\n\t\t\t\t);\n\n\t\t\t\t// Once widget was re-created, it may become an inline element without\n\t\t\t\t// block wrapper (i.e. when unaligned, end not captioned). Let's do some\n\t\t\t\t// sort of autoparagraphing here (#10853).\n\t\t\t\tif (\n\t\t\t\t\tthis.widget.inline &&\n\t\t\t\t\t!new CKEDITOR.dom.elementPath(this.widget.wrapper, editable)\n\t\t\t\t\t\t.block\n\t\t\t\t) {\n\t\t\t\t\tlet block = doc.createElement(\n\t\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div'\n\t\t\t\t\t);\n\t\t\t\t\tblock.replace(this.widget.wrapper);\n\t\t\t\t\tthis.widget.wrapper.move(block);\n\t\t\t\t}\n\n\t\t\t\t// The focus must be transferred from the old one (destroyed)\n\t\t\t\t// to the new one (just created).\n\t\t\t\tif (this.focused) {\n\t\t\t\t\tthis.widget.focus();\n\t\t\t\t\tdelete this.focused;\n\t\t\t\t}\n\n\t\t\t\tdelete this.deflated;\n\t\t\t}\n\n\t\t\t// If now widget was destroyed just update wrapper's alignment.\n\t\t\t// According to the new state.\n\t\t\telse {\n\t\t\t\tsetWrapperAlign(this.widget, alignClasses);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\timage: 'img',\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\t// parts#link defined in widget#init\n\t\t\t},\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate: template,\n\n\t\t\tdata: function() {\n\t\t\t\tlet features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t)\n\t\t\t\t\tthis.data.hasCaption = false;\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t)\n\t\t\t\t\tthis.data.align = 'none';\n\n\t\t\t\t// Convert the internal form of the widget from the old state to the new one.\n\t\t\t\tthis.shiftState({\n\t\t\t\t\twidget: this,\n\t\t\t\t\telement: this.element,\n\t\t\t\t\toldData: this.oldData,\n\t\t\t\t\tnewData: this.data,\n\t\t\t\t\tdeflate: deflate,\n\t\t\t\t\tinflate: inflate,\n\t\t\t\t});\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) delete this.parts.link;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link)\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\tsrc: this.data.src,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\talt: this.data.alt,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (let c in this.data.classes) {\n\t\t\t\t\t\tif (this.data.classes.hasOwnProperty(c)) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension))\n\t\t\t\t\tsetDimensions(this);\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tinit: function() {\n\t\t\t\tlet helpers = CKEDITOR.plugins.ae_dragresize_ie11;\n\n\t\t\t\tlet image = this.parts.image;\n\n\t\t\t\tlet data = {\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tlet link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) this.parts.link = link;\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tlet alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update data.link object with attributes if the link has been discovered.\n\t\t\t\tif (editor.plugins.link && this.parts.link) {\n\t\t\t\t\tdata.link = helpers.getLinkAttributesParser()(\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\tthis.parts.link\n\t\t\t\t\t);\n\n\t\t\t\t\t// Get rid of cke_widget_* classes in data. Otherwise\n\t\t\t\t\t// they might appear in link dialog.\n\t\t\t\t\tlet advanced = data.link.advanced;\n\t\t\t\t\tif (advanced && advanced.advCSSClasses) {\n\t\t\t\t\t\tadvanced.advCSSClasses = CKEDITOR.tools.trim(\n\t\t\t\t\t\t\tadvanced.advCSSClasses.replace(/cke_\\S+/, '')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\t// Setup dynamic image resizing with mouse.\n\t\t\t\t// Don't initialize resizer when dimensions are disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\teditor.filter.checkFeature(this.features.dimension) &&\n\t\t\t\t\teditor.config.ae_dragresize_ie11_disableResizer !== true\n\t\t\t\t)\n\t\t\t\t\tsetupResizer(this);\n\n\t\t\t\tthis.shiftState = helpers.stateShifter(this.editor);\n\n\t\t\t\t// Add widget editing option to its context menu.\n\t\t\t\tthis.on('contextMenu', function(evt) {\n\t\t\t\t\tevt.data.image = CKEDITOR.TRISTATE_OFF;\n\n\t\t\t\t\t// Integrate context menu items for link.\n\t\t\t\t\t// Note that widget may be wrapped in a link, which\n\t\t\t\t\t// does not belong to that widget (#11814).\n\t\t\t\t\tif (this.parts.link || this.wrapper.getAscendant('a'))\n\t\t\t\t\t\tevt.data.link = evt.data.unlink = CKEDITOR.TRISTATE_OFF;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass: function(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass: function(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass: function(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tlet classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tlet classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.ae_dragresize_ie11_captionedClass nor config.ae_dragresize_ie11_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (let c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) delete classes[c];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tgetLabel: function() {\n\t\t\t\tlet label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn this.editor.lang.widget.label.replace(/%1/, label);\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (ae_dragresize_ie11) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.ae_dragresize_ie11 = {\n\t\tstateShifter: function(editor) {\n\t\t\t// Tag name used for centering non-captioned widgets.\n\t\t\tlet doc = editor.document;\n\n\t\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t\tlet captionedClass =\n\t\t\t\teditor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\t// The order that stateActions get executed. It matters!\n\n\t\t\tlet shiftables = ['hasCaption', 'align', 'link'];\n\n\t\t\t// Atomic procedures, one per state variable.\n\t\t\tlet stateActions = {\n\t\t\t\talign: function(shift, oldValue, newValue) {\n\t\t\t\t\tlet el = shift.element;\n\n\t\t\t\t\t// Alignment changed.\n\t\t\t\t\tif (\n\t\t\t\t\t\tshift.changed.align ||\n\t\t\t\t\t\t(el.$.style.marginLeft === 'auto' &&\n\t\t\t\t\t\t\tel.$.style.marginRight === 'auto')\n\t\t\t\t\t) {\n\t\t\t\t\t\t// No caption in the new state.\n\t\t\t\t\t\tif (!shift.newData.hasCaption) {\n\t\t\t\t\t\t\t// Changed to \"center\" (non-captioned).\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tnewValue == 'center' ||\n\t\t\t\t\t\t\t\t(el.$.style.marginLeft === 'auto' &&\n\t\t\t\t\t\t\t\t\tel.$.style.marginRight === 'auto')\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Changed to \"non-center\" from \"center\" while caption removed.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!shift.changed.hasCaption &&\n\t\t\t\t\t\t\t\toldValue == 'center' &&\n\t\t\t\t\t\t\t\tnewValue != 'center'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = unwrapFromCentering(el);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Alignment remains and \"center\" removed caption.\n\t\t\t\t\telse if (\n\t\t\t\t\t\tnewValue == 'center' &&\n\t\t\t\t\t\tshift.changed.hasCaption &&\n\t\t\t\t\t\t!shift.newData.hasCaption\n\t\t\t\t\t) {\n\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Finally set display for figure.\n\t\t\t\t\tif (!alignClasses && el.is('figure')) {\n\t\t\t\t\t\tif (newValue == 'center')\n\t\t\t\t\t\t\tel.setStyle('display', 'inline-block');\n\t\t\t\t\t\telse el.removeStyle('display');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\thasCaption: function(shift, oldValue, newValue) {\n\t\t\t\t\t// This action is for real state change only.\n\t\t\t\t\tif (!shift.changed.hasCaption) return;\n\n\t\t\t\t\t// Get <img/> or <a><img/></a> from widget. Note that widget element might itself\n\t\t\t\t\t// be what we're looking for. Also element can be <p style=\"text-align:center\"><a>...</a></p>.\n\t\t\t\t\tlet imageOrLink;\n\t\t\t\t\tif (shift.element.is({img: 1, a: 1}))\n\t\t\t\t\t\timageOrLink = shift.element;\n\t\t\t\t\telse imageOrLink = shift.element.findOne('a,img');\n\n\t\t\t\t\t// Switching hasCaption always destroys the widget.\n\t\t\t\t\tshift.deflate();\n\n\t\t\t\t\t// There was no caption, but the caption is to be added.\n\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\t// Create new <figure> from widget template.\n\t\t\t\t\t\tlet figure = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\ttemplateBlock.output({\n\t\t\t\t\t\t\t\tcaptionedClass: captionedClass,\n\t\t\t\t\t\t\t\tcaptionPlaceholder:\n\t\t\t\t\t\t\t\t\teditor.lang.ae_dragresize_ie11\n\t\t\t\t\t\t\t\t\t\t.captionPlaceholder,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tdoc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Replace element with <figure>.\n\t\t\t\t\t\treplaceSafely(figure, shift.element);\n\n\t\t\t\t\t\t// Use old <img/> or <a><img/></a> instead of the one from the template,\n\t\t\t\t\t\t// so we won't lose additional attributes.\n\t\t\t\t\t\timageOrLink.replace(figure.findOne('img'));\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = figure;\n\t\t\t\t\t}\n\n\t\t\t\t\t// The caption was present, but now it's to be removed.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Unwrap <img/> or <a><img/></a> from figure.\n\t\t\t\t\t\timageOrLink.replace(shift.element);\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = imageOrLink;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tlink: function(shift, oldValue, newValue) {\n\t\t\t\t\tif (shift.changed.link) {\n\t\t\t\t\t\tlet img = shift.element.is('img')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('img');\n\n\t\t\t\t\t\tlet link = shift.element.is('a')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('a');\n\n\t\t\t\t\t\t// Why deflate:\n\t\t\t\t\t\t// If element is <img/>, it will be wrapped into <a>,\n\t\t\t\t\t\t// which becomes a new widget.element.\n\t\t\t\t\t\t// If element is <a><img/></a>, it will be unlinked\n\t\t\t\t\t\t// so <img/> becomes a new widget.element.\n\n\t\t\t\t\t\tlet needsDeflate =\n\t\t\t\t\t\t\t(shift.element.is('a') && !newValue) ||\n\t\t\t\t\t\t\t(shift.element.is('img') && newValue);\n\n\t\t\t\t\t\tlet newEl;\n\n\t\t\t\t\t\tif (needsDeflate) shift.deflate();\n\n\t\t\t\t\t\t// If unlinked the image, returned element is <img>.\n\t\t\t\t\t\tif (!newValue) newEl = unwrapFromLink(link);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// If linked the image, returned element is <a>.\n\t\t\t\t\t\t\tif (!oldValue)\n\t\t\t\t\t\t\t\tnewEl = wrapInLink(img, shift.newData.link);\n\n\t\t\t\t\t\t\t// Set and remove all attributes associated with this state.\n\t\t\t\t\t\t\tlet attributes = CKEDITOR.plugins.ae_dragresize_ie11.getLinkAttributesGetter()(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnewValue\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (!CKEDITOR.tools.isEmpty(attributes.set))\n\t\t\t\t\t\t\t\t(newEl || link).setAttributes(attributes.set);\n\n\t\t\t\t\t\t\tif (attributes.removed.length)\n\t\t\t\t\t\t\t\t(newEl || link).removeAttributes(\n\t\t\t\t\t\t\t\t\tattributes.removed\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (needsDeflate) shift.element = newEl;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tfunction wrapInCentering(editor, element) {\n\t\t\t\tlet attribsAndStyles = {};\n\n\t\t\t\tif (alignClasses)\n\t\t\t\t\tattribsAndStyles.attributes = {class: alignClasses[1]};\n\t\t\t\telse attribsAndStyles.styles = {'text-align': 'center'};\n\n\t\t\t\t// There's no gentle way to center inline element with CSS, so create p/div\n\t\t\t\t// that wraps widget contents and does the trick either with style or class.\n\t\t\t\tlet center = doc.createElement(\n\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div',\n\t\t\t\t\tattribsAndStyles\n\t\t\t\t);\n\n\t\t\t\t// Replace element with centering wrapper.\n\t\t\t\treplaceSafely(center, element);\n\t\t\t\telement.move(center);\n\n\t\t\t\treturn center;\n\t\t\t}\n\n\t\t\tfunction unwrapFromCentering(element) {\n\t\t\t\tlet imageOrLink = element.findOne('a,img');\n\n\t\t\t\timageOrLink.replace(element);\n\n\t\t\t\treturn imageOrLink;\n\t\t\t}\n\n\t\t\t// Wraps <img/> -> <a><img/></a>.\n\t\t\t// Returns reference to <a>.\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} img\n\t\t\t// @param {Object} linkData\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction wrapInLink(img, linkData) {\n\t\t\t\tlet link = doc.createElement('a', {\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\thref: linkData.url,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tlink.replace(img);\n\t\t\t\timg.move(link);\n\n\t\t\t\treturn link;\n\t\t\t}\n\n\t\t\t// De-wraps <a><img/></a> -> <img/>.\n\t\t\t// Returns the reference to <img/>\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} link\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction unwrapFromLink(link) {\n\t\t\t\tlet img = link.findOne('img');\n\n\t\t\t\timg.replace(link);\n\n\t\t\t\treturn img;\n\t\t\t}\n\n\t\t\tfunction replaceSafely(replacing, replaced) {\n\t\t\t\tif (replaced.getParent()) {\n\t\t\t\t\tlet range = editor.createRange();\n\n\t\t\t\t\trange.moveToPosition(\n\t\t\t\t\t\treplaced,\n\t\t\t\t\t\tCKEDITOR.POSITION_BEFORE_START\n\t\t\t\t\t);\n\n\t\t\t\t\t// Remove old element. Do it before insertion to avoid a case when\n\t\t\t\t\t// element is moved from 'replaced' element before it, what creates\n\t\t\t\t\t// a tricky case which insertElementIntorRange does not handle.\n\t\t\t\t\treplaced.remove();\n\n\t\t\t\t\teditable.insertElementIntoRange(replacing, range);\n\t\t\t\t} else {\n\t\t\t\t\treplacing.replace(replaced);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn function(shift) {\n\t\t\t\tlet name;\n\t\t\t\tlet i;\n\n\t\t\t\tshift.changed = {};\n\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tshift.changed[name] = shift.oldData\n\t\t\t\t\t\t? shift.oldData[name] !== shift.newData[name]\n\t\t\t\t\t\t: false;\n\t\t\t\t}\n\n\t\t\t\t// Iterate over possible state variables.\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tstateActions[name](\n\t\t\t\t\t\tshift,\n\t\t\t\t\t\tshift.oldData ? shift.oldData[name] : null,\n\t\t\t\t\t\tshift.newData[name]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tshift.inflate();\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio: function(image) {\n\t\t\tlet $ = image.$;\n\n\t\t\tlet natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural: function(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t\theight: image.$.naturalHeight,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: img.width,\n\t\t\t\t\theight: img.height,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute getter function. Default getter comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom getter e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom getter is used, a data model format it produces\n\t\t * must be compatible with {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** A custom getter must understand the data model format produced by\n\t\t * {@link #getLinkAttributesParser} to work correctly.\n\t\t *\n\t\t * @return {Function} A function that gets (composes) link attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesGetter: function() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.getLinkAttributes;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute parser function. Default parser comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#parseLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom parser e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom parser is used, a data model format produced by the parser\n\t\t * must be compatible with {@link #getLinkAttributesGetter}.\n\t\t *\n\t\t * **Note:** If a custom parser is used, it should be compatible with the\n\t\t * {@link CKEDITOR.plugins.link#parseLinkAttributes} data model format. Otherwise the\n\t\t * Link plugin dialog may not be populated correctly with parsed data. However\n\t\t * as long as Enhanced Image is **not** used with the Link plugin dialog, any custom data model\n\t\t * will work, being stored as an internal property of Enhanced Image widget's data only.\n\t\t *\n\t\t * @return {Function} A function that parses attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesParser: function() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.parseLinkAttributes;\n\t\t},\n\t};\n\n\tfunction setWrapperAlign(widget, alignClasses) {\n\t\tlet wrapper = widget.wrapper;\n\n\t\tlet align = widget.data.align;\n\n\t\tlet hasCaption = widget.data.hasCaption;\n\n\t\tif (alignClasses) {\n\t\t\t// Remove all align classes first.\n\t\t\tfor (let i = 3; i--; ) wrapper.removeClass(alignClasses[i]);\n\n\t\t\tif (align == 'center') {\n\t\t\t\t// Avoid touching non-captioned, centered widgets because\n\t\t\t\t// they have the class set on the element instead of wrapper:\n\t\t\t\t//\n\t\t\t\t// \t<div class=\"cke_widget_wrapper\">\n\t\t\t\t// \t\t<p class=\"center-class\">\n\t\t\t\t// \t\t\t<img />\n\t\t\t\t// \t\t</p>\n\t\t\t\t// \t</div>\n\t\t\t\tif (hasCaption) {\n\t\t\t\t\twrapper.addClass(alignClasses[1]);\n\t\t\t\t}\n\t\t\t} else if (align != 'none') {\n\t\t\t\twrapper.addClass(alignClasses[alignmentsObj[align]]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (align == 'center') {\n\t\t\t\tif (hasCaption) wrapper.setStyle('text-align', 'center');\n\t\t\t\telse wrapper.removeStyle('text-align');\n\n\t\t\t\twrapper.removeStyle('float');\n\t\t\t} else {\n\t\t\t\tif (align == 'none') wrapper.removeStyle('float');\n\t\t\t\telse wrapper.setStyle('float', align);\n\n\t\t\t\twrapper.removeStyle('text-align');\n\t\t\t}\n\n\t\t\tlet image = wrapper.$.querySelector('img');\n\n\t\t\timage.removeAttribute('style');\n\t\t}\n\t}\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.ae_dragresize_ie11_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tlet isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tlet captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tlet dimensions = {width: 1, height: 1};\n\n\t\t\tlet name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) return;\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tlet figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) return;\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (let d in dimensions) {\n\t\t\t\tif (dimensions.hasOwnProperty(d)) {\n\t\t\t\t\tlet dimension = image.attributes[d];\n\t\t\t\t\tif (dimension && dimension.match(regexPercent))\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (ae_dragresize_ie11_alignClasses).\n\t\t\tlet attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tlet attrs = attrsHolder.attributes;\n\n\t\t\tlet align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tlet resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper)\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({img: 1, a: 1})\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tlet styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {class: alignClasses[1]}\n\t\t\t\t\t\t\t\t: {style: 'text-align:center'}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (align in {left: 1, right: 1}) {\n\t\t\t\t\tif (alignClasses)\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\telse styles['float'] = align;\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles))\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles) + ';';\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tlet captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet validChildren = {figure: 1, a: 1, img: 1};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (!(el.name in {div: 1, p: 1})) return false;\n\n\t\t\tlet children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) return false;\n\n\t\t\tlet child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) return false;\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) return false;\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) return false;\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If ae_dragresize_ie11_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') return true;\n\t\telse if (el.name == 'a')\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tlet data = widget.data;\n\n\t\tlet dimensions = {width: data.width, height: data.height};\n\n\t\tlet image = widget.parts.image;\n\n\t\tfor (let d in dimensions) {\n\t\t\tif (dimensions[d]) image.setAttribute(d, dimensions[d]);\n\t\t\telse image.removeAttribute(d);\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tlet editor = widget.editor;\n\n\t\tlet editable = editor.editable();\n\n\t\tlet doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\n\t\tlet resizer = (widget.resizer = doc.createElement('span'));\n\n\t\t// Create resizer for each corner (NE, NW, SE, SW)\n\n\t\tlet resizerNE = doc.createElement('span');\n\n\t\tlet resizerNW = doc.createElement('span');\n\n\t\tlet resizerSE = doc.createElement('span');\n\n\t\tlet resizerSW = doc.createElement('span');\n\n\t\tresizerNE.addClass('cke_image_resizer');\n\t\tresizerNE.addClass('cke_image_resizer_ne');\n\n\t\tresizerNW.addClass('cke_image_resizer');\n\t\tresizerNW.addClass('cke_image_resizer_nw');\n\n\t\tresizerSE.addClass('cke_image_resizer');\n\t\tresizerSE.addClass('cke_image_resizer_se');\n\n\t\tresizerSW.addClass('cke_image_resizer');\n\t\tresizerSW.addClass('cke_image_resizer_sw');\n\n\t\t// Add each directional resizer as a child of resizer\n\t\tresizer.append(resizerNE);\n\t\tresizer.append(resizerNW);\n\t\tresizer.append(resizerSE);\n\t\tresizer.append(resizerSW);\n\n\t\t// resizer.setAttribute( 'title', editor.lang.ae_dragresize_ie11.resizer );\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tlet imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tlet oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tlet resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) oldResizeWrapper.remove();\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', function(evt) {\n\t\t\tlet image = widget.parts.image;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\n\t\t\tlet startX = evt.data.$.screenX;\n\n\t\t\tlet startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\n\t\t\tlet startWidth = image.$.clientWidth;\n\n\t\t\tlet startHeight = image.$.clientHeight;\n\n\t\t\tlet ratio = startWidth / startHeight;\n\n\t\t\tlet listeners = [];\n\n\t\t\tlet target = evt.data.getTarget();\n\n\t\t\tlet factorX;\n\n\t\t\tlet factorY;\n\n\t\t\tlet moveDiffX;\n\n\t\t\tlet moveDiffY;\n\n\t\t\tlet nativeEvt;\n\n\t\t\tlet newHeight;\n\n\t\t\tlet newWidth;\n\n\t\t\tlet updateData;\n\n\t\t\t// \"factorX\" and \"factorY\" can be either 1 or -1. I.e.: We need to\n\t\t\t// add/subtract the difference to get proper width, etc. Without \"factorX\"\n\t\t\t// and \"factorY\", resizer starts working the opposite way.\n\t\t\tif (target.hasClass('cke_image_resizer_ne')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_nw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_se')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = -1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_sw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = -1;\n\t\t\t}\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tlet cursorClass =\n\t\t\t\t'cke_image_' +\n\t\t\t\t(!~factorY ? 's' : 'n') +\n\t\t\t\t(!~factorX ? 'w' : 'e');\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tlet globalDoc = CKEDITOR.document;\n\n\t\t\t\tlet listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc))\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; )\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate width first, and then adjust height, preserving ratio.\n\t\t\tfunction adjustToX() {\n\t\t\t\tnewWidth = startWidth + factorX * moveDiffX;\n\t\t\t\tnewHeight = Math.round(newWidth / ratio);\n\t\t\t}\n\n\t\t\t// Calculate height first, and then adjust width, preserving ratio.\n\t\t\tfunction adjustToY() {\n\t\t\t\tnewHeight = startHeight + factorY * moveDiffY;\n\t\t\t\tnewWidth = Math.round(newHeight * ratio);\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\t// Resize with NE, SE drag handles\n\t\t\t\tif (factorX == 1) {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Resize with NW, SW drag handles\n\t\t\t\telse {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (newWidth >= 15 && newHeight >= 15) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) l.removeListener();\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tlet removeWidgetAlignment = function(widget, imageAlignment) {\n\t\tif (imageAlignment === 'left' || imageAlignment === 'right') {\n\t\t\twidget.wrapper.removeStyle('float');\n\t\t} else if (imageAlignment === 'center') {\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t}\n\t};\n\n\t// Integrates widget alignment setting with justify\n\t// plugin's commands (execution and refreshment).\n\t// @param {CKEDITOR.editor} editor\n\t// @param {String} value 'left', 'right', 'center' or 'block'\n\tfunction alignCommandIntegrator(editor) {\n\t\tlet execCallbacks = [];\n\n\t\tlet enabled;\n\n\t\treturn function(value) {\n\t\t\tlet command = editor.getCommand('justify' + value);\n\n\t\t\t// Most likely, the justify plugin isn't loaded.\n\t\t\tif (!command) return;\n\n\t\t\t// This command will be manually refreshed along with\n\t\t\t// other commands after exec.\n\t\t\texecCallbacks.push(function() {\n\t\t\t\tcommand.refresh(editor, editor.elementPath());\n\t\t\t});\n\n\t\t\tif (value in {right: 1, left: 1, center: 1}) {\n\t\t\t\tcommand.on('exec', function(evt) {\n\t\t\t\t\tlet widget = getFocusedWidget(editor);\n\n\t\t\t\t\tif (widget) {\n\t\t\t\t\t\tif (widget.data.align === value) {\n\t\t\t\t\t\t\tremoveWidgetAlignment(widget, value);\n\n\t\t\t\t\t\t\tdelete widget.data.align;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidget.setData('align', value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Once the widget changed its align, all the align commands\n\t\t\t\t\t\t// must be refreshed: the event is to be cancelled.\n\t\t\t\t\t\tfor (let i = execCallbacks.length; i--; )\n\t\t\t\t\t\t\texecCallbacks[i]();\n\n\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcommand.on('refresh', function(evt) {\n\t\t\t\tlet widget = getFocusedWidget(editor);\n\n\t\t\t\tlet allowed = {right: 1, left: 1, center: 1};\n\n\t\t\t\tif (!widget) return;\n\n\t\t\t\t// Cache \"enabled\" on first use. This is because filter#checkFeature may\n\t\t\t\t// not be available during plugin's afterInit in the future  a moment when\n\t\t\t\t// alignCommandIntegrator is called.\n\t\t\t\tif (enabled === undefined)\n\t\t\t\t\tenabled = editor.filter.checkFeature(\n\t\t\t\t\t\teditor.widgets.registered.image.features.align\n\t\t\t\t\t);\n\n\t\t\t\t// Don't allow justify commands when widget alignment is disabled (#11004).\n\t\t\t\tif (!enabled) this.setState(CKEDITOR.TRISTATE_DISABLED);\n\t\t\t\telse {\n\t\t\t\t\tthis.setState(\n\t\t\t\t\t\twidget.data.align == value\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t: value in allowed\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tevt.cancel();\n\t\t\t});\n\t\t};\n\t}\n\n\t// Returns the focused widget, if of the type specific for this plugin.\n\t// If no widget is focused, `null` is returned.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {CKEDITOR.plugins.widget}\n\tfunction getFocusedWidget(editor) {\n\t\tlet widget = editor.widgets.focused;\n\n\t\tif (widget && widget.name == 'image') return widget;\n\n\t\treturn null;\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#ae_dragresize_ie11_alignClasses or\n\t// config#ae_dragresize_ie11_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet rules = {\n\t\t\t// Widget may need <div> or <p> centering wrapper.\n\t\t\tdiv: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\tp: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.ae_dragresize_ie11_captionedClass,\n\t\t\t},\n\t\t\tfigcaption: true,\n\t\t};\n\n\t\tif (alignClasses) {\n\t\t\t// Centering class from the config.\n\t\t\trules.div.classes = alignClasses[1];\n\t\t\trules.p.classes = rules.div.classes;\n\n\t\t\t// Left/right classes from the config.\n\t\t\trules.img.classes = alignClasses[0] + ',' + alignClasses[2];\n\t\t\trules.figure.classes += ',' + rules.img.classes;\n\t\t} else {\n\t\t\t// Centering with text-align.\n\t\t\trules.div.styles = 'text-align';\n\t\t\trules.p.styles = 'text-align';\n\n\t\t\trules.img.styles = 'float';\n\t\t\trules.figure.styles = 'float,display';\n\t\t}\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet features = {\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n})();\n\n/**\n * A CSS class applied to the `<figure>` element of a captioned image.\n *\n * Read more in the [documentation](#!/guide/dev_captionedimage) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/captionedimage.html).\n *\n *\t\t// Changes the class to \"captionedImage\".\n *\t\tconfig.ae_dragresize_ie11_captionedClass = 'captionedImage';\n *\n * @cfg {String} [ae_dragresize_ie11_captionedClass='image']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.ae_dragresize_ie11_captionedClass = 'image';\n","import {HIGH_PRIORITY} from './priorities';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_embed')) {\n\tlet REGEX_HTTP = /^https?/;\n\n\tlet REGEX_DEFAULT_LINK = /<a href=/;\n\n\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL =\n\t\t'http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}';\n\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL =\n\t\t'<div data-ae-embed-url=\"{url}\"></div>';\n\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL = '<a href=\"{url}\">{url}</a>';\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects using an oembed\n\t * service. By default, and for demoing purposes only, the oembed service is hosted in iframe.ly\n\t * at //alloy.iframe.ly/api/oembed?url={url}&callback={callback}. Note this should be changed to\n\t * a self-hosted or paid service in production environments. Access to the alloy.iframe.ly endpoint\n\t * may be restricted per domain due to significant traffic.\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.ae_embed\n\t */\n\tCKEDITOR.plugins.add('ae_embed', {\n\t\trequires: 'widget',\n\t\tinit: function(editor) {\n\t\t\tlet AE_EMBED_URL_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedUrlTemplate ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL\n\t\t\t);\n\t\t\tlet AE_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\t);\n\t\t\tlet AE_EMBED_DEFAULT_LINK_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedLinkDefaultTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL\n\t\t\t);\n\n\t\t\t// Default function to upcast DOM elements to embed widgets.\n\t\t\t// It matches CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\tlet defaultEmbedWidgetUpcastFn = function(element, data) {\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-ae-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-ae-embed-url'];\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Create a embedUrl command that can be invoked to easily embed media URLs\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec: function(editor, data) {\n\t\t\t\t\teditor.insertHtml(\n\t\t\t\t\t\tAE_EMBED_WIDGET_TPL.output({\n\t\t\t\t\t\t\turl: data.url,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Create a widget to properly handle embed operations\n\t\t\teditor.widgets.add('ae_embed', {\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-ae-embed-url]',\n\n\t\t\t\t/**\n\t\t\t\t * Listener to be executed every time the widget's data changes. It takes care of\n\t\t\t\t * requesting the embed object to the configured oembed service and render it in\n\t\t\t\t * the editor\n\t\t\t\t *\n\t\t\t\t * @method data\n\t\t\t\t * @param {event} event Data change event\n\t\t\t\t */\n\t\t\t\tdata: function(event) {\n\t\t\t\t\tlet widget = this;\n\n\t\t\t\t\tlet url = event.data.url;\n\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\tCKEDITOR.tools.jsonp(\n\t\t\t\t\t\t\tAE_EMBED_URL_TPL,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: encodeURIComponent(url),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\t\t\tif (response.html) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tREGEX_DEFAULT_LINK.test(response.html)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twidget.element.setHtml(response.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(_msg) {\n\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcreateATag: function(url) {\n\t\t\t\t\tthis.editor.execCommand('undo');\n\n\t\t\t\t\tlet aTagHtml = AE_EMBED_DEFAULT_LINK_TPL.output({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.editor.insertHtml(aTagHtml);\n\t\t\t\t\tthis.editor.fire('actionPerformed', this);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Function used to upcast an element to ae_embed widgets.\n\t\t\t\t *\n\t\t\t\t * @method upcast\n\t\t\t\t * @param {CKEDITOR.htmlParser.element} element The element to be checked\n\t\t\t\t * @param {Object} data The object that will be passed to the widget\n\t\t\t\t */\n\t\t\t\tupcast: function(element, data) {\n\t\t\t\t\tlet embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Add a listener to handle paste events and turn links into embed objects\n\t\t\teditor.once('contentDom', function() {\n\t\t\t\teditor.on(\n\t\t\t\t\t'paste',\n\t\t\t\t\tfunction(event) {\n\t\t\t\t\t\tlet link = event.data.dataValue;\n\n\t\t\t\t\t\tif (REGEX_HTTP.test(link)) {\n\t\t\t\t\t\t\tevent.stop();\n\n\t\t\t\t\t\t\teditor.execCommand('embedUrl', {\n\t\t\t\t\t\t\t\turl: event.data.dataValue,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnull,\n\t\t\t\t\tnull,\n\t\t\t\t\t// Make sure we run before autolink's paste handler,\n\t\t\t\t\t// otherwise the link will be turned into an anchor and our\n\t\t\t\t\t// REGEX_HTTP test will fail.\n\t\t\t\t\tHIGH_PRIORITY\n\t\t\t\t);\n\t\t\t});\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', function(_event) {\n\t\t\t\tlet selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tlet element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tlet widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"ae_embed\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\t\tlet scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add a filter to skip filtering widget elements\n\t\t\teditor.filter.addElementCallback(function(element) {\n\t\t\t\tif ('data-ae-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * Priorities that can be used to control the order in which event handlers run.\n *\n * @see https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_event.html#method-on\n */\nexport const DEFAULT_PRIORITY = 10;\nexport const HIGH_PRIORITY = 5;\n","import Resizer from './Resizer.es';\n\nif (!CKEDITOR.plugins.get('embedurl')) {\n\tconst REGEX_HTTP = /^https?/;\n\n\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL =\n\t\t'<div data-embed-url=\"{url}\" class=\"embed-responsive embed-responsive-16by9\">{content}<div class=\"embed-help-message\">{helpMessageIcon}<span> {helpMessage}</span></div></div><br>';\n\n\t/**\n\t * Enum for supported embed alignments\n\t * @type {Object}\n\t */\n\n\tconst EMBED_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported embed alignments\n\t * @type {Array}\n\t */\n\n\tconst ALIGN_VALUES = [\n\t\tEMBED_ALIGNMENT.CENTER,\n\t\tEMBED_ALIGNMENT.LEFT,\n\t\tEMBED_ALIGNMENT.RIGHT,\n\t];\n\n\t/**\n\t * Necessary styles for the center alignment\n\t * @type {Array.<Object>}\n\t */\n\n\tconst CENTERED_EMBED_STYLE = [\n\t\t{\n\t\t\tname: 'display',\n\t\t\tvalue: 'block',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-left',\n\t\t\tvalue: 'auto',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-right',\n\t\t\tvalue: 'auto',\n\t\t},\n\t];\n\n\t/**\n\t * Retrieves the alignment value of an embed element.\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @return {String} The alignment value\n\t */\n\n\tconst getEmbedAlignment = function(embed) {\n\t\tlet embedAlignment = embed.getStyle('float');\n\n\t\tif (\n\t\t\t!embedAlignment ||\n\t\t\tembedAlignment === 'inherit' ||\n\t\t\tembedAlignment === 'none'\n\t\t) {\n\t\t\tembedAlignment = embed.getAttribute('align');\n\t\t}\n\n\t\tif (!embedAlignment) {\n\t\t\tconst centeredEmbed = CENTERED_EMBED_STYLE.every(style => {\n\t\t\t\tlet styleCheck = embed.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(\n\t\t\t\t\t\tvendorPrefix =>\n\t\t\t\t\t\t\tembed.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tembedAlignment = centeredEmbed ? EMBED_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\treturn embedAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be removed\n\t */\n\n\tconst removeEmbedAlignment = function(embed, embedAlignment) {\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.removeStyle('float');\n\n\t\t\tif (embedAlignment === getEmbedAlignment(embed)) {\n\t\t\t\tembed.removeAttribute('align');\n\t\t\t}\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.removeStyle(vendorPrefix + style.name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be set\n\t */\n\n\tconst setEmbedAlignment = function(embed, embedAlignment) {\n\t\tremoveEmbedAlignment(embed, getEmbedAlignment(embed));\n\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.setStyle('float', embedAlignment);\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.setStyle(vendorPrefix + style.name, style.value)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst getSelectedElement = function(editor) {\n\t\tconst result = {\n\t\t\talignment: null,\n\t\t\telement: null,\n\t\t};\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (\n\t\t\t\tselectedElement &&\n\t\t\t\tselectedElement.getAttribute('data-cke-widget-wrapper')\n\t\t\t) {\n\t\t\t\tresult.alignment = getEmbedAlignment(selectedElement);\n\t\t\t\tresult.element = selectedElement;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tconst resizeElement = function(el, width, height) {\n\t\tconst wrapperElement = el.parentElement;\n\n\t\tif (wrapperElement && width > 0 && height > 0) {\n\t\t\tconst rect = wrapperElement.getBoundingClientRect();\n\n\t\t\tconst pwidth =\n\t\t\t\twidth >= rect.width\n\t\t\t\t\t? 100\n\t\t\t\t\t: Math.floor((width / rect.width) * 100);\n\t\t\tconst style = `width:${pwidth}%;`;\n\n\t\t\twrapperElement.setAttribute('style', style);\n\n\t\t\tconst widgetElement = wrapperElement.querySelector(\n\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t);\n\n\t\t\tif (widgetElement) {\n\t\t\t\tlet styles =\n\t\t\t\t\tJSON.parse(widgetElement.getAttribute('data-styles')) || {};\n\n\t\t\t\tstyles.width = `${width}px`;\n\t\t\t\tstyles.height = `${height}px`;\n\n\t\t\t\twidgetElement.setAttribute(\n\t\t\t\t\t'data-styles',\n\t\t\t\t\tJSON.stringify(styles)\n\t\t\t\t);\n\n\t\t\t\tconst iframeElement = widgetElement.querySelector('iframe');\n\n\t\t\t\tif (iframeElement) {\n\t\t\t\t\tiframeElement.setAttribute('width', width);\n\t\t\t\t\tiframeElement.setAttribute('height', height);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst selectWidget = function(editor) {\n\t\tsetTimeout(() => {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tconst wrapperElement = selection.root.find(\n\t\t\t\t\t'[data-cke-widget-wrapper]'\n\t\t\t\t);\n\n\t\t\t\tif (wrapperElement) {\n\t\t\t\t\tconst elementList = wrapperElement.$;\n\t\t\t\t\tif (elementList.length > 0) {\n\t\t\t\t\t\tconst lastElement = new CKEDITOR.dom.element(\n\t\t\t\t\t\t\telementList[elementList.length - 1]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst imageElement = lastElement.findOne('img');\n\t\t\t\t\t\tconst widgetElement = lastElement.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement && widgetElement) {\n\t\t\t\t\t\t\tconst range = editor.createRange();\n\n\t\t\t\t\t\t\trange.setStart(widgetElement, 0);\n\t\t\t\t\t\t\trange.setEnd(imageElement, 1);\n\n\t\t\t\t\t\t\tselection.selectRanges([range]);\n\t\t\t\t\t\t\tselection.selectElement(lastElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 0);\n\t};\n\n\tlet currentAlignment = null;\n\tlet currentElement = null;\n\tlet resizer = null;\n\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.embedurl\n\t */\n\n\tCKEDITOR.plugins.add('embedurl', {\n\t\trequires: 'widget',\n\n\t\tinit: editor => {\n\t\t\tconst LFR_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL\n\t\t\t);\n\n\t\t\tlet providers = editor.config.embedProviders || [];\n\n\t\t\tproviders = providers.map(provider => {\n\t\t\t\treturn {\n\t\t\t\t\tid: provider.id,\n\t\t\t\t\ttpl: new CKEDITOR.template(\n\t\t\t\t\t\t`<div data-embed-id=\"{embedId}\">${provider.tpl}</div>`\n\t\t\t\t\t),\n\t\t\t\t\ttype: provider.type,\n\t\t\t\t\turlSchemes: provider.urlSchemes.map(\n\t\t\t\t\t\tscheme => new RegExp(scheme)\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst generateEmbedContent = (url, content) => {\n\t\t\t\treturn LFR_EMBED_WIDGET_TPL.output({\n\t\t\t\t\tcontent: content,\n\t\t\t\t\thelpMessage: AlloyEditor.Strings.videoPlaybackDisabled,\n\t\t\t\t\thelpMessageIcon: Liferay.Util.getLexiconIconTpl(\n\t\t\t\t\t\t'info-circle'\n\t\t\t\t\t),\n\t\t\t\t\turl: url,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst defaultEmbedWidgetUpcastFn = (element, data) => {\n\t\t\t\tlet upcastWidget = false;\n\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-embed-url'];\n\n\t\t\t\t\tupcastWidget = true;\n\t\t\t\t} else if (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-id']\n\t\t\t\t) {\n\t\t\t\t\tconst iframe = element.children[0];\n\n\t\t\t\t\tdata.url = iframe.attributes.src;\n\n\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\tdata.url,\n\t\t\t\t\t\telement.getOuterHtml()\n\t\t\t\t\t);\n\n\t\t\t\t\tconst widgetFragment = new CKEDITOR.htmlParser.fragment.fromHtml(\n\t\t\t\t\t\tembedContent\n\t\t\t\t\t);\n\n\t\t\t\t\tupcastWidget = widgetFragment.children[0];\n\n\t\t\t\t\tupcastWidget.attributes['data-styles'] = JSON.stringify(\n\t\t\t\t\t\telement.styles\n\t\t\t\t\t);\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive');\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive-16by9');\n\n\t\t\t\t\telement.replaceWith(upcastWidget);\n\t\t\t\t}\n\n\t\t\t\treturn upcastWidget;\n\t\t\t};\n\n\t\t\tconst showError = errorMsg => {\n\t\t\t\teditor.fire('error', errorMsg);\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\teditor.getSelection().removeAllRanges();\n\n\t\t\t\t\teditor.focus();\n\n\t\t\t\t\tresizer.hide();\n\t\t\t\t}, 0);\n\t\t\t};\n\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec: (editor, data) => {\n\t\t\t\t\tconst type = data.type;\n\t\t\t\t\tconst url = data.url;\n\t\t\t\t\tlet content;\n\n\t\t\t\t\tif (REGEX_HTTP.test(url)) {\n\t\t\t\t\t\tconst validProvider = providers\n\t\t\t\t\t\t\t.filter(provider => {\n\t\t\t\t\t\t\t\treturn type ? provider.type === type : true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.some(provider => {\n\t\t\t\t\t\t\t\tconst scheme = provider.urlSchemes.find(\n\t\t\t\t\t\t\t\t\tscheme => scheme.test(url)\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (scheme) {\n\t\t\t\t\t\t\t\t\tconst embedId = scheme.exec(url)[1];\n\n\t\t\t\t\t\t\t\t\tcontent = provider.tpl.output({\n\t\t\t\t\t\t\t\t\t\tembedId: embedId,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn scheme;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (validProvider) {\n\t\t\t\t\t\t\teditor._selectEmbedWidget = url;\n\n\t\t\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertHtml(embedContent);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowError(AlloyEditor.Strings.platformNotSupported);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowError(AlloyEditor.Strings.enterValidUrl);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\teditor.widgets.add('embedurl', {\n\t\t\t\tdraggable: false,\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-embed-url]',\n\n\t\t\t\tdata(event) {\n\t\t\t\t\tconst instance = this;\n\n\t\t\t\t\t// Sync dimensions and alignment with editor wrapper\n\n\t\t\t\t\tconst stylesJSON = instance.element.getAttribute(\n\t\t\t\t\t\t'data-styles'\n\t\t\t\t\t);\n\n\t\t\t\t\tlet styles = stylesJSON ? JSON.parse(stylesJSON) : null;\n\n\t\t\t\t\tif (!styles) {\n\t\t\t\t\t\tconst iframe = instance.wrapper.findOne('iframe');\n\n\t\t\t\t\t\tconst bounds = instance.wrapper.$.getBoundingClientRect();\n\t\t\t\t\t\tconst width = iframe.getAttribute('width');\n\n\t\t\t\t\t\tconst pwidth =\n\t\t\t\t\t\t\twidth >= bounds.width\n\t\t\t\t\t\t\t\t? 100\n\t\t\t\t\t\t\t\t: Math.round((width / bounds.width) * 100);\n\n\t\t\t\t\t\tstyles = {\n\t\t\t\t\t\t\twidth: `${pwidth}%`,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tinstance.wrapper.setAttribute(\n\t\t\t\t\t\t'style',\n\t\t\t\t\t\tCKEDITOR.tools.writeCssText(styles)\n\t\t\t\t\t);\n\n\t\t\t\t\tif (editor._selectEmbedWidget === event.data.url) {\n\t\t\t\t\t\tselectWidget(editor);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tdowncast(widget) {\n\t\t\t\t\tconst embedContent = widget.children[0];\n\n\t\t\t\t\tembedContent.attributes.class =\n\t\t\t\t\t\t'embed-responsive embed-responsive-16by9';\n\t\t\t\t\tembedContent.attributes.style = CKEDITOR.tools.writeCssText(\n\t\t\t\t\t\twidget.parent.styles\n\t\t\t\t\t);\n\n\t\t\t\t\treturn embedContent;\n\t\t\t\t},\n\n\t\t\t\tupcast(element, data) {\n\t\t\t\t\tconst embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\twindow.addEventListener(\n\t\t\t\t'resize',\n\t\t\t\t() => {\n\t\t\t\t\tresizer.hide();\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\n\t\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst imageElement = element.findOne(\n\t\t\t\t\t\t\t'img.cke_widget_mask'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresizer.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.on('destroy', () => {\n\t\t\t\tconst resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\t\tif (resizeElement) {\n\t\t\t\t\tresizeElement.remove();\n\t\t\t\t}\n\n\t\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t\t});\n\n\t\t\teditor.on('blur', () => {\n\t\t\t\tresizer.hide();\n\t\t\t});\n\n\t\t\teditor.filter.addElementCallback(element => {\n\t\t\t\tif ('data-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst mouseDownListener = event => {\n\t\t\t\tconst result = getSelectedElement(editor);\n\n\t\t\t\tcurrentAlignment = result.alignment;\n\t\t\t\tcurrentElement = result.element;\n\n\t\t\t\tif (resizer.isHandle(event.target)) {\n\t\t\t\t\tresizer.initDrag(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tresizer = new Resizer(editor, {\n\t\t\t\tonComplete(element, width, height) {\n\t\t\t\t\tresizeElement(element, width, height);\n\n\t\t\t\t\tif (currentAlignment && currentElement) {\n\t\t\t\t\t\tsetEmbedAlignment(currentElement, currentAlignment);\n\t\t\t\t\t}\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\t\t},\n\n\t\tafterInit: editor => {\n\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\tconst command = editor.getCommand('justify' + alignValue);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', event => {\n\t\t\t\t\t\tconst selectedElement = editor\n\t\t\t\t\t\t\t.getSelection()\n\t\t\t\t\t\t\t.getSelectedElement();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectedElement &&\n\t\t\t\t\t\t\tselectedElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst selectedEmbed = selectedElement.findOne(\n\t\t\t\t\t\t\t\t'[data-widget=\"embedurl\"] [data-embed-id]'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (selectedEmbed) {\n\t\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (embedAlignment === alignValue) {\n\t\t\t\t\t\t\t\t\tremoveEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrentElement = selectedElement;\n\t\t\t\t\t\t\t\tcurrentAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst imageElement = selectedElement.findOne(\n\t\t\t\t\t\t\t\t\t'img'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\t\tconst elementPath = new CKEDITOR.dom.elementPath(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\t\t\t\t\t\tconst command = editor.getCommand(\n\t\t\t\t\t\t\t\t\t\t'justify' + alignValue\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tif (command) {\n\t\t\t\t\t\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', event => {\n\t\t\t\t\t\tconst lastElement = event.data.path.lastElement;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlastElement &&\n\t\t\t\t\t\t\tlastElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\tlastElement.findOne('[data-widget] [data-embed-id]')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\tlastElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.sender.setState(\n\t\t\t\t\t\t\t\tembedAlignment === alignValue\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n\nexport default CKEDITOR.plugins.get('embedurl');\n","import DragEvent from './DragEvent.es';\n\nconst IMAGE_HANDLES = ['tl', 'tr', 'bl', 'br'];\n\nconst POSITION_ELEMENT_FN = {\n\tbl(handle, left, top, box) {\n\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t},\n\tbr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t},\n\trm(handle, left, top, box) {\n\t\tpositionElement(\n\t\t\thandle,\n\t\t\tbox.width - 4 + left,\n\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t);\n\t},\n\ttl(handle, left, top, _box) {\n\t\tpositionElement(handle, left - 3, top - 3);\n\t},\n\ttr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t},\n};\n\nconst positionElement = (el, left, top) => {\n\tel.style.left = `${left}px`;\n\tel.style.top = `${top}px`;\n};\n\nconst getBoundingBox = (window, el) => {\n\tconst rect = el.getBoundingClientRect();\n\n\treturn {\n\t\theight: rect.height,\n\t\tleft: rect.left + window.pageXOffset,\n\t\ttop: rect.top + window.pageYOffset,\n\t\twidth: rect.width,\n\t};\n};\n\nclass Resizer {\n\tconstructor(editor, cfg = {}) {\n\t\tthis.cfg = cfg;\n\t\tthis.editor = editor;\n\n\t\tthis.document = editor.document ? editor.document.$ : document;\n\t\tthis.window = editor.window ? editor.window.$ : window;\n\n\t\tthis.box = null;\n\t\tthis.container = null;\n\t\tthis.handles = {};\n\t\tthis.preview = null;\n\t\tthis.previewBox = null;\n\t\tthis.result = null;\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.container = this.document.createElement('div');\n\t\tthis.container.id = 'ckimgrsz';\n\n\t\tthis.preview = this.document.createElement('span');\n\n\t\tthis.container.appendChild(this.preview);\n\n\t\tthis.handles = {};\n\n\t\tIMAGE_HANDLES.forEach(handleName => {\n\t\t\tthis.handles[handleName] = this.createHandle(handleName);\n\t\t});\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.container.appendChild(this.handles[keys[i]]);\n\t\t}\n\t}\n\n\tcreateHandle(name) {\n\t\tconst el = this.document.createElement('i');\n\n\t\tel.classList.add(name);\n\n\t\treturn el;\n\t}\n\n\tisHandle(el) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tlet result = false;\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tif (this.handles[keys[i]] === el) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tshow(el) {\n\t\tconst uiNode = this.editor.config.uiNode || document.body;\n\n\t\tthis.el = el;\n\n\t\tthis.box = getBoundingBox(this.window, this.el);\n\n\t\tpositionElement(\n\t\t\tthis.container,\n\t\t\tthis.box.left,\n\t\t\tthis.box.top + uiNode.scrollTop\n\t\t);\n\n\t\tuiNode.appendChild(this.container);\n\n\t\tthis.el.classList.add('ckimgrsz');\n\n\t\tthis.showHandles();\n\t}\n\n\thide() {\n\t\tconst elements = this.document.getElementsByClassName('ckimgrsz');\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t}\n\n\t\tthis.hideHandles();\n\n\t\tif (this.container.parentNode) {\n\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t}\n\t}\n\n\tinitDrag(event) {\n\t\tif (event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst drag = new DragEvent(this.window, this.document);\n\n\t\tdrag.onStart = () => {\n\t\t\tthis.showPreview();\n\n\t\t\tthis.isDragging = true;\n\n\t\t\tthis.editor.getSelection().lock();\n\t\t};\n\n\t\tdrag.onDrag = () => {\n\t\t\tthis.calculateSize(drag);\n\n\t\t\tconst editorBounds = this.editor.element.$.getBoundingClientRect();\n\n\t\t\tif (this.previewBox.width >= editorBounds.width) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.updatePreview();\n\n\t\t\tconst box = this.previewBox;\n\n\t\t\tthis.updateHandles(box, box.left, box.top);\n\t\t};\n\n\t\tdrag.onRelease = () => {\n\t\t\tthis.hidePreview();\n\n\t\t\tthis.isDragging = false;\n\n\t\t\tthis.hide();\n\n\t\t\tthis.editor.getSelection().unlock();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.onComplete = () => {\n\t\t\tthis.resizeComplete();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.start(event);\n\t}\n\n\tupdateHandles(box, left = 0, top = 0) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tPOSITION_ELEMENT_FN[keys[i]](this.handles[keys[i]], left, top, box);\n\t\t}\n\t}\n\n\tshowHandles() {\n\t\tthis.updateHandles(this.box);\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'block';\n\t\t}\n\t}\n\n\thideHandles() {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'none';\n\t\t}\n\t}\n\n\tshowPreview() {\n\t\tthis.calculateSize();\n\n\t\tthis.updatePreview();\n\n\t\tthis.preview.style.display = 'block';\n\t}\n\n\tupdatePreview() {\n\t\tpositionElement(\n\t\t\tthis.preview,\n\t\t\tthis.previewBox.left,\n\t\t\tthis.previewBox.top\n\t\t);\n\n\t\tthis.preview.style.height = `${this.previewBox.height}px`;\n\t\tthis.preview.style.width = `${this.previewBox.width}px`;\n\t}\n\n\thidePreview() {\n\t\tconst box = getBoundingBox(this.window, this.preview);\n\n\t\tthis.result = {\n\t\t\theight: box.height,\n\t\t\twidth: box.width,\n\t\t};\n\n\t\tthis.preview.style.display = 'none';\n\t}\n\n\tcalculateSize(data) {\n\t\tthis.previewBox = {\n\t\t\theight: this.box.height,\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: this.box.width,\n\t\t};\n\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst className = data.target.className;\n\n\t\tif (className.indexOf('r') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('b') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height + data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height - data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\tconst ratio = this.box.width / this.box.height;\n\n\t\t\tif (this.previewBox.width / this.previewBox.height > ratio) {\n\t\t\t\tthis.previewBox.height = Math.round(\n\t\t\t\t\tthis.previewBox.width / ratio\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.previewBox.width = Math.round(\n\t\t\t\t\tthis.previewBox.height * ratio\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.left = this.box.width - this.previewBox.width;\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.top = this.box.height - this.previewBox.height;\n\t\t}\n\t}\n\n\tresizeComplete() {\n\t\tthis.cfg.onComplete(this.el, this.result.width, this.result.height);\n\t}\n}\n\nexport {Resizer};\nexport default Resizer;\n","class DragEvent {\n\tconstructor(window, document) {\n\t\tthis.document = document;\n\t\tthis.window = window;\n\n\t\tthis.events = {\n\t\t\tkeydown: this.keydown.bind(this),\n\t\t\tmousemove: this.mousemove.bind(this),\n\t\t\tmouseup: this.mouseup.bind(this),\n\t\t};\n\t}\n\n\tstart(event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.target = event.target;\n\n\t\tthis.className = this.target.className;\n\n\t\tthis.startPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.update(event);\n\n\t\tthis.document.addEventListener('keydown', this.events.keydown, false);\n\t\tthis.document.addEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.addEventListener('mouseup', this.events.mouseup, false);\n\n\t\tthis.document.body.classList.add(`dragging-${this.className}`);\n\n\t\tif (typeof this.onStart === 'function') {\n\t\t\tthis.onStart();\n\t\t}\n\t}\n\n\tupdate(event) {\n\t\tthis.currentPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.delta = {\n\t\t\tx: event.clientX - this.startPos.x,\n\t\t\ty: event.clientY - this.startPos.y,\n\t\t};\n\n\t\tthis.keys = {\n\t\t\talt: event.altKey,\n\t\t\tctrl: event.ctrlKey,\n\t\t\tshift: event.shiftKey,\n\t\t};\n\t}\n\n\tmousemove(event) {\n\t\tthis.update(event);\n\n\t\tif (typeof this.onDrag === 'function') {\n\t\t\tthis.onDrag();\n\t\t}\n\n\t\tif (event.which === 0) {\n\t\t\tthis.mouseup(event);\n\t\t}\n\t}\n\n\tkeydown(event) {\n\t\tif (event.keyCode === 27) {\n\t\t\tthis.release();\n\t\t}\n\t}\n\n\tmouseup(event) {\n\t\tthis.update(event);\n\n\t\tthis.release();\n\n\t\tif (typeof this.onComplete === 'function') {\n\t\t\tthis.onComplete();\n\t\t}\n\t}\n\n\trelease() {\n\t\tthis.document.body.classList.remove(`dragging-${this.className}`);\n\n\t\tthis.document.removeEventListener(\n\t\t\t'keydown',\n\t\t\tthis.events.keydown,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mouseup',\n\t\t\tthis.events.mouseup,\n\t\t\tfalse\n\t\t);\n\n\t\tif (typeof this.onRelease === 'function') {\n\t\t\tthis.onRelease();\n\t\t}\n\t}\n}\n\nexport {DragEvent};\nexport default DragEvent;\n","import SelectionTest from '../selections/selection-test';\n\nif (!CKEDITOR.plugins.get('ae_imagealignment')) {\n\t/**\n\t * Enum for supported image alignments\n\t * @type {Object}\n\t */\n\tlet IMAGE_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported image alignments\n\t * @type {Array}\n\t */\n\tlet ALIGN_VALUES = [\n\t\tIMAGE_ALIGNMENT.LEFT,\n\t\tIMAGE_ALIGNMENT.RIGHT,\n\t\tIMAGE_ALIGNMENT.CENTER,\n\t];\n\n\t/**\n\t * Necessary styles for the center alignment\n\t * @type {Array.<Object>}\n\t */\n\tlet CENTERED_IMAGE_STYLE = [\n\t\t{\n\t\t\tname: 'display',\n\t\t\tvalue: 'block',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-left',\n\t\t\tvalue: 'auto',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-right',\n\t\t\tvalue: 'auto',\n\t\t},\n\t];\n\n\t/**\n\t * Retrieves the alignment value of an image.\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @return {String} The alignment value\n\t */\n\tlet getImageAlignment = function(image) {\n\t\tlet imageAlignment = image.getStyle('float');\n\n\t\tif (\n\t\t\t!imageAlignment ||\n\t\t\timageAlignment === 'inherit' ||\n\t\t\timageAlignment === 'none'\n\t\t) {\n\t\t\timageAlignment = image.getAttribute('align');\n\t\t}\n\n\t\tif (!imageAlignment) {\n\t\t\tlet centeredImage = CENTERED_IMAGE_STYLE.every(function(style) {\n\t\t\t\tlet styleCheck = image.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(function(\n\t\t\t\t\t\tvendorPrefix\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\timage.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tif (!imageAlignment) {\n\t\t\t\tlet imageContainer = image.$.parentNode;\n\n\t\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\t\tCENTERED_IMAGE_STYLE.forEach(function(style) {\n\t\t\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\t\t\tstyle.vendorPrefixes.forEach(function(\n\t\t\t\t\t\t\t\tvendorPrefix\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\timage.setStyle(\n\t\t\t\t\t\t\t\t\tvendorPrefix + style.name,\n\t\t\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tcenteredImage = true;\n\t\t\t\t\timageContainer.style.textAlign = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\timageAlignment = centeredImage ? IMAGE_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\treturn imageAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tlet removeImageAlignment = function(image, imageAlignment) {\n\t\tif (\n\t\t\timageAlignment === IMAGE_ALIGNMENT.LEFT ||\n\t\t\timageAlignment === IMAGE_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\timage.removeStyle('float');\n\n\t\t\tif (imageAlignment === getImageAlignment(image)) {\n\t\t\t\timage.removeAttribute('align');\n\t\t\t}\n\t\t} else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_IMAGE_STYLE.forEach(function(style) {\n\t\t\t\timage.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(function(vendorPrefix) {\n\t\t\t\t\t\timage.removeStyle(vendorPrefix + style.name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet imageContainer = image.$.parentNode;\n\n\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\timageContainer.style.textAlign = '';\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be set\n\t */\n\tlet setImageAlignment = function(image, imageAlignment) {\n\t\tremoveImageAlignment(image, getImageAlignment(image));\n\n\t\tif (\n\t\t\timageAlignment === IMAGE_ALIGNMENT.LEFT ||\n\t\t\timageAlignment === IMAGE_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\timage.setStyle('float', imageAlignment);\n\t\t} else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_IMAGE_STYLE.forEach(function(style) {\n\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(function(vendorPrefix) {\n\t\t\t\t\t\timage.setStyle(vendorPrefix + style.name, style.value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * CKEditor plugin which modifies the justify commands to properly align images. This\n\t * plugin is an excerpt of CKEditor's original image one that can be found at\n\t * https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/image/plugin.js\n\t *\n\t * @class CKEDITOR.plugins.ae_imagealignment\n\t */\n\tCKEDITOR.plugins.add('ae_imagealignment', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method afterInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tafterInit: function(editor) {\n\t\t\tlet self = this;\n\n\t\t\tALIGN_VALUES.forEach(function(value) {\n\t\t\t\tlet command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', function(event) {\n\t\t\t\t\t\tlet selectionData = editor.getSelectionData();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectionData &&\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData: selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlet image = selectionData.element;\n\n\t\t\t\t\t\t\tlet imageAlignment = getImageAlignment(image);\n\n\t\t\t\t\t\t\tif (imageAlignment === value) {\n\t\t\t\t\t\t\t\tremoveImageAlignment(image, value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetImageAlignment(image, value);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\tself.refreshCommands(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnew CKEDITOR.dom.elementPath(image)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', function(event) {\n\t\t\t\t\t\tlet selectionData = {\n\t\t\t\t\t\t\telement: event.data.path.lastElement,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData: selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlet imageAlignment = getImageAlignment(\n\t\t\t\t\t\t\t\tselectionData.element\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\timageAlignment === value\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Forces a refresh of the modified justify commands. This is needed because the applied changes\n\t\t * do not modify the selection, so the refresh is never triggered and the UI does not update\n\t\t * properly until the next selectionChange event.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance\n\t\t * @param {CKEDITOR.dom.elementPath} elementPath The path of the selected image\n\t\t */\n\t\trefreshCommands: function(editor, elementPath) {\n\t\t\tALIGN_VALUES.forEach(function(value) {\n\t\t\t\tlet command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n","if (!CKEDITOR.plugins.get('ae_pasteimages')) {\n\t/**\n\t * CKEditor plugin which allows pasting images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of pasted images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_pasteimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t * @event beforeImageAdd\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event imageAdd\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_pasteimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'paste',\n\t\t\t\t\t\tthis._onPaste,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * The function creates an img element with src the image data as Data URI.\n\t\t * Then, it fires an 'imageAdd' event via CKEditor's event system. The passed\n\t\t * params will be:\n\t\t * - `el` - the created img element\n\t\t * - `file` - the original pasted data\n\t\t *\n\t\t * @method _onPaste\n\t\t * @protected\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t */\n\t\t_onPaste: function(event) {\n\t\t\tif (event.data.$.clipboardData) {\n\t\t\t\tlet pastedData = event.data.$.clipboardData.items[0];\n\t\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tlet reader = new FileReader();\n\t\t\t\t\tlet imageFile = pastedData.getAsFile();\n\n\t\t\t\t\treader.onload = function(event) {\n\t\t\t\t\t\tlet result = editor.fire('beforeImageAdd', {\n\t\t\t\t\t\t\timageFiles: imageFile,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tlet el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\t\t'<img src=\"' + event.target.result + '\">'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertElement(el);\n\n\t\t\t\t\t\t\tlet imageData = {\n\t\t\t\t\t\t\t\tel: el,\n\t\t\t\t\t\t\t\tfile: imageFile,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\treader.readAsDataURL(imageFile);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","if (!CKEDITOR.plugins.get('ae_placeholder')) {\n\t/**\n\t * CKEDITOR enterMode config set the behavior of paragraphs\n\t * When the content is empty CKEDITOR keeps the enterMode string\n\t * into the content\n\t * @property\n\t * @type {string}\n\t */\n\tlet brFiller = CKEDITOR.env.needsBrFiller ? '<br>' : '';\n\n\tlet enterModeEmptyValue = {\n\t\t1: ['<p>' + brFiller + '</p>'],\n\t\t2: ['', ' ', brFiller],\n\t\t3: ['<div>' + brFiller + '</div>'],\n\t};\n\n\t/**\n\t * CKEditor plugin which allows adding a placeholder to the editor. In this case, if there\n\t * is no content to the editor, there will be hint to the user.\n\t *\n\t * @class CKEDITOR.plugins.ae_placeholder\n\t */\n\n\t/**\n\t * Specifies the placeholder class which have to be aded to editor when editor is not focused.\n\t *\n\t * @attribute placeholderClass\n\t * @default ae_placeholder\n\t * @type String\n\t */\n\n\tCKEDITOR.plugins.add('ae_placeholder', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'blur' and 'contentDom' event listeners.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.on('blur', this._checkEmptyData, this);\n\t\t\teditor.on('change', this._checkEmptyData, this);\n\t\t\teditor.on('focus', this._removePlaceholderClass, this);\n\t\t\teditor.once('contentDom', this._checkEmptyData, this);\n\t\t},\n\n\t\t/**\n\t\t * Removes any data from the content and adds a class,\n\t\t * specified by the \"placeholderClass\" config attribute.\n\t\t *\n\t\t * @protected\n\t\t * @method _checkEmptyData\n\t\t * @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n\t\t */\n\t\t_checkEmptyData: function(event) {\n\t\t\tlet editor = event.editor;\n\n\t\t\tlet editableNode = editor.editable();\n\n\t\t\tlet innerHtml = editableNode.$.innerHTML.trim();\n\n\t\t\tlet isEmpty = enterModeEmptyValue[editor.config.enterMode].some(\n\t\t\t\tfunction(element) {\n\t\t\t\t\treturn innerHtml === element;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (isEmpty) {\n\t\t\t\teditableNode.addClass(editor.config.placeholderClass);\n\t\t\t} else {\n\t\t\t\teditableNode.removeClass(editor.config.placeholderClass);\n\t\t\t}\n\t\t},\n\n\t\t/**\n             * Remove placeholder class when input is focused\n             *\n             * @protected\n             * @method _removePlaceholderClass\n             + @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n             */\n\t\t_removePlaceholderClass: function(event) {\n\t\t\tlet editor = event.editor;\n\n\t\t\tlet editorNode = new CKEDITOR.dom.element(editor.element.$);\n\n\t\t\teditorNode.removeClass(editor.config.placeholderClass);\n\t\t},\n\t});\n}\n","if (!CKEDITOR.plugins.get('ae_selectionkeystrokes')) {\n\t/**\n\t * CKEditor plugin that simulates editor interaction events based on manual keystrokes. This\n\t * can be used to trigger different reactions in the editor.\n\t *\n\t * @class CKEDITOR.plugins.ae_selectionkeystrokes\n\t */\n\tCKEDITOR.plugins.add('ae_selectionkeystrokes', {\n\t\trequires: 'ae_selectionregion',\n\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function adds a command to the editor for every defined selectionKeystroke\n\t\t * in the configuration and maps it to the specified keystroke.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\tif (editor.config.selectionKeystrokes) {\n\t\t\t\teditor.config.selectionKeystrokes.forEach(function(\n\t\t\t\t\tselectionKeystroke\n\t\t\t\t) {\n\t\t\t\t\tlet command = new CKEDITOR.command(editor, {\n\t\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tmanualSelection: selectionKeystroke.selection,\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: editor.getSelectionData(),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tlet commandName =\n\t\t\t\t\t\t'selectionKeystroke' + selectionKeystroke.selection;\n\n\t\t\t\t\teditor.addCommand(commandName, command);\n\t\t\t\t\teditor.setKeystroke(selectionKeystroke.keys, commandName);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nif (!CKEDITOR.plugins.get('ae_tableresize')) {\n\tlet pxUnit = CKEDITOR.tools.cssLength;\n\n\tfunction getWidth(el) {\n\t\treturn CKEDITOR.env.ie\n\t\t\t? el.$.clientWidth\n\t\t\t: parseInt(el.getComputedStyle('width'), 10);\n\t}\n\n\tfunction getBorderWidth(element, side) {\n\t\tlet computed = element.getComputedStyle('border-' + side + '-width');\n\n\t\tlet borderMap = {\n\t\t\tthin: '0px',\n\t\t\tmedium: '1px',\n\t\t\tthick: '2px',\n\t\t};\n\n\t\tif (computed.indexOf('px') < 0) {\n\t\t\t// look up keywords\n\t\t\tif (\n\t\t\t\tcomputed in borderMap &&\n\t\t\t\telement.getComputedStyle('border-style') != 'none'\n\t\t\t) {\n\t\t\t\tcomputed = borderMap[computed];\n\t\t\t} else {\n\t\t\t\tcomputed = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn parseInt(computed, 10);\n\t}\n\n\t// Gets the table row that contains the most columns.\n\tfunction getMasterPillarRow(table) {\n\t\tlet $rows = table.$.rows;\n\n\t\tlet maxCells = 0;\n\n\t\tlet cellsCount;\n\n\t\tlet $elected;\n\n\t\tlet $tr;\n\n\t\tfor (let i = 0, len = $rows.length; i < len; i++) {\n\t\t\t$tr = $rows[i];\n\t\t\tcellsCount = $tr.cells.length;\n\n\t\t\tif (cellsCount > maxCells) {\n\t\t\t\tmaxCells = cellsCount;\n\t\t\t\t$elected = $tr;\n\t\t\t}\n\t\t}\n\n\t\treturn $elected;\n\t}\n\n\tfunction buildTableColumnPillars(table) {\n\t\tlet pillars = [];\n\n\t\tlet pillarIndex = -1;\n\n\t\tlet rtl = table.getComputedStyle('direction') === 'rtl';\n\n\t\t// Get the raw row element that cointains the most columns.\n\t\tlet $tr = getMasterPillarRow(table);\n\n\t\t// Get the tbody element and position, which will be used to set the\n\t\t// top and bottom boundaries.\n\t\tlet tbody = new CKEDITOR.dom.element(table.$.tBodies[0]);\n\n\t\tlet tbodyPosition = tbody.getDocumentPosition();\n\n\t\t// Loop thorugh all cells, building pillars after each one of them.\n\t\tfor (let i = 0, len = $tr.cells.length; i < len; i++) {\n\t\t\t// Both the current cell and the successive one will be used in the\n\t\t\t// pillar size calculation.\n\t\t\tlet td = new CKEDITOR.dom.element($tr.cells[i]);\n\n\t\t\tlet nextTd =\n\t\t\t\t$tr.cells[i + 1] && new CKEDITOR.dom.element($tr.cells[i + 1]);\n\n\t\t\tpillarIndex += td.$.colSpan || 1;\n\n\t\t\t// Calculate the pillar boundary positions.\n\t\t\tlet pillarLeft;\n\t\t\tlet pillarRight;\n\t\t\tlet pillarWidth;\n\n\t\t\tlet x = td.getDocumentPosition().x;\n\n\t\t\t// Calculate positions based on the current cell.\n\t\t\trtl\n\t\t\t\t? (pillarRight = x + getBorderWidth(td, 'left'))\n\t\t\t\t: (pillarLeft =\n\t\t\t\t\t\tx + td.$.offsetWidth - getBorderWidth(td, 'right'));\n\n\t\t\t// Calculate positions based on the next cell, if available.\n\t\t\tif (nextTd) {\n\t\t\t\tx = nextTd.getDocumentPosition().x;\n\n\t\t\t\trtl\n\t\t\t\t\t? (pillarLeft =\n\t\t\t\t\t\t\tx +\n\t\t\t\t\t\t\tnextTd.$.offsetWidth -\n\t\t\t\t\t\t\tgetBorderWidth(nextTd, 'right'))\n\t\t\t\t\t: (pillarRight = x + getBorderWidth(nextTd, 'left'));\n\t\t\t}\n\t\t\t// Otherwise calculate positions based on the table (for last cell).\n\t\t\telse {\n\t\t\t\tx = table.getDocumentPosition().x;\n\n\t\t\t\trtl\n\t\t\t\t\t? (pillarLeft = x)\n\t\t\t\t\t: (pillarRight = x + table.$.offsetWidth);\n\t\t\t}\n\n\t\t\tpillarWidth = Math.max(pillarRight - pillarLeft, 4);\n\n\t\t\t// The pillar should reflects exactly the shape of the hovered\n\t\t\t// column border line.\n\t\t\tpillars.push({\n\t\t\t\ttable: table,\n\t\t\t\tindex: pillarIndex,\n\t\t\t\tx: pillarLeft,\n\t\t\t\ty: tbodyPosition.y,\n\t\t\t\twidth: pillarWidth,\n\t\t\t\theight: tbody.$.offsetHeight,\n\t\t\t\trtl: rtl,\n\t\t\t});\n\t\t}\n\n\t\treturn pillars;\n\t}\n\n\tfunction getPillarAtPosition(pillars, positionX) {\n\t\tfor (let i = 0, len = pillars.length; i < len; i++) {\n\t\t\tlet pillar = pillars[i];\n\n\t\t\tif (positionX >= pillar.x && positionX <= pillar.x + pillar.width) {\n\t\t\t\treturn pillar;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction cancel(evt) {\n\t\t(evt.data || evt).preventDefault();\n\t}\n\n\tfunction ColumnResizer(editor, pillar) {\n\t\tlet document;\n\t\tlet isResizing;\n\t\tlet move;\n\t\tlet resizer;\n\t\tlet resizing;\n\t\tlet startOffset;\n\t\tlet currentShift;\n\n\t\tlet leftSideCells;\n\n\t\tlet rightSideCells;\n\n\t\tlet leftShiftBoundary;\n\n\t\tlet rightShiftBoundary;\n\n\t\tfunction detach() {\n\t\t\tresizer.removeListener('mouseup', onMouseUp);\n\t\t\tresizer.removeListener('mousedown', onMouseDown);\n\t\t\tresizer.removeListener('mousemove', onMouseMove);\n\t\t}\n\n\t\tfunction resizeStart() {\n\t\t\t// Before starting to resize, figure out which cells to change\n\t\t\t// and the boundaries of this resizing shift.\n\n\t\t\tlet columnIndex = pillar.index;\n\n\t\t\tlet map = CKEDITOR.tools.buildTableMap(pillar.table);\n\n\t\t\tlet leftColumnCells = [];\n\n\t\t\tlet rightColumnCells = [];\n\n\t\t\tlet leftMinSize = Number.MAX_VALUE;\n\n\t\t\tlet rightMinSize = leftMinSize;\n\n\t\t\tlet rtl = pillar.rtl;\n\n\t\t\tfor (let i = 0, len = map.length; i < len; i++) {\n\t\t\t\tlet row = map[i];\n\n\t\t\t\tlet leftCell = row[columnIndex + (rtl ? 1 : 0)];\n\n\t\t\t\tlet rightCell = row[columnIndex + (rtl ? 0 : 1)];\n\n\t\t\t\tleftCell = leftCell && new CKEDITOR.dom.element(leftCell);\n\t\t\t\trightCell = rightCell && new CKEDITOR.dom.element(rightCell);\n\n\t\t\t\tif (!leftCell || !rightCell || !leftCell.equals(rightCell)) {\n\t\t\t\t\tleftCell &&\n\t\t\t\t\t\t(leftMinSize = Math.min(\n\t\t\t\t\t\t\tleftMinSize,\n\t\t\t\t\t\t\tgetWidth(leftCell)\n\t\t\t\t\t\t));\n\t\t\t\t\trightCell &&\n\t\t\t\t\t\t(rightMinSize = Math.min(\n\t\t\t\t\t\t\trightMinSize,\n\t\t\t\t\t\t\tgetWidth(rightCell)\n\t\t\t\t\t\t));\n\n\t\t\t\t\tleftColumnCells.push(leftCell);\n\t\t\t\t\trightColumnCells.push(rightCell);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cache the list of cells to be resized.\n\t\t\tleftSideCells = leftColumnCells;\n\t\t\trightSideCells = rightColumnCells;\n\n\t\t\t// Cache the resize limit boundaries.\n\t\t\tleftShiftBoundary = pillar.x - leftMinSize;\n\t\t\trightShiftBoundary = pillar.x + rightMinSize;\n\n\t\t\tresizer.setOpacity(0.5);\n\t\t\tstartOffset = parseInt(resizer.getStyle('left'), 10);\n\t\t\tcurrentShift = 0;\n\t\t\tresizing = 1;\n\n\t\t\tresizer.on('mousemove', onMouseMove);\n\n\t\t\t// Prevent the native drag behavior otherwise 'mousemove' won't fire.\n\t\t\tdocument.on('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeEnd() {\n\t\t\tresizing = 0;\n\n\t\t\tresizer.setOpacity(0);\n\n\t\t\tcurrentShift && resizeColumn();\n\n\t\t\tlet table = pillar.table;\n\t\t\tsetTimeout(function() {\n\t\t\t\ttable.removeCustomData('_cke_table_pillars');\n\t\t\t}, 0);\n\n\t\t\tdocument.removeListener('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeColumn() {\n\t\t\tlet rtl = pillar.rtl;\n\n\t\t\tlet cellsCount = rtl ? rightSideCells.length : leftSideCells.length;\n\n\t\t\t// Perform the actual resize to table cells, only for those by side of the pillar.\n\t\t\tfor (let i = 0; i < cellsCount; i++) {\n\t\t\t\tlet leftCell = leftSideCells[i];\n\n\t\t\t\tlet rightCell = rightSideCells[i];\n\n\t\t\t\tconst table = pillar.table;\n\n\t\t\t\t// Defer the resizing to avoid any interference among cells.\n\t\t\t\tCKEDITOR.tools.setTimeout(\n\t\t\t\t\tfunction(\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftOldWidth,\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightOldWidth,\n\t\t\t\t\t\ttableWidth,\n\t\t\t\t\t\tsizeShift\n\t\t\t\t\t) {\n\t\t\t\t\t\t// 1px is the minimum valid width (#11626).\n\t\t\t\t\t\tleftCell &&\n\t\t\t\t\t\t\tleftCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(leftOldWidth + sizeShift, 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\trightCell &&\n\t\t\t\t\t\t\trightCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(rightOldWidth - sizeShift, 1))\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// If we're in the last cell, we need to resize the table as well\n\t\t\t\t\t\tif (tableWidth) {\n\t\t\t\t\t\t\ttable.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(tableWidth + sizeShift * (rtl ? -1 : 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t0,\n\t\t\t\t\tthis,\n\t\t\t\t\t[\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftCell && getWidth(leftCell),\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightCell && getWidth(rightCell),\n\t\t\t\t\t\t(!leftCell || !rightCell) &&\n\t\t\t\t\t\t\tgetWidth(table) +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'left') +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'right'),\n\t\t\t\t\t\tcurrentShift,\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseDown(evt) {\n\t\t\tcancel(evt);\n\n\t\t\tresizeStart();\n\n\t\t\tdocument.on('mouseup', onMouseUp, this);\n\t\t}\n\n\t\tfunction onMouseUp(evt) {\n\t\t\tevt.removeListener();\n\n\t\t\tresizeEnd();\n\t\t}\n\n\t\tfunction onMouseMove(evt) {\n\t\t\tmove(evt.data.getPageOffset().x);\n\t\t}\n\n\t\tdocument = editor.document;\n\n\t\tresizer = CKEDITOR.dom.element.createFromHtml(\n\t\t\t'<div data-cke-temp=1 contenteditable=false unselectable=on ' +\n\t\t\t\t'style=\"position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;' +\n\t\t\t\t'padding:0;background-color:#004;background-image:none;border:0px none;z-index:10\"></div>',\n\t\t\tdocument\n\t\t);\n\n\t\t// Clean DOM when editor is destroyed.\n\t\teditor.on('destroy', function() {\n\t\t\tdetach();\n\n\t\t\tresizer.remove();\n\t\t});\n\n\t\t// Place the resizer after body to prevent it\n\t\t// from being editable.\n\t\tdocument.getDocumentElement().append(resizer);\n\n\t\tresizer.setStyles({\n\t\t\twidth: pxUnit(pillar.width),\n\t\t\theight: pxUnit(pillar.height),\n\t\t\tleft: pxUnit(pillar.x),\n\t\t\ttop: pxUnit(pillar.y),\n\t\t});\n\n\t\tresizer.on('mousedown', onMouseDown, this);\n\n\t\tdocument.getBody().setStyle('cursor', 'col-resize');\n\n\t\t// Display the resizer to receive events but don't show it,\n\t\t// only change the cursor to resizable shape.\n\t\tresizer.show();\n\n\t\tmove = this.move = function(posX) {\n\t\t\tlet resizerNewPosition =\n\t\t\t\tposX - Math.round(resizer.$.offsetWidth / 2);\n\n\t\t\tif (isResizing) {\n\t\t\t\tif (\n\t\t\t\t\tresizerNewPosition === leftShiftBoundary ||\n\t\t\t\t\tresizerNewPosition === rightShiftBoundary\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresizerNewPosition = Math.max(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\tleftShiftBoundary\n\t\t\t\t);\n\t\t\t\tresizerNewPosition = Math.min(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\trightShiftBoundary\n\t\t\t\t);\n\n\t\t\t\tcurrentShift = resizerNewPosition - startOffset;\n\t\t\t}\n\n\t\t\tresizer.setStyle('left', pxUnit(resizerNewPosition));\n\t\t};\n\n\t\tthis.destroy = function() {\n\t\t\tdetach();\n\n\t\t\tdocument.getBody().setStyle('cursor', 'auto');\n\n\t\t\tresizer.remove();\n\t\t};\n\n\t\tisResizing = this.isResizing = function() {\n\t\t\treturn resizing;\n\t\t};\n\t}\n\n\tfunction clearPillarsCache(evt) {\n\t\tlet target = evt.data.getTarget();\n\n\t\tif (evt.name === 'mouseout') {\n\t\t\t// Bypass interal mouse move.\n\t\t\tif (!target.is('table')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet dest = new CKEDITOR.dom.element(\n\t\t\t\tevt.data.$.relatedTarget || evt.data.$.toElement\n\t\t\t);\n\t\t\twhile (dest && dest.$ && !dest.equals(target) && !dest.is('body')) {\n\t\t\t\tdest = dest.getParent();\n\t\t\t}\n\t\t\tif (!dest || dest.equals(target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\ttarget.getAscendant('table', 1).removeCustomData('_cke_table_pillars');\n\t\tevt.removeListener();\n\t}\n\n\tCKEDITOR.plugins.add('ae_tableresize', {\n\t\trequires: 'ae_tabletools',\n\n\t\tinit: function(editor) {\n\t\t\teditor.on('contentDom', function() {\n\t\t\t\tlet resizer;\n\n\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t// In Classic editor it is better to use document\n\t\t\t\t// instead of editable so event will work below body.\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable.isInline() ? editable : editor.document,\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tfunction(evt) {\n\t\t\t\t\t\tevt = evt.data;\n\n\t\t\t\t\t\tlet target = evt.getTarget();\n\n\t\t\t\t\t\t// FF may return document and IE8 some UFO (object with no nodeType property...)\n\t\t\t\t\t\t// instead of an element (#11823).\n\t\t\t\t\t\tif (target.type !== CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet pageX = evt.getPageOffset().x;\n\n\t\t\t\t\t\t// If we're already attached to a pillar, simply move the\n\t\t\t\t\t\t// resizer.\n\t\t\t\t\t\tif (resizer) {\n\t\t\t\t\t\t\tif (resizer.isResizing()) {\n\t\t\t\t\t\t\t\tresizer.move(pageX);\n\n\t\t\t\t\t\t\t\tcancel(evt);\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresizer.destroy();\n\n\t\t\t\t\t\t\t\tresizer = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Considering table, tr, td, tbody but nothing else.\n\t\t\t\t\t\tlet table;\n\t\t\t\t\t\tlet pillars;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!target.is('table') &&\n\t\t\t\t\t\t\t!target.getAscendant('tbody', 1)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable = target.getAscendant('table', 1);\n\n\t\t\t\t\t\t// Make sure the table we found is inside the container\n\t\t\t\t\t\t// (eg. we should not use tables the editor is embedded within)\n\t\t\t\t\t\tif (!editor.editable().contains(table)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!(pillars = table.getCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars'\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Cache table pillars calculation result.\n\t\t\t\t\t\t\ttable.setCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars',\n\t\t\t\t\t\t\t\t(pillars = buildTableColumnPillars(table))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttable.on('mouseout', clearPillarsCache);\n\t\t\t\t\t\t\ttable.on('mousedown', clearPillarsCache);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet pillar = getPillarAtPosition(pillars, pageX);\n\n\t\t\t\t\t\tif (pillar) {\n\t\t\t\t\t\t\tresizer = new ColumnResizer(editor, pillar);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nif (!CKEDITOR.plugins.get('ae_tabletools')) {\n\tlet cellNodeRegex = /^(?:td|th)$/;\n\n\tfunction getSelectedCells(selection) {\n\t\tlet ranges = selection.getRanges();\n\t\tlet retval = [];\n\t\tlet database = {};\n\n\t\tfunction moveOutOfCellGuard(node) {\n\t\t\t// Apply to the first cell only.\n\t\t\tif (retval.length > 0) return;\n\n\t\t\t// If we are exiting from the first </td>, then the td should definitely be\n\t\t\t// included.\n\t\t\tif (\n\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcellNodeRegex.test(node.getName()) &&\n\t\t\t\t!node.getCustomData('selected_cell')\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\tdatabase,\n\t\t\t\t\tnode,\n\t\t\t\t\t'selected_cell',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tretval.push(node);\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < ranges.length; i++) {\n\t\t\tlet range = ranges[i];\n\n\t\t\tif (range.collapsed) {\n\t\t\t\t// Walker does not handle collapsed ranges yet - fall back to old API.\n\t\t\t\tlet startNode = range.getCommonAncestor();\n\t\t\t\tlet nearestCell =\n\t\t\t\t\tstartNode.getAscendant('td', true) ||\n\t\t\t\t\tstartNode.getAscendant('th', true);\n\t\t\t\tif (nearestCell) retval.push(nearestCell);\n\t\t\t} else {\n\t\t\t\tlet walker = new CKEDITOR.dom.walker(range);\n\t\t\t\tlet node;\n\t\t\t\twalker.guard = moveOutOfCellGuard;\n\n\t\t\t\twhile ((node = walker.next())) {\n\t\t\t\t\t// If may be possible for us to have a range like this:\n\t\t\t\t\t// <td>^1</td><td>^2</td>\n\t\t\t\t\t// The 2nd td shouldn't be included.\n\t\t\t\t\t//\n\t\t\t\t\t// So we have to take care to include a td we've entered only when we've\n\t\t\t\t\t// walked into its children.\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tnode.type != CKEDITOR.NODE_ELEMENT ||\n\t\t\t\t\t\t!node.is(CKEDITOR.dtd.table)\n\t\t\t\t\t) {\n\t\t\t\t\t\tlet parent =\n\t\t\t\t\t\t\tnode.getAscendant('td', true) ||\n\t\t\t\t\t\t\tnode.getAscendant('th', true);\n\t\t\t\t\t\tif (parent && !parent.getCustomData('selected_cell')) {\n\t\t\t\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\t\t\t\tdatabase,\n\t\t\t\t\t\t\t\tparent,\n\t\t\t\t\t\t\t\t'selected_cell',\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tretval.push(parent);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\treturn retval;\n\t}\n\n\tfunction getFocusElementAfterDelCells(cellsToDelete) {\n\t\tlet i = 0;\n\n\t\tlet last = cellsToDelete.length - 1;\n\n\t\tlet database = {};\n\n\t\tlet cell;\n\n\t\tlet focusedCell;\n\n\t\tlet tr;\n\n\t\twhile ((cell = cellsToDelete[i++]))\n\t\t\tCKEDITOR.dom.element.setMarker(database, cell, 'delete_cell', true);\n\n\t\t// 1.first we check left or right side focusable cell row by row;\n\t\ti = 0;\n\t\twhile ((cell = cellsToDelete[i++])) {\n\t\t\tif (\n\t\t\t\t((focusedCell = cell.getPrevious()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell')) ||\n\t\t\t\t((focusedCell = cell.getNext()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell'))\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\t\t\t\treturn focusedCell;\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\t// 2. then we check the toppest row (outside the selection area square) focusable cell\n\t\ttr = cellsToDelete[0].getParent();\n\t\tif ((tr = tr.getPrevious())) return tr.getLast();\n\n\t\t// 3. last we check the lowerest  row focusable cell\n\t\ttr = cellsToDelete[last].getParent();\n\t\tif ((tr = tr.getNext())) return tr.getChild(0);\n\n\t\treturn null;\n\t}\n\n\tfunction insertRow(selection, insertBefore) {\n\t\tlet cells = getSelectedCells(selection);\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet doc = firstCell.getDocument();\n\n\t\tlet startRow = cells[0].getParent();\n\n\t\tlet startRowIndex = startRow.$.rowIndex;\n\n\t\tlet lastCell = cells[cells.length - 1];\n\n\t\tlet endRowIndex =\n\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\tlet endRow = new CKEDITOR.dom.element(table.$.rows[endRowIndex]);\n\n\t\tlet rowIndex = insertBefore ? startRowIndex : endRowIndex;\n\n\t\tlet row = insertBefore ? startRow : endRow;\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet cloneRow = map[rowIndex];\n\n\t\tlet nextRow = insertBefore ? map[rowIndex - 1] : map[rowIndex + 1];\n\n\t\tlet width = map[0].length;\n\n\t\tlet newRow = doc.createElement('tr');\n\t\tfor (let i = 0; cloneRow[i] && i < width; i++) {\n\t\t\tlet cell;\n\t\t\t// Check whether there's a spanning row here, do not break it.\n\t\t\tif (\n\t\t\t\tcloneRow[i].rowSpan > 1 &&\n\t\t\t\tnextRow &&\n\t\t\t\tcloneRow[i] == nextRow[i]\n\t\t\t) {\n\t\t\t\tcell = cloneRow[i];\n\t\t\t\tcell.rowSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneRow[i]).clone();\n\t\t\t\tcell.removeAttribute('rowSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tnewRow.append(cell);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.colSpan - 1;\n\t\t}\n\n\t\tinsertBefore ? newRow.insertBefore(row) : newRow.insertAfter(row);\n\t}\n\n\tfunction deleteRows(selectionOrRow) {\n\t\tif (selectionOrRow instanceof CKEDITOR.dom.selection) {\n\t\t\tlet cells = getSelectedCells(selectionOrRow);\n\n\t\t\tlet firstCell = cells[0];\n\n\t\t\tconst table = firstCell.getAscendant('table');\n\n\t\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\t\tlet startRow = cells[0].getParent();\n\n\t\t\tlet startRowIndex = startRow.$.rowIndex;\n\n\t\t\tlet lastCell = cells[cells.length - 1];\n\n\t\t\tlet endRowIndex =\n\t\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\t\tlet rowsToDelete = [];\n\n\t\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\t\tfor (let i = startRowIndex; i <= endRowIndex; i++) {\n\t\t\t\tlet mapRow = map[i];\n\n\t\t\t\tlet row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\tfor (let j = 0; j < mapRow.length; j++) {\n\t\t\t\t\tlet cell = new CKEDITOR.dom.element(mapRow[j]);\n\n\t\t\t\t\tlet cellRowIndex = cell.getParent().$.rowIndex;\n\n\t\t\t\t\tif (cell.$.rowSpan == 1) cell.remove();\n\t\t\t\t\t// Row spanned cell.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Span row of the cell, reduce spanning.\n\t\t\t\t\t\tcell.$.rowSpan -= 1;\n\t\t\t\t\t\t// Root row of the cell, root cell to next row.\n\t\t\t\t\t\tif (cellRowIndex == i) {\n\t\t\t\t\t\t\tlet nextMapRow = map[i + 1];\n\t\t\t\t\t\t\tnextMapRow[j - 1]\n\t\t\t\t\t\t\t\t? cell.insertAfter(\n\t\t\t\t\t\t\t\t\t\tnew CKEDITOR.dom.element(\n\t\t\t\t\t\t\t\t\t\t\tnextMapRow[j - 1]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: new CKEDITOR.dom.element(\n\t\t\t\t\t\t\t\t\t\ttable.$.rows[i + 1]\n\t\t\t\t\t\t\t\t  ).append(cell, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tj += cell.$.colSpan - 1;\n\t\t\t\t}\n\n\t\t\t\trowsToDelete.push(row);\n\t\t\t}\n\n\t\t\tlet rows = table.$.rows;\n\n\t\t\t// Where to put the cursor after rows been deleted?\n\t\t\t// 1. Into next sibling row if any;\n\t\t\t// 2. Into previous sibling row if any;\n\t\t\t// 3. Into table's parent element if it's the very last row.\n\t\t\tlet cursorPosition = new CKEDITOR.dom.element(\n\t\t\t\trows[endRowIndex + 1] ||\n\t\t\t\t\t(startRowIndex > 0 ? rows[startRowIndex - 1] : null) ||\n\t\t\t\t\ttable.$.parentNode\n\t\t\t);\n\n\t\t\tfor (let i = rowsToDelete.length; i >= 0; i--)\n\t\t\t\tdeleteRows(rowsToDelete[i]);\n\n\t\t\treturn cursorPosition;\n\t\t} else if (selectionOrRow instanceof CKEDITOR.dom.element) {\n\t\t\tconst table = selectionOrRow.getAscendant('table');\n\n\t\t\tif (table.$.rows.length == 1) table.remove();\n\t\t\telse selectionOrRow.remove();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getCellColIndex(cell, isStart) {\n\t\tlet row = cell.getParent();\n\n\t\tlet rowCells = row.$.cells;\n\n\t\tlet colIndex = 0;\n\t\tfor (let i = 0; i < rowCells.length; i++) {\n\t\t\tlet mapCell = rowCells[i];\n\t\t\tcolIndex += isStart ? 1 : mapCell.colSpan;\n\t\t\tif (mapCell == cell.$) break;\n\t\t}\n\n\t\treturn colIndex - 1;\n\t}\n\n\tfunction getColumnsIndices(cells, isStart) {\n\t\tlet retval = isStart ? Infinity : 0;\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tlet colIndex = getCellColIndex(cells[i], isStart);\n\t\t\tif (isStart ? colIndex < retval : colIndex > retval)\n\t\t\t\tretval = colIndex;\n\t\t}\n\t\treturn retval;\n\t}\n\n\tfunction insertColumn(selection, insertBefore) {\n\t\tlet cells = getSelectedCells(selection);\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet startCol = getColumnsIndices(cells, 1);\n\n\t\tlet lastCol = getColumnsIndices(cells);\n\n\t\tlet colIndex = insertBefore ? startCol : lastCol;\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet cloneCol = [];\n\n\t\tlet nextCol = [];\n\n\t\tlet height = map.length;\n\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tcloneCol.push(map[i][colIndex]);\n\t\t\tlet nextCell = insertBefore\n\t\t\t\t? map[i][colIndex - 1]\n\t\t\t\t: map[i][colIndex + 1];\n\t\t\tnextCol.push(nextCell);\n\t\t}\n\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tlet cell;\n\n\t\t\tif (!cloneCol[i]) continue;\n\n\t\t\t// Check whether there's a spanning column here, do not break it.\n\t\t\tif (cloneCol[i].colSpan > 1 && nextCol[i] == cloneCol[i]) {\n\t\t\t\tcell = cloneCol[i];\n\t\t\t\tcell.colSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneCol[i]).clone();\n\t\t\t\tcell.removeAttribute('colSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tcell[insertBefore ? 'insertBefore' : 'insertAfter'].call(\n\t\t\t\t\tcell,\n\t\t\t\t\tnew CKEDITOR.dom.element(cloneCol[i])\n\t\t\t\t);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.rowSpan - 1;\n\t\t}\n\t}\n\n\tfunction deleteColumns(selectionOrCell) {\n\t\tlet cells = getSelectedCells(selectionOrCell);\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet lastCell = cells[cells.length - 1];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet startColIndex;\n\n\t\tlet endColIndex;\n\n\t\tlet rowsToDelete = [];\n\n\t\tlet rows;\n\n\t\t// Figure out selected cells' column indices.\n\t\tfor (let i = 0, rows = map.length; i < rows; i++) {\n\t\t\tfor (let j = 0, cols = map[i].length; j < cols; j++) {\n\t\t\t\tif (map[i][j] == firstCell.$) startColIndex = j;\n\t\t\t\tif (map[i][j] == lastCell.$) endColIndex = j;\n\t\t\t}\n\t\t}\n\n\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\tfor (let i = startColIndex; i <= endColIndex; i++) {\n\t\t\tfor (let j = 0; j < map.length; j++) {\n\t\t\t\tlet mapRow = map[j];\n\n\t\t\t\tlet row = new CKEDITOR.dom.element(table.$.rows[j]);\n\n\t\t\t\tlet cell = new CKEDITOR.dom.element(mapRow[i]);\n\n\t\t\t\tif (cell.$) {\n\t\t\t\t\tif (cell.$.colSpan == 1) cell.remove();\n\t\t\t\t\t// Reduce the col spans.\n\t\t\t\t\telse cell.$.colSpan -= 1;\n\n\t\t\t\t\tj += cell.$.rowSpan - 1;\n\n\t\t\t\t\tif (!row.$.cells.length) rowsToDelete.push(row);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet firstRowCells = table.$.rows[0] && table.$.rows[0].cells;\n\n\t\t// Where to put the cursor after columns been deleted?\n\t\t// 1. Into next cell of the first row if any;\n\t\t// 2. Into previous cell of the first row if any;\n\t\t// 3. Into table's parent element;\n\t\tlet cursorPosition = new CKEDITOR.dom.element(\n\t\t\tfirstRowCells[startColIndex] ||\n\t\t\t\t(startColIndex\n\t\t\t\t\t? firstRowCells[startColIndex - 1]\n\t\t\t\t\t: table.$.parentNode)\n\t\t);\n\n\t\t// Delete table rows only if all columns are gone (do not remove empty row).\n\t\tif (rowsToDelete.length == rows) table.remove();\n\n\t\treturn cursorPosition;\n\t}\n\n\tfunction insertCell(selection, insertBefore) {\n\t\tlet startElement = selection.getStartElement();\n\t\tlet cell =\n\t\t\tstartElement.getAscendant('td', 1) ||\n\t\t\tstartElement.getAscendant('th', 1);\n\n\t\tif (!cell) return;\n\n\t\t// Create the new cell element to be added.\n\t\tlet newCell = cell.clone();\n\t\tnewCell.appendBogus();\n\n\t\tif (insertBefore) newCell.insertBefore(cell);\n\t\telse newCell.insertAfter(cell);\n\t}\n\n\tfunction deleteCells(selectionOrCell) {\n\t\tif (selectionOrCell instanceof CKEDITOR.dom.selection) {\n\t\t\tlet cellsToDelete = getSelectedCells(selectionOrCell);\n\t\t\tlet table =\n\t\t\t\tcellsToDelete[0] && cellsToDelete[0].getAscendant('table');\n\t\t\tlet cellToFocus = getFocusElementAfterDelCells(cellsToDelete);\n\n\t\t\tfor (let i = cellsToDelete.length - 1; i >= 0; i--)\n\t\t\t\tdeleteCells(cellsToDelete[i]);\n\n\t\t\tif (cellToFocus) placeCursorInCell(cellToFocus, true);\n\t\t\telse if (table) table.remove();\n\t\t} else if (selectionOrCell instanceof CKEDITOR.dom.element) {\n\t\t\tlet tr = selectionOrCell.getParent();\n\t\t\tif (tr.getChildCount() == 1) tr.remove();\n\t\t\telse selectionOrCell.remove();\n\t\t}\n\t}\n\n\t// Remove filler at end and empty spaces around the cell content.\n\tfunction trimCell(cell) {\n\t\tlet bogus = cell.getBogus();\n\t\tbogus && bogus.remove();\n\t\tcell.trim();\n\t}\n\n\tfunction placeCursorInCell(cell, placeAtEnd) {\n\t\tlet docInner = cell.getDocument();\n\n\t\tlet docOuter = CKEDITOR.document;\n\n\t\t// Fixing \"Unspecified error\" thrown in IE10 by resetting\n\t\t// selection the dirty and shameful way (#10308).\n\t\t// We can not apply this hack to IE8 because\n\t\t// it causes error (#11058).\n\t\tif (CKEDITOR.env.ie && CKEDITOR.env.version == 10) {\n\t\t\tdocOuter.focus();\n\t\t\tdocInner.focus();\n\t\t}\n\n\t\tlet range = new CKEDITOR.dom.range(docInner);\n\t\tif (\n\t\t\t!range['moveToElementEdit' + (placeAtEnd ? 'End' : 'Start')](cell)\n\t\t) {\n\t\t\trange.selectNodeContents(cell);\n\t\t\trange.collapse(placeAtEnd ? false : true);\n\t\t}\n\t\trange.select(true);\n\t}\n\n\tfunction cellInRow(tableMap, rowIndex, cell) {\n\t\tlet oRow = tableMap[rowIndex];\n\t\tif (typeof cell == 'undefined') return oRow;\n\n\t\tfor (let c = 0; oRow && c < oRow.length; c++) {\n\t\t\tif (cell.is && oRow[c] == cell.$) return c;\n\t\t\telse if (c == cell) return new CKEDITOR.dom.element(oRow[c]);\n\t\t}\n\t\treturn cell.is ? -1 : null;\n\t}\n\n\tfunction cellInCol(tableMap, colIndex) {\n\t\tlet oCol = [];\n\t\tfor (let r = 0; r < tableMap.length; r++) {\n\t\t\tlet row = tableMap[r];\n\t\t\toCol.push(row[colIndex]);\n\n\t\t\t// Avoid adding duplicate cells.\n\t\t\tif (row[colIndex].rowSpan > 1) r += row[colIndex].rowSpan - 1;\n\t\t}\n\t\treturn oCol;\n\t}\n\n\tfunction mergeCells(selection, mergeDirection, isDetect) {\n\t\tlet cells = getSelectedCells(selection);\n\n\t\t// Invalid merge request if:\n\t\t// 1. In batch mode despite that less than two selected.\n\t\t// 2. In solo mode while not exactly only one selected.\n\t\t// 3. Cells distributed in different table groups (e.g. from both thead and tbody).\n\t\tlet commonAncestor;\n\t\tif (\n\t\t\t(mergeDirection ? cells.length != 1 : cells.length < 2) ||\n\t\t\t((commonAncestor = selection.getCommonAncestor()) &&\n\t\t\t\tcommonAncestor.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcommonAncestor.is('table'))\n\t\t)\n\t\t\treturn false;\n\n\t\tlet cell;\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet mapHeight = map.length;\n\n\t\tlet mapWidth = map[0].length;\n\n\t\tlet startRow = firstCell.getParent().$.rowIndex;\n\n\t\tlet startColumn = cellInRow(map, startRow, firstCell);\n\n\t\tif (mergeDirection) {\n\t\t\tlet targetCell;\n\t\t\ttry {\n\t\t\t\tlet rowspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('rowspan'), 10) || 1;\n\t\t\t\tlet colspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('colspan'), 10) || 1;\n\n\t\t\t\ttargetCell =\n\t\t\t\t\tmap[\n\t\t\t\t\t\tmergeDirection == 'up'\n\t\t\t\t\t\t\t? startRow - rowspan\n\t\t\t\t\t\t\t: mergeDirection == 'down'\n\t\t\t\t\t\t\t? startRow + rowspan\n\t\t\t\t\t\t\t: startRow\n\t\t\t\t\t][\n\t\t\t\t\t\tmergeDirection == 'left'\n\t\t\t\t\t\t\t? startColumn - colspan\n\t\t\t\t\t\t\t: mergeDirection == 'right'\n\t\t\t\t\t\t\t? startColumn + colspan\n\t\t\t\t\t\t\t: startColumn\n\t\t\t\t\t];\n\t\t\t} catch (er) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 1. No cell could be merged.\n\t\t\t// 2. Same cell actually.\n\t\t\tif (!targetCell || firstCell.$ == targetCell) return false;\n\n\t\t\t// Sort in map order regardless of the DOM sequence.\n\t\t\tcells[\n\t\t\t\tmergeDirection == 'up' || mergeDirection == 'left'\n\t\t\t\t\t? 'unshift'\n\t\t\t\t\t: 'push'\n\t\t\t](new CKEDITOR.dom.element(targetCell));\n\t\t}\n\n\t\t// Start from here are merging way ignorance (merge up/right, batch merge).\n\t\tlet doc = firstCell.getDocument();\n\n\t\tlet lastRowIndex = startRow;\n\n\t\tlet totalRowSpan = 0;\n\n\t\tlet totalColSpan = 0;\n\n\t\t// Use a documentFragment as buffer when appending cell contents.\n\n\t\tlet frag = !isDetect && new CKEDITOR.dom.documentFragment(doc);\n\n\t\tlet dimension = 0;\n\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tcell = cells[i];\n\n\t\t\tlet tr = cell.getParent();\n\n\t\t\tlet cellFirstChild = cell.getFirst();\n\n\t\t\tlet colSpan = cell.$.colSpan;\n\n\t\t\tlet rowSpan = cell.$.rowSpan;\n\n\t\t\tlet rowIndex = tr.$.rowIndex;\n\n\t\t\tlet colIndex = cellInRow(map, rowIndex, cell);\n\n\t\t\t// Accumulated the actual places taken by all selected cells.\n\t\t\tdimension += colSpan * rowSpan;\n\t\t\t// Accumulated the maximum virtual spans from column and row.\n\t\t\ttotalColSpan = Math.max(\n\t\t\t\ttotalColSpan,\n\t\t\t\tcolIndex - startColumn + colSpan\n\t\t\t);\n\t\t\ttotalRowSpan = Math.max(\n\t\t\t\ttotalRowSpan,\n\t\t\t\trowIndex - startRow + rowSpan\n\t\t\t);\n\n\t\t\tif (!isDetect) {\n\t\t\t\t// Trim all cell fillers and check to remove empty cells.\n\t\t\t\tif ((trimCell(cell), cell.getChildren().count())) {\n\t\t\t\t\t// Merge vertically cells as two separated paragraphs.\n\t\t\t\t\tif (\n\t\t\t\t\t\trowIndex != lastRowIndex &&\n\t\t\t\t\t\tcellFirstChild &&\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary &&\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary({br: 1})\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tlet last = frag.getLast(\n\t\t\t\t\t\t\tCKEDITOR.dom.walker.whitespaces(true)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (last && !(last.is && last.is('br')))\n\t\t\t\t\t\t\tfrag.append('br');\n\t\t\t\t\t}\n\n\t\t\t\t\tcell.moveChildren(frag);\n\t\t\t\t}\n\t\t\t\ti ? cell.remove() : cell.setHtml('');\n\t\t\t}\n\t\t\tlastRowIndex = rowIndex;\n\t\t}\n\n\t\tif (!isDetect) {\n\t\t\tfrag.moveChildren(firstCell);\n\n\t\t\tfirstCell.appendBogus();\n\n\t\t\tif (totalColSpan >= mapWidth) firstCell.removeAttribute('rowSpan');\n\t\t\telse firstCell.$.rowSpan = totalRowSpan;\n\n\t\t\tif (totalRowSpan >= mapHeight) firstCell.removeAttribute('colSpan');\n\t\t\telse firstCell.$.colSpan = totalColSpan;\n\n\t\t\t// Swip empty <tr> left at the end of table due to the merging.\n\t\t\tlet trs = new CKEDITOR.dom.nodeList(table.$.rows);\n\n\t\t\tlet count = trs.count();\n\n\t\t\tfor (let i = count - 1; i >= 0; i--) {\n\t\t\t\tlet tailTr = trs.getItem(i);\n\t\t\t\tif (!tailTr.$.cells.length) {\n\t\t\t\t\ttailTr.remove();\n\t\t\t\t\tcount++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn firstCell;\n\t\t}\n\t\t// Be able to merge cells only if actual dimension of selected\n\t\t// cells equals to the caculated rectangle.\n\t\telse {\n\t\t\treturn totalRowSpan * totalColSpan == dimension;\n\t\t}\n\t}\n\n\tfunction verticalSplitCell(selection, isDetect) {\n\t\tlet cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tlet cell = cells[0];\n\n\t\tlet tr = cell.getParent();\n\n\t\tlet table = tr.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet rowIndex = tr.$.rowIndex;\n\n\t\tlet colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tlet rowSpan = cell.$.rowSpan;\n\n\t\tlet newCell;\n\n\t\tlet newRowSpan;\n\n\t\tlet newCellRowSpan;\n\n\t\tlet newRowIndex;\n\n\t\tif (rowSpan > 1) {\n\t\t\tnewRowSpan = Math.ceil(rowSpan / 2);\n\t\t\tnewCellRowSpan = Math.floor(rowSpan / 2);\n\t\t\tnewRowIndex = rowIndex + newRowSpan;\n\t\t\tconst newCellTr = new CKEDITOR.dom.element(\n\t\t\t\ttable.$.rows[newRowIndex]\n\t\t\t);\n\n\t\t\tlet newCellRow = cellInRow(map, newRowIndex);\n\n\t\t\tlet candidateCell;\n\n\t\t\tnewCell = cell.clone();\n\n\t\t\t// Figure out where to insert the new cell by checking the vitual row.\n\t\t\tfor (let c = 0; c < newCellRow.length; c++) {\n\t\t\t\tcandidateCell = newCellRow[c];\n\t\t\t\t// Catch first cell actually following the column.\n\t\t\t\tif (candidateCell.parentNode == newCellTr.$ && c > colIndex) {\n\t\t\t\t\tnewCell.insertBefore(\n\t\t\t\t\t\tnew CKEDITOR.dom.element(candidateCell)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcandidateCell = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The destination row is empty, append at will.\n\t\t\tif (!candidateCell) newCellTr.append(newCell);\n\t\t} else {\n\t\t\tnewCellRowSpan = newRowSpan = 1;\n\n\t\t\tconst newCellTr = tr.clone();\n\t\t\tnewCellTr.insertAfter(tr);\n\t\t\tnewCellTr.append((newCell = cell.clone()));\n\n\t\t\tlet cellsInSameRow = cellInRow(map, rowIndex);\n\t\t\tfor (let i = 0; i < cellsInSameRow.length; i++)\n\t\t\t\tcellsInSameRow[i].rowSpan++;\n\t\t}\n\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.rowSpan = newRowSpan;\n\t\tnewCell.$.rowSpan = newCellRowSpan;\n\t\tif (newRowSpan == 1) cell.removeAttribute('rowSpan');\n\t\tif (newCellRowSpan == 1) newCell.removeAttribute('rowSpan');\n\n\t\treturn newCell;\n\t}\n\n\tfunction horizontalSplitCell(selection, isDetect) {\n\t\tlet cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tlet cell = cells[0];\n\n\t\tlet tr = cell.getParent();\n\n\t\tlet table = tr.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet rowIndex = tr.$.rowIndex;\n\n\t\tlet colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tlet colSpan = cell.$.colSpan;\n\n\t\tlet newCell;\n\n\t\tlet newColSpan;\n\n\t\tlet newCellColSpan;\n\n\t\tif (colSpan > 1) {\n\t\t\tnewColSpan = Math.ceil(colSpan / 2);\n\t\t\tnewCellColSpan = Math.floor(colSpan / 2);\n\t\t} else {\n\t\t\tnewCellColSpan = newColSpan = 1;\n\t\t\tlet cellsInSameCol = cellInCol(map, colIndex);\n\t\t\tfor (let i = 0; i < cellsInSameCol.length; i++)\n\t\t\t\tcellsInSameCol[i].colSpan++;\n\t\t}\n\t\tnewCell = cell.clone();\n\t\tnewCell.insertAfter(cell);\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.colSpan = newColSpan;\n\t\tnewCell.$.colSpan = newCellColSpan;\n\t\tif (newColSpan == 1) cell.removeAttribute('colSpan');\n\t\tif (newCellColSpan == 1) newCell.removeAttribute('colSpan');\n\n\t\treturn newCell;\n\t}\n\n\tCKEDITOR.plugins.add('ae_tabletools', {\n\t\tinit: function(editor) {\n\t\t\tfunction createDef(def) {\n\t\t\t\treturn CKEDITOR.tools.extend(def || {}, {\n\t\t\t\t\tcontextSensitive: 1,\n\t\t\t\t\trefresh: function(editor, path) {\n\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\tpath.contains({td: 1, th: 1}, 1)\n\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction addCmd(name, def) {\n\t\t\t\tlet cmd = editor.getCommand(name);\n\n\t\t\t\tif (cmd) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcmd = editor.addCommand(name, def);\n\t\t\t\teditor.addFeature(cmd);\n\t\t\t}\n\n\t\t\taddCmd(\n\t\t\t\t'rowDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tplaceCursorInCell(deleteRows(selection));\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertRow(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertRow(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tlet element = deleteColumns(selection);\n\t\t\t\t\t\telement && placeCursorInCell(element, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertColumn(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertColumn(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tdeleteCells(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMerge',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan,rowspan]',\n\t\t\t\t\trequiredContent: 'td[colspan,rowspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection()),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeRight',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'right'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeDown',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'down'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellVerticalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tverticalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellHorizontalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\thorizontalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\n\t\tgetSelectedCells: getSelectedCells,\n\t});\n}\n\n/**\n * Create a two-dimension array that reflects the actual layout of table cells,\n * with cell spans, with mappings to the original td elements.\n *\n * @param {CKEDITOR.dom.element} table\n * @member CKEDITOR.tools\n */\nCKEDITOR.tools.buildTableMap = function(table) {\n\tlet aRows = table.$.rows;\n\n\t// Row and Column counters.\n\tlet r = -1;\n\n\tlet aMap = [];\n\n\tfor (let i = 0; i < aRows.length; i++) {\n\t\tr++;\n\t\t!aMap[r] && (aMap[r] = []);\n\n\t\tlet c = -1;\n\n\t\tfor (let j = 0; j < aRows[i].cells.length; j++) {\n\t\t\tlet oCell = aRows[i].cells[j];\n\n\t\t\tc++;\n\t\t\twhile (aMap[r][c]) c++;\n\n\t\t\tlet iColSpan = isNaN(oCell.colSpan) ? 1 : oCell.colSpan;\n\t\t\tlet iRowSpan = isNaN(oCell.rowSpan) ? 1 : oCell.rowSpan;\n\n\t\t\tfor (let rs = 0; rs < iRowSpan; rs++) {\n\t\t\t\tif (!aMap[r + rs]) aMap[r + rs] = [];\n\n\t\t\t\tfor (let cs = 0; cs < iColSpan; cs++) {\n\t\t\t\t\taMap[r + rs][c + cs] = aRows[i].cells[j];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc += iColSpan - 1;\n\t\t}\n\t}\n\treturn aMap;\n};\n","import './button.jsx';\nimport './menu-button.jsx';\nimport './menu.jsx';\nimport './panel-menu-button.jsx';\nimport './richcombo.jsx';\nimport './uibridge';\n","import React from 'react';\nimport EditorContext from '../../adapter/editor-context';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_buttonbridge')) {\n\tlet BUTTON_DEFS = {};\n\n\t/**\n\t * Generates a ButtonBridge React class for a given button definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateButtonBridge\n\t * @param {String} buttonName The button's name\n\t * @param {Object} buttonDefinition The button's definition\n\t * @return {Object} The generated or already existing React Button Class\n\t */\n\n\tfunction generateButtonBridge(buttonName, buttonDefinition, editor) {\n\t\tlet ButtonBridge = AlloyEditor.Buttons[buttonName];\n\n\t\tBUTTON_DEFS[editor.name] = BUTTON_DEFS[editor.name] || {};\n\t\tBUTTON_DEFS[editor.name][buttonName] =\n\t\t\tBUTTON_DEFS[editor.name][buttonName] || buttonDefinition;\n\n\t\tif (!ButtonBridge) {\n\t\t\tButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = buttonName;\n\n\t\t\t\tstatic key = buttonName;\n\n\t\t\t\t// API not yet implemented inside the button\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tlet buttonDisplayName =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].name ||\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command ||\n\t\t\t\t\t\tbuttonName;\n\n\t\t\t\t\tlet buttonLabel =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].label;\n\n\t\t\t\t\tlet buttonType = 'button-' + buttonDisplayName;\n\n\t\t\t\t\tlet iconClassName = 'ae-icon-' + buttonDisplayName;\n\n\t\t\t\t\tlet iconStyle = {};\n\n\t\t\t\t\tlet cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tbuttonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tlet cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\taria-label={buttonLabel}\n\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\tdata-type={buttonType}\n\t\t\t\t\t\t\tonClick={this._handleClick}\n\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\ttitle={buttonLabel}>\n\t\t\t\t\t\t\t<span className={iconClassName} style={iconStyle} />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_handleClick = () => {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet buttonCommand =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command;\n\n\t\t\t\t\tlet buttonOnClick =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].onClick;\n\n\t\t\t\t\tif (buttonOnClick) {\n\t\t\t\t\t\tbuttonOnClick.call(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.execCommand(buttonCommand);\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[buttonName] = ButtonBridge;\n\t\t}\n\n\t\treturn ButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('button')) {\n\t\tCKEDITOR.UI_BUTTON = 'button';\n\n\t\tCKEDITOR.plugins.add('button', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Button plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_BUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_buttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_buttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addButton = function(buttonName, buttonDefinition) {\n\t\t\t\tthis.add(buttonName, CKEDITOR.UI_BUTTON, buttonDefinition);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_BUTTON, {\n\t\t\t\tadd: generateButtonBridge,\n\t\t\t\tcreate: function(buttonDefinition) {\n\t\t\t\t\tlet buttonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet ButtonBridge = generateButtonBridge(\n\t\t\t\t\t\tbuttonName,\n\t\t\t\t\t\tbuttonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new ButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/** @license React v16.8.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var k=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.concurrent_mode\"):60111,y=n?Symbol.for(\"react.forward_ref\"):60112,z=n?Symbol.for(\"react.suspense\"):60113,aa=n?Symbol.for(\"react.memo\"):\n60115,ba=n?Symbol.for(\"react.lazy\"):60116,A=\"function\"===typeof Symbol&&Symbol.iterator;function ca(a,b,d,c,e,g,h,f){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[d,c,e,g,h,f],m=0;a=Error(b.replace(/%s/g,function(){return l[m++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction B(a){for(var b=arguments.length-1,d=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=0;c<b;c++)d+=\"&args[]=\"+encodeURIComponent(arguments[c+1]);ca(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",d)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};\nfunction E(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}E.prototype.isReactComponent={};E.prototype.setState=function(a,b){\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a?B(\"85\"):void 0;this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}var H=G.prototype=new F;\nH.constructor=G;k(H,E.prototype);H.isPureReactComponent=!0;var I={current:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,d){var c=void 0,e={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var l=Array(f),m=0;m<f;m++)l[m]=arguments[m+2];e.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps,f)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:e,_owner:J.current}}\nfunction da(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var O=/\\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();e.result=a;e.keyPrefix=b;e.func=d;e.context=c;e.count=0;return e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}\nfunction R(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>P.length&&P.push(a)}\nfunction S(a,b,d,c){var e=typeof a;if(\"undefined\"===e||\"boolean\"===e)a=null;var g=!1;if(null===a)g=!0;else switch(e){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,\"\"===b?\".\"+T(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var h=0;h<a.length;h++){e=a[h];var f=b+T(e,h);g+=S(e,f,d,c)}else if(null===a||\"object\"!==typeof a?f=null:(f=A&&a[A]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),h=\n0;!(e=a.next()).done;)e=e.value,f=b+T(e,h++),g+=S(e,f,d,c);else\"object\"===e&&(d=\"\"+a,B(\"31\",\"[object Object]\"===d?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":d,\"\"));return g}function U(a,b,d){return null==a?0:S(a,\"\",b,d)}function T(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}\nfunction fa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?V(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=da(a,e+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(O,\"$&/\")+\"/\")+d)),c.push(a))}function V(a,b,d,c,e){var g=\"\";null!=d&&(g=(\"\"+d).replace(O,\"$&/\")+\"/\");b=Q(b,g,c,e);U(a,fa,b);R(b)}function W(){var a=I.current;null===a?B(\"307\"):void 0;return a}\nvar X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];V(a,c,null,b,d);return c},forEach:function(a,b,d){if(null==a)return a;b=Q(null,null,b,d);U(a,ea,b);R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];V(a,b,null,function(a){return a});return b},only:function(a){N(a)?void 0:B(\"143\");return a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,\n_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:y,render:a}},lazy:function(a){return{$$typeof:ba,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:aa,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,\nb,d){return W().useImperativeHandle(a,b,d)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,d){return W().useReducer(a,b,d)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,StrictMode:t,Suspense:z,createElement:M,cloneElement:function(a,b,d){null===a||void 0===a?B(\"267\",a):void 0;var c=void 0,e=k({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=\nb){void 0!==b.ref&&(h=b.ref,f=J.current);void 0!==b.key&&(g=\"\"+b.key);var l=void 0;a.type&&a.type.defaultProps&&(l=a.type.defaultProps);for(c in b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}c=arguments.length-2;if(1===c)e.children=d;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:p,type:a.type,key:g,ref:h,props:e,_owner:f}},createFactory:function(a){var b=M.bind(null,a);b.type=a;return b},isValidElement:N,version:\"16.8.1\",\nunstable_ConcurrentMode:x,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentOwner:J,assign:k}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z;\n","import React from 'react';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_menubuttonbridge')) {\n\tlet MENUBUTTON_DEFS = {};\n\n\t/**\n\t * Generates a MenuButtonBridge React class for a given menuButton definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateMenuButtonBridge\n\t * @param {String} menuButtonName The menuButton's name\n\t * @param {Object} menuButtonDefinition The menuButton's definition\n\t * @return {Object} The generated or already existing React MenuButton Class\n\t */\n\tfunction generateMenuButtonBridge(\n\t\tmenuButtonName,\n\t\tmenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet MenuButtonBridge = AlloyEditor.Buttons[menuButtonName];\n\n\t\tMENUBUTTON_DEFS[editor.name] = MENUBUTTON_DEFS[editor.name] || {};\n\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] =\n\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] ||\n\t\t\tmenuButtonDefinition;\n\n\t\tif (!MenuButtonBridge) {\n\t\t\tMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = menuButtonName;\n\n\t\t\t\tstatic key = menuButtonName;\n\n\t\t\t\t// API not yet implemented inside the menubutton\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet panelMenuButtonDisplayName =\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].name ||\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].command ||\n\t\t\t\t\t\tmenuButtonName;\n\n\t\t\t\t\tlet buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tlet iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tlet iconStyle = {};\n\n\t\t\t\t\tlet cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tlet cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getMenuItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getMenuItems() {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\t\t\t\t\tlet items = menuButtonDefinition.onMenu();\n\t\t\t\t\tlet menuItems = Object.keys(items).map(function(key) {\n\t\t\t\t\t\tlet menuItem = editor.getMenuItem(key);\n\n\t\t\t\t\t\tif (!menuItem) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet menuItemDefinition =\n\t\t\t\t\t\t\tmenuItem.definition || menuItem;\n\t\t\t\t\t\tlet menuItemState = items[key];\n\n\t\t\t\t\t\tlet className =\n\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t(menuItemState === CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '');\n\t\t\t\t\t\tlet disabled =\n\t\t\t\t\t\t\tmenuItemState === CKEDITOR.TRISTATE_DISABLED;\n\t\t\t\t\t\tlet onClick = function() {\n\t\t\t\t\t\t\tif (menuItemDefinition.command) {\n\t\t\t\t\t\t\t\teditor.execCommand(menuItemDefinition.command);\n\t\t\t\t\t\t\t} else if (menuItemDefinition.onClick) {\n\t\t\t\t\t\t\t\tmenuItemDefinition.onClick.apply(\n\t\t\t\t\t\t\t\t\tmenuItemDefinition\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={menuItem.name} role=\"option\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tonClick={onClick}>\n\t\t\t\t\t\t\t\t\t{menuItemDefinition.label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn menuItems;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[menuButtonName] = MenuButtonBridge;\n\t\t}\n\n\t\treturn MenuButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('menubutton')) {\n\t\tCKEDITOR.UI_MENU_BUTTON = 'menubutton';\n\n\t\tCKEDITOR.plugins.add('menubutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor MenuButton plugin. It takes over the\n\t * responsibility of registering and creating menuButtons via:\n\t * - editor.ui.addMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_MENUBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @requires CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubuttonbridge', {\n\t\trequires: ['ae_uibridge', 'ae_menubridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_MENUBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addMenuButton = function(\n\t\t\t\tmenuButtonName,\n\t\t\t\tmenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tmenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_MENUBUTTON,\n\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_MENUBUTTON, {\n\t\t\t\tadd: generateMenuButtonBridge,\n\t\t\t\tcreate: function(menuButtonDefinition) {\n\t\t\t\t\tlet menuButtonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet MenuButtonBridge = generateMenuButtonBridge(\n\t\t\t\t\t\tmenuButtonName,\n\t\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new MenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/** @license React v16.8.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),p=require(\"object-assign\"),ba=require(\"scheduler\");function ca(a,b,c,d,e,f,g,h){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[c,d,e,f,g,h],k=0;a=Error(b.replace(/%s/g,function(){return l[k++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction t(a){for(var b=arguments.length-1,c=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,d=0;d<b;d++)c+=\"&args[]=\"+encodeURIComponent(arguments[d+1]);ca(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",c)}aa?void 0:t(\"227\");function da(a,b,c,d,e,f,g,h,l){var k=Array.prototype.slice.call(arguments,3);try{b.apply(c,k)}catch(m){this.onError(m)}}\nvar ea=!1,fa=null,ha=!1,ia=null,ja={onError:function(a){ea=!0;fa=a}};function ka(a,b,c,d,e,f,g,h,l){ea=!1;fa=null;da.apply(ja,arguments)}function la(a,b,c,d,e,f,g,h,l){ka.apply(this,arguments);if(ea){if(ea){var k=fa;ea=!1;fa=null}else t(\"198\"),k=void 0;ha||(ha=!0,ia=k)}}var ma=null,na={};\nfunction oa(){if(ma)for(var a in na){var b=na[a],c=ma.indexOf(a);-1<c?void 0:t(\"96\",a);if(!pa[c]){b.extractEvents?void 0:t(\"97\",a);pa[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;ra.hasOwnProperty(h)?t(\"99\",h):void 0;ra[h]=f;var l=f.phasedRegistrationNames;if(l){for(e in l)l.hasOwnProperty(e)&&sa(l[e],g,h);e=!0}else f.registrationName?(sa(f.registrationName,g,h),e=!0):e=!1;e?void 0:t(\"98\",d,a)}}}}\nfunction sa(a,b,c){ta[a]?t(\"100\",a):void 0;ta[a]=b;ua[a]=b.eventTypes[c].dependencies}var pa=[],ra={},ta={},ua={},va=null,wa=null,xa=null;function ya(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=xa(c);la(d,b,void 0,a);a.currentTarget=null}function za(a,b){null==b?t(\"30\"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}\nfunction Aa(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var Ba=null;function Ca(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)ya(a,b[d],c[d]);else b&&ya(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}\nvar Da={injectEventPluginOrder:function(a){ma?t(\"101\"):void 0;ma=Array.prototype.slice.call(a);oa()},injectEventPluginsByName:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];na.hasOwnProperty(c)&&na[c]===d||(na[c]?t(\"102\",c):void 0,na[c]=d,b=!0)}b&&oa()}};\nfunction Ea(a,b){var c=a.stateNode;if(!c)return null;var d=va(c);if(!d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;c&&\"function\"!==typeof c?t(\"231\",b,typeof c):void 0;\nreturn c}function Fa(a){null!==a&&(Ba=za(Ba,a));a=Ba;Ba=null;if(a&&(Aa(a,Ca),Ba?t(\"95\"):void 0,ha))throw a=ia,ha=!1,ia=null,a;}var Ga=Math.random().toString(36).slice(2),Ha=\"__reactInternalInstance$\"+Ga,Ia=\"__reactEventHandlers$\"+Ga;function Ja(a){if(a[Ha])return a[Ha];for(;!a[Ha];)if(a.parentNode)a=a.parentNode;else return null;a=a[Ha];return 5===a.tag||6===a.tag?a:null}function Ka(a){a=a[Ha];return!a||5!==a.tag&&6!==a.tag?null:a}\nfunction La(a){if(5===a.tag||6===a.tag)return a.stateNode;t(\"33\")}function Ma(a){return a[Ia]||null}function Na(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function Oa(a,b,c){if(b=Ea(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=za(c._dispatchListeners,b),c._dispatchInstances=za(c._dispatchInstances,a)}\nfunction Pa(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=Na(b);for(b=c.length;0<b--;)Oa(c[b],\"captured\",a);for(b=0;b<c.length;b++)Oa(c[b],\"bubbled\",a)}}function Qa(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Ea(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=za(c._dispatchListeners,b),c._dispatchInstances=za(c._dispatchInstances,a))}function Ra(a){a&&a.dispatchConfig.registrationName&&Qa(a._targetInst,null,a)}\nfunction Sa(a){Aa(a,Pa)}var Ta=!(\"undefined\"===typeof window||!window.document||!window.document.createElement);function Ua(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Va={animationend:Ua(\"Animation\",\"AnimationEnd\"),animationiteration:Ua(\"Animation\",\"AnimationIteration\"),animationstart:Ua(\"Animation\",\"AnimationStart\"),transitionend:Ua(\"Transition\",\"TransitionEnd\")},Wa={},Xa={};\nTa&&(Xa=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),\"TransitionEvent\"in window||delete Va.transitionend.transition);function Ya(a){if(Wa[a])return Wa[a];if(!Va[a])return a;var b=Va[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Xa)return Wa[a]=b[c];return a}\nvar Za=Ya(\"animationend\"),$a=Ya(\"animationiteration\"),ab=Ya(\"animationstart\"),bb=Ya(\"transitionend\"),cb=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),db=null,eb=null,fb=null;\nfunction gb(){if(fb)return fb;var a,b=eb,c=b.length,d,e=\"value\"in db?db.value:db.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return fb=e.slice(a,1<d?1-d:void 0)}function hb(){return!0}function ib(){return!1}\nfunction A(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):\"target\"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?hb:ib;this.isPropagationStopped=ib;return this}\np(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=hb)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=hb)},persist:function(){this.isPersistent=hb},isPersistent:ib,destructor:function(){var a=this.constructor.Interface,\nb;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ib;this._dispatchInstances=this._dispatchListeners=null}});A.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};\nA.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;p(e,c.prototype);c.prototype=e;c.prototype.constructor=c;c.Interface=p({},d.Interface,a);c.extend=d.extend;jb(c);return c};jb(A);function kb(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function lb(a){a instanceof this?void 0:t(\"279\");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}\nfunction jb(a){a.eventPool=[];a.getPooled=kb;a.release=lb}var mb=A.extend({data:null}),nb=A.extend({data:null}),ob=[9,13,27,32],pb=Ta&&\"CompositionEvent\"in window,qb=null;Ta&&\"documentMode\"in document&&(qb=document.documentMode);\nvar rb=Ta&&\"TextEvent\"in window&&!qb,sb=Ta&&(!pb||qb&&8<qb&&11>=qb),tb=String.fromCharCode(32),ub={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",\ncaptured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},wb=!1;\nfunction xb(a,b){switch(a){case \"keyup\":return-1!==ob.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"blur\":return!0;default:return!1}}function yb(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var zb=!1;function Ab(a,b){switch(a){case \"compositionend\":return yb(b);case \"keypress\":if(32!==b.which)return null;wb=!0;return tb;case \"textInput\":return a=b.data,a===tb&&wb?null:a;default:return null}}\nfunction Bb(a,b){if(zb)return\"compositionend\"===a||!pb&&xb(a,b)?(a=gb(),fb=eb=db=null,zb=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return sb&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar Cb={eventTypes:ub,extractEvents:function(a,b,c,d){var e=void 0;var f=void 0;if(pb)b:{switch(a){case \"compositionstart\":e=ub.compositionStart;break b;case \"compositionend\":e=ub.compositionEnd;break b;case \"compositionupdate\":e=ub.compositionUpdate;break b}e=void 0}else zb?xb(a,c)&&(e=ub.compositionEnd):\"keydown\"===a&&229===c.keyCode&&(e=ub.compositionStart);e?(sb&&\"ko\"!==c.locale&&(zb||e!==ub.compositionStart?e===ub.compositionEnd&&zb&&(f=gb()):(db=d,eb=\"value\"in db?db.value:db.textContent,zb=\n!0)),e=mb.getPooled(e,b,c,d),f?e.data=f:(f=yb(c),null!==f&&(e.data=f)),Sa(e),f=e):f=null;(a=rb?Ab(a,c):Bb(a,c))?(b=nb.getPooled(ub.beforeInput,b,c,d),b.data=a,Sa(b)):b=null;return null===f?b:null===b?f:[f,b]}},Db=null,Eb=null,Fb=null;function Gb(a){if(a=wa(a)){\"function\"!==typeof Db?t(\"280\"):void 0;var b=va(a.stateNode);Db(a.stateNode,a.type,b)}}function Hb(a){Eb?Fb?Fb.push(a):Fb=[a]:Eb=a}function Ib(){if(Eb){var a=Eb,b=Fb;Fb=Eb=null;Gb(a);if(b)for(a=0;a<b.length;a++)Gb(b[a])}}\nfunction Jb(a,b){return a(b)}function Kb(a,b,c){return a(b,c)}function Lb(){}var Mb=!1;function Nb(a,b){if(Mb)return a(b);Mb=!0;try{return Jb(a,b)}finally{if(Mb=!1,null!==Eb||null!==Fb)Lb(),Ib()}}var Ob={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pb(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!Ob[a.type]:\"textarea\"===b?!0:!1}\nfunction Qb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function Sb(a){if(!Ta)return!1;a=\"on\"+a;var b=a in document;b||(b=document.createElement(\"div\"),b.setAttribute(a,\"return;\"),b=\"function\"===typeof b[a]);return b}function Tb(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ub(a){var b=Tb(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Vb(a){a._valueTracker||(a._valueTracker=Ub(a))}function Wb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Tb(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}var Xb=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Xb.hasOwnProperty(\"ReactCurrentDispatcher\")||(Xb.ReactCurrentDispatcher={current:null});\nvar Yb=/^(.*)[\\\\\\/]/,D=\"function\"===typeof Symbol&&Symbol.for,Zb=D?Symbol.for(\"react.element\"):60103,$b=D?Symbol.for(\"react.portal\"):60106,ac=D?Symbol.for(\"react.fragment\"):60107,bc=D?Symbol.for(\"react.strict_mode\"):60108,cc=D?Symbol.for(\"react.profiler\"):60114,dc=D?Symbol.for(\"react.provider\"):60109,ec=D?Symbol.for(\"react.context\"):60110,fc=D?Symbol.for(\"react.concurrent_mode\"):60111,gc=D?Symbol.for(\"react.forward_ref\"):60112,hc=D?Symbol.for(\"react.suspense\"):60113,ic=D?Symbol.for(\"react.memo\"):\n60115,jc=D?Symbol.for(\"react.lazy\"):60116,kc=\"function\"===typeof Symbol&&Symbol.iterator;function lc(a){if(null===a||\"object\"!==typeof a)return null;a=kc&&a[kc]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction mc(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case fc:return\"ConcurrentMode\";case ac:return\"Fragment\";case $b:return\"Portal\";case cc:return\"Profiler\";case bc:return\"StrictMode\";case hc:return\"Suspense\"}if(\"object\"===typeof a)switch(a.$$typeof){case ec:return\"Context.Consumer\";case dc:return\"Context.Provider\";case gc:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\n\")\":\"ForwardRef\");case ic:return mc(a.type);case jc:if(a=1===a._status?a._result:null)return mc(a)}return null}function nc(a){var b=\"\";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c=\"\";break a;default:var d=a._debugOwner,e=a._debugSource,f=mc(a.type);c=null;d&&(c=mc(d.type));d=f;f=\"\";e?f=\" (at \"+e.fileName.replace(Yb,\"\")+\":\"+e.lineNumber+\")\":c&&(f=\" (created by \"+c+\")\");c=\"\\n    in \"+(d||\"Unknown\")+f}b+=c;a=a.return}while(a);return b}\nvar oc=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,pc=Object.prototype.hasOwnProperty,qc={},rc={};\nfunction sc(a){if(pc.call(rc,a))return!0;if(pc.call(qc,a))return!1;if(oc.test(a))return rc[a]=!0;qc[a]=!0;return!1}function tc(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction uc(a,b,c,d){if(null===b||\"undefined\"===typeof b||tc(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function F(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b}var G={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){G[a]=new F(a,0,!1,a,null)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];G[b]=new F(b,1,!1,a[1],null)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){G[a]=new F(a,2,!1,a.toLowerCase(),null)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){G[a]=new F(a,2,!1,a,null)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){G[a]=new F(a,3,!1,a.toLowerCase(),null)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){G[a]=new F(a,3,!0,a,null)});\n[\"capture\",\"download\"].forEach(function(a){G[a]=new F(a,4,!1,a,null)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){G[a]=new F(a,6,!1,a,null)});[\"rowSpan\",\"start\"].forEach(function(a){G[a]=new F(a,5,!1,a.toLowerCase(),null)});var vc=/[\\-:]([a-z])/g;function wc(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(vc,\nwc);G[b]=new F(b,1,!1,a,null)});\"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(vc,wc);G[b]=new F(b,1,!1,a,\"http://www.w3.org/1999/xlink\")});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(vc,wc);G[b]=new F(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\")});G.tabIndex=new F(\"tabIndex\",1,!1,\"tabindex\",null);\nfunction xc(a,b,c,d){var e=G.hasOwnProperty(b)?G[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(uc(b,c,e,d)&&(c=null),d||null===e?sc(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nfunction yc(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function zc(a,b){var c=b.checked;return p({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}\nfunction Ac(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=yc(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function Bc(a,b){b=b.checked;null!=b&&xc(a,\"checked\",b,!1)}\nfunction Cc(a,b){Bc(a,b);var c=yc(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?Dc(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&Dc(a,b.type,yc(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction Ec(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction Dc(a,b,c){if(\"number\"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var Fc={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function Gc(a,b,c){a=A.getPooled(Fc.change,a,b,c);a.type=\"change\";Hb(c);Sa(a);return a}var Hc=null,Ic=null;function Jc(a){Fa(a)}\nfunction Kc(a){var b=La(a);if(Wb(b))return a}function Lc(a,b){if(\"change\"===a)return b}var Mc=!1;Ta&&(Mc=Sb(\"input\")&&(!document.documentMode||9<document.documentMode));function Nc(){Hc&&(Hc.detachEvent(\"onpropertychange\",Oc),Ic=Hc=null)}function Oc(a){\"value\"===a.propertyName&&Kc(Ic)&&(a=Gc(Ic,a,Qb(a)),Nb(Jc,a))}function Pc(a,b,c){\"focus\"===a?(Nc(),Hc=b,Ic=c,Hc.attachEvent(\"onpropertychange\",Oc)):\"blur\"===a&&Nc()}function Qc(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return Kc(Ic)}\nfunction Rc(a,b){if(\"click\"===a)return Kc(b)}function Sc(a,b){if(\"input\"===a||\"change\"===a)return Kc(b)}\nvar Tc={eventTypes:Fc,_isInputEventSupported:Mc,extractEvents:function(a,b,c,d){var e=b?La(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();\"select\"===h||\"input\"===h&&\"file\"===e.type?f=Lc:Pb(e)?Mc?f=Sc:(f=Qc,g=Pc):(h=e.nodeName)&&\"input\"===h.toLowerCase()&&(\"checkbox\"===e.type||\"radio\"===e.type)&&(f=Rc);if(f&&(f=f(a,b)))return Gc(f,c,d);g&&g(a,e,b);\"blur\"===a&&(a=e._wrapperState)&&a.controlled&&\"number\"===e.type&&Dc(e,\"number\",e.value)}},Uc=A.extend({view:null,detail:null}),Vc={Alt:\"altKey\",\nControl:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Wc(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Vc[a])?!!b[a]:!1}function Xc(){return Wc}\nvar Yc=0,Zc=0,$c=!1,ad=!1,bd=Uc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Xc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if(\"movementX\"in a)return a.movementX;var b=Yc;Yc=a.screenX;return $c?\"mousemove\"===a.type?a.screenX-b:0:($c=!0,0)},movementY:function(a){if(\"movementY\"in a)return a.movementY;\nvar b=Zc;Zc=a.screenY;return ad?\"mousemove\"===a.type?a.screenY-b:0:(ad=!0,0)}}),cd=bd.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),dd={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",\ndependencies:[\"pointerout\",\"pointerover\"]}},ed={eventTypes:dd,extractEvents:function(a,b,c,d){var e=\"mouseover\"===a||\"pointerover\"===a,f=\"mouseout\"===a||\"pointerout\"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;f?(f=b,b=(b=c.relatedTarget||c.toElement)?Ja(b):null):f=null;if(f===b)return null;var g=void 0,h=void 0,l=void 0,k=void 0;if(\"mouseout\"===a||\"mouseover\"===a)g=bd,h=dd.mouseLeave,l=dd.mouseEnter,k=\"mouse\";\nelse if(\"pointerout\"===a||\"pointerover\"===a)g=cd,h=dd.pointerLeave,l=dd.pointerEnter,k=\"pointer\";var m=null==f?e:La(f);e=null==b?e:La(b);a=g.getPooled(h,f,c,d);a.type=k+\"leave\";a.target=m;a.relatedTarget=e;c=g.getPooled(l,b,c,d);c.type=k+\"enter\";c.target=e;c.relatedTarget=m;d=b;if(f&&d)a:{b=f;e=d;k=0;for(g=b;g;g=Na(g))k++;g=0;for(l=e;l;l=Na(l))g++;for(;0<k-g;)b=Na(b),k--;for(;0<g-k;)e=Na(e),g--;for(;k--;){if(b===e||b===e.alternate)break a;b=Na(b);e=Na(e)}b=null}else b=null;e=b;for(b=[];f&&f!==e;){k=\nf.alternate;if(null!==k&&k===e)break;b.push(f);f=Na(f)}for(f=[];d&&d!==e;){k=d.alternate;if(null!==k&&k===e)break;f.push(d);d=Na(d)}for(d=0;d<b.length;d++)Qa(b[d],\"bubbled\",a);for(d=f.length;0<d--;)Qa(f[d],\"captured\",c);return[a,c]}};function fd(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var gd=Object.prototype.hasOwnProperty;\nfunction hd(a,b){if(fd(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!gd.call(b,c[d])||!fd(a[c[d]],b[c[d]]))return!1;return!0}function kd(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!==(b.effectTag&2))return 1;for(;b.return;)if(b=b.return,0!==(b.effectTag&2))return 1}return 3===b.tag?2:3}function ld(a){2!==kd(a)?t(\"188\"):void 0}\nfunction md(a){var b=a.alternate;if(!b)return b=kd(a),3===b?t(\"188\"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return ld(e),a;if(g===d)return ld(e),b;g=g.sibling}t(\"188\")}if(c.return!==d.return)c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?\nvoid 0:t(\"189\")}}c.alternate!==d?t(\"190\"):void 0}3!==c.tag?t(\"188\"):void 0;return c.stateNode.current===c?a:b}function nd(a){a=md(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nvar od=A.extend({animationName:null,elapsedTime:null,pseudoElement:null}),pd=A.extend({clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),qd=Uc.extend({relatedTarget:null});function rd(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}\nvar sd={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},td={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},ud=Uc.extend({key:function(a){if(a.key){var b=sd[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=rd(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?td[a.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Xc,charCode:function(a){return\"keypress\"===\na.type?rd(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===a.type?rd(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),vd=bd.extend({dataTransfer:null}),wd=Uc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Xc}),xd=A.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yd=bd.extend({deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in\na?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),zd=[[\"abort\",\"abort\"],[Za,\"animationEnd\"],[$a,\"animationIteration\"],[ab,\"animationStart\"],[\"canplay\",\"canPlay\"],[\"canplaythrough\",\"canPlayThrough\"],[\"drag\",\"drag\"],[\"dragenter\",\"dragEnter\"],[\"dragexit\",\"dragExit\"],[\"dragleave\",\"dragLeave\"],[\"dragover\",\"dragOver\"],[\"durationchange\",\"durationChange\"],[\"emptied\",\"emptied\"],[\"encrypted\",\"encrypted\"],\n[\"ended\",\"ended\"],[\"error\",\"error\"],[\"gotpointercapture\",\"gotPointerCapture\"],[\"load\",\"load\"],[\"loadeddata\",\"loadedData\"],[\"loadedmetadata\",\"loadedMetadata\"],[\"loadstart\",\"loadStart\"],[\"lostpointercapture\",\"lostPointerCapture\"],[\"mousemove\",\"mouseMove\"],[\"mouseout\",\"mouseOut\"],[\"mouseover\",\"mouseOver\"],[\"playing\",\"playing\"],[\"pointermove\",\"pointerMove\"],[\"pointerout\",\"pointerOut\"],[\"pointerover\",\"pointerOver\"],[\"progress\",\"progress\"],[\"scroll\",\"scroll\"],[\"seeking\",\"seeking\"],[\"stalled\",\"stalled\"],\n[\"suspend\",\"suspend\"],[\"timeupdate\",\"timeUpdate\"],[\"toggle\",\"toggle\"],[\"touchmove\",\"touchMove\"],[bb,\"transitionEnd\"],[\"waiting\",\"waiting\"],[\"wheel\",\"wheel\"]],Ad={},Bd={};function Cd(a,b){var c=a[0];a=a[1];var d=\"on\"+(a[0].toUpperCase()+a.slice(1));b={phasedRegistrationNames:{bubbled:d,captured:d+\"Capture\"},dependencies:[c],isInteractive:b};Ad[a]=b;Bd[c]=b}\n[[\"blur\",\"blur\"],[\"cancel\",\"cancel\"],[\"click\",\"click\"],[\"close\",\"close\"],[\"contextmenu\",\"contextMenu\"],[\"copy\",\"copy\"],[\"cut\",\"cut\"],[\"auxclick\",\"auxClick\"],[\"dblclick\",\"doubleClick\"],[\"dragend\",\"dragEnd\"],[\"dragstart\",\"dragStart\"],[\"drop\",\"drop\"],[\"focus\",\"focus\"],[\"input\",\"input\"],[\"invalid\",\"invalid\"],[\"keydown\",\"keyDown\"],[\"keypress\",\"keyPress\"],[\"keyup\",\"keyUp\"],[\"mousedown\",\"mouseDown\"],[\"mouseup\",\"mouseUp\"],[\"paste\",\"paste\"],[\"pause\",\"pause\"],[\"play\",\"play\"],[\"pointercancel\",\"pointerCancel\"],\n[\"pointerdown\",\"pointerDown\"],[\"pointerup\",\"pointerUp\"],[\"ratechange\",\"rateChange\"],[\"reset\",\"reset\"],[\"seeked\",\"seeked\"],[\"submit\",\"submit\"],[\"touchcancel\",\"touchCancel\"],[\"touchend\",\"touchEnd\"],[\"touchstart\",\"touchStart\"],[\"volumechange\",\"volumeChange\"]].forEach(function(a){Cd(a,!0)});zd.forEach(function(a){Cd(a,!1)});\nvar Dd={eventTypes:Ad,isInteractiveTopLevelEventType:function(a){a=Bd[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=Bd[a];if(!e)return null;switch(a){case \"keypress\":if(0===rd(c))return null;case \"keydown\":case \"keyup\":a=ud;break;case \"blur\":case \"focus\":a=qd;break;case \"click\":if(2===c.button)return null;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":a=bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":a=\nvd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":a=wd;break;case Za:case $a:case ab:a=od;break;case bb:a=xd;break;case \"scroll\":a=Uc;break;case \"wheel\":a=yd;break;case \"copy\":case \"cut\":case \"paste\":a=pd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":a=cd;break;default:a=A}b=a.getPooled(e,b,c,d);Sa(b);return b}},Ed=Dd.isInteractiveTopLevelEventType,\nFd=[];function Gd(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo;if(!d)break;a.ancestors.push(c);c=Ja(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Qb(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=null,h=0;h<pa.length;h++){var l=pa[h];l&&(l=l.extractEvents(d,b,f,e))&&(g=za(g,l))}Fa(g)}}var Hd=!0;\nfunction H(a,b){if(!b)return null;var c=(Ed(a)?Id:Jd).bind(null,a);b.addEventListener(a,c,!1)}function Kd(a,b){if(!b)return null;var c=(Ed(a)?Id:Jd).bind(null,a);b.addEventListener(a,c,!0)}function Id(a,b){Kb(Jd,a,b)}\nfunction Jd(a,b){if(Hd){var c=Qb(b);c=Ja(c);null===c||\"number\"!==typeof c.tag||2===kd(c)||(c=null);if(Fd.length){var d=Fd.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{Nb(Gd,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Fd.length&&Fd.push(a)}}}var Ld={},Md=0,Nd=\"_reactListenersID\"+(\"\"+Math.random()).slice(2);\nfunction Od(a){Object.prototype.hasOwnProperty.call(a,Nd)||(a[Nd]=Md++,Ld[a[Nd]]={});return Ld[a[Nd]]}function Pd(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Qd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Rd(a,b){var c=Qd(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Qd(c)}}function Sd(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Sd(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Td(){for(var a=window,b=Pd();b instanceof a.HTMLIFrameElement;){try{a=b.contentDocument.defaultView}catch(c){break}b=Pd(a.document)}return b}function Ud(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Vd=Ta&&\"documentMode\"in document&&11>=document.documentMode,Wd={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},Xd=null,Yd=null,Zd=null,$d=!1;\nfunction ae(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if($d||null==Xd||Xd!==Pd(c))return null;c=Xd;\"selectionStart\"in c&&Ud(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return Zd&&hd(Zd,c)?null:(Zd=c,a=A.getPooled(Wd.select,Yd,a,b),a.type=\"select\",a.target=Xd,Sa(a),a)}\nvar be={eventTypes:Wd,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=!e)){a:{e=Od(e);f=ua.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?La(b):window;switch(a){case \"focus\":if(Pb(e)||\"true\"===e.contentEditable)Xd=e,Yd=b,Zd=null;break;case \"blur\":Zd=Yd=Xd=null;break;case \"mousedown\":$d=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":return $d=!1,ae(c,d);case \"selectionchange\":if(Vd)break;\ncase \"keydown\":case \"keyup\":return ae(c,d)}return null}};Da.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));va=Ma;wa=Ka;xa=La;Da.injectEventPluginsByName({SimpleEventPlugin:Dd,EnterLeaveEventPlugin:ed,ChangeEventPlugin:Tc,SelectEventPlugin:be,BeforeInputEventPlugin:Cb});function ce(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}\nfunction de(a,b){a=p({children:void 0},b);if(b=ce(b.children))a.children=b;return a}function ee(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+yc(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction fe(a,b){null!=b.dangerouslySetInnerHTML?t(\"91\"):void 0;return p({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function ge(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?t(\"92\"):void 0,Array.isArray(b)&&(1>=b.length?void 0:t(\"93\"),b=b[0]),c=b),null==c&&(c=\"\"));a._wrapperState={initialValue:yc(c)}}\nfunction he(a,b){var c=yc(b.value),d=yc(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function ie(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)}var je={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction ke(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function le(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?ke(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar me=void 0,ne=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==je.svg||\"innerHTML\"in a)a.innerHTML=b;else{me=me||document.createElement(\"div\");me.innerHTML=\"<svg>\"+b+\"</svg>\";for(b=me.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction oe(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qe=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pe).forEach(function(a){qe.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pe[b]=pe[a]})});function re(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pe.hasOwnProperty(a)&&pe[a]?(\"\"+b).trim():b+\"px\"}\nfunction se(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=re(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var te=p({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ue(a,b){b&&(te[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?t(\"137\",a,\"\"):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?t(\"60\"):void 0,\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML?void 0:t(\"61\")),null!=b.style&&\"object\"!==typeof b.style?t(\"62\",\"\"):void 0)}\nfunction ve(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}\nfunction we(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Od(a);b=ua[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.hasOwnProperty(e)||!c[e]){switch(e){case \"scroll\":Kd(\"scroll\",a);break;case \"focus\":case \"blur\":Kd(\"focus\",a);Kd(\"blur\",a);c.blur=!0;c.focus=!0;break;case \"cancel\":case \"close\":Sb(e)&&Kd(e,a);break;case \"invalid\":case \"submit\":case \"reset\":break;default:-1===cb.indexOf(e)&&H(e,a)}c[e]=!0}}}function xe(){}var ye=null,ze=null;\nfunction Ae(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}function Be(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ce=\"function\"===typeof setTimeout?setTimeout:void 0,De=\"function\"===typeof clearTimeout?clearTimeout:void 0,Ee=ba.unstable_scheduleCallback,Fe=ba.unstable_cancelCallback;\nfunction Ge(a,b,c,d,e){a[Ia]=e;\"input\"===c&&\"radio\"===e.type&&null!=e.name&&Bc(a,e);ve(c,d);d=ve(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];\"style\"===g?se(a,h):\"dangerouslySetInnerHTML\"===g?ne(a,h):\"children\"===g?oe(a,h):xc(a,g,h,d)}switch(c){case \"input\":Cc(a,e);break;case \"textarea\":he(a,e);break;case \"select\":b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,c=e.value,null!=c?ee(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?ee(a,!!e.multiple,e.defaultValue,\n!0):ee(a,!!e.multiple,e.multiple?[]:\"\",!1))}}function He(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function Ie(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}new Set;var Je=[],Ke=-1;function I(a){0>Ke||(a.current=Je[Ke],Je[Ke]=null,Ke--)}function J(a,b){Ke++;Je[Ke]=a.current;a.current=b}var Le={},K={current:Le},L={current:!1},Me=Le;\nfunction Oe(a,b){var c=a.type.contextTypes;if(!c)return Le;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function M(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Pe(a){I(L,a);I(K,a)}function Qe(a){I(L,a);I(K,a)}\nfunction Re(a,b,c){K.current!==Le?t(\"168\"):void 0;J(K,b,a);J(L,c,a)}function Se(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)e in a?void 0:t(\"108\",mc(b)||\"Unknown\",e);return p({},c,d)}function Te(a){var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||Le;Me=K.current;J(K,b,a);J(L,L.current,a);return!0}\nfunction Ue(a,b,c){var d=a.stateNode;d?void 0:t(\"169\");c?(b=Se(a,b,Me),d.__reactInternalMemoizedMergedChildContext=b,I(L,a),I(K,a),J(K,b,a)):I(L,a);J(L,c,a)}var Ve=null,We=null;function Xe(a){return function(b){try{return a(b)}catch(c){}}}\nfunction Ye(a){if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Ve=Xe(function(a){return b.onCommitFiberRoot(c,a)});We=Xe(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}\nfunction Ze(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function N(a,b,c,d){return new Ze(a,b,c,d)}\nfunction $e(a){a=a.prototype;return!(!a||!a.isReactComponent)}function af(a){if(\"function\"===typeof a)return $e(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===gc)return 11;if(a===ic)return 14}return 2}\nfunction bf(a,b){var c=a.alternate;null===c?(c=N(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;c.contextDependencies=a.contextDependencies;c.sibling=a.sibling;\nc.index=a.index;c.ref=a.ref;return c}\nfunction cf(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)$e(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ac:return df(c.children,e,f,b);case fc:return ef(c,e|3,f,b);case bc:return ef(c,e|2,f,b);case cc:return a=N(12,c,b,e|4),a.elementType=cc,a.type=cc,a.expirationTime=f,a;case hc:return a=N(13,c,b,e),a.elementType=hc,a.type=hc,a.expirationTime=f,a;default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case dc:g=10;break a;case ec:g=9;break a;case gc:g=11;break a;case ic:g=\n14;break a;case jc:g=16;d=null;break a}t(\"130\",null==a?a:typeof a,\"\")}b=N(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function df(a,b,c,d){a=N(7,a,d,b);a.expirationTime=c;return a}function ef(a,b,c,d){a=N(8,a,d,b);b=0===(b&1)?bc:fc;a.elementType=b;a.type=b;a.expirationTime=c;return a}function ff(a,b,c){a=N(6,a,null,b);a.expirationTime=c;return a}\nfunction gf(a,b,c){b=N(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function hf(a,b){a.didError=!1;var c=a.earliestPendingTime;0===c?a.earliestPendingTime=a.latestPendingTime=b:c<b?a.earliestPendingTime=b:a.latestPendingTime>b&&(a.latestPendingTime=b);jf(b,a)}\nfunction kf(a,b){a.didError=!1;a.latestPingedTime>=b&&(a.latestPingedTime=0);var c=a.earliestPendingTime,d=a.latestPendingTime;c===b?a.earliestPendingTime=d===b?a.latestPendingTime=0:d:d===b&&(a.latestPendingTime=c);c=a.earliestSuspendedTime;d=a.latestSuspendedTime;0===c?a.earliestSuspendedTime=a.latestSuspendedTime=b:c<b?a.earliestSuspendedTime=b:d>b&&(a.latestSuspendedTime=b);jf(b,a)}function lf(a,b){var c=a.earliestPendingTime;a=a.earliestSuspendedTime;c>b&&(b=c);a>b&&(b=a);return b}\nfunction jf(a,b){var c=b.earliestSuspendedTime,d=b.latestSuspendedTime,e=b.earliestPendingTime,f=b.latestPingedTime;e=0!==e?e:f;0===e&&(0===a||d<a)&&(e=d);a=e;0!==a&&c>a&&(a=c);b.nextExpirationTimeToWorkOn=e;b.expirationTime=a}function P(a,b){if(a&&a.defaultProps){b=p({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}\nfunction mf(a){var b=a._result;switch(a._status){case 1:return b;case 2:throw b;case 0:throw b;default:a._status=0;b=a._ctor;b=b();b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)});switch(a._status){case 1:return a._result;case 2:throw a._result;}a._result=b;throw b;}}var nf=(new aa.Component).refs;\nfunction of(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:p({},b,c);a.memoizedState=c;d=a.updateQueue;null!==d&&0===a.expirationTime&&(d.baseState=c)}\nvar xf={isMounted:function(a){return(a=a._reactInternalFiber)?2===kd(a):!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=pf();d=qf(d,a);var e=rf(d);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);sf();tf(a,e);uf(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=pf();d=qf(d,a);var e=rf(d);e.tag=vf;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);sf();tf(a,e);uf(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=pf();c=qf(c,a);var d=rf(c);d.tag=\nwf;void 0!==b&&null!==b&&(d.callback=b);sf();tf(a,d);uf(a,c)}};function yf(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!hd(c,d)||!hd(e,f):!0}\nfunction zf(a,b,c){var d=!1,e=Le;var f=b.contextType;\"object\"===typeof f&&null!==f?f=Af(f):(e=M(b)?Me:K.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Oe(a,e):Le);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=xf;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Bf(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&xf.enqueueReplaceState(b,b.state,null)}\nfunction Cf(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=nf;var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=Af(f):(f=M(b)?Me:K.current,e.context=Oe(a,f));f=a.updateQueue;null!==f&&(Df(a,f,c,e,d),e.state=a.memoizedState);f=b.getDerivedStateFromProps;\"function\"===typeof f&&(of(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==\ntypeof e.componentWillMount||(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&xf.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(Df(a,f,c,e,d),e.state=a.memoizedState));\"function\"===typeof e.componentDidMount&&(a.effectTag|=4)}var Ef=Array.isArray;\nfunction Ff(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(1!==c.tag?t(\"309\"):void 0,d=c.stateNode);d?void 0:t(\"147\",a);var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===nf&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}\"string\"!==typeof a?t(\"284\"):void 0;c._owner?void 0:t(\"290\",a)}return a}\nfunction Gf(a,b){\"textarea\"!==a.type&&t(\"31\",\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b,\"\")}\nfunction Hf(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=bf(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=\n2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=ff(c,a.mode,d),b.return=a,b;b=e(b,c,d);b.return=a;return b}function l(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props,d),d.ref=Ff(a,b,c),d.return=a,d;d=cf(c.type,c.key,c.props,null,a.mode,d);d.ref=Ff(a,b,c);d.return=a;return d}function k(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==\nc.implementation)return b=gf(c,a.mode,d),b.return=a,b;b=e(b,c.children||[],d);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=df(c,a.mode,d,f),b.return=a,b;b=e(b,c,d);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=ff(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case Zb:return c=cf(b.type,b.key,b.props,null,a.mode,c),c.ref=Ff(a,null,b),c.return=a,c;case $b:return b=gf(b,a.mode,c),b.return=a,b}if(Ef(b)||\nlc(b))return b=df(b,a.mode,c,null),b.return=a,b;Gf(a,b)}return null}function x(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case Zb:return c.key===e?c.type===ac?m(a,b,c.props.children,d,e):l(a,b,c,d):null;case $b:return c.key===e?k(a,b,c,d):null}if(Ef(c)||lc(c))return null!==e?null:m(a,b,c,d,null);Gf(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=\na.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case Zb:return a=a.get(null===d.key?c:d.key)||null,d.type===ac?m(b,a,d.props.children,e,d.key):l(b,a,d,e);case $b:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e)}if(Ef(d)||lc(d))return a=a.get(c)||null,m(b,a,d,e,null);Gf(b,d)}return null}function w(e,g,h,k){for(var l=null,m=null,n=g,u=g=0,r=null;null!==n&&u<h.length;u++){n.index>u?(r=n,n=null):r=n.sibling;var v=x(e,n,h[u],k);if(null===v){null===n&&(n=r);break}a&&\nn&&null===v.alternate&&b(e,n);g=f(v,g,u);null===m?l=v:m.sibling=v;m=v;n=r}if(u===h.length)return c(e,n),l;if(null===n){for(;u<h.length;u++)if(n=q(e,h[u],k))g=f(n,g,u),null===m?l=n:m.sibling=n,m=n;return l}for(n=d(e,n);u<h.length;u++)if(r=C(n,e,u,h[u],k))a&&null!==r.alternate&&n.delete(null===r.key?u:r.key),g=f(r,g,u),null===m?l=r:m.sibling=r,m=r;a&&n.forEach(function(a){return b(e,a)});return l}function E(e,g,h,k){var l=lc(h);\"function\"!==typeof l?t(\"150\"):void 0;h=l.call(h);null==h?t(\"151\"):void 0;\nfor(var m=l=null,n=g,u=g=0,r=null,v=h.next();null!==n&&!v.done;u++,v=h.next()){n.index>u?(r=n,n=null):r=n.sibling;var z=x(e,n,v.value,k);if(null===z){n||(n=r);break}a&&n&&null===z.alternate&&b(e,n);g=f(z,g,u);null===m?l=z:m.sibling=z;m=z;n=r}if(v.done)return c(e,n),l;if(null===n){for(;!v.done;u++,v=h.next())v=q(e,v.value,k),null!==v&&(g=f(v,g,u),null===m?l=v:m.sibling=v,m=v);return l}for(n=d(e,n);!v.done;u++,v=h.next())v=C(n,e,u,v.value,k),null!==v&&(a&&null!==v.alternate&&n.delete(null===v.key?u:\nv.key),g=f(v,g,u),null===m?l=v:m.sibling=v,m=v);a&&n.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ac&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case Zb:a:{l=f.key;for(k=d;null!==k;){if(k.key===l)if(7===k.tag?f.type===ac:k.elementType===f.type){c(a,k.sibling);d=e(k,f.type===ac?f.props.children:f.props,h);d.ref=Ff(a,k,f);d.return=a;a=d;break a}else{c(a,k);break}else b(a,k);k=\nk.sibling}f.type===ac?(d=df(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=cf(f.type,f.key,f.props,null,a.mode,h),h.ref=Ff(a,d,f),h.return=a,a=h)}return g(a);case $b:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=gf(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\n\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,h),d.return=a,a=d):(c(a,d),d=ff(f,a.mode,h),d.return=a,a=d),g(a);if(Ef(f))return w(a,d,f,h);if(lc(f))return E(a,d,f,h);l&&Gf(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 0:h=a.type,t(\"152\",h.displayName||h.name||\"Component\")}return c(a,d)}}var If=Hf(!0),Jf=Hf(!1),Kf={},Lf={current:Kf},Mf={current:Kf},Nf={current:Kf};function Of(a){a===Kf?t(\"174\"):void 0;return a}\nfunction Pf(a,b){J(Nf,b,a);J(Mf,a,a);J(Lf,Kf,a);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:le(null,\"\");break;default:c=8===c?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=le(b,c)}I(Lf,a);J(Lf,b,a)}function Qf(a){I(Lf,a);I(Mf,a);I(Nf,a)}function Rf(a){Of(Nf.current);var b=Of(Lf.current);var c=le(b,a.type);b!==c&&(J(Mf,a,a),J(Lf,c,a))}function Sf(a){Mf.current===a&&(I(Lf,a),I(Mf,a))}\nvar Tf=0,Uf=2,Vf=4,Wf=8,Xf=16,Yf=32,Zf=64,$f=128,ag=Xb.ReactCurrentDispatcher,bg=0,cg=null,Q=null,dg=null,eg=null,R=null,fg=null,gg=0,hg=null,ig=0,jg=!1,kg=null,lg=0;function mg(){t(\"307\")}function ng(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!fd(a[c],b[c]))return!1;return!0}\nfunction og(a,b,c,d,e,f){bg=f;cg=b;dg=null!==a?a.memoizedState:null;ag.current=null===dg?pg:qg;b=c(d,e);if(jg){do jg=!1,lg+=1,dg=null!==a?a.memoizedState:null,fg=eg,hg=R=Q=null,ag.current=qg,b=c(d,e);while(jg);kg=null;lg=0}ag.current=rg;a=cg;a.memoizedState=eg;a.expirationTime=gg;a.updateQueue=hg;a.effectTag|=ig;a=null!==Q&&null!==Q.next;bg=0;fg=R=eg=dg=Q=cg=null;gg=0;hg=null;ig=0;a?t(\"300\"):void 0;return b}\nfunction sg(){ag.current=rg;bg=0;fg=R=eg=dg=Q=cg=null;gg=0;hg=null;ig=0;jg=!1;kg=null;lg=0}function tg(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};null===R?eg=R=a:R=R.next=a;return R}function ug(){if(null!==fg)R=fg,fg=R.next,Q=dg,dg=null!==Q?Q.next:null;else{null===dg?t(\"310\"):void 0;Q=dg;var a={memoizedState:Q.memoizedState,baseState:Q.baseState,queue:Q.queue,baseUpdate:Q.baseUpdate,next:null};R=null===R?eg=a:R.next=a;dg=Q.next}return R}\nfunction vg(a,b){return\"function\"===typeof b?b(a):b}\nfunction wg(a){var b=ug(),c=b.queue;null===c?t(\"311\"):void 0;if(0<lg){var d=c.dispatch;if(null!==kg){var e=kg.get(c);if(void 0!==e){kg.delete(c);var f=b.memoizedState;do f=a(f,e.action),e=e.next;while(null!==e);fd(f,b.memoizedState)||(xg=!0);b.memoizedState=f;b.baseUpdate===c.last&&(b.baseState=f);return[f,d]}}return[b.memoizedState,d]}d=c.last;var g=b.baseUpdate;f=b.baseState;null!==g?(null!==d&&(d.next=null),d=g.next):d=null!==d?d.next:null;if(null!==d){var h=e=null,l=d,k=!1;do{var m=l.expirationTime;\nm<bg?(k||(k=!0,h=g,e=f),m>gg&&(gg=m)):f=l.eagerReducer===a?l.eagerState:a(f,l.action);g=l;l=l.next}while(null!==l&&l!==d);k||(h=g,e=f);fd(f,b.memoizedState)||(xg=!0);b.memoizedState=f;b.baseUpdate=h;b.baseState=e;c.eagerReducer=a;c.eagerState=f}return[b.memoizedState,c.dispatch]}\nfunction yg(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};null===hg?(hg={lastEffect:null},hg.lastEffect=a.next=a):(b=hg.lastEffect,null===b?hg.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,hg.lastEffect=a));return a}function zg(a,b,c,d){var e=tg();ig|=a;e.memoizedState=yg(b,c,void 0,void 0===d?null:d)}\nfunction Bg(a,b,c,d){var e=ug();d=void 0===d?null:d;var f=void 0;if(null!==Q){var g=Q.memoizedState;f=g.destroy;if(null!==d&&ng(d,g.deps)){yg(Tf,c,f,d);return}}ig|=a;e.memoizedState=yg(b,c,f,d)}function Cg(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function Dg(){}\nfunction Eg(a,b,c){25>lg?void 0:t(\"301\");var d=a.alternate;if(a===cg||null!==d&&d===cg)if(jg=!0,a={expirationTime:bg,action:c,eagerReducer:null,eagerState:null,next:null},null===kg&&(kg=new Map),c=kg.get(b),void 0===c)kg.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{sf();var e=pf();e=qf(e,a);var f={expirationTime:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.last;if(null===g)f.next=f;else{var h=g.next;null!==h&&(f.next=h);g.next=f}b.last=f;if(0===a.expirationTime&&(null===\nd||0===d.expirationTime)&&(d=b.eagerReducer,null!==d))try{var l=b.eagerState,k=d(l,c);f.eagerReducer=d;f.eagerState=k;if(fd(k,l))return}catch(m){}finally{}uf(a,e)}}\nvar rg={readContext:Af,useCallback:mg,useContext:mg,useEffect:mg,useImperativeHandle:mg,useLayoutEffect:mg,useMemo:mg,useReducer:mg,useRef:mg,useState:mg,useDebugValue:mg},pg={readContext:Af,useCallback:function(a,b){tg().memoizedState=[a,void 0===b?null:b];return a},useContext:Af,useEffect:function(a,b){return zg(516,$f|Zf,a,b)},useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):[a];return zg(4,Vf|Yf,Cg.bind(null,b,a),c)},useLayoutEffect:function(a,b){return zg(4,Vf|Yf,a,b)},\nuseMemo:function(a,b){var c=tg();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=tg();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={last:null,dispatch:null,eagerReducer:a,eagerState:b};a=a.dispatch=Eg.bind(null,cg,a);return[d.memoizedState,a]},useRef:function(a){var b=tg();a={current:a};return b.memoizedState=a},useState:function(a){var b=tg();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={last:null,dispatch:null,eagerReducer:vg,\neagerState:a};a=a.dispatch=Eg.bind(null,cg,a);return[b.memoizedState,a]},useDebugValue:Dg},qg={readContext:Af,useCallback:function(a,b){var c=ug();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ng(b,d[1]))return d[0];c.memoizedState=[a,b];return a},useContext:Af,useEffect:function(a,b){return Bg(516,$f|Zf,a,b)},useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):[a];return Bg(4,Vf|Yf,Cg.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Bg(4,Vf|Yf,a,b)},\nuseMemo:function(a,b){var c=ug();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ng(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a},useReducer:wg,useRef:function(){return ug().memoizedState},useState:function(a){return wg(vg,a)},useDebugValue:Dg},Fg=null,Gg=null,Hg=!1;\nfunction Ig(a,b){var c=N(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Jg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;default:return!1}}\nfunction Kg(a){if(Hg){var b=Gg;if(b){var c=b;if(!Jg(a,b)){b=He(c);if(!b||!Jg(a,b)){a.effectTag|=2;Hg=!1;Fg=a;return}Ig(Fg,c)}Fg=a;Gg=Ie(b)}else a.effectTag|=2,Hg=!1,Fg=a}}function Lg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag;)a=a.return;Fg=a}function Mg(a){if(a!==Fg)return!1;if(!Hg)return Lg(a),Hg=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!Be(b,a.memoizedProps))for(b=Gg;b;)Ig(a,b),b=He(b);Lg(a);Gg=Fg?He(a.stateNode):null;return!0}function Ng(){Gg=Fg=null;Hg=!1}\nvar Og=Xb.ReactCurrentOwner,xg=!1;function S(a,b,c,d){b.child=null===a?Jf(b,null,c,d):If(b,a.child,c,d)}function Pg(a,b,c,d,e){c=c.render;var f=b.ref;Qg(b,e);d=og(a,b,c,d,f,e);if(null!==a&&!xg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Rg(a,b,e);b.effectTag|=1;S(a,b,d,e);return b.child}\nfunction Sg(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!$e(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,Tg(a,b,g,d,e,f);a=cf(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:hd,c(e,d)&&a.ref===b.ref))return Rg(a,b,f);b.effectTag|=1;a=bf(g,d,f);a.ref=b.ref;a.return=b;return b.child=a}\nfunction Tg(a,b,c,d,e,f){return null!==a&&hd(a.memoizedProps,d)&&a.ref===b.ref&&(xg=!1,e<f)?Rg(a,b,f):Ug(a,b,c,d,f)}function Vg(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function Ug(a,b,c,d,e){var f=M(c)?Me:K.current;f=Oe(b,f);Qg(b,e);c=og(a,b,c,d,f,e);if(null!==a&&!xg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Rg(a,b,e);b.effectTag|=1;S(a,b,c,e);return b.child}\nfunction Wg(a,b,c,d,e){if(M(c)){var f=!0;Te(b)}else f=!1;Qg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),zf(b,c,d,e),Cf(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var l=g.context,k=c.contextType;\"object\"===typeof k&&null!==k?k=Af(k):(k=M(c)?Me:K.current,k=Oe(b,k));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||l!==k)&&Bf(b,g,d,k);Xg=!1;var x=b.memoizedState;l=g.state=x;var C=b.updateQueue;null!==C&&(Df(b,C,d,g,e),l=b.memoizedState);h!==d||x!==l||L.current||Xg?(\"function\"===typeof m&&(of(b,c,m,d),l=b.memoizedState),(h=Xg||yf(b,c,h,d,x,l,k))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&\ng.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.effectTag|=4)):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=l),g.props=d,g.state=l,g.context=k,d=h):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=b.type===b.elementType?h:P(b.type,h),l=g.context,k=c.contextType,\"object\"===typeof k&&null!==k?k=Af(k):(k=M(c)?Me:K.current,k=Oe(b,k)),m=c.getDerivedStateFromProps,(q=\"function\"===\ntypeof m||\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==d||l!==k)&&Bf(b,g,d,k),Xg=!1,l=b.memoizedState,x=g.state=l,C=b.updateQueue,null!==C&&(Df(b,C,d,g,e),x=b.memoizedState),h!==d||l!==x||L.current||Xg?(\"function\"===typeof m&&(of(b,c,m,d),x=b.memoizedState),(m=Xg||yf(b,c,h,d,l,x,k))?(q||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===\ntypeof g.componentWillUpdate&&g.componentWillUpdate(d,x,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.effectTag|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=\nx),g.props=d,g.state=x,g.context=k,d=m):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),d=!1);return Yg(a,b,c,d,f,e)}\nfunction Yg(a,b,c,d,e,f){Vg(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Ue(b,c,!1),Rg(a,b,f);d=b.stateNode;Og.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=If(b,a.child,null,f),b.child=If(b,null,h,f)):S(a,b,h,f);b.memoizedState=d.state;e&&Ue(b,c,!0);return b.child}function Zg(a){var b=a.stateNode;b.pendingContext?Re(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Re(a,b.context,!1);Pf(a,b.containerInfo)}\nfunction $g(a,b,c){var d=b.mode,e=b.pendingProps,f=b.memoizedState;if(0===(b.effectTag&64)){f=null;var g=!1}else f={timedOutAt:null!==f?f.timedOutAt:0},g=!0,b.effectTag&=-65;if(null===a)if(g){var h=e.fallback;a=df(null,d,0,null);0===(b.mode&1)&&(a.child=null!==b.memoizedState?b.child.child:b.child);d=df(h,d,c,null);a.sibling=d;c=a;c.return=d.return=b}else c=d=Jf(b,null,e.children,c);else null!==a.memoizedState?(d=a.child,h=d.sibling,g?(c=e.fallback,e=bf(d,d.pendingProps,0),0===(b.mode&1)&&(g=null!==\nb.memoizedState?b.child.child:b.child,g!==d.child&&(e.child=g)),d=e.sibling=bf(h,c,h.expirationTime),c=e,e.childExpirationTime=0,c.return=d.return=b):c=d=If(b,d.child,e.children,c)):(h=a.child,g?(g=e.fallback,e=df(null,d,0,null),e.child=h,0===(b.mode&1)&&(e.child=null!==b.memoizedState?b.child.child:b.child),d=e.sibling=df(g,d,c,null),d.effectTag|=2,c=e,e.childExpirationTime=0,c.return=d.return=b):d=c=If(b,h,e.children,c)),b.stateNode=a.stateNode;b.memoizedState=f;b.child=c;return d}\nfunction Rg(a,b,c){null!==a&&(b.contextDependencies=a.contextDependencies);if(b.childExpirationTime<c)return null;null!==a&&b.child!==a.child?t(\"153\"):void 0;if(null!==b.child){a=b.child;c=bf(a,a.pendingProps,a.expirationTime);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=bf(a,a.pendingProps,a.expirationTime),c.return=b;c.sibling=null}return b.child}\nfunction ah(a,b,c){var d=b.expirationTime;if(null!==a)if(a.memoizedProps!==b.pendingProps||L.current)xg=!0;else{if(d<c){xg=!1;switch(b.tag){case 3:Zg(b);Ng();break;case 5:Rf(b);break;case 1:M(b.type)&&Te(b);break;case 4:Pf(b,b.stateNode.containerInfo);break;case 10:bh(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;if(0!==d&&d>=c)return $g(a,b,c);b=Rg(a,b,c);return null!==b?b.sibling:null}}return Rg(a,b,c)}}else xg=!1;b.expirationTime=0;switch(b.tag){case 2:d=\nb.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;var e=Oe(b,K.current);Qg(b,c);e=og(null,b,d,a,e,c);b.effectTag|=1;if(\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;sg();if(M(d)){var f=!0;Te(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;\"function\"===typeof g&&of(b,d,g,a);e.updater=xf;b.stateNode=e;e._reactInternalFiber=b;Cf(b,d,a,c);b=Yg(null,b,d,!0,f,\nc)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);f=b.pendingProps;a=mf(e);b.type=a;e=b.tag=af(a);f=P(a,f);g=void 0;switch(e){case 0:g=Ug(null,b,a,f,c);break;case 1:g=Wg(null,b,a,f,c);break;case 11:g=Pg(null,b,a,f,c);break;case 14:g=Sg(null,b,a,P(a.type,f),d,c);break;default:t(\"306\",a,\"\")}return g;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),Ug(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,\ne=b.elementType===d?e:P(d,e),Wg(a,b,d,e,c);case 3:Zg(b);d=b.updateQueue;null===d?t(\"282\"):void 0;e=b.memoizedState;e=null!==e?e.element:null;Df(b,d,b.pendingProps,null,c);d=b.memoizedState.element;if(d===e)Ng(),b=Rg(a,b,c);else{e=b.stateNode;if(e=(null===a||null===a.child)&&e.hydrate)Gg=Ie(b.stateNode.containerInfo),Fg=b,e=Hg=!0;e?(b.effectTag|=2,b.child=Jf(b,null,d,c)):(S(a,b,d,c),Ng());b=b.child}return b;case 5:return Rf(b),null===a&&Kg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,\ng=e.children,Be(d,e)?g=null:null!==f&&Be(d,f)&&(b.effectTag|=16),Vg(a,b),1!==c&&b.mode&1&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(S(a,b,g,c),b=b.child),b;case 6:return null===a&&Kg(b),null;case 13:return $g(a,b,c);case 4:return Pf(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=If(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),Pg(a,b,d,e,c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:return S(a,b,b.pendingProps.children,\nc),b.child;case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;bh(b,f);if(null!==g){var h=g.value;f=fd(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!L.current){b=Rg(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var l=h.contextDependencies;if(null!==l){g=h.child;for(var k=l.first;null!==k;){if(k.context===d&&0!==\n(k.observedBits&f)){1===h.tag&&(k=rf(c),k.tag=wf,tf(h,k));h.expirationTime<c&&(h.expirationTime=c);k=h.alternate;null!==k&&k.expirationTime<c&&(k.expirationTime=c);for(var m=h.return;null!==m;){k=m.alternate;if(m.childExpirationTime<c)m.childExpirationTime=c,null!==k&&k.childExpirationTime<c&&(k.childExpirationTime=c);else if(null!==k&&k.childExpirationTime<c)k.childExpirationTime=c;else break;m=m.return}l.expirationTime<c&&(l.expirationTime=c);break}k=k.next}}else g=10===h.tag?h.type===b.type?null:\nh.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}}S(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,Qg(b,c),e=Af(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,S(a,b,d,c),b.child;case 14:return e=b.type,f=P(e,b.pendingProps),f=P(e.type,f),Sg(a,b,e,f,d,c);case 15:return Tg(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===\nd?e:P(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,M(d)?(a=!0,Te(b)):a=!1,Qg(b,c),zf(b,d,e,c),Cf(b,d,e,c),Yg(null,b,d,!0,a,c);default:t(\"156\")}}var ch={current:null},dh=null,eh=null,fh=null;function bh(a,b){var c=a.type._context;J(ch,c._currentValue,a);c._currentValue=b}function gh(a){var b=ch.current;I(ch,a);a.type._context._currentValue=b}function Qg(a,b){dh=a;fh=eh=null;var c=a.contextDependencies;null!==c&&c.expirationTime>=b&&(xg=!0);a.contextDependencies=null}\nfunction Af(a,b){if(fh!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)fh=a,b=1073741823;b={context:a,observedBits:b,next:null};null===eh?(null===dh?t(\"308\"):void 0,eh=b,dh.contextDependencies={first:b,expirationTime:0}):eh=eh.next=b}return a._currentValue}var hh=0,vf=1,wf=2,ih=3,Xg=!1;function jh(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}\nfunction kh(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function rf(a){return{expirationTime:a,tag:hh,payload:null,callback:null,next:null,nextEffect:null}}function lh(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}\nfunction tf(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue;var e=null;null===d&&(d=a.updateQueue=jh(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=jh(a.memoizedState),e=c.updateQueue=jh(c.memoizedState)):d=a.updateQueue=kh(e):null===e&&(e=c.updateQueue=kh(d));null===e||d===e?lh(d,b):null===d.lastUpdate||null===e.lastUpdate?(lh(d,b),lh(e,b)):(lh(d,b),e.lastUpdate=b)}\nfunction mh(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=jh(a.memoizedState):nh(a,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function nh(a,b){var c=a.alternate;null!==c&&b===c.updateQueue&&(b=a.updateQueue=kh(b));return b}\nfunction oh(a,b,c,d,e,f){switch(c.tag){case vf:return a=c.payload,\"function\"===typeof a?a.call(f,d,e):a;case ih:a.effectTag=a.effectTag&-2049|64;case hh:a=c.payload;e=\"function\"===typeof a?a.call(f,d,e):a;if(null===e||void 0===e)break;return p({},d,e);case wf:Xg=!0}return d}\nfunction Df(a,b,c,d,e){Xg=!1;b=nh(a,b);for(var f=b.baseState,g=null,h=0,l=b.firstUpdate,k=f;null!==l;){var m=l.expirationTime;m<e?(null===g&&(g=l,f=k),h<m&&(h=m)):(k=oh(a,b,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=l:(b.lastEffect.nextEffect=l,b.lastEffect=l)));l=l.next}m=null;for(l=b.firstCapturedUpdate;null!==l;){var q=l.expirationTime;q<e?(null===m&&(m=l,null===g&&(f=k)),h<q&&(h=q)):(k=oh(a,b,l,k,c,d),null!==l.callback&&(a.effectTag|=\n32,l.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=l:(b.lastCapturedEffect.nextEffect=l,b.lastCapturedEffect=l)));l=l.next}null===g&&(b.lastUpdate=null);null===m?b.lastCapturedUpdate=null:a.effectTag|=32;null===g&&null===m&&(f=k);b.baseState=f;b.firstUpdate=g;b.firstCapturedUpdate=m;a.expirationTime=h;a.memoizedState=k}\nfunction ph(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null);qh(b.firstEffect,c);b.firstEffect=b.lastEffect=null;qh(b.firstCapturedEffect,c);b.firstCapturedEffect=b.lastCapturedEffect=null}function qh(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;\"function\"!==typeof c?t(\"191\",c):void 0;c.call(d)}a=a.nextEffect}}\nfunction rh(a,b){return{value:a,source:b,stack:nc(b)}}function sh(a){a.effectTag|=4}var wh=void 0,xh=void 0,yh=void 0,zh=void 0;wh=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};xh=function(){};\nyh=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;Of(Lf.current);a=null;switch(c){case \"input\":f=zc(g,f);d=zc(g,d);a=[];break;case \"option\":f=de(g,f);d=de(g,d);a=[];break;case \"select\":f=p({},f,{value:void 0});d=p({},d,{value:void 0});a=[];break;case \"textarea\":f=fe(g,f);d=fe(g,d);a=[];break;default:\"function\"!==typeof f.onClick&&\"function\"===typeof d.onClick&&(g.onclick=xe)}ue(c,d);g=c=void 0;var h=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if(\"style\"===\nc){var l=f[c];for(g in l)l.hasOwnProperty(g)&&(h||(h={}),h[g]=\"\")}else\"dangerouslySetInnerHTML\"!==c&&\"children\"!==c&&\"suppressContentEditableWarning\"!==c&&\"suppressHydrationWarning\"!==c&&\"autoFocus\"!==c&&(ta.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var k=d[c];l=null!=f?f[c]:void 0;if(d.hasOwnProperty(c)&&k!==l&&(null!=k||null!=l))if(\"style\"===c)if(l){for(g in l)!l.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(h||(h={}),h[g]=\"\");for(g in k)k.hasOwnProperty(g)&&l[g]!==k[g]&&(h||\n(h={}),h[g]=k[g])}else h||(a||(a=[]),a.push(c,h)),h=k;else\"dangerouslySetInnerHTML\"===c?(k=k?k.__html:void 0,l=l?l.__html:void 0,null!=k&&l!==k&&(a=a||[]).push(c,\"\"+k)):\"children\"===c?l===k||\"string\"!==typeof k&&\"number\"!==typeof k||(a=a||[]).push(c,\"\"+k):\"suppressContentEditableWarning\"!==c&&\"suppressHydrationWarning\"!==c&&(ta.hasOwnProperty(c)?(null!=k&&we(e,c),a||l===k||(a=[])):(a=a||[]).push(c,k))}h&&(a=a||[]).push(\"style\",h);e=a;(b.updateQueue=e)&&sh(b)}};zh=function(a,b,c,d){c!==d&&sh(b)};\nvar Ah=\"function\"===typeof WeakSet?WeakSet:Set;function Bh(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=nc(c));null!==c&&mc(c.type);b=b.value;null!==a&&1===a.tag&&mc(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function Ch(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Dh(a,c)}else b.current=null}\nfunction Eh(a,b,c){c=c.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do{if((d.tag&a)!==Tf){var e=d.destroy;d.destroy=void 0;void 0!==e&&e()}(d.tag&b)!==Tf&&(e=d.create,d.destroy=e());d=d.next}while(d!==c)}}\nfunction Fh(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d.style.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=re(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if(13===c.tag&&null!==c.memoizedState){d=c.child.sibling;d.return=c;c=d;continue}else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||\nc.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction Gh(a){\"function\"===typeof We&&We(a);switch(a.tag){case 0:case 11:case 14:case 15:var b=a.updateQueue;if(null!==b&&(b=b.lastEffect,null!==b)){var c=b=b.next;do{var d=c.destroy;if(void 0!==d){var e=a;try{d()}catch(f){Dh(e,f)}}c=c.next}while(c!==b)}break;case 1:Ch(a);b=a.stateNode;if(\"function\"===typeof b.componentWillUnmount)try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(f){Dh(a,f)}break;case 5:Ch(a);break;case 4:Hh(a)}}\nfunction Ih(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Jh(a){a:{for(var b=a.return;null!==b;){if(Ih(b)){var c=b;break a}b=b.return}t(\"160\");c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode;d=!1;break;case 3:b=c.stateNode.containerInfo;d=!0;break;case 4:b=c.stateNode.containerInfo;d=!0;break;default:t(\"161\")}c.effectTag&16&&(oe(b,\"\"),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Ih(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag;){if(c.effectTag&2)continue b;\nif(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)if(c)if(d){var f=b,g=e.stateNode,h=c;8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(e.stateNode,c);else d?(g=b,h=e.stateNode,8===g.nodeType?(f=g.parentNode,f.insertBefore(h,g)):(f=g,f.appendChild(h)),g=g._reactRootContainer,null!==g&&void 0!==g||null!==f.onclick||(f.onclick=xe)):b.appendChild(e.stateNode);\nelse if(4!==e.tag&&null!==e.child){e.child.return=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return;e=e.sibling}}\nfunction Hh(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){null===c?t(\"160\"):void 0;switch(c.tag){case 5:d=c.stateNode;e=!1;break a;case 3:d=c.stateNode.containerInfo;e=!0;break a;case 4:d=c.stateNode.containerInfo;e=!0;break a}c=c.return}c=!0}if(5===b.tag||6===b.tag){a:for(var f=b,g=f;;)if(Gh(g),null!==g.child&&4!==g.tag)g.child.return=g,g=g.child;else{if(g===f)break;for(;null===g.sibling;){if(null===g.return||g.return===f)break a;g=g.return}g.sibling.return=g.return;g=g.sibling}e?\n(f=d,g=b.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):d.removeChild(b.stateNode)}else if(4===b.tag?(d=b.stateNode.containerInfo,e=!0):Gh(b),null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;b=b.return;4===b.tag&&(c=!1)}b.sibling.return=b.return;b=b.sibling}}\nfunction Kh(a,b){switch(b.tag){case 0:case 11:case 14:case 15:Eh(Vf,Wf,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&Ge(c,f,e,a,d,b)}break;case 6:null===b.stateNode?t(\"162\"):void 0;b.stateNode.nodeValue=b.memoizedProps;break;case 3:break;case 12:break;case 13:c=b.memoizedState;d=void 0;a=b;null===c?d=!1:(d=!0,a=b.child,0===c.timedOutAt&&(c.timedOutAt=pf()));null!==a&&Fh(a,d);c=\nb.updateQueue;if(null!==c){b.updateQueue=null;var g=b.stateNode;null===g&&(g=b.stateNode=new Ah);c.forEach(function(a){var c=Lh.bind(null,b,a);g.has(a)||(g.add(a),a.then(c,c))})}break;case 17:break;default:t(\"163\")}}var Mh=\"function\"===typeof WeakMap?WeakMap:Map;function Nh(a,b,c){c=rf(c);c.tag=ih;c.payload={element:null};var d=b.value;c.callback=function(){Oh(d);Bh(a,b)};return c}\nfunction Ph(a,b,c){c=rf(c);c.tag=ih;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Qh?Qh=new Set([this]):Qh.add(this));var c=b.value,e=b.stack;Bh(a,b);this.componentDidCatch(c,{componentStack:null!==e?e:\"\"})});return c}\nfunction Rh(a){switch(a.tag){case 1:M(a.type)&&Pe(a);var b=a.effectTag;return b&2048?(a.effectTag=b&-2049|64,a):null;case 3:return Qf(a),Qe(a),b=a.effectTag,0!==(b&64)?t(\"285\"):void 0,a.effectTag=b&-2049|64,a;case 5:return Sf(a),null;case 13:return b=a.effectTag,b&2048?(a.effectTag=b&-2049|64,a):null;case 4:return Qf(a),null;case 10:return gh(a),null;default:return null}}\nvar Sh=Xb.ReactCurrentDispatcher,Th=Xb.ReactCurrentOwner,Uh=1073741822,Vh=0,Wh=!1,T=null,Xh=null,U=0,Yh=-1,Zh=!1,V=null,$h=!1,ai=null,bi=null,ci=null,Qh=null;function di(){if(null!==T)for(var a=T.return;null!==a;){var b=a;switch(b.tag){case 1:var c=b.type.childContextTypes;null!==c&&void 0!==c&&Pe(b);break;case 3:Qf(b);Qe(b);break;case 5:Sf(b);break;case 4:Qf(b);break;case 10:gh(b)}a=a.return}Xh=null;U=0;Yh=-1;Zh=!1;T=null}\nfunction ei(a,b){ci=bi=ai=null;var c=W;W=!0;do{if(b.effectTag&512){var d=!1,e=void 0;try{var f=b;Eh($f,Tf,f);Eh(Tf,Zf,f)}catch(g){d=!0,e=g}d&&Dh(b,e)}b=b.nextEffect}while(null!==b);W=c;c=a.expirationTime;0!==c&&fi(a,c)}function sf(){null!==bi&&Fe(bi);null!==ci&&ci()}\nfunction gi(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0===(a.effectTag&1024)){T=a;a:{var e=b;b=a;var f=U;var g=b.pendingProps;switch(b.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:M(b.type)&&Pe(b);break;case 3:Qf(b);Qe(b);g=b.stateNode;g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null);if(null===e||null===e.child)Mg(b),b.effectTag&=-3;xh(b);break;case 5:Sf(b);var h=Of(Nf.current);f=b.type;if(null!==e&&null!=b.stateNode)yh(e,b,f,g,h),e.ref!==b.ref&&(b.effectTag|=\n128);else if(g){var l=Of(Lf.current);if(Mg(b)){g=b;e=g.stateNode;var k=g.type,m=g.memoizedProps,q=h;e[Ha]=g;e[Ia]=m;f=void 0;h=k;switch(h){case \"iframe\":case \"object\":H(\"load\",e);break;case \"video\":case \"audio\":for(k=0;k<cb.length;k++)H(cb[k],e);break;case \"source\":H(\"error\",e);break;case \"img\":case \"image\":case \"link\":H(\"error\",e);H(\"load\",e);break;case \"form\":H(\"reset\",e);H(\"submit\",e);break;case \"details\":H(\"toggle\",e);break;case \"input\":Ac(e,m);H(\"invalid\",e);we(q,\"onChange\");break;case \"select\":e._wrapperState=\n{wasMultiple:!!m.multiple};H(\"invalid\",e);we(q,\"onChange\");break;case \"textarea\":ge(e,m),H(\"invalid\",e),we(q,\"onChange\")}ue(h,m);k=null;for(f in m)m.hasOwnProperty(f)&&(l=m[f],\"children\"===f?\"string\"===typeof l?e.textContent!==l&&(k=[\"children\",l]):\"number\"===typeof l&&e.textContent!==\"\"+l&&(k=[\"children\",\"\"+l]):ta.hasOwnProperty(f)&&null!=l&&we(q,f));switch(h){case \"input\":Vb(e);Ec(e,m,!0);break;case \"textarea\":Vb(e);ie(e,m);break;case \"select\":case \"option\":break;default:\"function\"===typeof m.onClick&&\n(e.onclick=xe)}f=k;g.updateQueue=f;g=null!==f?!0:!1;g&&sh(b)}else{m=b;e=f;q=g;k=9===h.nodeType?h:h.ownerDocument;l===je.html&&(l=ke(e));l===je.html?\"script\"===e?(e=k.createElement(\"div\"),e.innerHTML=\"<script>\\x3c/script>\",k=e.removeChild(e.firstChild)):\"string\"===typeof q.is?k=k.createElement(e,{is:q.is}):(k=k.createElement(e),\"select\"===e&&q.multiple&&(k.multiple=!0)):k=k.createElementNS(l,e);e=k;e[Ha]=m;e[Ia]=g;wh(e,b,!1,!1);q=e;k=f;m=g;var x=h,C=ve(k,m);switch(k){case \"iframe\":case \"object\":H(\"load\",\nq);h=m;break;case \"video\":case \"audio\":for(h=0;h<cb.length;h++)H(cb[h],q);h=m;break;case \"source\":H(\"error\",q);h=m;break;case \"img\":case \"image\":case \"link\":H(\"error\",q);H(\"load\",q);h=m;break;case \"form\":H(\"reset\",q);H(\"submit\",q);h=m;break;case \"details\":H(\"toggle\",q);h=m;break;case \"input\":Ac(q,m);h=zc(q,m);H(\"invalid\",q);we(x,\"onChange\");break;case \"option\":h=de(q,m);break;case \"select\":q._wrapperState={wasMultiple:!!m.multiple};h=p({},m,{value:void 0});H(\"invalid\",q);we(x,\"onChange\");break;case \"textarea\":ge(q,\nm);h=fe(q,m);H(\"invalid\",q);we(x,\"onChange\");break;default:h=m}ue(k,h);l=void 0;var w=k,E=q,v=h;for(l in v)if(v.hasOwnProperty(l)){var n=v[l];\"style\"===l?se(E,n):\"dangerouslySetInnerHTML\"===l?(n=n?n.__html:void 0,null!=n&&ne(E,n)):\"children\"===l?\"string\"===typeof n?(\"textarea\"!==w||\"\"!==n)&&oe(E,n):\"number\"===typeof n&&oe(E,\"\"+n):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ta.hasOwnProperty(l)?null!=n&&we(x,l):null!=n&&xc(E,l,n,C))}switch(k){case \"input\":Vb(q);\nEc(q,m,!1);break;case \"textarea\":Vb(q);ie(q,m);break;case \"option\":null!=m.value&&q.setAttribute(\"value\",\"\"+yc(m.value));break;case \"select\":h=q;h.multiple=!!m.multiple;q=m.value;null!=q?ee(h,!!m.multiple,q,!1):null!=m.defaultValue&&ee(h,!!m.multiple,m.defaultValue,!0);break;default:\"function\"===typeof h.onClick&&(q.onclick=xe)}(g=Ae(f,g))&&sh(b);b.stateNode=e}null!==b.ref&&(b.effectTag|=128)}else null===b.stateNode?t(\"166\"):void 0;break;case 6:e&&null!=b.stateNode?zh(e,b,e.memoizedProps,g):(\"string\"!==\ntypeof g&&(null===b.stateNode?t(\"166\"):void 0),e=Of(Nf.current),Of(Lf.current),Mg(b)?(g=b,f=g.stateNode,e=g.memoizedProps,f[Ha]=g,(g=f.nodeValue!==e)&&sh(b)):(f=b,g=(9===e.nodeType?e:e.ownerDocument).createTextNode(g),g[Ha]=b,f.stateNode=g));break;case 11:break;case 13:g=b.memoizedState;if(0!==(b.effectTag&64)){b.expirationTime=f;T=b;break a}g=null!==g;f=null!==e&&null!==e.memoizedState;null!==e&&!g&&f&&(e=e.child.sibling,null!==e&&(h=b.firstEffect,null!==h?(b.firstEffect=e,e.nextEffect=h):(b.firstEffect=\nb.lastEffect=e,e.nextEffect=null),e.effectTag=8));if(g||f)b.effectTag|=4;break;case 7:break;case 8:break;case 12:break;case 4:Qf(b);xh(b);break;case 10:gh(b);break;case 9:break;case 14:break;case 17:M(b.type)&&Pe(b);break;default:t(\"156\")}T=null}b=a;if(1===U||1!==b.childExpirationTime){g=0;for(f=b.child;null!==f;)e=f.expirationTime,h=f.childExpirationTime,e>g&&(g=e),h>g&&(g=h),f=f.sibling;b.childExpirationTime=g}if(null!==T)return T;null!==c&&0===(c.effectTag&1024)&&(null===c.firstEffect&&(c.firstEffect=\na.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a))}else{a=Rh(a,U);if(null!==a)return a.effectTag&=1023,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=1024)}if(null!==d)return d;if(null!==c)a=c;else break}return null}\nfunction hi(a){var b=ah(a.alternate,a,U);a.memoizedProps=a.pendingProps;null===b&&(b=gi(a));Th.current=null;return b}\nfunction ii(a,b){Wh?t(\"243\"):void 0;sf();Wh=!0;var c=Sh.current;Sh.current=rg;var d=a.nextExpirationTimeToWorkOn;if(d!==U||a!==Xh||null===T)di(),Xh=a,U=d,T=bf(Xh.current,null,U),a.pendingCommitExpirationTime=0;var e=!1;do{try{if(b)for(;null!==T&&!ji();)T=hi(T);else for(;null!==T;)T=hi(T)}catch(E){if(fh=eh=dh=null,sg(),null===T)e=!0,Oh(E);else{null===T?t(\"271\"):void 0;var f=T,g=f.return;if(null===g)e=!0,Oh(E);else{a:{var h=a,l=g,k=f,m=E;g=U;k.effectTag|=1024;k.firstEffect=k.lastEffect=null;if(null!==\nm&&\"object\"===typeof m&&\"function\"===typeof m.then){var q=m;m=l;var x=-1,C=-1;do{if(13===m.tag){var w=m.alternate;if(null!==w&&(w=w.memoizedState,null!==w)){C=10*(1073741822-w.timedOutAt);break}w=m.pendingProps.maxDuration;if(\"number\"===typeof w)if(0>=w)x=0;else if(-1===x||w<x)x=w}m=m.return}while(null!==m);m=l;do{if(w=13===m.tag)w=void 0===m.memoizedProps.fallback?!1:null===m.memoizedState;if(w){l=m.updateQueue;null===l?(l=new Set,l.add(q),m.updateQueue=l):l.add(q);if(0===(m.mode&1)){m.effectTag|=\n64;k.effectTag&=-1957;1===k.tag&&(null===k.alternate?k.tag=17:(g=rf(1073741823),g.tag=wf,tf(k,g)));k.expirationTime=1073741823;break a}k=h.pingCache;null===k?(k=h.pingCache=new Mh,l=new Set,k.set(q,l)):(l=k.get(q),void 0===l&&(l=new Set,k.set(q,l)));l.has(g)||(l.add(g),k=ki.bind(null,h,q,g),q.then(k,k));-1===x?h=1073741823:(-1===C&&(C=10*(1073741822-lf(h,g))-5E3),h=C+x);0<=h&&Yh<h&&(Yh=h);m.effectTag|=2048;m.expirationTime=g;break a}m=m.return}while(null!==m);m=Error((mc(k.type)||\"A React component\")+\n\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+nc(k))}Zh=!0;m=rh(m,k);h=l;do{switch(h.tag){case 3:h.effectTag|=2048;h.expirationTime=g;g=Nh(h,m,g);mh(h,g);break a;case 1:if(q=m,x=h.type,C=h.stateNode,0===(h.effectTag&64)&&(\"function\"===typeof x.getDerivedStateFromError||null!==C&&\"function\"===typeof C.componentDidCatch&&(null===Qh||!Qh.has(C)))){h.effectTag|=2048;\nh.expirationTime=g;g=Ph(h,q,g);mh(h,g);break a}}h=h.return}while(null!==h)}T=gi(f);continue}}}break}while(1);Wh=!1;Sh.current=c;fh=eh=dh=null;sg();if(e)Xh=null,a.finishedWork=null;else if(null!==T)a.finishedWork=null;else{c=a.current.alternate;null===c?t(\"281\"):void 0;Xh=null;if(Zh){e=a.latestPendingTime;f=a.latestSuspendedTime;g=a.latestPingedTime;if(0!==e&&e<d||0!==f&&f<d||0!==g&&g<d){kf(a,d);li(a,c,d,a.expirationTime,-1);return}if(!a.didError&&b){a.didError=!0;d=a.nextExpirationTimeToWorkOn=d;\nb=a.expirationTime=1073741823;li(a,c,d,b,-1);return}}b&&-1!==Yh?(kf(a,d),b=10*(1073741822-lf(a,d)),b<Yh&&(Yh=b),b=10*(1073741822-pf()),b=Yh-b,li(a,c,d,a.expirationTime,0>b?0:b)):(a.pendingCommitExpirationTime=d,a.finishedWork=c)}}\nfunction Dh(a,b){for(var c=a.return;null!==c;){switch(c.tag){case 1:var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Qh||!Qh.has(d))){a=rh(b,a);a=Ph(c,a,1073741823);tf(c,a);uf(c,1073741823);return}break;case 3:a=rh(b,a);a=Nh(c,a,1073741823);tf(c,a);uf(c,1073741823);return}c=c.return}3===a.tag&&(c=rh(b,a),c=Nh(a,c,1073741823),tf(a,c),uf(a,1073741823))}\nfunction qf(a,b){0!==Vh?a=Vh:Wh?a=$h?1073741823:U:b.mode&1?(a=mi?1073741822-10*(((1073741822-a+15)/10|0)+1):1073741822-25*(((1073741822-a+500)/25|0)+1),null!==Xh&&a===U&&--a):a=1073741823;mi&&(0===ni||a<ni)&&(ni=a);return a}\nfunction ki(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);if(null!==Xh&&U===c)Xh=null;else if(b=a.earliestSuspendedTime,d=a.latestSuspendedTime,0!==b&&c<=b&&c>=d){a.didError=!1;b=a.latestPingedTime;if(0===b||b>c)a.latestPingedTime=c;jf(c,a);c=a.expirationTime;0!==c&&fi(a,c)}}function Lh(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=pf();b=qf(b,a);a=oi(a,b);null!==a&&(hf(a,b),b=a.expirationTime,0!==b&&fi(a,b))}\nfunction oi(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}return e}\nfunction uf(a,b){a=oi(a,b);null!==a&&(!Wh&&0!==U&&b>U&&di(),hf(a,b),Wh&&!$h&&Xh===a||fi(a,a.expirationTime),pi>qi&&(pi=0,t(\"185\")))}function ri(a,b,c,d,e){var f=Vh;Vh=1073741823;try{return a(b,c,d,e)}finally{Vh=f}}var si=null,X=null,ti=0,ui=void 0,W=!1,vi=null,Y=0,ni=0,wi=!1,xi=null,Z=!1,yi=!1,mi=!1,zi=null,Ai=ba.unstable_now(),Bi=1073741822-(Ai/10|0),Ci=Bi,qi=50,pi=0,Di=null;function Ei(){Bi=1073741822-((ba.unstable_now()-Ai)/10|0)}\nfunction Fi(a,b){if(0!==ti){if(b<ti)return;null!==ui&&ba.unstable_cancelCallback(ui)}ti=b;a=ba.unstable_now()-Ai;ui=ba.unstable_scheduleCallback(Gi,{timeout:10*(1073741822-b)-a})}function li(a,b,c,d,e){a.expirationTime=d;0!==e||ji()?0<e&&(a.timeoutHandle=Ce(Hi.bind(null,a,b,c),e)):(a.pendingCommitExpirationTime=c,a.finishedWork=b)}function Hi(a,b,c){a.pendingCommitExpirationTime=c;a.finishedWork=b;Ei();Ci=Bi;Ii(a,c)}function pf(){if(W)return Ci;Ji();if(0===Y||1===Y)Ei(),Ci=Bi;return Ci}\nfunction fi(a,b){null===a.nextScheduledRoot?(a.expirationTime=b,null===X?(si=X=a,a.nextScheduledRoot=a):(X=X.nextScheduledRoot=a,X.nextScheduledRoot=si)):b>a.expirationTime&&(a.expirationTime=b);W||(Z?yi&&(vi=a,Y=1073741823,Ki(a,1073741823,!1)):1073741823===b?Li(1073741823,!1):Fi(a,b))}\nfunction Ji(){var a=0,b=null;if(null!==X)for(var c=X,d=si;null!==d;){var e=d.expirationTime;if(0===e){null===c||null===X?t(\"244\"):void 0;if(d===d.nextScheduledRoot){si=X=d.nextScheduledRoot=null;break}else if(d===si)si=e=d.nextScheduledRoot,X.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===X){X=c;X.nextScheduledRoot=si;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{e>a&&(a=e,b=d);if(d===X)break;if(1073741823===\na)break;c=d;d=d.nextScheduledRoot}}vi=b;Y=a}var Mi=!1;function ji(){return Mi?!0:ba.unstable_shouldYield()?Mi=!0:!1}function Gi(){try{if(!ji()&&null!==si){Ei();var a=si;do{var b=a.expirationTime;0!==b&&Bi<=b&&(a.nextExpirationTimeToWorkOn=Bi);a=a.nextScheduledRoot}while(a!==si)}Li(0,!0)}finally{Mi=!1}}\nfunction Li(a,b){Ji();if(b)for(Ei(),Ci=Bi;null!==vi&&0!==Y&&a<=Y&&!(Mi&&Bi>Y);)Ki(vi,Y,Bi>Y),Ji(),Ei(),Ci=Bi;else for(;null!==vi&&0!==Y&&a<=Y;)Ki(vi,Y,!1),Ji();b&&(ti=0,ui=null);0!==Y&&Fi(vi,Y);pi=0;Di=null;if(null!==zi)for(a=zi,zi=null,b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(d){wi||(wi=!0,xi=d)}}if(wi)throw a=xi,xi=null,wi=!1,a;}function Ii(a,b){W?t(\"253\"):void 0;vi=a;Y=b;Ki(a,b,!1);Li(1073741823,!1)}\nfunction Ki(a,b,c){W?t(\"245\"):void 0;W=!0;if(c){var d=a.finishedWork;null!==d?Oi(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,De(d)),ii(a,c),d=a.finishedWork,null!==d&&(ji()?a.finishedWork=d:Oi(a,d,b)))}else d=a.finishedWork,null!==d?Oi(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,De(d)),ii(a,c),d=a.finishedWork,null!==d&&Oi(a,d,b));W=!1}\nfunction Oi(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime>=c&&(null===zi?zi=[d]:zi.push(d),d._defer)){a.finishedWork=b;a.expirationTime=0;return}a.finishedWork=null;a===Di?pi++:(Di=a,pi=0);$h=Wh=!0;a.current===b?t(\"177\"):void 0;c=a.pendingCommitExpirationTime;0===c?t(\"261\"):void 0;a.pendingCommitExpirationTime=0;d=b.expirationTime;var e=b.childExpirationTime;d=e>d?e:d;a.didError=!1;0===d?(a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=\n0):(d<a.latestPingedTime&&(a.latestPingedTime=0),e=a.latestPendingTime,0!==e&&(e>d?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime>d&&(a.earliestPendingTime=a.latestPendingTime)),e=a.earliestSuspendedTime,0===e?hf(a,d):d<a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,hf(a,d)):d>e&&hf(a,d));jf(0,a);Th.current=null;1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,d=b.firstEffect):d=b:d=b.firstEffect;ye=Hd;e=Td();if(Ud(e)){if(\"selectionStart\"in\ne)var f={start:e.selectionStart,end:e.selectionEnd};else a:{f=(f=e.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&0!==g.rangeCount){f=g.anchorNode;var h=g.anchorOffset,l=g.focusNode;g=g.focusOffset;try{f.nodeType,l.nodeType}catch(vb){f=null;break a}var k=0,m=-1,q=-1,x=0,C=0,w=e,E=null;b:for(;;){for(var v;;){w!==f||0!==h&&3!==w.nodeType||(m=k+h);w!==l||0!==g&&3!==w.nodeType||(q=k+g);3===w.nodeType&&(k+=w.nodeValue.length);if(null===(v=w.firstChild))break;E=w;w=v}for(;;){if(w===\ne)break b;E===f&&++x===h&&(m=k);E===l&&++C===g&&(q=k);if(null!==(v=w.nextSibling))break;w=E;E=w.parentNode}w=v}f=-1===m||-1===q?null:{start:m,end:q}}else f=null}f=f||{start:0,end:0}}else f=null;ze={focusedElem:e,selectionRange:f};Hd=!1;for(V=d;null!==V;){e=!1;f=void 0;try{for(;null!==V;){if(V.effectTag&256)a:{var n=V.alternate;h=V;switch(h.tag){case 0:case 11:case 15:Eh(Uf,Tf,h);break a;case 1:if(h.effectTag&256&&null!==n){var u=n.memoizedProps,z=n.memoizedState,Ag=h.stateNode,Ni=Ag.getSnapshotBeforeUpdate(h.elementType===\nh.type?u:P(h.type,u),z);Ag.__reactInternalSnapshotBeforeUpdate=Ni}break a;case 3:case 5:case 6:case 4:case 17:break a;default:t(\"163\")}}V=V.nextEffect}}catch(vb){e=!0,f=vb}e&&(null===V?t(\"178\"):void 0,Dh(V,f),null!==V&&(V=V.nextEffect))}for(V=d;null!==V;){n=!1;u=void 0;try{for(;null!==V;){var y=V.effectTag;y&16&&oe(V.stateNode,\"\");if(y&128){var B=V.alternate;if(null!==B){var r=B.ref;null!==r&&(\"function\"===typeof r?r(null):r.current=null)}}switch(y&14){case 2:Jh(V);V.effectTag&=-3;break;case 6:Jh(V);\nV.effectTag&=-3;Kh(V.alternate,V);break;case 4:Kh(V.alternate,V);break;case 8:z=V;Hh(z);z.return=null;z.child=null;z.memoizedState=null;z.updateQueue=null;var O=z.alternate;null!==O&&(O.return=null,O.child=null,O.memoizedState=null,O.updateQueue=null)}V=V.nextEffect}}catch(vb){n=!0,u=vb}n&&(null===V?t(\"178\"):void 0,Dh(V,u),null!==V&&(V=V.nextEffect))}r=ze;B=Td();y=r.focusedElem;n=r.selectionRange;if(B!==y&&y&&y.ownerDocument&&Sd(y.ownerDocument.documentElement,y)){null!==n&&Ud(y)&&(B=n.start,r=n.end,\nvoid 0===r&&(r=B),\"selectionStart\"in y?(y.selectionStart=B,y.selectionEnd=Math.min(r,y.value.length)):(r=(B=y.ownerDocument||document)&&B.defaultView||window,r.getSelection&&(r=r.getSelection(),u=y.textContent.length,O=Math.min(n.start,u),n=void 0===n.end?O:Math.min(n.end,u),!r.extend&&O>n&&(u=n,n=O,O=u),u=Rd(y,O),z=Rd(y,n),u&&z&&(1!==r.rangeCount||r.anchorNode!==u.node||r.anchorOffset!==u.offset||r.focusNode!==z.node||r.focusOffset!==z.offset)&&(B=B.createRange(),B.setStart(u.node,u.offset),r.removeAllRanges(),\nO>n?(r.addRange(B),r.extend(z.node,z.offset)):(B.setEnd(z.node,z.offset),r.addRange(B))))));B=[];for(r=y;r=r.parentNode;)1===r.nodeType&&B.push({element:r,left:r.scrollLeft,top:r.scrollTop});\"function\"===typeof y.focus&&y.focus();for(y=0;y<B.length;y++)r=B[y],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}ze=null;Hd=!!ye;ye=null;a.current=b;for(V=d;null!==V;){y=!1;B=void 0;try{for(r=a,O=c;null!==V;){var qa=V.effectTag;if(qa&36){var Rb=V.alternate;n=V;u=O;switch(n.tag){case 0:case 11:case 15:Eh(Xf,\nYf,n);break;case 1:var id=n.stateNode;if(n.effectTag&4)if(null===Rb)id.componentDidMount();else{var dj=n.elementType===n.type?Rb.memoizedProps:P(n.type,Rb.memoizedProps);id.componentDidUpdate(dj,Rb.memoizedState,id.__reactInternalSnapshotBeforeUpdate)}var th=n.updateQueue;null!==th&&ph(n,th,id,u);break;case 3:var uh=n.updateQueue;if(null!==uh){z=null;if(null!==n.child)switch(n.child.tag){case 5:z=n.child.stateNode;break;case 1:z=n.child.stateNode}ph(n,uh,z,u)}break;case 5:var ej=n.stateNode;null===\nRb&&n.effectTag&4&&Ae(n.type,n.memoizedProps)&&ej.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:t(\"163\")}}if(qa&128){var jd=V.ref;if(null!==jd){var vh=V.stateNode;switch(V.tag){case 5:var Ne=vh;break;default:Ne=vh}\"function\"===typeof jd?jd(Ne):jd.current=Ne}}qa&512&&(ai=r);V=V.nextEffect}}catch(vb){y=!0,B=vb}y&&(null===V?t(\"178\"):void 0,Dh(V,B),null!==V&&(V=V.nextEffect))}null!==d&&null!==ai&&(qa=ei.bind(null,a,d),bi=Ee(qa),ci=qa);Wh=$h=!1;\"function\"===\ntypeof Ve&&Ve(b.stateNode);qa=b.expirationTime;b=b.childExpirationTime;b=b>qa?b:qa;0===b&&(Qh=null);a.expirationTime=b;a.finishedWork=null}function Oh(a){null===vi?t(\"246\"):void 0;vi.expirationTime=0;wi||(wi=!0,xi=a)}function Pi(a,b){var c=Z;Z=!0;try{return a(b)}finally{(Z=c)||W||Li(1073741823,!1)}}function Qi(a,b){if(Z&&!yi){yi=!0;try{return a(b)}finally{yi=!1}}return a(b)}\nfunction Ri(a,b,c){if(mi)return a(b,c);Z||W||0===ni||(Li(ni,!1),ni=0);var d=mi,e=Z;Z=mi=!0;try{return a(b,c)}finally{mi=d,(Z=e)||W||Li(1073741823,!1)}}\nfunction Si(a,b,c,d,e){var f=b.current;a:if(c){c=c._reactInternalFiber;b:{2===kd(c)&&1===c.tag?void 0:t(\"170\");var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(M(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);t(\"171\");g=void 0}if(1===c.tag){var h=c.type;if(M(h)){c=Se(c,h,g);break a}}c=g}else c=Le;null===b.context?b.context=c:b.pendingContext=c;b=e;e=rf(d);e.payload={element:a};b=void 0===b?null:b;null!==b&&(e.callback=b);\nsf();tf(f,e);uf(f,d);return d}function Ti(a,b,c,d){var e=b.current,f=pf();e=qf(f,e);return Si(a,b,c,e,d)}function Ui(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Vi(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$b,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nDb=function(a,b,c){switch(b){case \"input\":Cc(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Ma(d);e?void 0:t(\"90\");Wb(d);Cc(d,e)}}}break;case \"textarea\":he(a,c);break;case \"select\":b=c.value,null!=b&&ee(a,!!c.multiple,b,!1)}};\nfunction Wi(a){var b=1073741822-25*(((1073741822-pf()+500)/25|0)+1);b>=Uh&&(b=Uh-1);this._expirationTime=Uh=b;this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}Wi.prototype.render=function(a){this._defer?void 0:t(\"250\");this._hasChildren=!0;this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new Xi;Si(a,b,null,c,d._onCommit);return d};\nWi.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};\nWi.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;this._defer&&null!==b?void 0:t(\"251\");if(this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d?t(\"251\"):void 0;d._next=e._next;this._next=b;a.firstBatch=this}this._defer=!1;Ii(a,c);b=this._next;this._next=null;b=a.firstBatch=b;null!==b&&b._hasChildren&&b.render(b._children)}else this._next=\nnull,this._defer=!1};Wi.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}};function Xi(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}Xi.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};\nXi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];\"function\"!==typeof c?t(\"191\",c):void 0;c()}}};\nfunction Yi(a,b,c){b=N(3,null,null,b?3:0);a={current:b,containerInfo:a,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=b.stateNode=a}\nYi.prototype.render=function(a,b){var c=this._internalRoot,d=new Xi;b=void 0===b?null:b;null!==b&&d.then(b);Ti(a,c,null,d._onCommit);return d};Yi.prototype.unmount=function(a){var b=this._internalRoot,c=new Xi;a=void 0===a?null:a;null!==a&&c.then(a);Ti(null,b,null,c._onCommit);return c};Yi.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new Xi;c=void 0===c?null:c;null!==c&&e.then(c);Ti(b,d,a,e._onCommit);return e};\nYi.prototype.createBatch=function(){var a=new Wi(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime>=b;)c=d,d=d._next;a._next=d;null!==c&&(c._next=a)}return a};function Zi(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}Jb=Pi;Kb=Ri;Lb=function(){W||0===ni||(Li(ni,!1),ni=0)};\nfunction $i(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new Yi(a,!1,b)}\nfunction aj(a,b,c,d,e){var f=c._reactRootContainer;if(f){if(\"function\"===typeof e){var g=e;e=function(){var a=Ui(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{f=c._reactRootContainer=$i(c,d);if(\"function\"===typeof e){var h=e;e=function(){var a=Ui(f._internalRoot);h.call(a)}}Qi(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return Ui(f._internalRoot)}\nfunction bj(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Zi(b)?void 0:t(\"200\");return Vi(a,b,null,c)}\nvar fj={createPortal:bj,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;void 0===b&&(\"function\"===typeof a.render?t(\"188\"):t(\"268\",Object.keys(a)));a=nd(b);a=null===a?null:a.stateNode;return a},hydrate:function(a,b,c){Zi(b)?void 0:t(\"200\");return aj(null,a,b,!0,c)},render:function(a,b,c){Zi(b)?void 0:t(\"200\");return aj(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){Zi(c)?void 0:t(\"200\");null==a||void 0===a._reactInternalFiber?\nt(\"38\"):void 0;return aj(a,b,c,!1,d)},unmountComponentAtNode:function(a){Zi(a)?void 0:t(\"40\");return a._reactRootContainer?(Qi(function(){aj(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return bj.apply(void 0,arguments)},unstable_batchedUpdates:Pi,unstable_interactiveUpdates:Ri,flushSync:function(a,b){W?t(\"187\"):void 0;var c=Z;Z=!0;try{return ri(a,b)}finally{Z=c,Li(1073741823,!1)}},unstable_createRoot:cj,unstable_flushControlled:function(a){var b=\nZ;Z=!0;try{ri(a)}finally{(Z=b)||W||Li(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Ka,La,Ma,Da.injectEventPluginsByName,ra,Sa,function(a){Aa(a,Ra)},Hb,Ib,Jd,Fa]}};function cj(a,b){Zi(a)?void 0:t(\"299\",\"unstable_createRoot\");return new Yi(a,!0,null!=b&&!0===b.hydrate)}\n(function(a){var b=a.findFiberByHostInstance;return Ye(p({},a,{overrideProps:null,currentDispatcherRef:Xb.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=nd(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))})({findFiberByHostInstance:Ja,bundleType:0,version:\"16.8.1\",rendererPackageName:\"react-dom\"});var gj={default:fj},hj=gj&&fj||gj;module.exports=hj.default||hj;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.13.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var c=null,f=!1,h=3,k=-1,l=-1,m=!1,n=!1;function p(){if(!m){var a=c.expirationTime;n?q():n=!0;r(t,a)}}\nfunction u(){var a=c,b=c.next;if(c===b)c=null;else{var d=c.previous;c=d.next=b;b.previous=d}a.next=a.previous=null;d=a.callback;b=a.expirationTime;a=a.priorityLevel;var e=h,Q=l;h=a;l=b;try{var g=d()}finally{h=e,l=Q}if(\"function\"===typeof g)if(g={callback:g,priorityLevel:a,expirationTime:b,next:null,previous:null},null===c)c=g.next=g.previous=g;else{d=null;a=c;do{if(a.expirationTime>=b){d=a;break}a=a.next}while(a!==c);null===d?d=c:d===c&&(c=g,p());b=d.previous;b.next=d.previous=g;g.next=d;g.previous=\nb}}function v(){if(-1===k&&null!==c&&1===c.priorityLevel){m=!0;try{do u();while(null!==c&&1===c.priorityLevel)}finally{m=!1,null!==c?p():n=!1}}}function t(a){m=!0;var b=f;f=a;try{if(a)for(;null!==c;){var d=exports.unstable_now();if(c.expirationTime<=d){do u();while(null!==c&&c.expirationTime<=d)}else break}else if(null!==c){do u();while(null!==c&&!w())}}finally{m=!1,f=b,null!==c?p():n=!1,v()}}\nvar x=Date,y=\"function\"===typeof setTimeout?setTimeout:void 0,z=\"function\"===typeof clearTimeout?clearTimeout:void 0,A=\"function\"===typeof requestAnimationFrame?requestAnimationFrame:void 0,B=\"function\"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,C,D;function E(a){C=A(function(b){z(D);a(b)});D=y(function(){B(C);a(exports.unstable_now())},100)}\nif(\"object\"===typeof performance&&\"function\"===typeof performance.now){var F=performance;exports.unstable_now=function(){return F.now()}}else exports.unstable_now=function(){return x.now()};var r,q,w,G=null;\"undefined\"!==typeof window?G=window:\"undefined\"!==typeof global&&(G=global);\nif(G&&G._schedMock){var H=G._schedMock;r=H[0];q=H[1];w=H[2];exports.unstable_now=H[3]}else if(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var I=null,J=function(a){if(null!==I)try{I(a)}finally{I=null}};r=function(a){null!==I?setTimeout(r,0,a):(I=a,setTimeout(J,0,!1))};q=function(){I=null};w=function(){return!1}}else{\"undefined\"!==typeof console&&(\"function\"!==typeof A&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),\n\"function\"!==typeof B&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"));var K=null,L=!1,M=-1,N=!1,O=!1,P=0,R=33,S=33;w=function(){return P<=exports.unstable_now()};var T=new MessageChannel,U=T.port2;T.port1.onmessage=function(){L=!1;var a=K,b=M;K=null;M=-1;var d=exports.unstable_now(),e=!1;if(0>=P-d)if(-1!==b&&b<=d)e=!0;else{N||(N=!0,E(V));K=a;M=b;return}if(null!==a){O=!0;try{a(e)}finally{O=!1}}};\nvar V=function(a){if(null!==K){E(V);var b=a-P+S;b<S&&R<S?(8>b&&(b=8),S=b<R?R:b):R=b;P=a+S;L||(L=!0,U.postMessage(void 0))}else N=!1};r=function(a,b){K=a;M=b;O||0>b?U.postMessage(void 0):N||(N=!0,E(V))};q=function(){K=null;L=!1;M=-1}}exports.unstable_ImmediatePriority=1;exports.unstable_UserBlockingPriority=2;exports.unstable_NormalPriority=3;exports.unstable_IdlePriority=5;exports.unstable_LowPriority=4;\nexports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var d=h,e=k;h=a;k=exports.unstable_now();try{return b()}finally{h=d,k=e,v()}};\nexports.unstable_scheduleCallback=function(a,b){var d=-1!==k?k:exports.unstable_now();if(\"object\"===typeof b&&null!==b&&\"number\"===typeof b.timeout)b=d+b.timeout;else switch(h){case 1:b=d+-1;break;case 2:b=d+250;break;case 5:b=d+1073741823;break;case 4:b=d+1E4;break;default:b=d+5E3}a={callback:a,priorityLevel:h,expirationTime:b,next:null,previous:null};if(null===c)c=a.next=a.previous=a,p();else{d=null;var e=c;do{if(e.expirationTime>b){d=e;break}e=e.next}while(e!==c);null===d?d=c:d===c&&(c=a,p());\nb=d.previous;b.next=d.previous=a;a.next=d;a.previous=b}return a};exports.unstable_cancelCallback=function(a){var b=a.next;if(null!==b){if(b===a)c=null;else{a===c&&(c=b);var d=a.previous;d.next=b;b.previous=d}a.next=a.previous=null}};exports.unstable_wrapCallback=function(a){var b=h;return function(){var d=h,e=k;h=b;k=exports.unstable_now();try{return a.apply(this,arguments)}finally{h=d,k=e,v()}}};exports.unstable_getCurrentPriorityLevel=function(){return h};\nexports.unstable_shouldYield=function(){return!f&&(null!==c&&c.expirationTime<l||w())};exports.unstable_continueExecution=function(){null!==c&&p()};exports.unstable_pauseExecution=function(){};exports.unstable_getFirstCallbackNode=function(){return c};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_menubridge')) {\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Menu plugin. It takes over the\n\t * responsibility of adding, removing and retrieving menu groups and items\n\t * - editor.addMenuGroup(name, order)\n\t * - editor.addMenuItem(name, definition)\n\t * - editor.addMenuItems(definitions)\n\t * - editor.getMenuItem(name)\n\t * - editor.removeMenuItem(name)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubridge', {\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\t// Do nothing if the real menu plugin is present\n\t\t\tif (CKEDITOR.plugins.get('menu')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet groups = [];\n\t\t\tlet groupsOrder = (editor._.menuGroups = {});\n\t\t\tlet menuItems = (editor._.menuItems = {});\n\n\t\t\tfor (let i = 0; i < groups.length; i++) {\n\t\t\t\tgroupsOrder[groups[i]] = i + 1;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Registers an item group to the editor context menu in order to make it\n\t\t\t * possible to associate it with menu items later.\n\t\t\t *\n\t\t\t * @method addMenuGroup\n\t\t\t * @param {String} name Specify a group name.\n\t\t\t * @param {Number} [order=100] Define the display sequence of this group\n\t\t\t * inside the menu. A smaller value gets displayed first.\n\t\t\t */\n\t\t\teditor.addMenuGroup = function(name, order) {\n\t\t\t\tgroupsOrder[name] = order || 100;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds an item from the specified definition to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItem\n\t\t\t * @param {String} name The menu item name.\n\t\t\t * @param {Object} definition The menu item definition.\n\t\t\t */\n\t\t\teditor.addMenuItem = function(name, definition) {\n\t\t\t\tif (groupsOrder[definition.group]) {\n\t\t\t\t\tmenuItems[name] = {\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tdefinition: definition,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds one or more items from the specified definition object to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItems\n\t\t\t * @param {Object} definitions Object where keys are used as itemName and corresponding values as definition for a {@link #addMenuItem} call.\n\t\t\t */\n\t\t\teditor.addMenuItems = function(definitions) {\n\t\t\t\tfor (let itemName in definitions) {\n\t\t\t\t\tif (definitions.hasOwnProperty(itemName)) {\n\t\t\t\t\t\tthis.addMenuItem(itemName, definitions[itemName]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Retrieves a particular menu item definition from the editor context menu.\n\t\t\t *\n\t\t\t * @method getMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t * @return {Object}\n\t\t\t */\n\t\t\teditor.getMenuItem = function(name) {\n\t\t\t\treturn menuItems[name];\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Removes a particular menu item added before from the editor context menu.\n\t\t\t *\n\t\t\t * @method  removeMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t */\n\t\t\teditor.removeMenuItem = function(name) {\n\t\t\t\tdelete menuItems[name];\n\t\t\t};\n\t\t},\n\t});\n}\n","import React from 'react';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_panelmenubuttonbridge')) {\n\tlet PANEL_MENU_DEFS = {};\n\n\t/**\n\t * Generates a PanelMenuButtonBridge React class for a given panelmenubutton definition if it has not been\n\t * already created based on the panelmenubutton name and definition.\n\t *\n\t * @private\n\t * @method generatePanelMenuButtonBridge\n\t * @param {String} panelMenuButtonName The panel button name\n\t * @param {Object} panelMenuButtonDefinition The panel button definition\n\t * @return {Object} The generated or already existing React PanelMenuButton Class\n\t */\n\tlet generatePanelMenuButtonBridge = function(\n\t\tpanelMenuButtonName,\n\t\tpanelMenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet PanelMenuButtonBridge = AlloyEditor.Buttons[panelMenuButtonName];\n\n\t\tPANEL_MENU_DEFS[editor.name] = PANEL_MENU_DEFS[editor.name] || {};\n\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] =\n\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] ||\n\t\t\tpanelMenuButtonDefinition;\n\n\t\tif (!PanelMenuButtonBridge) {\n\t\t\tPanelMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = panelMenuButtonName;\n\n\t\t\t\tstatic key = panelMenuButtonName;\n\n\t\t\t\t// API not yet implemented inside the panel menu button bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcreatePanel() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet panelMenuButtonDisplayName =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.name ||\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.command ||\n\t\t\t\t\t\tpanelMenuButtonName;\n\n\t\t\t\t\tlet buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tlet iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tlet iconStyle = {};\n\n\t\t\t\t\tlet cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tlet cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet panel;\n\n\t\t\t\t\tif (this.props.expanded) {\n\t\t\t\t\t\tpanel = this._getPanel();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{panel}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getPanel() {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet panelMenuButtonOnBlock =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.onBlock;\n\n\t\t\t\t\tlet panel = {\n\t\t\t\t\t\thide: this.props.toggleDropdown,\n\t\t\t\t\t\tshow: this.props.toggleDropdown,\n\t\t\t\t\t};\n\n\t\t\t\t\tlet blockElement = new CKEDITOR.dom.element('div');\n\n\t\t\t\t\tlet block = {\n\t\t\t\t\t\telement: blockElement,\n\t\t\t\t\t\tkeys: {},\n\t\t\t\t\t};\n\n\t\t\t\t\t/* istanbul ignore else */\n\t\t\t\t\tif (panelMenuButtonOnBlock) {\n\t\t\t\t\t\tpanelMenuButtonOnBlock.call(this, panel, block);\n\t\t\t\t\t}\n\n\t\t\t\t\t// TODO\n\t\t\t\t\t// Use block.keys to configure the panel keyboard navigation\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ButtonDropdown onDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={blockElement.getAttribute('class')}\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: blockElement.getHtml(),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[panelMenuButtonName] = PanelMenuButtonBridge;\n\t\t}\n\n\t\treturn PanelMenuButtonBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelmenubutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelmenubutton';\n\n\t\tCKEDITOR.plugins.add('panelmenubutton', {});\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelbutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelbutton';\n\n\t\tCKEDITOR.plugins.add('panelbutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor PanelButton plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addPanelMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_PANELBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_panelmenubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_panelmenubuttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_PANELBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addPanelMenuButton = function(\n\t\t\t\tpanelMenuButtonName,\n\t\t\t\tpanelMenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_PANELBUTTON,\n\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_PANELBUTTON, {\n\t\t\t\tadd: generatePanelMenuButtonBridge,\n\t\t\t\tcreate: function(panelMenuButtonDefinition) {\n\t\t\t\t\tlet panelMenuButtonName =\n\t\t\t\t\t\t'panelMenuButtonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet PanelMenuButtonBridge = generatePanelMenuButtonBridge(\n\t\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new PanelMenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","import React from 'react';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport ButtonIcon from '../buttons/button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_richcombobridge')) {\n\tlet RICH_COMBO_DEFS = {};\n\n\t/**\n\t * Generates a RichComboBridge React class for a given richcombo definition if it has not been\n\t * already created based on the richcombo name and definition.\n\t *\n\t * @method generateRichComboBridge\n\t * @private\n\t * @param {String} richComboName The rich combo name\n\t * @param {Object} richComboDefinition The rich combo definition\n\t * @return {Object} The generated or already existing React RichCombo Class\n\t */\n\tlet generateRichComboBridge = function(\n\t\trichComboName,\n\t\trichComboDefinition,\n\t\teditor\n\t) {\n\t\tlet RichComboBridge = AlloyEditor.Buttons[richComboName];\n\n\t\tRICH_COMBO_DEFS[editor.name] = RICH_COMBO_DEFS[editor.name] || {};\n\t\tRICH_COMBO_DEFS[editor.name][richComboName] =\n\t\t\tRICH_COMBO_DEFS[editor.name][richComboName] || richComboDefinition;\n\t\tRICH_COMBO_DEFS[editor.name][richComboName].currentValue = undefined;\n\n\t\tif (!RichComboBridge) {\n\t\t\tRichComboBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = richComboName;\n\n\t\t\t\tstatic key = richComboName;\n\n\t\t\t\tconstructor(props) {\n\t\t\t\t\tsuper(props);\n\t\t\t\t\tthis.state = {\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t\t.currentValue,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// API not yet implemented inside the richcombo bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcommit() {}\n\t\t\t\tcreatePanel() {}\n\t\t\t\tdisable() {}\n\t\t\t\tenable() {}\n\t\t\t\tgetState() {}\n\t\t\t\thideGroup() {}\n\t\t\t\thideItem() {}\n\t\t\t\tmark() {}\n\t\t\t\tshowAll() {}\n\t\t\t\tstartGroup() {}\n\t\t\t\tunmarkAll() {}\n\n\t\t\t\tadd(value, preview, title) {\n\t\t\t\t\tthis._items.push({\n\t\t\t\t\t\tpreview: preview,\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcomponentWillMount() {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tthis._items = [];\n\n\t\t\t\t\tthis.setValue = this._setValue;\n\n\t\t\t\t\tif (editorCombo.init) {\n\t\t\t\t\t\teditorCombo.init.call(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (editorCombo.onRender) {\n\t\t\t\t\t\teditorCombo.onRender.call(this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcomponentWillUnmount() {\n\t\t\t\t\tthis._cacheValue(this.state.value);\n\n\t\t\t\t\tthis.setValue = this._cacheValue;\n\t\t\t\t}\n\n\t\t\t\tgetValue() {\n\t\t\t\t\treturn this.state.value;\n\t\t\t\t}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet richComboLabel =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t.currentValue || richComboDefinition.label;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={richComboLabel}\n\t\t\t\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={richComboLabel}>\n\t\t\t\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t\t\t\t{richComboLabel}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_cacheValue(value) {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\trichComboName\n\t\t\t\t\t].currentValue = value;\n\t\t\t\t}\n\n\t\t\t\t_getItems() {\n\t\t\t\t\tlet richCombo = this;\n\n\t\t\t\t\tlet items = this._items.map(\n\t\t\t\t\t\tfunction(item) {\n\t\t\t\t\t\t\tlet className =\n\t\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t\t(item.value === this.state.value\n\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t: '');\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={item.title} role=\"option\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: item.preview,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdata-value={item.value}\n\t\t\t\t\t\t\t\t\t\tonClick={richCombo._onClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t);\n\n\t\t\t\t\treturn items;\n\t\t\t\t}\n\n\t\t\t\t_onClick = event => {\n\t\t\t\t\tlet editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tlet editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tif (editorCombo.onClick) {\n\t\t\t\t\t\tlet newValue = event.currentTarget.getAttribute(\n\t\t\t\t\t\t\t'data-value'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\teditorCombo.onClick.call(this, newValue);\n\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\t\trichComboName\n\t\t\t\t\t\t].currentValue = newValue;\n\n\t\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t_setValue(value) {\n\t\t\t\t\tthis._cacheValue(value);\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[richComboName] = RichComboBridge;\n\t\t}\n\n\t\treturn RichComboBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('richcombo')) {\n\t\tCKEDITOR.UI_RICHCOMBO = 'richcombo';\n\n\t\tCKEDITOR.plugins.add('richcombo', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor RichCombo plugin. It takes over the\n\t * responsibility of registering and creating rich combo elements via:\n\t * - editor.ui.addRichCombo(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_RICHCOMBO, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_richcombobridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_richcombobridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_RICHCOMBO to our own. We do this in the init phase to override\n\t\t * the one in the original plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addRichCombo = function(\n\t\t\t\trichComboName,\n\t\t\t\trichComboDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\trichComboName,\n\t\t\t\t\tCKEDITOR.UI_RICHCOMBO,\n\t\t\t\t\trichComboDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_RICHCOMBO, {\n\t\t\t\tadd: generateRichComboBridge,\n\t\t\t\tcreate: function(richComboDefinition) {\n\t\t\t\t\tlet richComboName =\n\t\t\t\t\t\t'richComboBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet RichComboBridge = generateRichComboBridge(\n\t\t\t\t\t\trichComboName,\n\t\t\t\t\t\trichComboDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new RichComboBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_uibridge')) {\n\t/**\n\t * CKEditor plugin that extends CKEDITOR.ui.add function so an add handler can be specified\n\t * on top of the original ones. It bridges the calls to add components via:\n\t * - editor.ui.add(name, type, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_uibridge', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t *\n\t\t * @method beforeInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\tlet originalUIAddFn = editor.ui.add;\n\n\t\t\teditor.ui.add = function(name, type, definition) {\n\t\t\t\toriginalUIAddFn.call(this, name, type, definition);\n\n\t\t\t\tlet typeHandler = this._.handlers[type];\n\n\t\t\t\tif (typeHandler && typeHandler.add) {\n\t\t\t\t\ttypeHandler.add(name, definition, editor);\n\t\t\t\t\tAlloyEditor.registerBridgeButton(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\teditor.__processingPlugin__.plugin.name\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t});\n}\n","import Attribute from './attribute';\nimport Lang from './lang';\nimport extend from './oop';\n\n/**\n * Quick and dirty impl of Base class.\n *\n * @class Base\n * @constructor\n */\nfunction Base(config) {\n\tBase.superclass.constructor.call(this, config);\n\n\tthis.init(config);\n}\n\nextend(Base, Attribute, {\n\t/**\n\t * Calls the `initializer` method of each class which extends Base starting from the parent to the child.\n\t * Will pass the configuration object to each initializer method.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method init\n\t * @param {Object} config Configuration object\n\t */\n\tinit: function(config) {\n\t\tthis._callChain('initializer', config);\n\t},\n\n\t/**\n\t * Calls the `destructor` method of each class which extends Base starting from the parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method destroy\n\t */\n\tdestroy: function() {\n\t\tthis._callChain('destructor');\n\t},\n\n\t/**\n\t * Calls a method of each class, which is being present in the hierarchy starting from parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method _callChain\n\t * @param {Object|Array} args The arguments with which the method should be invoked\n\t * @param {String} wat  The method, which should be invoked\n\t * @protected\n\t */\n\t_callChain: function(wat, args) {\n\t\tlet arr = [];\n\n\t\tlet ctor = this.constructor;\n\n\t\twhile (ctor) {\n\t\t\tif (Lang.isFunction(ctor.prototype[wat])) {\n\t\t\t\tarr.push(ctor.prototype[wat]);\n\t\t\t}\n\n\t\t\tctor = ctor.superclass ? ctor.superclass.constructor : null;\n\t\t}\n\n\t\tarr = arr.reverse();\n\n\t\targs = Lang.isArray(args) ? args : [args];\n\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tlet item = arr[i];\n\n\t\t\titem.apply(this, args);\n\t\t}\n\t},\n});\n\nexport default Base;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport WidgetExclusive from './base/widget-exclusive';\nimport WidgetFocusManager from './base/widget-focus-manager';\nimport EditorContext from '../adapter/editor-context';\n\n/**\n * The main editor UI class manages a hierarchy of widgets (toolbars and buttons).\n *\n * @class UI\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass UI extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: true,\n\t\tdescendants: '[class^=ae-toolbar-]',\n\t\teventsDelay: 0,\n\t\tkeys: {\n\t\t\tnext: 9,\n\t\t},\n\t};\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Localized messages for live aria updates. Should include the following messages:\n\t\t * - noToolbar: Notification for no available toolbar in the editor.\n\t\t * - oneToolbar: Notification for just one available toolbar in the editor.\n\t\t * - manyToolbars: Notification for more than one available toolbar in the editor.\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Object} ariaUpdates\n\t\t */\n\t\tariaUpdates: PropTypes.object,\n\n\t\t/**\n\t\t * The delay (ms), after which key or mouse events will be processed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Number} eventsDelay\n\t\t */\n\t\teventsDelay: PropTypes.number,\n\n\t\t/**\n\t\t * The toolbars configuration for this editor instance\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Object} toolbars\n\t\t */\n\t\ttoolbars: PropTypes.object.isRequired,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thidden: false,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.on('editorInteraction', this._onEditorInteraction, this);\n\t\teditor.on('actionPerformed', this._onActionPerformed, this);\n\t\teditor.on('key', this._onEditorKey, this);\n\n\t\t// Set up events for hiding the UI when user stops interacting with the editor.\n\t\t// This may happen when he just clicks outside of the editor. However,\n\t\t// this does not include a situation when he clicks on some button, part of\n\t\t// editor's UI.\n\n\t\t// It is not easy to debounce _setUIHidden on mousedown, because if we\n\t\t// debounce it, when the handler is being invoked, the target might be no more part\n\t\t// of the editor's UI - onActionPerformed causes re-render.\n\t\tthis._mousedownListener = event => {\n\t\t\tthis._setUIHidden(event.target);\n\t\t};\n\n\t\tthis._keyDownListener = CKEDITOR.tools.debounce(\n\t\t\t_event => {\n\t\t\t\tthis._setUIHidden(document.activeElement);\n\t\t\t},\n\t\t\tthis.props.eventsDelay,\n\t\t\tthis\n\t\t);\n\n\t\tdocument.addEventListener('mousedown', this._mousedownListener);\n\t\tdocument.addEventListener('keydown', this._keyDownListener);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * Fires `ariaUpdate` event passing ARIA related messages.\n\t * Fires `editorUpdate` event passing the previous and current properties and state.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidUpdate\n\t */\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tif (domNode) {\n\t\t\teditor.fire('ariaUpdate', {\n\t\t\t\tmessage: this._getAvailableToolbarsMessage(domNode),\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('editorUpdate', {\n\t\t\tprevProps: prevProps,\n\t\t\tprevState: prevState,\n\t\t\tprops: this.props,\n\t\t\tstate: this.state,\n\t\t});\n\t}\n\n\t_getAriaUpdateTemplate(ariaUpdate) {\n\t\tif (!this._ariaUpdateTemplates) {\n\t\t\tthis._ariaUpdateTemplates = {};\n\t\t}\n\n\t\tif (!this._ariaUpdateTemplates[ariaUpdate]) {\n\t\t\tthis._ariaUpdateTemplates[ariaUpdate] = new CKEDITOR.template(\n\t\t\t\tthis._getAriaUpdates()[ariaUpdate]\n\t\t\t);\n\t\t}\n\n\t\treturn this._ariaUpdateTemplates[ariaUpdate];\n\t}\n\n\t/**\n\t * Returns the templates for ARIA messages.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _getAriaUpdates\n\t * @return {Object} ARIA relates messages. Default:\n\t * {\n\t *      noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t *      oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t *      manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars\n\t *  }\n\t */\n\t_getAriaUpdates() {\n\t\treturn (\n\t\t\tthis.props.ariaUpdates || {\n\t\t\t\tnoToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t\t\t\toneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t\t\t\tmanyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars,\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Returns an ARIA message which represents the number of currently available toolbars.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method _getAvailableToolbarsMessage\n\t * @protected\n\t * @param {CKEDITOR.dom.element} domNode The DOM node from which the available toolbars will be retrieved.\n\t * @return {String} The ARIA message for the number of available toolbars\n\t */\n\t_getAvailableToolbarsMessage(domNode) {\n\t\tconst toolbarsNodeList = domNode.querySelectorAll('[role=\"toolbar\"]');\n\n\t\tif (!toolbarsNodeList.length) {\n\t\t\treturn this._getAriaUpdates().noToolbar;\n\t\t} else {\n\t\t\tconst toolbarNames = Array.prototype.slice\n\t\t\t\t.call(toolbarsNodeList)\n\t\t\t\t.map(toolbar => {\n\t\t\t\t\treturn toolbar.getAttribute('aria-label');\n\t\t\t\t});\n\n\t\t\tconst ariaUpdate =\n\t\t\t\ttoolbarNames.length === 1 ? 'oneToolbar' : 'manyToolbars';\n\n\t\t\treturn this._getAriaUpdateTemplate(ariaUpdate).output({\n\t\t\t\ttoolbars: toolbarNames\n\t\t\t\t\t.join(',')\n\t\t\t\t\t.replace(/,([^,]*)$/, ' and ' + '$1'),\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._mousedownListener) {\n\t\t\tdocument.removeEventListener('mousedown', this._mousedownListener);\n\t\t}\n\n\t\tif (this._keyDownListener) {\n\t\t\tthis._keyDownListener.detach();\n\t\t\tdocument.removeEventListener('keydown', this._keyDownListener);\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the editor. This may include several toolbars and buttons.\n\t * The editor's UI also takes care of rendering the items in exclusive mode.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.state.hidden) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet toolbars = Object.keys(this.props.toolbars).map(toolbar => {\n\t\t\treturn AlloyEditor.Toolbars[toolbar] || window[toolbar];\n\t\t});\n\n\t\ttoolbars = this.filterExclusive(toolbars).map(toolbar => {\n\t\t\tconst props = this.mergeExclusiveProps(\n\t\t\t\t{\n\t\t\t\t\tconfig: this.props.toolbars[toolbar.key],\n\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\teditorEvent: this.state.editorEvent,\n\t\t\t\t\tkey: toolbar.key,\n\t\t\t\t\tonDismiss: this._onDismissToolbarFocus,\n\t\t\t\t\tselectionData: this.state.selectionData,\n\t\t\t\t},\n\t\t\t\ttoolbar.key\n\t\t\t);\n\n\t\t\treturn React.createElement(toolbar, props);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"ae-toolbars\" onKeyDown={this.handleKey}>\n\t\t\t\t{toolbars}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Listener to the editor's `actionPerformed` event. Sets state and redraws the UI of the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onActionPerformed\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onActionPerformed(_event) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\n\t\tthis.setState({\n\t\t\titemExclusive: null,\n\t\t\tselectionData: editor.getSelectionData(),\n\t\t});\n\t}\n\n\t/**\n\t * Executed when a dismiss key is pressed over a toolbar to return the focus to the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onDismissToolbarFocus\n\t */\n\t_onDismissToolbarFocus = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\t};\n\n\t/**\n\t * Listener to the editor's `userInteraction` event. Retrieves the data about the user selection and\n\t * provides it via component's state property.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorInteraction\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onEditorInteraction(event) {\n\t\tthis.setState({\n\t\t\teditorEvent: event,\n\t\t\thidden: false,\n\t\t\titemExclusive: null,\n\t\t\tselectionData: event.data.selectionData,\n\t\t});\n\t}\n\n\t/**\n\t * Focuses on the active toolbar when the combination ALT+F10 is pressed inside the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorKey\n\t */\n\t_onEditorKey(event) {\n\t\tconst nativeEvent = event.data.domEvent.$;\n\n\t\tif (nativeEvent.altKey && nativeEvent.keyCode === 121) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the target with which the user interacted is part of editor's UI or it is\n\t * the editable area. If none of these, sets the state of editor's UI to be hidden.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _setUIHidden\n\t * @param {DOMElement} target The DOM element with which user interacted lastly.\n\t */\n\t_setUIHidden(target) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst editable = this.context.editor.get('nativeEditor').editable();\n\t\t\tconst parentNode = target.parentNode;\n\t\t\tconst targetNode = new CKEDITOR.dom.node(target);\n\n\t\t\tif (!editable) {\n\t\t\t\tthis.setState({\n\t\t\t\t\thidden: true,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet res =\n\t\t\t\t\teditable.$ === target ||\n\t\t\t\t\teditable.contains(targetNode) ||\n\t\t\t\t\tnew CKEDITOR.dom.element(domNode).contains(targetNode);\n\n\t\t\t\tif (parentNode) {\n\t\t\t\t\tres = res || parentNode.id === 'ckimgrsz';\n\t\t\t\t}\n\n\t\t\t\tif (!res) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Fired when component updates and when it is rendered in the DOM.\n * The payload consists from a `message` property containing the ARIA message.\n *\n * @event ariaUpdate\n */\n\n/**\n * Fired when component updates. The payload consists from an object with the following\n * properties:\n * - prevProps - The previous properties of the component\n * - prevState - The previous state of the component\n * - props - The current properties of the component\n * - state - The current state of the component\n *\n * @event ariaUpdate\n */\n\nexport default WidgetExclusive(WidgetFocusManager(UI));\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import removeImageCommand from './remove-image';\n\nexport {removeImageCommand};\n","const removeImageCommand = {\n\texec: editor => {\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst ranges = selection.getRanges();\n\t\t\tconst startContainer = ranges[0].startContainer;\n\n\t\t\tconst nextRange = new CKEDITOR.dom.range(startContainer);\n\t\t\tnextRange.setStart(startContainer, 0);\n\t\t\tnextRange.setEnd(startContainer, 0);\n\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement && selectedElement.getName() === 'img') {\n\t\t\t\tconst native = selection.getNative();\n\t\t\t\tif (native) {\n\t\t\t\t\tnative.removeAllRanges();\n\t\t\t\t}\n\n\t\t\t\tselection.selectRanges([nextRange]);\n\n\t\t\t\tselectedElement.remove();\n\t\t\t}\n\t\t}\n\t},\n};\n\nexport default removeImageCommand;\n","import ButtonAccessibilityImageAlt from './button-accessibility-image-alt.jsx';\nimport ButtonBackgroundColor from './button-background-color.jsx';\nimport ButtonBold from './button-bold.jsx';\nimport ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonCamera from './button-camera.jsx';\nimport ButtonCode from './button-code.jsx';\nimport ButtonColor from './button-color.jsx';\nimport ButtonCommandListItem from './button-command-list-item.jsx';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonDropdown from './button-dropdown.jsx';\nimport ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonEmbed from './button-embed.jsx';\nimport ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonEmbedVideo from './button-embed-video.jsx';\nimport ButtonH1 from './button-h1.jsx';\nimport ButtonH2 from './button-h2.jsx';\nimport ButtonHline from './button-hline.jsx';\nimport ButtonImageAlignCenter from './button-image-align-center.jsx';\nimport ButtonImageAlignLeft from './button-image-align-left.jsx';\nimport ButtonImageAlignRight from './button-image-align-right.jsx';\nimport ButtonImage from './button-image.jsx';\nimport ButtonIndentBlock from './button-indent-block.jsx';\nimport ButtonItalic from './button-italic.jsx';\nimport ButtonItemSelectorAudio from './button-item-selector-audio.jsx';\nimport ButtonItemSelectorImage from './button-item-selector-image.jsx';\nimport ButtonItemSelectorVideo from './button-item-selector-video.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkBrowse from './button-link-browse.jsx';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\nimport ButtonLink from './button-link.jsx';\nimport ButtonOl from './button-ol.jsx';\nimport ButtonOutdentBlock from './button-outdent-block.jsx';\nimport ButtonParagraphAlign from './button-paragraph-align.jsx';\nimport ButtonParagraphAlignLeft from './button-paragraph-align-left.jsx';\nimport ButtonParagraphAlignRight from './button-paragraph-align-right.jsx';\nimport ButtonParagraphCenter from './button-paragraph-center.jsx';\nimport ButtonParagraphJustify from './button-paragraph-justify.jsx';\nimport ButtonQuote from './button-quote.jsx';\nimport ButtonRemoveFormat from './button-remove-format.jsx';\nimport ButtonRemoveImage from './button-remove-image.jsx';\nimport ButtonSeparator from './button-separator.jsx';\nimport ButtonSpacing from './button-spacing.jsx';\nimport ButtonStrike from './button-strike.jsx';\nimport ButtonStylesListHeader from './button-styles-list-header.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport ButtonStyles from './button-styles.jsx';\nimport ButtonSubscript from './button-subscript.jsx';\nimport ButtonSuperscript from './button-superscript.jsx';\nimport ButtonTableCell from './button-table-cell.jsx';\nimport ButtonTableColumn from './button-table-column.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\nimport ButtonTableHeading from './button-table-heading.jsx';\nimport ButtonTableRemove from './button-table-remove.jsx';\nimport ButtonTableRow from './button-table-row.jsx';\nimport ButtonTable from './button-table.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\nimport ButtonTwitter from './button-twitter.jsx';\nimport ButtonUl from './button-ul.jsx';\nimport ButtonUnderline from './button-underline.jsx';\n\nexport default {\n\t[ButtonAccessibilityImageAlt.key]: ButtonAccessibilityImageAlt,\n\t[ButtonBackgroundColor.key]: ButtonBackgroundColor,\n\t[ButtonBold.key]: ButtonBold,\n\t[ButtonCameraImage.key]: ButtonCameraImage,\n\t[ButtonCamera.key]: ButtonCamera,\n\t[ButtonCode.key]: ButtonCode,\n\t[ButtonColor.key]: ButtonColor,\n\t[ButtonCommandListItem.key]: ButtonCommandListItem,\n\t[ButtonCommandsList.key]: ButtonCommandsList,\n\t[ButtonDropdown.key]: ButtonDropdown,\n\t[ButtonEmbedEdit.key]: ButtonEmbedEdit,\n\t[ButtonEmbed.key]: ButtonEmbed,\n\t[ButtonEmbedVideoEdit.key]: ButtonEmbedVideoEdit,\n\t[ButtonEmbedVideo.key]: ButtonEmbedVideo,\n\t[ButtonH1.key]: ButtonH1,\n\t[ButtonH2.key]: ButtonH2,\n\t[ButtonHline.key]: ButtonHline,\n\t[ButtonImageAlignCenter.key]: ButtonImageAlignCenter,\n\t[ButtonImageAlignLeft.key]: ButtonImageAlignLeft,\n\t[ButtonImageAlignRight.key]: ButtonImageAlignRight,\n\t[ButtonImage.key]: ButtonImage,\n\t[ButtonIndentBlock.key]: ButtonIndentBlock,\n\t[ButtonItalic.key]: ButtonItalic,\n\t[ButtonItemSelectorAudio.key]: ButtonItemSelectorAudio,\n\t[ButtonItemSelectorImage.key]: ButtonItemSelectorImage,\n\t[ButtonItemSelectorVideo.key]: ButtonItemSelectorVideo,\n\t[ButtonLinkAutocompleteList.key]: ButtonLinkAutocompleteList,\n\t[ButtonLinkBrowse.key]: ButtonLinkBrowse,\n\t[ButtonLinkEditBrowse.key]: ButtonLinkEditBrowse,\n\t[ButtonLinkEdit.key]: ButtonLinkEdit,\n\t[ButtonLinkTargetEdit.key]: ButtonLinkTargetEdit,\n\t[ButtonLink.key]: ButtonLink,\n\t[ButtonOl.key]: ButtonOl,\n\t[ButtonOutdentBlock.key]: ButtonOutdentBlock,\n\t[ButtonParagraphAlign.key]: ButtonParagraphAlign,\n\t[ButtonParagraphAlignLeft.key]: ButtonParagraphAlignLeft,\n\t[ButtonParagraphAlignRight.key]: ButtonParagraphAlignRight,\n\t[ButtonParagraphCenter.key]: ButtonParagraphCenter,\n\t[ButtonParagraphJustify.key]: ButtonParagraphJustify,\n\t[ButtonQuote.key]: ButtonQuote,\n\t[ButtonRemoveFormat.key]: ButtonRemoveFormat,\n\t[ButtonRemoveImage.key]: ButtonRemoveImage,\n\t[ButtonSeparator.key]: ButtonSeparator,\n\t[ButtonSpacing.key]: ButtonSpacing,\n\t[ButtonStrike.key]: ButtonStrike,\n\t[ButtonStylesListHeader.key]: ButtonStylesListHeader,\n\t[ButtonStylesListItemRemove.key]: ButtonStylesListItemRemove,\n\t[ButtonStylesListItem.key]: ButtonStylesListItem,\n\t[ButtonStylesList.key]: ButtonStylesList,\n\t[ButtonStyles.key]: ButtonStyles,\n\t[ButtonSubscript.key]: ButtonSubscript,\n\t[ButtonSuperscript.key]: ButtonSuperscript,\n\t[ButtonTableCell.key]: ButtonTableCell,\n\t[ButtonTableColumn.key]: ButtonTableColumn,\n\t[ButtonTableEdit.key]: ButtonTableEdit,\n\t[ButtonTableHeading.key]: ButtonTableHeading,\n\t[ButtonTableRemove.key]: ButtonTableRemove,\n\t[ButtonTableRow.key]: ButtonTableRow,\n\t[ButtonTable.key]: ButtonTable,\n\t[ButtonTargetList.key]: ButtonTargetList,\n\t[ButtonTwitter.key]: ButtonTwitter,\n\t[ButtonUl.key]: ButtonUl,\n\t[ButtonUnderline.key]: ButtonUnderline,\n};\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport EditorContext from '../../adapter/editor-context';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n/**\n * The ButtonAccessibilityImageAlt class provides functionality for changing text color in a document.\n *\n * @class ButtonAccessibilityImageAlt\n * @uses ButtonProps\n * @uses ButtonStateClasses\n *\n */\nclass ButtonAccessibilityImageAlt extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'imageAlt';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst element = props.context.editor\n\t\t\t.get('nativeEditor')\n\t\t\t.getSelection()\n\t\t\t.getSelectedElement();\n\n\t\tconst imageAlt = (element && element.getAttribute('alt')) || '';\n\n\t\tthis.state = {\n\t\t\telement,\n\t\t\timageAlt,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = 'ae-button ' + this.getStateClasses();\n\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn (\n\t\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taria-label=\"alt\"\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleAltChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\tplaceholder=\"alt\"\n\t\t\t\t\t\t\tref=\"refAltInput\"\n\t\t\t\t\t\t\ttitle=\"alt\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.imageAlt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\t\tonClick={this._updateImageAlt}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName={cssClass}\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t<small className=\"ae-icon small\">Alt</small>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @protected\n\t * @method _focusAltInput\n\t */\n\t_focusAltInput() {\n\t\tconst instance = this;\n\n\t\tconst focusAltEl = function() {\n\t\t\tReactDOM.findDOMNode(instance.refs.refAltInput).focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusAltEl);\n\t\t} else {\n\t\t\tsetTimeout(focusAltEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Event attached to alt input that fires when its value is changed\n\t *\n\t * @protected\n\t * @method  _handleAltChange\n\t * @param {MouseEvent} event\n\t */\n\t_handleAltChange = event => {\n\t\tthis.setState({\n\t\t\timageAlt: event.target.value,\n\t\t});\n\n\t\tthis._focusAltInput();\n\t};\n\n\t/**\n\t * Event attached to al tinput that fires when key is down\n\t * This method check that enter key is pushed to update the components state\n\t *\n\t * @protected\n\t * @method  _handleKeyDown\n\t * @param {MouseEvent} event\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._updateImageAlt();\n\t\t}\n\t};\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonAccessibilityImageAlt.key);\n\t};\n\n\t/**\n\t * Method called by clicking ok button or pushing key enter to update imageAlt state and to update alt property from the image that is selected\n\t * This method calls cancelExclusive to show the previous toolbar before enter to edit alt property\n\t *\n\t * @protected\n\t * @method  _updateImageAlt\n\t */\n\t_updateImageAlt = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst imageAlt = this.refs.refAltInput.value;\n\n\t\tthis.setState({\n\t\t\timageAlt,\n\t\t});\n\n\t\tthis.state.element.setAttribute('alt', imageAlt);\n\n\t\teditor.fire('actionPerformed', this);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the alt button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default EditorContext.toProps(\n\tButtonProps(ButtonStateClasses(ButtonAccessibilityImageAlt))\n);\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport EditorContext from '../../adapter/editor-context';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass ButtonBackgroundColor extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'backgroundColor';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tlet activeColorClass = '';\n\n\t\tconst colors = this._getColors();\n\n\t\tconst itemStyle = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: '',\n\t\t\t},\n\t\t};\n\n\t\tcolors.forEach(item => {\n\t\t\titemStyle.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(itemStyle)) {\n\t\t\t\tactiveColor = item.name;\n\n\t\t\t\tactiveColorClass = item.style.attributes.class;\n\t\t\t}\n\t\t});\n\n\t\tconst {expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span className={activeColorClass}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"textbox\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tstyleConfig.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(styleConfig)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(styleConfig));\n\t\t\t}\n\t\t});\n\n\t\tstyleConfig.attributes.class = className;\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.normal,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-body',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: '',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-primary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.disabled,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-secondary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-success',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-danger',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-warning',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-info',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-info'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonProps(ButtonStateClasses(ButtonBackgroundColor));\n","import ButtonCommand from '../base/button-command';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonBold class provides functionality for styling an selection with strong (bold) style.\n *\n * @class ButtonBold\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonBold extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bold',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 66 /* B*/,\n\t\t},\n\t\tstyle: 'coreStyles_bold',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default bold\n\t * @memberof ButtonBold\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'bold';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button  ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bold}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-bold\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bold}>\n\t\t\t\t<ButtonIcon symbol=\"bold\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonBold)))\n);\n","import ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonCamera class renders in two different ways:\n *\n * - Normal: Just a button that allows to switch to the edition mode.\n * - Exclusive: Renders ButtonCameraImage in order to take photo from the camera.\n *\n * @class ButtonCamera\n */\nclass ButtonCamera extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default camera\n\t * @memberof ButtonCamera\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'camera';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCamera\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonCameraImage {...this.props} />;\n\t\t} else {\n\t\t\tconst disabled = !(\n\t\t\t\tnavigator.getUserMedia ||\n\t\t\t\t(navigator.webkitGetUserMedia &&\n\t\t\t\t\tlocation.protocol === 'https') ||\n\t\t\t\tnavigator.mozGetUserMedia ||\n\t\t\t\tnavigator.msGetUserMedia\n\t\t\t);\n\n\t\t\tconst label = disabled\n\t\t\t\t? AlloyEditor.Strings.cameraDisabled\n\t\t\t\t: AlloyEditor.Strings.camera;\n\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image-camera\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonClick={this.props.requestExclusive.bind(ButtonCamera.key)}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={label}>\n\t\t\t\t\t<ButtonIcon symbol=\"camera\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonCamera;\n","import ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonCode class provides wraps a selection in `pre` element.\n *\n * @class ButtonCode\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonCode extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'pre',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default code\n\t * @memberof ButtonCode\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'code';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.code}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-code\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.code}>\n\t\t\t\t<ButtonIcon symbol=\"code\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonCode)));\n","import ButtonProps from '../base/button-props';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport EditorContext from '../../adapter/editor-context';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The ButtonColor class provides functionality for changing text color in a document.\n *\n *\n * @class ButtonColor\n * @uses ButtonProps\n * @uses ButtonStateClasses\n */\nclass ButtonColor extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'color';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tlet activeColorClass = 'text-body';\n\n\t\tconst colors = this._getColors();\n\n\t\tcolors.some(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveColor = item.name;\n\n\t\t\t\tactiveColorClass = item.style.attributes.class;\n\t\t\t}\n\t\t});\n\n\t\tconst {expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span className={activeColorClass}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"text-editor\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig Color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - The style name, for example \"default\".\n\t * - style - An object with one property, called `element` which value\n\t *          represents the style which have to be applied to the element.\n\t * - styleFn - The function that is invoked to apply the style to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.normal,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-body',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.disabled,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-info'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonProps(ButtonStateClasses(ButtonColor));\n","import ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport React from 'react';\n\n/**\n * The ButtonEmbed class provides functionality for creating and editing an embed link in a document.\n * ButtonEmbed renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonEmbedEdit UI with all the link edition controls.\n *\n * @class ButtonEmbed\n * @uses ButtonKeystroke\n */\nclass ButtonEmbed extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embed\n\t * @memberof ButtonEmbed\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embed';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon symbol=\"plus\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the embedding of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonEmbed.key);\n\t};\n}\n\nexport default ButtonKeystroke(ButtonEmbed);\n","import ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * The ButtonEmbedVideo class provides functionality for changing text color in a document.\n *\n * @class ButtonEmbedVideo\n * @uses ButtonProps\n */\nclass ButtonEmbedVideo extends React.Component {\n\tstatic key = 'embedVideo';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedVideoEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-video\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t<ButtonIcon symbol=\"video\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonProps(ButtonEmbedVideo);\n","import ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonH1 class provides wraps a selection in `h1` element.\n *\n * @class ButtonH1\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH1 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h1',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h1\n\t * @memberof ButtonH1\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h1';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h1}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h1\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h1}>\n\t\t\t\t<ButtonIcon symbol=\"h1\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH1)));\n","import ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonH2 class provides wraps a selection in `h2` element.\n *\n * @class ButtonH2\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH2 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h2',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h2\n\t * @memberof ButtonH2\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h2';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h2}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h2\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h2}>\n\t\t\t\t<ButtonIcon symbol=\"h2\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH2)));\n","import ButtonCommand from '../base/button-command';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonHline class provides inserts horizontal line.\n *\n * @class ButtonHline\n * @uses ButtonCommand\n * @uses ButtonStyle\n */\nclass ButtonHline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'horizontalrule',\n\t\tstyle: {\n\t\t\telement: 'hr',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default hline\n\t * @memberof ButtonHline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'hline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.horizontalrule}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-hline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.horizontalrule}>\n\t\t\t\t<ButtonIcon symbol=\"hr\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStyle(ButtonHline));\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonImageAlignCenter class provides functionality for aligning an image in the center.\n *\n * @class ButtonImageAlignCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageCenter\n\t * @memberof ButtonImageAlignCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-center\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignCenter))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonImageAlignLeft class provides functionality for aligning an image on left.\n *\n * @class ButtonImageAlignLeft\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageLeft\n\t * @memberof ButtonImageAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-left\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignLeft))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonImageAlignRight class provides functionality for aligning an image on right.\n *\n * @class ButtonImageAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageRight\n\t * @memberof ButtonImageAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignRight))\n);\n","import ButtonIcon from './button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\nimport React from 'react';\n\n/**\n * The ButtonImage class inserts an image to the content.\n *\n * @class ButtonImage\n */\nclass ButtonImage extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default image\n\t * @memberof ButtonImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'image';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.fileInput = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputSyle = {display: 'none'};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.image}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image\"\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.image}>\n\t\t\t\t\t<ButtonIcon symbol=\"document-image\" />\n\t\t\t\t</button>\n\n\t\t\t\t<input\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\tonChange={this._onInputChange}\n\t\t\t\t\tref={this.fileInput}\n\t\t\t\t\tstyle={inputSyle}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Simulates click on the input element. This will open browser's native file open dialog.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method handleClick\n\t * @param {SyntheticEvent} event The received click event on the button.\n\t */\n\thandleClick = () => {\n\t\tthis.fileInput.current.click();\n\t};\n\n\t/**\n\t * On input change, reads the chosen file and fires an event `beforeImageAdd` with the image which will be added\n\t * to the content. The image file will be passed in the `imageFiles` property.\n\t * If any of the listeners returns `false` or cancels the event, the image won't be added to the content.\n\t * Otherwise, an event `imageAdd` will be fired with the inserted element into the editable area.\n\t * The passed params will be:\n\t * - `el` - the created img element\n\t * - `file` - the original image file from the input element\n\t *\n\t * @fires ButtonImage#beforeImageAdd\n\t * @fires ButtonImage#imageAdd\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method _onInputChange\n\t * @protected\n\t */\n\t_onInputChange() {\n\t\tconst inputEl = this.fileInput.current;\n\n\t\t// On IE11 the function might be called with an empty array of\n\t\t// files. In such a case, no actions will be taken.\n\t\tif (!inputEl.files.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst reader = new FileReader();\n\t\tconst file = inputEl.files[0];\n\n\t\treader.onload = event => {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles: file,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t`<img src=\"${event.target.result}\">`\n\t\t\t\t);\n\n\t\t\t\teditor.insertElement(el);\n\n\t\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\t\tconst imageData = {\n\t\t\t\t\tel: el,\n\t\t\t\t\tfile: file,\n\t\t\t\t};\n\n\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t}\n\t\t};\n\n\t\treader.readAsDataURL(file);\n\n\t\tinputEl.value = '';\n\t}\n}\n\nexport default ButtonImage;\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonIndentBlock class provides functionality for indenting the selected blocks.\n *\n * @class ButtonIndentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonIndentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'indent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default indentBlock\n\t * @memberof ButtonIndentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'indentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.indent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-indent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.indent}>\n\t\t\t\t<ButtonIcon symbol=\"indent-less\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonIndentBlock))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonItalic class provides functionality for styling an selection with italic (em) style.\n *\n * @class ButtonItalic\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonItalic extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'italic',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 73 /* I*/,\n\t\t},\n\t\tstyle: 'coreStyles_italic',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default italic\n\t * @memberof ButtonItalic\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'italic';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.italic}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-italic\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.italic}>\n\t\t\t\t<ButtonIcon symbol=\"italic\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonItalic)))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * @class ButtonItemSelectorAudio\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorAudio extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'audioselector',\n\t};\n\n\tstatic key = 'audio';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-audio\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t<ButtonIcon symbol=\"audio\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorAudio);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * @class ButtonItemSelectorImage\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorImage extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'imageselector',\n\t};\n\n\tstatic key = 'image';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-image\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t<ButtonIcon symbol=\"picture\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorImage);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * @class ButtonItemSelectorVideo\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorVideo extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'videoselector',\n\t};\n\n\tstatic key = 'video';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-video\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t<ButtonIcon symbol=\"video\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorVideo);\n","import ButtonKeystroke from '../base/button-keystroke';\nimport ButtonLink from './button-link.jsx';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonProps from '../base/button-props';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * The ButtonLinkBrowse class provides functionality for changing text color in a document.\n *\n * @uses ButtonKeystroke\n * @uses ButtonProps\n * @uses ButtonStateClasses\n *\n * @class ButtonLinkBrowse\n */\nclass ButtonLinkBrowse extends React.Component {\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t},\n\t};\n\n\tstatic key = 'linkBrowse';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEditBrowse {...this.props} />;\n\t\t} else {\n\t\t\treturn <ButtonLink {...this.props} />;\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive() {\n\t\tthis.props.requestExclusive(ButtonLinkBrowse.key);\n\t}\n}\n\nexport default ButtonProps(\n\tButtonStateClasses(ButtonKeystroke(ButtonLinkBrowse))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonOrderedList class provides functionality for creating ordered lists in an editor.\n *\n * @class ButtonOrderedList\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonOrderedList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'numberedlist',\n\t\tstyle: {\n\t\t\telement: 'ol',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ol\n\t * @memberof ButtonOrderedList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ol';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.numberedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ol\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.numberedlist}>\n\t\t\t\t<ButtonIcon symbol=\"list-ol\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonOrderedList))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonOutdentBlock class provides functionality for outdenting blocks.\n *\n * @class ButtonOutdentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonOutdentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'outdent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default outdentBlock\n\t * @memberof ButtonOutdentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'outdentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.outdent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-outdent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.outdent}>\n\t\t\t\t<ButtonIcon symbol=\"indent-more\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonOutdentBlock))\n);\n","import React from 'react';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonParagraphAlign class provides functionality to work with table rows.\n *\n * @class ButtonParagraphAlign\n */\nclass ButtonParagraphAlign extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'paragraphAlign';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonParagraphAlign.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tinlineIcons={false}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst activeCommand = this._getCommands()\n\t\t\t.filter(alignment => {\n\t\t\t\tconst command = editor.getCommand(alignment.command);\n\n\t\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t\t})\n\t\t\t.pop();\n\n\t\tconst iconClassName = activeCommand.icon;\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-container-dropdown-xsmall ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={activeCommand.label}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<ButtonIcon symbol={iconClassName} />\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyleft',\n\t\t\t\t\ticon: 'align-left',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignLeft,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifycenter',\n\t\t\t\t\ticon: 'align-center',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignCenter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyright',\n\t\t\t\t\ticon: 'align-right',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyblock',\n\t\t\t\t\ticon: 'align-justify',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignJustify,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonParagraphAlign;\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonParagraphAlignLeft class provides functionality for aligning a paragraph on left.\n *\n * @class ButtonParagraphAlignLeft\n *\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphLeft\n\t * @memberof ButtonParagraphAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon symbol=\"align-left\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignLeft))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonParagraphAlignRight class provides functionality for aligning a paragraph on right.\n *\n * @class ButtonParagraphAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphRight\n\t * @memberof ButtonParagraphAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon symbol=\"align-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignRight))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonParagraphCenter class provides functionality for centering a paragraph.\n *\n * @class ButtonParagraphCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphCenter\n\t * @memberof ButtonParagraphCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon symbol=\"align-center\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphCenter))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport React from 'react';\n\n/**\n * The ButtonParagraphJustify class provides functionality for justfying a paragraph.\n *\n * @class ButtonParagraphJustify\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphJustify extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyblock',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphJustify\n\t * @memberof ButtonParagraphJustify\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphJustify';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignJustify}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-justify\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignJustify}>\n\t\t\t\t<ButtonIcon symbol=\"align-justify\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphJustify))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonQuote class wraps a selection in `blockquote` element.\n *\n * @class ButtonQuote\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonQuote extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'blockquote',\n\t\tstyle: {\n\t\t\telement: 'blockquote',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default quote\n\t * @memberof ButtonQuote\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'quote';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.quote}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-quote\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.quote}>\n\t\t\t\t<ButtonIcon symbol=\"quote-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonQuote)));\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonRemoveFormat class removes style formatting.\n *\n * @class ButtonRemoveFormat\n * @uses ButtonCommand\n */\nclass ButtonRemoveFormat extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'removeFormat',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default removeFormat\n\t * @memberof ButtonRemoveFormat\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'removeFormat';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.removeformat}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-removeformat\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.removeformat}>\n\t\t\t\t<ButtonIcon symbol=\"remove-style\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonRemoveFormat);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonRemoveImage class removes an image using a CKEDITOR.command.\n *\n * @class ButtonRemoveImage\n * @uses ButtonCommand\n */\nclass ButtonRemoveImage extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'removeImage',\n\t};\n\n\tstatic key = 'removeImage';\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.removeImage}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tonClick={this.execCommand}>\n\t\t\t\t<ButtonIcon symbol=\"times-circle\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonRemoveImage));\n","import React from 'react';\n\n/**\n * The ButtonSeparator function renders a simple separator.\n */\nfunction ButtonSeparator(_props) {\n\treturn <span className=\"ae-separator\" />;\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default separator\n * @memberof ButtonSeparator\n * @property {String} key\n * @static\n */\nButtonSeparator.key = 'separator';\n\nexport default ButtonSeparator;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStylesList from './button-styles-list.jsx';\n\n/**\n * The ButtonSpacing class provides functionality for changing text color in a document.\n *\n * @uses ButtonProps\n * @uses ButtonStateClasses\n *\n * @class ButtonSpacing\n */\nclass ButtonSpacing extends React.Component {\n\tstatic key = 'spacing';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeSpacing = '1.0x';\n\n\t\tconst spacings = this._getSpacings();\n\n\t\tspacings.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveSpacing = item.name;\n\t\t\t}\n\t\t});\n\n\t\tconst {editor, expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeSpacing,\n\t\t\teditor: editor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: spacings,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-container-dropdown-small ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"separator\" />\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t{activeSpacing}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getSpacings().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given spacing definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _checkActive\n\t * @param {Object} styleConfig Spacing definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the spacing is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tlet active = true;\n\n\t\tconst elementPath = nativeEditor.elementPath();\n\n\t\tif (elementPath && elementPath.lastElement) {\n\t\t\tstyleConfig.attributes.class\n\t\t\t\t.split(' ')\n\t\t\t\t.forEach(function(className) {\n\t\t\t\t\tactive =\n\t\t\t\t\t\tactive && elementPath.lastElement.hasClass(className);\n\t\t\t\t});\n\t\t} else {\n\t\t\tactive = false;\n\t\t}\n\n\t\treturn active;\n\t}\n\n\t/**\n\t * Returns an array of spacings. Each spacing consists from three properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t * - styleFn - a function which applies selected style to the editor selection\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _getSpacings\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the spacings.\n\t */\n\t_getSpacings() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: '1.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '1.5x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-1 mb-1',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-1 mb-1'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '2.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-2 mb-2',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-2 mb-2'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '3.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-3 mb-3',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-3 mb-3'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '4.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-4 mb-4',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-4 mb-4'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '5.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-5 mb-5',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-5 mb-5'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonProps(ButtonStateClasses(ButtonSpacing));\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonStrike class styles a selection with strike style.\n *\n * @class ButtonStrike\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonStrike extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'strike',\n\t\tstyle: 'coreStyles_strike',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default strike\n\t * @memberof ButtonStrike\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'strike';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.strike}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-strike\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.strike}>\n\t\t\t\t<ButtonIcon symbol=\"strikethrough\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonStrike)));\n","import React from 'react';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonStyles class provides functionality for styling a selection with a list of\n * configurable and customizable styles. The allowed styles follow CKEDITOR.Style configuration\n * (http://docs.ckeditor.com/#!/api/CKEDITOR.style)\n *\n * @class ButtonStyles\n */\nclass ButtonStyles extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default styles\n\t * @memberof ButtonStyles\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'styles';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeStyle = AlloyEditor.Strings.normal;\n\n\t\tconst styles = this._getStyles();\n\n\t\tstyles.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveStyle = item.name;\n\t\t\t}\n\t\t});\n\n\t\tlet buttonStylesList;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonStylesList = (\n\t\t\t\t<ButtonStylesList\n\t\t\t\t\tactiveStyle={activeStyle}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\tshowRemoveStylesItem={this.props.showRemoveStylesItem}\n\t\t\t\t\tstyles={styles}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles + ' ' + activeStyle}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.styles + ' ' + activeStyle}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeStyle}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonStylesList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Checks if the given style definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _checkActive\n\t * @param {Object} styleConfig Style definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the style is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of styles. Each style consists from two properties:\n\t * - name - the style name, for example \"h1\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _getStyles\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the styles.\n\t */\n\t_getStyles() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h1,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h1',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h2,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h2',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.formatted,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'pre',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.cite,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'cite',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.code,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'code',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonStyles;\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonSubscript class provides functionality for applying subscript style to a text selection.\n *\n * @class ButtonSubscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSubscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'subscript',\n\t\tstyle: 'coreStyles_subscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default subscript\n\t * @memberof ButtonSubscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'subscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.subscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-subscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.subscript}>\n\t\t\t\t<ButtonIcon symbol=\"subscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonSubscript)));\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonSuperscript class provides functionality for applying superscript style to a text selection.\n *\n * @class ButtonSuperscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSuperscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'superscript',\n\t\tstyle: 'coreStyles_superscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default superscript\n\t * @memberof ButtonSuperscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'superscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.superscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-superscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.superscript}>\n\t\t\t\t<ButtonIcon symbol=\"superscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonSuperscript))\n);\n","import ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTableCell class provides functionality to work with table cells.\n *\n * @class ButtonTableCell\n */\nclass ButtonTableCell extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableCell\n\t * @memberof ButtonTableCell\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableCell';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableCell.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.cell}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.cell}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-cell\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellDelete,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMerge',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMerge,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeDown',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeDown,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeRight',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellHorizontalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitHorizontal,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellVerticalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitVertical,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableCell;\n","import React from 'react';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableColumn class provides functionality to work with table columns.\n *\n * @class ButtonTableColumn\n */\nclass ButtonTableColumn extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableColumn\n\t * @memberof ButtonTableColumn\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableColumn';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableColumn.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.column}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.column}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-column\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableColumn;\n","import React from 'react';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonTableHeading class provides functionality to work with table heading.\n *\n * @class ButtonTableHeading\n */\nclass ButtonTableHeading extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableHeading\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableHeading';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableHeading.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst activeHeading = new CKEDITOR.Table(\n\t\t\tthis.context.editor.get('nativeEditor')\n\t\t).getHeading();\n\t\tconst activeHeadingIntro = AlloyEditor.Strings.headers + ':';\n\t\tconst activeHeadingLabel =\n\t\t\tAlloyEditor.Strings['headers' + activeHeading];\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown-xl ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label=\"\"\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle=\"\">\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeHeadingIntro}{' '}\n\t\t\t\t\t\t\t<strong>{activeHeadingLabel}</strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingNone',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersNone,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingRow',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersRow,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingColumn',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersColumn,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingBoth',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersBoth,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableHeading;\n","import React from 'react';\nimport ButtonIcon from './button-icon.jsx';\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonTableRemove class provides functionality for removing a table\n *\n * @class ButtonTableRemove\n */\nclass ButtonTableRemove extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRemove\n\t * @memberof ButtonTableRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.deleteTable}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-table-remove\"\n\t\t\t\tonClick={this._removeTable}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.deleteTable}>\n\t\t\t\t<ButtonIcon symbol=\"trash\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Removes the table in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method _removeTable\n\t * @protected\n\t */\n\t_removeTable = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonTableRemove;\n","import ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTableRow class provides functionality to work with table rows.\n *\n * @class ButtonTableRow\n */\nclass ButtonTableRow extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableRow\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRow';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableRow.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.row}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-row\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableRow;\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTable class provides functionality for creating and editing a table in a document. ButtonTable\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonTableEdit UI with all the table edition controls.\n *\n * @class ButtonTable\n */\nclass ButtonTable extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default table\n\t * @memberof ButtonTable\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'table';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTable\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonTableEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.table}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-table\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.table}>\n\t\t\t\t\t<ButtonIcon symbol=\"table\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonTable;\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport EditorContext from '../../adapter/editor-context';\nimport React from 'react';\n\nconst MAX_TWEET_LENGTH = 280;\n\n/**\n * The ButtonTwitter class provides functionality for creating a link which\n * allows people to tweet part of the content in the editor.\n *\n * @class ButtonTwitter\n * @uses ButtonStateClasses\n */\nclass ButtonTwitter extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default twitter\n\t * @memberof ButtonTwitter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'twitter';\n\n\t/**\n\t * Creates or removes the twitter link on the selection.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method handleClick\n\t */\n\thandleClick = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\n\t\tif (this.isActive()) {\n\t\t\tlinkUtils.remove(linkUtils.getFromSelection());\n\t\t} else {\n\t\t\tlinkUtils.create(this._getHref(), {\n\t\t\t\tclass: 'ae-twitter-link',\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Checks if the current selection is contained within a link that points to twitter.com/intent/tweet.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a twitter link, false otherwise.\n\t */\n\tisActive() {\n\t\tconst link = new CKEDITOR.Link(\n\t\t\tthis.context.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\treturn (\n\t\t\tlink &&\n\t\t\tlink.getAttribute('href').indexOf('twitter.com/intent/tweet') !== -1\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.twitter}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-twitter\"\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.twitter}>\n\t\t\t\t<ButtonIcon symbol=\"twitter\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Generates the appropriate twitter url based on the selected text and the configuration\n\t * options received via props.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method _getHref\n\t * @protected\n\t * @return {String} A valid twitter url with the selected text and given configuration.\n\t */\n\t_getHref() {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\tconst selectedText = nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getSelectedText()\n\t\t\t.substring(0, MAX_TWEET_LENGTH);\n\t\tconst url = this.props.url;\n\t\tlet via = this.props.via;\n\t\tlet twitterHref =\n\t\t\t'https://twitter.com/intent/tweet?text=' + selectedText;\n\n\t\tif (url) {\n\t\t\ttwitterHref += '&url=' + url;\n\t\t}\n\n\t\tif (via) {\n\t\t\ttwitterHref += '&via=' + via;\n\t\t}\n\n\t\treturn twitterHref;\n\t}\n}\n\nexport default ButtonStateClasses(ButtonTwitter);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonUnorderedlist class provides functionality for creating unordered lists in an editor.\n *\n * @class ButtonUnorderedlist\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnorderedlist extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bulletedlist',\n\t\tstyle: {\n\t\t\telement: 'ul',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ul\n\t * @memberof ButtonUnorderedlist\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ul';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bulletedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ul\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bulletedlist}>\n\t\t\t\t<ButtonIcon symbol=\"list-ul\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonUnorderedlist))\n);\n","import ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport React from 'react';\n\n/**\n * The ButtonUnderline class provides functionality for underlying a text selection.\n *\n * @class ButtonUnderline\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnderline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'underline',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 85 /* U*/,\n\t\t},\n\t\tstyle: 'coreStyles_underline',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default underline\n\t * @memberof ButtonUnderline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'underline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.underline}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-underline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.underline}>\n\t\t\t\t<ButtonIcon symbol=\"underline\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonUnderline)))\n);\n","import ToolbarAdd from './toolbar-add.jsx';\nimport ToolbarStyles from './toolbar-styles.jsx';\n\nexport default {\n\t[ToolbarAdd.key]: ToolbarAdd,\n\t[ToolbarStyles.key]: ToolbarStyles,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport EditorContext from '../../adapter/editor-context';\nimport ToolbarButtons from '../base/toolbar-buttons';\nimport WidgetArrowBox from '../base/widget-arrow-box';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetExclusive from '../base/widget-exclusive';\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport WidgetPosition from '../base/widget-position';\nimport ButtonIcon from '../buttons/button-icon.jsx';\n\nlet POSITION_LEFT = 1;\nlet POSITION_RIGHT = 2;\n\n/**\n * The ToolbarAdd class provides functionality for adding content to the editor.\n *\n * @class ToolbarAdd\n * @uses ToolbarButtons\n * @uses WidgetArrowBox\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n * @uses WidgetPosition\n */\nclass ToolbarAdd extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\n\t\t// In case of exclusive rendering, focus the first descendant (button)\n\t\t// so the user will be able to start interacting with the buttons immediately.\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\t// Some operations such as `requestExclusive` may force editor to blur which will\n\t\t// invalidate the `props.editorEvent` stored value, without causing a `props` change.\n\t\t// For example, if the editor is empty, `ae_placeholder` plugin will remove\n\t\t// the target from the DOM and will prevent `add` toolbar from rendering.\n\t\t//\n\t\t// It should be safe to assume that if you have been able to render the toolbar\n\t\t// and request the exclusive mode, then rendering might be kept until the exclusive mode is left.\n\t\tif (\n\t\t\t!this.state.itemExclusive &&\n\t\t\tthis.props.editorEvent &&\n\t\t\tthis.props.editorEvent.data.nativeEvent.target &&\n\t\t\t!this.props.editorEvent.data.nativeEvent.target.isContentEditable\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet buttons = this._getButtons();\n\t\tlet className = this._getToolbarClassName();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\tclassName={className}\n\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\trole=\"toolbar\"\n\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t<div className=\"ae-container\">{buttons}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of buttons that will eventually render to HTML.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getButtons\n\t * @protected\n\t * @return {Object} The buttons which have to be rendered.\n\t */\n\t_getButtons() {\n\t\tlet buttons;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tbuttons = this.getToolbarButtons(this.props.config.buttons);\n\t\t} else {\n\t\t\tif (this.props.selectionData && this.props.selectionData.region) {\n\t\t\t\tbuttons = (\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-add\"\n\t\t\t\t\t\tonClick={this.props.requestExclusive.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tToolbarAdd.key\n\t\t\t\t\t\t)}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.add}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"plus\" />\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn buttons;\n\t}\n\n\t/**\n\t * Returns the class name of the toolbar in case of both exclusive and normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getToolbarClassName\n\t * @protected\n\t * @return {String} The class name which have to be applied to the DOM element.\n\t */\n\t_getToolbarClassName() {\n\t\tlet cssClass = 'ae-toolbar-add';\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tcssClass = 'ae-toolbar ' + this.getArrowBoxClasses();\n\t\t}\n\n\t\treturn cssClass;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar in exclusive or normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\tlet region;\n\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tif (this.props.selectionData) {\n\t\t\t\tregion = this.props.selectionData.region;\n\t\t\t}\n\n\t\t\tif (region) {\n\t\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\t\tlet domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\tlet startRect = region.startRect || region;\n\n\t\t\t\tlet nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t\t\tlet clientRect = nativeEditor.editable().getClientRect();\n\n\t\t\t\tlet offsetLeft;\n\n\t\t\t\tlet position =\n\t\t\t\t\tthis.props.config.position || this.props.position;\n\n\t\t\t\tif (position === POSITION_LEFT) {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.left -\n\t\t\t\t\t\tdomNode.offsetWidth -\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t} else {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.right +\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.left = offsetLeft;\n\n\t\t\t\tdomNode.style.top =\n\t\t\t\t\tMath.floor((region.bottom + region.top) / 2) + 'px';\n\n\t\t\t\tconst uiNode = this.context.editor.get('uiNode');\n\n\t\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\t\tif (nativeEditor.element.getStyle('overflow') !== 'auto') {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tregion.top -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2 +\n\t\t\t\t\t\t\t\tstartRect.height / 2 +\n\t\t\t\t\t\t\t\tscrollTop\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tnativeEditor.element.$.offsetTop +\n\t\t\t\t\t\t\t\tstartRect.height / 2 -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.opacity = 1;\n\n\t\t\t\tdomElement.removeClass('ae-arrow-box');\n\n\t\t\t\tthis.cancelAnimation();\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default add\n * @memberof ToolbarAdd\n * @property {String} key\n * @static\n */\nToolbarAdd.key = 'add';\n\n/**\n * Defines the constant for positioning the Toolbar on left of the editable area.\n *\n * @default 1\n * @memberof ToolbarAdd\n * @property {String} left\n * @static\n */\nToolbarAdd.left = POSITION_LEFT;\n\n/**\n * Defines the constant for positioning the Toolbar on right of the editable area.\n *\n * @default 2\n * @memberof ToolbarAdd\n * @property {String} right\n * @static\n */\nToolbarAdd.right = POSITION_RIGHT;\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarAdd\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarAdd.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-button',\n\tgutterExclusive: {\n\t\tleft: 10,\n\t\ttop: 0,\n\t},\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n\tposition: POSITION_LEFT,\n};\n\nexport default WidgetArrowBox(\n\tWidgetDropdown(\n\t\tWidgetExclusive(\n\t\t\tWidgetFocusManager(WidgetPosition(ToolbarButtons(ToolbarAdd)))\n\t\t)\n\t)\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ToolbarButtons from '../base/toolbar-buttons';\nimport WidgetArrowBox from '../base/widget-arrow-box';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetExclusive from '../base/widget-exclusive';\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport WidgetPosition from '../base/widget-position';\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * The ToolbarStyles class hosts the buttons for styling a text selection.\n *\n * @class ToolbarStyles\n * @uses ToolbarButtons\n * @uses WidgetArrowBox\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n * @uses WidgetPosition\n */\nclass ToolbarStyles extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet currentSelection = this._getCurrentSelection();\n\n\t\tif (currentSelection) {\n\t\t\tlet getArrowBoxClassesFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.getArrowBoxClasses\n\t\t\t);\n\t\t\tlet arrowBoxClasses;\n\n\t\t\tif (getArrowBoxClassesFn) {\n\t\t\t\tarrowBoxClasses = getArrowBoxClassesFn();\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses = this.getArrowBoxClasses();\n\t\t\t}\n\n\t\t\tlet cssClasses = 'ae-toolbar-styles ' + arrowBoxClasses;\n\n\t\t\tlet buttons = currentSelection.buttons;\n\n\t\t\tif (typeof buttons === 'object' && !Array.isArray(buttons)) {\n\t\t\t\tbuttons =\n\t\t\t\t\tbuttons[this.context.editor.get('mode')] ||\n\t\t\t\t\tbuttons['simple'];\n\t\t\t}\n\n\t\t\tlet buttonsGroup = this.getToolbarButtonGroups(buttons, {\n\t\t\t\tmanualSelection: this.props.editorEvent\n\t\t\t\t\t? this.props.editorEvent.data.manualSelection\n\t\t\t\t\t: null,\n\t\t\t\tselectionType: currentSelection.name,\n\t\t\t});\n\n\t\t\tlet hasGroups =\n\t\t\t\tbuttonsGroup.filter(function(button) {\n\t\t\t\t\treturn Array.isArray(button);\n\t\t\t\t}).length > 0;\n\n\t\t\tlet className = 'ae-container';\n\n\t\t\tif (hasGroups) {\n\t\t\t\tclassName += ' ae-container-column';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles}\n\t\t\t\t\tclassName={cssClasses}\n\t\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\t\trole=\"toolbar\"\n\t\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t{buttonsGroup.map(function(value, index) {\n\t\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"ae-row\" key={index}>\n\t\t\t\t\t\t\t\t\t\t{value.map(function(button) {\n\t\t\t\t\t\t\t\t\t\t\treturn button;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Retrieve a function from String. It converts a fully qualified string into the mapped function.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getSelectionFunction\n\t * @param {Function|String} selectionFn A function, or a fully qualified string pointing to the desired one (e.g. 'AlloyEditor.SelectionTest.image').\n\t * @protected\n\t * @return {Function} The mapped function.\n\t */\n\t_getSelectionFunction(selectionFn) {\n\t\tlet selectionFunction;\n\n\t\tif (Lang.isFunction(selectionFn)) {\n\t\t\tselectionFunction = selectionFn;\n\t\t} else if (Lang.isString(selectionFn)) {\n\t\t\tlet parts = selectionFn.split('.');\n\t\t\tlet currentMember = window;\n\t\t\tlet property = parts.shift();\n\n\t\t\twhile (\n\t\t\t\tproperty &&\n\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t) {\n\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\tproperty = parts.shift();\n\t\t\t}\n\n\t\t\tif (Lang.isFunction(currentMember)) {\n\t\t\t\tselectionFunction = currentMember;\n\t\t\t}\n\t\t}\n\n\t\treturn selectionFunction;\n\t}\n\n\t/**\n\t * Analyzes the current editor selection and returns the selection configuration that matches.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getCurrentSelection\n\t * @protected\n\t * @return {Object} The matched selection configuration.\n\t */\n\t_getCurrentSelection() {\n\t\tlet eventPayload = this.props.editorEvent\n\t\t\t? this.props.editorEvent.data\n\t\t\t: null;\n\t\tlet selection;\n\n\t\tif (eventPayload) {\n\t\t\tthis.props.config.selections.some(function(item) {\n\t\t\t\tlet testFn = this._getSelectionFunction(item.test);\n\t\t\t\tlet result;\n\n\t\t\t\tif (testFn) {\n\t\t\t\t\tresult =\n\t\t\t\t\t\teventPayload.manualSelection === item.name ||\n\t\t\t\t\t\ttestFn({\n\t\t\t\t\t\t\tdata: eventPayload,\n\t\t\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (result) {\n\t\t\t\t\tselection = item;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, this);\n\t\t}\n\n\t\treturn selection;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet currentSelection = this._getCurrentSelection();\n\t\tlet result;\n\n\t\t// If current selection has a function called `setPosition`, call it\n\t\t// and check the returned value. If false, fallback to the default positioning logic.\n\t\tif (currentSelection) {\n\t\t\tlet setPositionFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.setPosition\n\t\t\t);\n\n\t\t\tif (setPositionFn) {\n\t\t\t\tresult = setPositionFn.call(this, {\n\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\teditorEvent: this.props.editorEvent,\n\t\t\t\t\tselectionData: this.props.selectionData,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (!result) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t}\n\t}\n}\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarStyles\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarStyles.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-input, .ae-button:not([disabled]), .ae-toolbar-element',\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n};\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default styles\n * @memberof ToolbarStyles\n * @property {String} key\n * @static\n */\nToolbarStyles.key = 'styles';\n\nexport default WidgetArrowBox(\n\tWidgetDropdown(\n\t\tWidgetExclusive(\n\t\t\tWidgetFocusManager(WidgetPosition(ToolbarButtons(ToolbarStyles)))\n\t\t)\n\t)\n);\n"],"sourceRoot":""}