window["AlloyEditor"]=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=42)}([function(e,t){(function(){e.exports=window[void 0]})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(0),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.editor,n=e.symbol,r=e.className,i=void 0===r?"":r,a=t.get("nativeEditor"),l=a.config.spritemap||"",s=l+"#"+n,u=i?" "+i:"",c="ae-svg-icon"+u;return o.default.createElement("svg",{className:c,width:"18",height:"18"},o.default.createElement("use",{href:s}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,[{key:"getStateClasses",value:function(){var e="";return i.default.isFunction(this.isActive)&&this.isActive()&&(e+="ae-button-pressed"),i.default.isFunction(this.isDisabled)&&this.isDisabled()&&(e+=" ae-button-disabled"),e}}]),t}(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){function t(){var e,n,i,a;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n=i,i.execCommand=function(e){var t=i.props.editor.get("nativeEditor");t.execCommand(i.props.command,e),i.props.modifiesSelection&&t.selectionChange(!0),t.fire("actionPerformed",i)},a=n,o(i,a)}return i(t,e),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isBoolean:function(e){return"boolean"===typeof e},isFunction:function(e){return"function"===typeof e},isNull:function(e){return null===e},isNumber:function(e){return"number"===typeof e&&isFinite(e)},isObject:function(e){var t="undefined"===typeof e?"undefined":r(e);return e&&("object"===t||o.isFunction(e))},isString:function(e){return"string"===typeof e},mix:function(e,t){var n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r])},toInt:function(e){return parseInt(e,10)}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(4),a=l(i);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),r(t,[{key:"componentWillMount",value:function(){a.default.isFunction(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillMount",this))&&o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillMount",this).call(this);var e=this.props.style;if(a.default.isString(e)){var n=e.split("."),r=this.props.editor.get("nativeEditor").config,i=n.shift();while(i&&a.default.isObject(r)&&a.default.isObject(r[i]))r=r[i],i=n.shift();a.default.isObject(r)&&(e=r)}this._style=new CKEDITOR.style(e)}},{key:"componentWillUnmount",value:function(){a.default.isFunction(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this))&&o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this._style=null}},{key:"getStyle",value:function(){return this._style}},{key:"isActive",value:function(){var e=void 0,t=this.props.editor.get("nativeEditor"),n=t.elementPath();return e=this.getStyle().checkActive(n,t),e}}]),t}(e)}},function(e,t){(function(){e.exports=window[void 0]})()},function(e,t,n){e.exports=n(77)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(4),a=u(i),l=n(6),s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=0,h=1,m=-1,y=0,b=1,g=2;t.default=function(e){return function(e){function t(){var e,n,r,o;c(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r.focus=function(e){if((!e||r._isValidTarget(e.target))&&r._descendants&&r._descendants.length){var t=r._descendants[r._activeDescendant];document.activeElement===t||r.props.focusFirstChild||-1===r._descendants.indexOf(document.activeElement)&&t.focus(),e&&(e.stopPropagation(),e.preventDefault())}},r.handleKey=function(e){if(r._isValidTarget(e.target)&&r._descendants){var t=r._getFocusAction(e);t.type&&(e.stopPropagation(),e.preventDefault(),t.type===b&&r._moveFocus(t.direction),t.type===g&&r.props.onDismiss(t.direction))}},o=n,f(r,o)}return d(t,e),r(t,[{key:"componentDidMount",value:function(){a.default.isFunction(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this))&&o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this._refresh()}},{key:"componentDidUpdate",value:function(){a.default.isFunction(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this))&&o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this).call(this),this._refresh()}},{key:"moveFocus",value:function(e){e=a.default.isNumber(e)?e:0,this._moveFocus(e)}},{key:"_getFocusAction",value:function(e){var t={type:y};if(this.props.keys){var n=this._getFocusMoveDirection(e);n&&(t.direction=n,t.type=b);var r=this._getFocusDismissAction(e,n);r.dismiss&&(t.direction=r.direction,t.type=g)}return t}},{key:"_getFocusDismissAction",value:function(e,t){var n={direction:t,dismiss:!1};return this.props.onDismiss&&(this._isValidKey(e.keyCode,this.props.keys.dismiss)&&(n.dismiss=!0),this._isValidKey(e.keyCode,this.props.keys.dismissNext)&&(n.dismiss=!0,n.direction=h),this._isValidKey(e.keyCode,this.props.keys.dismissPrev)&&(n.dismiss=!0,n.direction=m),n.dismiss||this.props.circular||!t||(n.dismiss=t===m&&0===this._activeDescendant||t===h&&this._activeDescendant===this._descendants.length-1)),n}},{key:"_getFocusMoveDirection",value:function(e){var t=p;return this._isValidKey(e.keyCode,this.props.keys.next)&&(t=h),this._isValidKey(e.keyCode,this.props.keys.prev)&&(t=m),e.shifKey&&(t*=-1),t}},{key:"_isValidKey",value:function(e,t){return a.default.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"_isValidTarget",value:function(e){var t=e.tagName.toLowerCase();return"input"!==t&&"select"!==t&&"textarea"!==t}},{key:"_moveFocus",value:function(e){var t=this._descendants.length,n=this._descendants[this._activeDescendant];n.setAttribute("tabIndex",-1),this._activeDescendant+=e,this.props.circular?this._activeDescendant=(this._activeDescendant%t+t)%t:this._activeDescendant=Math.max(Math.min(this._activeDescendant,t-1),0),n=this._descendants[this._activeDescendant],n.setAttribute("tabIndex",0),n.focus()}},{key:"_refresh",value:function(){var e=s.default.findDOMNode(this);if(e){var t=e.querySelectorAll(this.props.descendants),n=[];this._descendants=[],Array.prototype.slice.call(t).forEach(function(e){var t=e.getAttribute("data-tabindex");t?n.push(e):this._descendants.push(e)}.bind(this)),n=n.sort(function(e,t){return a.default.toInt(e.getAttribute("data-tabindex"))>a.default.toInt(t.getAttribute("data-tabindex"))}),this._descendants=n.concat(this._descendants),this._activeDescendant=0,this._descendants.some(function(e,t){if("0"===e.getAttribute("tabindex"))return this._activeDescendant=t,this.focus(),!0}.bind(this))}}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),r(t,[{key:"isActive",value:function(){var e=this.props.editor.get("nativeEditor"),t=e.getCommand(this.props.command);return!!t&&t.state===CKEDITOR.TRISTATE_ON}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),r(t,[{key:"mergeButtonCfgProps",value:function(e){e=e||this.props;var t=this.props.editor.get("nativeEditor"),n=t.config.buttonCfg||{},r=CKEDITOR.tools.merge(e,n["linkEdit"]);return r}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(8),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ae-dropdown ae-arrow-box ae-arrow-box-top-left",onFocus:this.focus,onKeyDown:this.handleKey,tabIndex:"0"},l.default.createElement("ul",{className:"ae-listbox",role:"listbox"},this.props.children))}}]),t}(l.default.Component);d.defaultProps={circular:!1,descendants:".ae-toolbar-element",keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]}},d.key="dropdown",t.default=(0,i.default)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(4),a=l(i);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),r(t,[{key:"componentWillMount",value:function(){a.default.isFunction(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillMount",this))&&o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillMount",this).call(this);var e=this.props.editor.get("nativeEditor"),n=this.props.keystroke,r=n.name||(1e9*Math.random()>>>0).toString(),i=e.getCommand(r);i||(i=new CKEDITOR.command(e,{exec:function(e){var t=n.fn;a.default.isString(t)?this[t].call(this,e):a.default.isFunction(t)&&t.call(this,e)}.bind(this)}),e.addCommand(r,i)),this._defaultKeystrokeCommand=e.keystrokeHandler.keystrokes[n.keys],e.setKeystroke(n.keys,r)}},{key:"componentWillUnmount",value:function(){a.default.isFunction(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this))&&o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.props.editor.get("nativeEditor").setKeystroke(this.props.keystroke.keys,this._defaultKeystrokeCommand)}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(30),i=c(o),a=n(0),l=c(a),s=n(8),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._ref=l.default.createRef(),n}return p(t,e),r(t,[{key:"componentDidMount",value:function(){this._ref.current.focus()}},{key:"render",value:function(){return l.default.createElement("div",{className:"ae-dropdown ae-arrow-box ae-arrow-box-top-left",onFocus:this.focus,onKeyDown:this.handleKey,ref:this._ref,tabIndex:"0"},l.default.createElement("ul",{className:"ae-listbox",id:this.props.listId,role:"listbox"},this._renderActions(this.props.commands)))}},{key:"_renderActions",value:function(e){var t=this.props.editor,n=void 0;return e&&e.length&&(n=e.map(function(e){return l.default.createElement("li",{key:e.command,role:"option"},l.default.createElement(i.default,{command:e.command,description:"string"===typeof e.label?e.label:e.label(),icon:e.icon,editor:t}))})),n}}]),t}(l.default.Component);h.defaultProps={circular:!1,descendants:".ae-toolbar-element",keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]}},h.key="buttonCommandsList",t.default=(0,u.default)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=g(o),a=n(26),l=g(a),s=n(27),u=g(s),c=n(28),f=g(c),d=n(0),p=g(d),h=n(6),m=g(h),y=n(8),b=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(){return v(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),r(t,[{key:"componentDidMount",value:function(){m.default.findDOMNode(this).focus()}},{key:"componentWillMount",value:function(){var e=[],t=[],n=[];this.props.styles.forEach(function(r){var o=new CKEDITOR.style(r.style);o.type===CKEDITOR.STYLE_BLOCK?e.push(r):o.type===CKEDITOR.STYLE_INLINE?t.push(r):o.type===CKEDITOR.STYLE_OBJECT&&n.push(r)}),this._blockStyles=e,this._inlineStyles=t,this._objectStyles=n}},{key:"render",value:function(){var e=void 0;return this.props.showRemoveStylesItem&&(e=p.default.createElement(u.default,{editor:this.props.editor,onDismiss:this.props.toggleDropdown})),p.default.createElement(i.default,this.props,e,p.default.createElement(f.default,{name:AlloyEditor.Strings.blockStyles,styles:this._blockStyles}),this._renderStylesItems(this._blockStyles),p.default.createElement(f.default,{name:AlloyEditor.Strings.inlineStyles,styles:this._inlineStyles}),this._renderStylesItems(this._inlineStyles),p.default.createElement(f.default,{name:AlloyEditor.Strings.objectStyles,styles:this._objectStyles}),this._renderStylesItems(this._objectStyles))}},{key:"_renderStylesItems",value:function(e){var t=this,n=this.props.editor,r=void 0;return e&&e.length&&(r=e.map(function(e){return p.default.createElement("li",{key:e.name,role:"option"},p.default.createElement(l.default,{activeStyle:t.props.activeStyle,editor:n,name:e.name,style:e.style}))})),r}}]),t}(p.default.Component);w.defaultProps={circular:!1,descendants:".ae-toolbar-element",keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]},showRemoveStylesItem:!0},w.key="buttonStylesList",t.default=(0,b.default)(w)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){var e,n,r,i;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n=r,r.applyStyle=function(){if(o.default.isFunction(r.isActive)&&o.default.isFunction(r.getStyle)){var e=r.props.editor.get("nativeEditor");e.getSelection().lock(),r.isActive()?e.removeStyle(r.getStyle()):e.applyStyle(r.getStyle()),e.getSelection().unlock(),e.fire("actionPerformed",r)}},i=n,l(r,i)}return s(t,e),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return t.getText().length===e.endOffset||t.equals(e.startContainer)&&t.equals(e.endContainer)&&e.startOffset===e.endOffset&&1===e.endOffset},o=function(e){var t=e.data.selectionData;return!(!t.element||"ae_embed"!==t.element.getAttribute("data-widget"))},i=function(e){var t=e.data.selectionData;return!(!t.element||"embedurl"!==t.element.getAttribute("data-widget"))},a=function(e){var t=["h1","h2","h3","h4","h5","h6"],n=e.editor.get("nativeEditor"),r=e.data.selectionData,o=n.isSelectionEmpty();return!(r.element||!r.region||o||n.getSelection().getCommonAncestor().isReadOnly()||!n.elementPath().contains(t))},l=function(e){var t=e.editor.get("nativeEditor"),n=t.getSelection().getRanges()[0],o=e.data.selectionData,i=new CKEDITOR.Link(t).getFromSelection(),a=t.isSelectionEmpty(),l=!o.element||"img"!==o.element.getName();return!(!(a&&l&&i&&i.getText().length!==n.endOffset&&i)||i.isReadOnly()||r(n,i))},s=function(e){var t=e.data.selectionData;return!(!t.element||"img"!==t.element.getName()||t.element.isReadOnly())},u=function(e){var t=e.editor.get("nativeEditor"),n=t.isSelectionEmpty(),r=e.data.selectionData;return!(r.element||!r.region||n||t.getSelection().getCommonAncestor().isReadOnly())},c=function(e){var t=e.editor.get("nativeEditor"),n=new CKEDITOR.Table(t),r=n.getFromSelection();return!(!r||!n.isEditable(r))},f={embed:o,embedUrl:i,header:a,image:s,link:l,table:c,text:u};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,n,r){if(!t||!e)throw new Error("extend failed, verify dependencies");var i=t.prototype,a=Object.create(i);return e.prototype=a,a.constructor=e,e.superclass=i,t!==Object&&i.constructor===Object.prototype.constructor&&(i.constructor=t),n&&o.default.mix(a,n),r&&o.default.mix(e,r),e};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(4),a=l(i);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){var e,n,r,o;s(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r.requestExclusive=function(e){r.setState({itemExclusive:e})},o=n,u(r,o)}return c(t,e),r(t,[{key:"cancelExclusive",value:function(e){this.state.itemExclusive===e&&this.setState({itemExclusive:null})}},{key:"componentWillReceiveProps",value:function(e){a.default.isFunction(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this))&&o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),this.setState({itemExclusive:null})}},{key:"filterExclusive",value:function(e){return e.filter(function(e){return this.state.itemExclusive?this.state.itemExclusive===e.key?e:void 0:e}.bind(this))}},{key:"mergeExclusiveProps",value:function(e,t){return CKEDITOR.tools.merge(e,{cancelExclusive:this.cancelExclusive.bind(this,t),renderExclusive:this.state.itemExclusive===t,requestExclusive:this.requestExclusive.bind(this,t)})}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(10),a=E(i),l=n(1),s=E(l),u=n(33),c=E(u),f=n(35),d=E(f),p=n(4),h=E(p),m=n(0),y=E(m),b=n(20),g=E(b),v=n(8),_=E(v);function E(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(e){w(this,t);var n=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._clearLink=function(){n.setState({linkHref:""}),n._focusLinkInput()},n._handleKeyDown=function(e){if(13!==e.keyCode&&27!==e.keyCode||e.preventDefault(),13===e.keyCode)n._updateLink();else if(40===e.keyCode)n.setState({autocompleteSelected:!0});else if(27===e.keyCode){var t=n.props.editor.get("nativeEditor");new CKEDITOR.Link(t).advanceSelection(),n.props.editor.get("nativeEditor").fire("actionPerformed",n)}},n._handleLinkHrefChange=function(e){n.setState({linkHref:e.target.value}),n._focusLinkInput()},n._handleLinkTargetChange=function(e){n.setState({itemDropdown:null,linkTarget:e.target.getAttribute("data-value")}),n._focusLinkInput()},n._removeLink=function(){var e=n.props.editor.get("nativeEditor"),t=new CKEDITOR.Link(e),r=e.getSelection(),o=r.createBookmarks();t.remove(n.state.element,{advance:!0}),r.selectBookmarks(o),n.props.cancelExclusive(),e.fire("actionPerformed",n)},n._updateLink=function(){var e=n.props.editor.get("nativeEditor"),t=new CKEDITOR.Link(e,{appendProtocol:n.props.appendProtocol}),r={target:n.state.linkTarget},o={advance:!0};n.state.linkHref&&(n.state.element?(r.href=n.state.linkHref,t.update(r,n.state.element,o)):t.create(n.state.linkHref,r,o),e.fire("actionPerformed",n)),n.props.cancelExclusive()},n.linkInput=y.default.createRef(),n.state=n._getInitialState(),n}return C(t,e),o(t,[{key:"componentDidMount",value:function(){(this.props.renderExclusive||this.props.manualSelection)&&this._focusLinkInput()}},{key:"componentWillReceiveProps",value:function(){this.setState(this._getInitialState())}},{key:"render",value:function(){var e={allowedTargets:this.props.allowedTargets,editor:this.props.editor,handleLinkTargetChange:this._handleLinkTargetChange,selectedTarget:this.state.linkTarget||AlloyEditor.Strings.linkTargetDefault};e=this.mergeDropdownProps(e,d.default.key);var t=void 0;if(this.props.data){var n=this.props.data;if(!h.default.isFunction(n)){var o=this.props.data;n=function(){return o}}var i={autocompleteSelected:this.state.autocompleteSelected,data:n,editor:this.props.editor,handleLinkAutocompleteClick:this._handleLinkAutocompleteClick,onDismiss:this.props.toggleDropdown,setAutocompleteState:this._setAutocompleteState,term:this.state.linkHref};i=this.mergeDropdownProps(i,c.default.key),t=y.default.createElement(c.default,i)}var a=void 0;this.state.linkHref&&(a=y.default.createElement("button",{"aria-label":AlloyEditor.Strings.clearInput,className:"ae-button ae-button-clear",onClick:this._clearLink,title:AlloyEditor.Strings.clear},y.default.createElement(s.default,{editor:this.props.editor,symbol:"times-circle"})));var l={};return!CKEDITOR.env.ie&&AlloyEditor.Strings&&(l.placeholder=AlloyEditor.Strings.editLink),y.default.createElement("div",{className:"ae-container-edit-link"},y.default.createElement("button",{"aria-label":AlloyEditor.Strings.removeLink,className:"ae-button",disabled:!this.state.element,onClick:this._removeLink,title:AlloyEditor.Strings.remove},y.default.createElement(s.default,{editor:this.props.editor,symbol:"chain-broken"})),y.default.createElement("div",{className:"ae-container-input xxl"},this.props.showTargetSelector&&y.default.createElement(d.default,e),y.default.createElement("div",{className:"ae-container-input"},y.default.createElement("input",r({className:"ae-input",onChange:this._handleLinkHrefChange,onKeyDown:this._handleKeyDown},l,{ref:this.linkInput,type:"text",value:this.state.linkHref})),t),a),y.default.createElement("button",{"aria-label":AlloyEditor.Strings.confirm,className:"ae-button",disabled:!this._isValidState(),onClick:this._updateLink,title:AlloyEditor.Strings.confirm},y.default.createElement(s.default,{editor:this.props.editor,symbol:"check",className:"ae-icon-svg-check"})))}},{key:"_getInitialState",value:function(){var e=this.props,t=e.editor,n=e.defaultLinkTarget,r=new CKEDITOR.Link(t.get("nativeEditor")).getFromSelection(),o=r?r.getAttribute("href"):"",i=r?r.getAttribute("target"):n;return{autocompleteSelected:!1,element:r,initialLink:{href:o,target:i},linkHref:o,linkTarget:i}}},{key:"_focusLinkInput",value:function(){var e=this,t=function(){e.linkInput.current.focus()};window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,0)}},{key:"_handleLinkAutocompleteClick",value:function(e){this.setState({itemDropdown:null,linkHref:e.target.getAttribute("data-value")}),this._focusLinkInput()}},{key:"_isValidState",value:function(){var e=this.state.linkHref&&(this.state.linkHref!==this.state.initialLink.href||this.state.linkTarget!==this.state.initialLink.target);return e}},{key:"_setAutocompleteState",value:function(e){this.setState({autocompleteSelected:e.selected})}}]),t}(y.default.Component);k.defaultProps={appendProtocol:!0,autocompleteUrl:"",circular:!0,customIndexStart:!0,defaultLinkTarget:"",descendants:".ae-toolbar-element",keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]},showTargetSelector:!0},k.key="linkEdit",t.default=(0,a.default)((0,g.default)((0,_.default)(k)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(4),l=c(a),s=n(6),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mergeDropdownProps=function(e,t){return CKEDITOR.tools.merge(e,{expanded:n.state.itemDropdown===t,tabIndex:n.state.dropdownTrigger===t?0:-1,toggleDropdown:n.toggleDropdown.bind(n,t)})},n.toggleDropdown=function(e,t){n.setState({dropdownTrigger:e,itemDropdown:e!==n.state.itemDropdown?e:null},function(){n.state.itemDropdown||(n.moveFocus?n.moveFocus(t):u.default.findDOMNode(n).focus())})},n.state=r({},n.state,{dropdownTrigger:null,itemDropdown:null}),n}return p(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){l.default.isFunction(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this))&&i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),this.setState({dropdownTrigger:null,itemDropdown:null})}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabletools=t.tableresize=t.selectionkeystrokes=t.placeholder=t.pasteimages=t.imagealignment=t.embedurl=t.embed=t.dragresizeie=t.dragresize=t.autolist=t.autolink=t.addimages=void 0;var r=n(52),o=P(r),i=n(53),a=P(i),l=n(54),s=P(l),u=n(55),c=P(u),f=n(56),d=P(f),p=n(57),h=(P(p),n(58)),m=P(h),y=n(59),b=P(y),g=n(62),v=P(g),_=n(63),E=P(_),w=n(64),O=P(w),C=n(65),k=P(C),T=n(66),S=P(T),I=n(67),x=P(I);function P(e){return e&&e.__esModule?e:{default:e}}t.addimages=o.default,t.autolink=a.default,t.autolist=s.default,t.dragresize=c.default,t.dragresizeie=d.default,t.embed=m.default,t.embedurl=b.default,t.imagealignment=v.default,t.pasteimages=E.default,t.placeholder=O.default,t.selectionkeystrokes=k.default,t.tableresize=S.default,t.tabletools=x.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e){this.__config__=e||{},this.__ATTRS__={}}l.prototype={constructor:l,get:function(e){var t=this.constructor.ATTRS[e];if(t){this._isInitialized(e)||this._init(e);var n=this.__ATTRS__[e];return t.getter&&(n=this._callStringOrFunction(t.getter,n)),n}},set:function(e,t){var n=this.constructor.ATTRS[e];n&&(this._isInitialized(e)||this._init(e),n.readOnly||n.writeOnce&&this._isInitialized(e)||n.validator&&!this._callStringOrFunction(n.validator,t)||(n.setter&&(t=this._callStringOrFunction(n.setter,t)),this.__ATTRS__[e]=t))},_callStringOrFunction:function(e,t){var n=null;return o.default.isArray(t)||(t=[t]),o.default.isString(e)&&o.default.isFunction(this[e])?n=this[e].apply(this,a(t)):o.default.isFunction(e)&&(n=e.apply(this,t)),n},_init:function(e){var t=void 0,n=this.constructor.ATTRS[e],r=Object.prototype.hasOwnProperty.call(n,"value"),o=Object.prototype.hasOwnProperty.call(this.__config__,e);if(n.valueFn)t=this._callStringOrFunction(n.valueFn,t),this.__ATTRS__[e]=t;else if(n.readOnly)t=n.value;else if(n.writeOnce)if(o)t=this.__config__[e];else{if(!r)return;t=n.value}else o?t=this.__config__[e]:r&&(t=n.value);if(n.validator&&o&&!this._callStringOrFunction(n.validator,t)){if(!r)return;t=n.value}n.setter&&o&&(t=this._callStringOrFunction(n.setter,t)),this.__ATTRS__[e]=t},_isInitialized:function(e){return Object.prototype.hasOwnProperty.call(this.__ATTRS__,e)}},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),o=u(r),i=n(25),a=u(i),l=n(16),s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}var c=[{name:"embed",buttons:["embedRemove","embedEdit"],test:s.default.embed},{name:"embedUrl",buttons:["embedVideo","embedVideoEdit"],test:s.default.embedUrl},{name:"link",buttons:["linkEdit"],test:s.default.link},{name:"image",buttons:["imageLeft","imageCenter","imageRight","AccessibilityImageAlt"],setPosition:a.default.image,test:s.default.image},{name:"text",buttons:{full:[["Font","FontSize","separator","bold","italic","underline","strike","separator","link"],["paragraphAlign","separator","ul","ol","separator","h1","h2","separator","indentBlock","outdentBlock","separator","TextColor","BGColor","separator","code","quote","separator","removeFormat"]],simple:["styles","bold","italic","underline","link"]},test:s.default.text},{name:"table",buttons:["tableHeading","tableRow","tableColumn","tableCell","tableRemove"],getArrowBoxClasses:o.default.table,setPosition:a.default.table,test:s.default.table}];t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return"ae-arrow-box ae-arrow-box-bottom"},o={table:r};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var a={left:0,top:0},l=function(e,t){var n=o.default.findDOMNode(e),r=e.props.editor.get("nativeEditor"),i=r.config.uiNode||document.body,l=getComputedStyle(i),s=parseInt(l.getPropertyValue("margin-left"),10),u=parseInt(l.getPropertyValue("margin-right"),10),c=s+i.clientWidth+u,f=n.offsetWidth/2,d=new CKEDITOR.dom.window(window).getScrollPosition(),p=e.props.gutter||a,h=e.getWidgetXYPoint(t.left+t.width/2-d.x,t.top+d.y,CKEDITOR.SELECTION_BOTTOM_TO_TOP),m=[t.left+t.width/2-f-d.x,t.top-n.offsetHeight+d.y-p.top];m[0]<0?m[0]=0:m[0]>c-n.offsetWidth&&(m[0]=c-n.offsetWidth),e.moveToPoint(h,m)},s=function(e){var t=e.selectionData?e.selectionData:e.editorEvent?e.editorEvent.data.selectionData:null;if(t&&t.element)return l(this,t.element.getClientRect()),!0},u=function(e){var t=e.editor.get("nativeEditor"),n=t.config.uiNode,r=n?n.scrollTop:0,o=new CKEDITOR.Table(t).getFromSelection(),i=o.getClientRect();return i.top+=r,l(this,i),!0},c={image:s,table:u};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(15),i=c(o),a=n(5),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){var e,n,r,o;f(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._onClick=function(){r.props.editor.get("nativeEditor").execCommand("removeFormat"),r.applyStyle()},o=n,d(r,o)}return p(t,e),r(t,[{key:"componentWillMount",value:function(){var e={element:"span",styles:{margin:0}};e=CKEDITOR.tools.merge(e,this.props.style),this._preview=new CKEDITOR.style(e).buildPreview(this.props.name)}},{key:"render",value:function(){var e=this.props.name===this.props.activeStyle?"ae-toolbar-element active":"ae-toolbar-element";return u.default.createElement("button",{className:e,dangerouslySetInnerHTML:{__html:this._preview},onClick:this._onClick,tabIndex:this.props.tabIndex})}}]),t}(u.default.Component);h.key="buttonStylesListItem",t.default=(0,i.default)((0,l.default)(h))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){var e,n,r,o;l(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._removeStyles=function(){var e=r.props.editor.get("nativeEditor");e.execCommand("removeFormat"),r.props.removeBlocks.forEach(function(t){var n=new CKEDITOR.style({element:t});e.removeStyle(n)}),e.fire("actionPerformed",r)},o=n,s(r,o)}return u(t,e),r(t,[{key:"render",value:function(){return i.default.createElement("li",{role:"option"},i.default.createElement("button",{className:"ae-toolbar-element",onClick:this._removeStyles,tabIndex:this.props.tabIndex},AlloyEditor.Strings.normal))}}]),t}(i.default.Component);c.defaultProps={removeBlocks:["h1","h2","h3","h4","h5","h6","pre"]},c.key="buttonStylesListItemRemove",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,[{key:"render",value:function(){return this.props.styles&&this.props.styles.length?i.default.createElement("span",{className:"ae-list-header"},this.props.name):null}}]),t}(i.default.Component);c.key="buttonStylesListHeader",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(e){l(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.takePhoto=function(){var e=n._videoContainerRef.current,t=n._canvasContainerRef.current,r=t.getContext("2d"),o=n._videoHeight,i=n.props.videoWidth;if(i&&o){t.width=i,t.height=o,r.drawImage(e,0,0,i,o);var a=t.toDataURL("image/png"),l=CKEDITOR.dom.element.createFromHtml('<img src="'+a+'">'),s=n.props.editor.get("nativeEditor");s.insertElement(l),n.props.cancelExclusive(),s.fire("actionPerformed",n),s.fire("imageCameraAdd",l)}},n._handleStreamError=function(e){window.alert("An error occurred! "+e)},n._handleStreamSuccess=function(e){var t=n._videoContainerRef.current,r=n._canvasContainerRef.current;t.addEventListener("canplay",function(){var e=t.videoHeight/(t.videoWidth/n.props.videoWidth);isNaN(e)&&(e=n.props.videoWidth/(4/3)),t.setAttribute("width",n.props.videoWidth),t.setAttribute("height",e),r.setAttribute("width",n.props.videoWidth),r.setAttribute("height",e),n._videoHeight=e},!1),n._stream=e,navigator.mozGetUserMedia?t.mozSrcObject=e:t.srcObject=e,t.play(),n._buttonTakePhotoRef.current.disabled=!1},n._buttonTakePhotoRef=i.default.createRef(),n._canvasContainerRef=i.default.createRef(),n._videoContainerRef=i.default.createRef(),n}return u(t,e),r(t,[{key:"componentDidMount",value:function(){this._buttonTakePhotoRef.current.focus()}},{key:"componentWillUnmount",value:function(){this._stream&&(this._stream.stop?this._stream.stop():this._stream.getVideoTracks&&this._stream.getVideoTracks().forEach(function(e){e.stop()}),this._stream=null)}},{key:"render",value:function(){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e.call(navigator,{video:!0,audio:!1},this._handleStreamSuccess,this._handleStreamError),i.default.createElement("div",{className:"ae-camera"},i.default.createElement("video",{ref:this._videoContainerRef},"Video stream not available."),i.default.createElement("button",{className:"ae-camera-shoot",onClick:this.takePhoto,ref:this._buttonTakePhotoRef},"Take photo"),i.default.createElement("canvas",{className:"ae-camera-canvas",ref:this._canvasContainerRef}))}}]),t}(i.default.Component);c.defaultProps={videoWidth:320},c.key="cameraImage",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"render",value:function(){return l.default.createElement("button",{"aria-label":this.props.description,className:this._getClassName(),onClick:this.execCommand,tabIndex:this.props.tabIndex},this.props.description)}},{key:"_getClassName",value:function(){var e="ae-container ae-toolbar-element";return e}}]),t}(l.default.Component);d.key="buttonCommandListItem",t.default=(0,i.default)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=13,p=27,h=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._clearLink=function(){n.setState({linkHref:""})},n._embedLink=function(){var e=n.props.editor.get("nativeEditor");e.execCommand("embedUrl",{url:n.state.linkHref}),n.props.cancelExclusive()},n._focusLinkInput=function(){n.linkInput.current.focus()},n._handleKeyDown=function(e){if(e.keyCode!==d&&e.keyCode!==p||e.preventDefault(),e.keyCode===d)n._embedLink();else if(e.keyCode===p){var t=n.props.editor.get("nativeEditor");n.props.cancelExclusive(),t.fire("actionPerformed",n)}},n._handleLinkHrefChange=function(e){n.setState({linkHref:e.target.value})},n._removeEmbed=function(){var e=n.props.editor.get("nativeEditor"),t=n.state.element.getAscendant(function(e){return e.hasClass("cke_widget_wrapper")});t.remove(),e.fire("actionPerformed",n)},n.linkInput=l.default.createRef(),n.state=n.getInitialState(),n}return f(t,e),r(t,[{key:"componentDidMount",value:function(){(this.props.renderExclusive||this.props.manualSelection)&&(window.requestAnimationFrame?window.requestAnimationFrame(this._focusLinkInput):setTimeout(this._focusLinkInput,0))}},{key:"componentWillReceiveProps",value:function(){this.setState(this.getInitialState())}},{key:"getInitialState",value:function(){var e=this.props.editor.get("nativeEditor"),t=void 0,n=e.getSelection();if(n){var r=n.getSelectedElement();r&&(t=r.findOne('[data-widget="ae_embed"]'))}var o=t?t.getAttribute("data-ae-embed-url"):"";return{element:t,initialLink:{href:o},linkHref:o}}},{key:"render",value:function(){var e={opacity:this.state.linkHref?1:0},t=this.props.editor;return l.default.createElement("div",{className:"ae-container-edit-link"},l.default.createElement("button",{"aria-label":AlloyEditor.Strings.deleteEmbed,className:"ae-button","data-type":"button-embed-remove",disabled:!this.state.element,onClick:this._removeEmbed,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.deleteEmbed},l.default.createElement(i.default,{editor:t,symbol:"trash",className:"ae-icon-svg-trash"})),l.default.createElement("div",{className:"ae-container-input xxl"},l.default.createElement("input",{className:"ae-input",onChange:this._handleLinkHrefChange,onKeyDown:this._handleKeyDown,placeholder:AlloyEditor.Strings.editLink,ref:this.linkInput,type:"text",value:this.state.linkHref}),l.default.createElement("button",{"aria-label":AlloyEditor.Strings.clearInput,className:"ae-button ae-button-clear",onClick:this._clearLink,style:e,title:AlloyEditor.Strings.clear},l.default.createElement(i.default,{editor:t,symbol:"times-clear"}))),l.default.createElement("button",{"aria-label":AlloyEditor.Strings.confirm,className:"ae-button",disabled:!this._isValidState(),onClick:this._embedLink,title:AlloyEditor.Strings.confirm},l.default.createElement(i.default,{editor:t,symbol:"check",className:"ae-icon-svg-check"})))}},{key:"_isValidState",value:function(){var e=this.state.linkHref&&this.state.linkHref!==this.state.initialLink.href;return e}}]),t}(l.default.Component);h.key="embedEdit",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=d(o),a=n(0),l=d(a),s=n(6),u=d(s),c=n(7),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=13,b=27,g=function(e){function t(e,n){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._embedVideoURL=function(){var e=r.props.editor.get("nativeEditor");e.execCommand("embedUrl",{type:"video",url:r.state.videoURL}),r.props.cancelExclusive()},r._focusVideoUrlInput=function(){u.default.findDOMNode(r.refs.linkInput).focus()},r._handleKeyDown=function(e){e.keyCode!==y&&e.keyCode!==b||e.preventDefault(),e.keyCode===y?r._embedVideoURL():e.keyCode===b&&r.props.cancelExclusive()},r._handleVideoURLChange=function(e){r.setState({videoURL:e.target.value})},r.state=r.getInitialState(),r}return m(t,e),r(t,[{key:"componentDidMount",value:function(){(this.props.renderExclusive||this.props.manualSelection)&&(window.requestAnimationFrame?window.requestAnimationFrame(this._focusVideoUrlInput):setTimeout(this._focusVideoUrlInput,0))}},{key:"componentWillReceiveProps",value:function(){this.replaceState(this.getInitialState())}},{key:"getInitialState",value:function(){var e=this.props.editor.get("nativeEditor"),t=void 0,n=e.getSelection();if(n){var r=n.getSelectedElement();r&&(t=r.findOne('[data-widget="videoembed"]'))}var o=t?t.getAttribute("data-embed-video-url"):"";return{element:t,initialEmbed:{videoURL:o},videoURL:o}}},{key:"render",value:function(){var e=AlloyEditor.Strings.pasteVideoLink,t={opacity:this.state.videoURL?1:0};return l.default.createElement("div",{className:"ae-container-embed-video-edit"},l.default.createElement("div",{className:"ae-container-input xxl"},l.default.createElement("input",{className:"ae-input",onChange:this._handleVideoURLChange,onKeyDown:this._handleKeyDown,placeholder:e,ref:"linkInput",type:"text",value:this.state.videoURL}),l.default.createElement("button",{"aria-label":AlloyEditor.Strings.clearInput,className:"ae-button ae-icon-remove",onClick:this._clearLink,style:t,title:AlloyEditor.Strings.clear})),l.default.createElement("button",{"aria-label":AlloyEditor.Strings.confirm,className:"ae-button",disabled:!this._isValidState(),onClick:this._embedVideoURL,title:AlloyEditor.Strings.confirm},l.default.createElement(i.default,{editor:this.props.editor,symbol:"check"})))}},{key:"_clearLink",value:function(){this.setState({videoURL:""})}},{key:"_isValidState",value:function(){var e=this.state.videoURL&&this.state.videoURL!==this.state.initialEmbed.videoURL;return e}}]),t}(l.default.Component);g.key="embedVideoEdit",g.propTypes={editor:f.default.object.isRequired},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=c(o),a=n(0),l=c(a),s=n(8),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:[]},n}return p(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){e.term&&e.term===this.props.term||(clearTimeout(this._timeout),e.term?this._timeout=setTimeout(this._updateItems,this.props.delay):this.setState({items:[]})),e.autocompleteSelected&&(setTimeout(this.focus,0),this.props.setAutocompleteState({selected:!1}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timeout)}},{key:"render",value:function(){return this.props.expanded&&this.state.items.length?l.default.createElement(i.default,null,this._renderAutocompleteItems(this.state.items)):null}},{key:"shouldComponentUpdate",value:function(e,t){return e.expanded!==this.props.expanded||e.term!==this.props.term||t.items!==this.state.items}},{key:"_renderAutocompleteItems",value:function(e){var t=this;e=e||[];var n=this.props.handleLinkAutocompleteClick;return e.map(function(e){var r=t.props.term===e.url?"ae-toolbar-element active":"ae-toolbar-element";return l.default.createElement("li",{key:e.url,role:"option"},l.default.createElement("button",{className:r,onClick:n,"data-value":e.url},e.title))})}},{key:"_updateItems",value:function(){var e=this;if(this.props.term){var t=Promise.resolve(this.props.data(this.props.term));t.then(function(t){t.length&&!e.props.expanded&&e.props.toggleDropdown(),e.setState({items:t})})}}}]),t}(l.default.Component);h.defaultProps={circular:!1,data:[],delay:100,descendants:".ae-toolbar-element",keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]}},h.key="buttonLinkAutocompleteList",t.default=(0,u.default)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),i=y(o),a=n(1),l=y(a),s=n(12),u=y(s),c=n(19),f=y(c),d=n(2),p=y(d),h=n(0),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var e,n,r,o;b(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._requestExclusive=function(){r.props.requestExclusive(t.key)},o=n,g(r,o)}return v(t,e),r(t,[{key:"isActive",value:function(){return null!==new CKEDITOR.Link(this.props.editor.get("nativeEditor")).getFromSelection()}},{key:"render",value:function(){var e="ae-button "+this.getStateClasses();if(this.props.renderExclusive){var t=this.mergeButtonCfgProps();return m.default.createElement(f.default,t)}return m.default.createElement("button",{"aria-label":AlloyEditor.Strings.link,className:e,"data-type":"button-link",onClick:this._requestExclusive,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.link},m.default.createElement(l.default,{editor:this.props.editor,symbol:"link"}))}}]),t}(m.default.Component);_.defaultProps={keystroke:{fn:"_requestExclusive",keys:CKEDITOR.CTRL+76}},_.key="link",t.default=(0,i.default)((0,u.default)((0,p.default)(_)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=c(o),a=n(36),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){var e=this.props.handleLinkTargetChange,t=this.props.allowedTargets;return u.default.createElement("div",{className:"ae-container-edit-link-target ae-container-dropdown ae-container-dropdown-medium ae-has-dropdown",tabIndex:"0"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":this.props.selectedTarget,className:"ae-toolbar-element",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:this.props.selectedTarget},u.default.createElement("div",{className:"ae-container"},u.default.createElement("span",{className:"ae-container-dropdown-selected-item"},this.props.selectedTarget),u.default.createElement(i.default,{editor:this.props.editor,symbol:"caret-bottom"}))),this.props.expanded&&u.default.createElement(l.default,{editor:this.props.editor,onDismiss:this.props.toggleDropdown,allowedLinkTargets:t,handleLinkTargetChange:e,selectedTarget:this.props.selectedTarget}))}},{key:"shouldComponentUpdate",value:function(e){return e.expanded!==this.props.expanded||e.selectedTarget!==this.props.selectedTarget}}]),t}(u.default.Component);h.key="linkTargetEdit",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=d(o),a=n(0),l=d(a),s=n(6),u=d(s),c=n(8),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),r(t,[{key:"componentDidMount",value:function(){u.default.findDOMNode(this).focus()}},{key:"render",value:function(){var e=this._renderListTargets();return l.default.createElement(i.default,this.props,e)}},{key:"_getAllowedTargetItems",value:function(){return this.props.allowedLinkTargets||[{label:AlloyEditor.Strings.linkTargetDefault,value:""},{label:AlloyEditor.Strings.linkTargetSelf,value:"_self"},{label:AlloyEditor.Strings.linkTargetBlank,value:"_blank"},{label:AlloyEditor.Strings.linkTargetParent,value:"_parent"},{label:AlloyEditor.Strings.linkTargetTop,value:"_top"}]}},{key:"_renderListTargets",value:function(){var e=this,t=this._getAllowedTargetItems(),n=this.props.handleLinkTargetChange;return t=t.map(function(t){var r=e.props.selectedTarget===t.value?"ae-toolbar-element active":"ae-toolbar-element";return l.default.createElement("li",{key:t.value,role:"option"},l.default.createElement("button",{className:r,"data-value":t.value,onClick:n},t.label))}),t}}]),t}(l.default.Component);y.defaultProps={circular:!0,descendants:".ae-toolbar-element",keys:{dismiss:[27],dismissNext:[39],dismissPrev:[37],next:[40],prev:[38]}},y.key="targetList",t.default=(0,f.default)(y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=m(i),l=n(1),s=m(l),u=n(19),c=m(u),f=n(7),d=m(f),p=n(0),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(e,n){y(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r._browseClick=function(){var e=r.props.editor.get("nativeEditor"),t=e.config.documentBrowseLinkUrl,n=e.config.documentBrowseLinkCallback,o=r.linkEditButtonRef.current.state.linkTarget,i=function(e){r._updateLink(e.value,o,e.href)};a.default.isFunction(n)&&n.apply(null,[e,t,i])},r._updateLink=function(e,t,n){var o=r.props.editor.get("nativeEditor"),i=new CKEDITOR.Link(o,{appendProtocol:!1}),a={target:t},l={advance:!0};e&&(o.plugins&&o.plugins.creole&&!n&&(e=location.origin+e),r.state.element?(a.href=e,i.update(a,r.state.element,l)):i.create(e,a,l),o.fire("actionPerformed",r))};var o=new CKEDITOR.Link(r.props.editor.get("nativeEditor")).getFromSelection(),i=o?o.getAttribute("href"):"";return r.linkEditButtonRef=h.default.createRef(),r.state={element:o,linkHref:i},r}return g(t,e),o(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"ae-container-link-edit-browse"},h.default.createElement(c.default,r({ref:this.linkEditButtonRef},this.props)),h.default.createElement("button",{"aria-label":"Browse",className:"ae-button",onClick:this._browseClick,title:"browse"},h.default.createElement(s.default,{editor:this.props.editor,symbol:"folder"})))}}]),t}(h.default.Component);v.propTypes={editor:d.default.object.isRequired},v.key="linkEditBrowse",t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=13,p=27,h=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._createTable=function(){var e=n.props.editor.get("nativeEditor"),t=new CKEDITOR.Table(e);t.create({attrs:n.props.tableAttributes,cols:n.state.cols,rows:n.state.rows}),n.props.cancelExclusive(),e.fire("actionPerformed",n)},n._handleChange=function(e,t){var r={};r[e]=t.target.value,n.setState(r)},n._handleKeyDown=function(e){e.keyCode!==d&&e.keyCode!==p||e.preventDefault(),e.keyCode===d?n._createTable():e.keyCode===p&&n.props.cancelExclusive()},n.rowsRef=l.default.createRef(),n.colsRef=l.default.createRef(),n.state={cols:3,rows:3},n}return f(t,e),r(t,[{key:"componentDidMount",value:function(){this.rowsRef.current.focus()}},{key:"render",value:function(){var e=Date.now(),t=e+"rows",n=e+"cols";return l.default.createElement("div",{className:"ae-container-edit-table"},l.default.createElement("label",{htmlFor:t},AlloyEditor.Strings.rows),l.default.createElement("div",{className:"ae-container-input small"},l.default.createElement("input",{className:"ae-input",id:t,onChange:this._handleChange.bind(this,"rows"),min:"1",onKeyDown:this._handleKeyDown,placeholder:"Rows",ref:this.rowsRef,type:"number",value:this.state.rows})),l.default.createElement("label",{htmlFor:n},AlloyEditor.Strings.columns),l.default.createElement("div",{className:"ae-container-input small"},l.default.createElement("input",{className:"ae-input",id:n,onChange:this._handleChange.bind(this,"cols"),min:"1",onKeyDown:this._handleKeyDown,placeholder:"Colums",ref:this.colsRef,type:"number",value:this.state.cols})),l.default.createElement("button",{"aria-label":"Confirm",className:"ae-button",onClick:this._createTable},l.default.createElement(i.default,{editor:this.props.editor,symbol:"check"})))}}]),t}(l.default.Component);h.defaultProps={tableAttributes:{border:1,cellPadding:0,cellSpacing:0,style:"width: 100%"}},h.key="tableEdit",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"getToolbarButtonGroups",value:function(e,t){var n=this;return i.default.isFunction(e)&&(e=e.call(this)||[]),e.reduce(function(r,o){return Array.isArray(o)?(r.push(n.getToolbarButtons(o,t)),r):n.getToolbarButtons(e,t)},[])}},{key:"getToolbarButtons",value:function(e,t){var n={},r=this.props.editor.get("nativeEditor"),o=r.config.buttonCfg||{};i.default.isFunction(e)&&(e=e.call(this)||[]);var a=this.filterExclusive(e.filter(function(e){return e&&(AlloyEditor.Buttons[e]||AlloyEditor.Buttons[e.name])}).map(function(e){return i.default.isString(e)?(n[e]=o[e],e=AlloyEditor.Buttons[e]):i.default.isString(e.name)&&(n[AlloyEditor.Buttons[e.name].key]=CKEDITOR.tools.merge(o[e],e.cfg),e=AlloyEditor.Buttons[e.name]),e})).map(function(e,r){var o=this.mergeExclusiveProps({editor:this.props.editor,key:"separator"!==e.key?e.key:e.key+"-"+r,tabKey:e.key,tabIndex:this.props.trigger&&this.props.trigger.props.tabKey===e.key?0:-1,trigger:this.props.trigger},e.key);return o=this.mergeDropdownProps(o,e.key),t&&(o=CKEDITOR.tools.merge(o,t)),o=CKEDITOR.tools.merge(o,n[e.key]),l.default.createElement(e,o)},this);return a}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){return function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,[{key:"getArrowBoxClasses",value:function(){var e="ae-arrow-box";return i.default.isFunction(this.getInteractionPoint)&&this.getInteractionPoint()&&(this.getInteractionPoint().direction===CKEDITOR.SELECTION_TOP_TO_BOTTOM?e+=" ae-arrow-box-top":e+=" ae-arrow-box-bottom"),e}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),a=l(i);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){var t,n;return n=t=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),o(t,[{key:"cancelAnimation",value:function(){window.cancelAnimationFrame&&window.cancelAnimationFrame(this._animationFrameId)}},{key:"getConstrainedPosition",value:function(e,t){t=t||new CKEDITOR.dom.window(window).getViewPaneSize();var n=e.left,r=e.top;return e.left+e.width>t.width&&(n-=e.left+e.width-t.width),r<0&&(r=0),{x:n,y:r}}},{key:"getInteractionPoint",value:function(){var e=this.props.editorEvent?this.props.editorEvent.data:null;if(e){var t=e.selectionData,n=e.nativeEvent,r={x:e.nativeEvent.pageX,y:t.region.top},o=t.region.direction,i=t.region.endRect,a=t.region.startRect;i&&a&&a.top===i.top&&(o=CKEDITOR.SELECTION_BOTTOM_TO_TOP);var l=void 0,s=void 0;return r.x&&r.y?(l=this._getXPoint(t,r.x),s=o===CKEDITOR.SELECTION_BOTTOM_TO_TOP?Math.min(r.y,t.region.top):Math.max(r.y,this._getYPoint(t,n))):(l=t.region.left+t.region.width/2,s=o===CKEDITOR.SELECTION_TOP_TO_BOTTOM?this._getYPoint(t,n):t.region.top),{direction:o,x:l,y:s}}}},{key:"_getXPoint",value:function(e,t){var n=e.region,r=n.startRect?n.startRect.left:n.left,o=n.endRect?n.endRect.right:n.right,i=void 0;if(r<t&&o>t)i=t;else{var a=Math.abs(r-t),l=Math.abs(o-t);i=a<l?r:o}return i}},{key:"_getYPoint",value:function(e,t){var n=0;if(e&&t){var r=new CKEDITOR.dom.element(t.target);n=r.$&&"auto"===r.getStyle("overflow")?t.target.offsetTop+t.target.offsetHeight:e.region.bottom}return n}},{key:"getWidgetXYPoint",value:function(e,t,n){var r=a.default.findDOMNode(this),o=this.props.gutter;return n===CKEDITOR.SELECTION_TOP_TO_BOTTOM||n===CKEDITOR.SELECTION_BOTTOM_TO_TOP?(e=e-o.left-r.offsetWidth/2,t=n===CKEDITOR.SELECTION_TOP_TO_BOTTOM?t+o.top:t-r.offsetHeight-o.top):n!==CKEDITOR.SELECTION_LEFT_TO_RIGHT&&n!==CKEDITOR.SELECTION_RIGHT_TO_LEFT||(e=n===CKEDITOR.SELECTION_LEFT_TO_RIGHT?e+o.left+r.offsetHeight/2:e-3*r.offsetHeight/2-o.left,t=t-o.top-r.offsetHeight/2),e<0&&(e=0),t<0&&(t=0),[e,t]}},{key:"isVisible",value:function(){var e=a.default.findDOMNode(this);if(e){var t=new CKEDITOR.dom.element(e);return t.hasClass("alloy-editor-visible")}return!1}},{key:"moveToPoint",value:function(e,t){var n=new CKEDITOR.dom.element(a.default.findDOMNode(this));n.setStyles({left:e[0]+"px",top:e[1]+"px",opacity:0}),n.removeClass("alloy-editor-invisible"),this._animate(function(){n.addClass("ae-toolbar-transition"),n.addClass("alloy-editor-visible"),n.setStyles({left:t[0]+"px",top:t[1]+"px",opacity:1})})}},{key:"show",value:function(){var e=a.default.findDOMNode(this),t=this.props.editor.get("uiNode"),n=t?t.scrollTop:0;if(!this.isVisible()&&e){var r=this.getInteractionPoint();if(r){var o=new CKEDITOR.dom.element(e),i=void 0,l=void 0,s=void 0,u=void 0;if(i=s=parseFloat(o.getStyle("left")),l=u=parseFloat(o.getStyle("top")),this.props.constrainToViewport){var c=this.getConstrainedPosition({height:parseFloat(e.offsetHeight),left:i,top:l,width:parseFloat(e.offsetWidth)});i=c.x,l=c.y}u=r.direction===CKEDITOR.SELECTION_TOP_TO_BOTTOM?this.props.selectionData.region.bottom+n:this.props.selectionData.region.top+n,this.moveToPoint([s,u],[i,l])}}}},{key:"updatePosition",value:function(){var e=this.getInteractionPoint(),t=a.default.findDOMNode(this);if(e&&t){var n=this.props.editor.get("uiNode")||document.body,r=getComputedStyle(n),o=parseInt(r.getPropertyValue("margin-left"),10),i=parseInt(r.getPropertyValue("margin-right"),10),l=o+n.clientWidth+i,s="BODY"!==n.tagName?n.scrollTop:0,u=this.getWidgetXYPoint(e.x,e.y,e.direction);u[1]+=s,u[0]<0&&(u[0]=0),u[0]>l-t.offsetWidth&&(u[0]=l-t.offsetWidth),new CKEDITOR.dom.element(t).setStyles({left:u[0]+"px",top:u[1]+"px"})}}},{key:"_animate",value:function(e){window.requestAnimationFrame?this._animationFrameId=window.requestAnimationFrame(e):e()}}]),t}(e),t.defaultProps=r({},e.defaultProps,{gutter:{left:0,top:10},constrainToViewport:!0}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBridgeButton=t.regexBasePath=t.loadLanguageResources=t.implementEventTarget=t.getUrl=t.getButtons=t.getBasePath=t.editable=t.Toolbars=t.Selections=t.SelectionTest=t.SelectionSetPosition=t.SelectionGetArrowBoxClasses=t.OOP=t.Lang=t.Core=t.Buttons=t.Attribute=void 0;var r=n(43),o=O(r),i=n(4),a=O(i),l=n(79),s=O(l),u=n(125),c=O(u),f=n(24),d=O(f),p=n(23),h=O(p),m=n(25),y=O(m),b=n(16),g=O(b),v=n(22),_=O(v),E=n(17),w=O(E);function O(e){return e&&e.__esModule?e:{default:e}}n(21);var C={},k=function(e,t){return t=t||{},t.srcNode=e,AlloyEditor.implementEventTarget(),new o.default(t)},T=function(){var e=window.ALLOYEDITOR_BASEPATH||"";if(!e)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var r=t[n].src.match(AlloyEditor.regexBasePath);if(r){e=r[1];break}}if(-1===e.indexOf(":/")&&"//"!==e.slice(0,2)&&(e=0===e.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+e:location.href.match(/^[^?]*\/(?:)/)[0]+e),!e)throw new Error('The AlloyEditor installation path could not be automatically detected. Please set the global variable "ALLOYEDITOR_BASEPATH" before creating editor instances.');return e},S=function(e){if(AlloyEditor.implementEventTarget(),a.default.isFunction(e)&&(AlloyEditor.Strings?setTimeout(e,0):AlloyEditor.once("languageResourcesLoaded",function(){setTimeout(e,0)})),!AlloyEditor._langResourceRequested){AlloyEditor._langResourceRequested=!0;var t=["af","ar","bg","bn","bs","ca","cs","cy","da","de","el","en-au","en-ca","en-gb","en","eo","es","et","eu","fa","fi","fo","fr-ca","fr","gl","gu","he","hi","hr","hu","id","is","it","ja","ka","km","ko","ku","lt","lv","mk","mn","ms","nb","nl","no","pl","pt-br","pt","ro","ru","si","sk","sl","sq","sr-latn","sr","sv","th","tr","tt","ug","uk","vi","zh-cn","zh"],n=navigator.language||navigator.userLanguage||"en",r=n.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),o=r[1],i=r[2];t.indexOf(o+"-"+i)>=0?o=o+"-"+i:-1===t.indexOf(o)&&(o="en"),CKEDITOR.scriptLoader.load(AlloyEditor.getUrl("lang/alloy-editor/"+o+".js"),function(e){e&&AlloyEditor.fire("languageResourcesLoaded")},this)}},I=function(e){var t=AlloyEditor.getBasePath();return-1===e.indexOf(":/")&&0!==e.indexOf("/")&&(e=t+e),CKEDITOR.timestamp&&"/"!==e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(e.indexOf("?")>=0?"&":"?")+"t="+CKEDITOR.timestamp),e},x=function(){AlloyEditor.fire||AlloyEditor.on||CKEDITOR.event.implementOn(AlloyEditor)},P=/(^|.*[\\\/])(?:alloy-editor[^\/]+|alloy-editor)\.js(?:\?.*|;.*)?$/i,R=function(e){return function(){return e.reduce(function(e,t){return t=C[t]||[t],e.concat(t)},[])}},D=function(e,t){C[t]||(C[t]=[]),C[t].push(e)},j={extend:w.default};t.Attribute=_.default,t.Buttons=s.default,t.Core=o.default,t.Lang=a.default,t.OOP=j,t.SelectionGetArrowBoxClasses=d.default,t.SelectionSetPosition=y.default,t.SelectionTest=g.default,t.Selections=h.default,t.Toolbars=c.default,t.editable=k,t.getBasePath=T,t.getButtons=R,t.getUrl=I,t.implementEventTarget=x,t.loadLanguageResources=S,t.regexBasePath=P,t.registerBridgeButton=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44),n(21),n(68);var r=n(17),o=b(r),i=n(4),a=b(i),l=n(75),s=b(l),u=n(23),c=b(u),f=n(76),d=b(f),p=n(0),h=b(p),m=n(6),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}var g=560,v=315;function _(e){_.superclass.constructor.call(this,e)}(0,o.default)(_,s.default,{initializer:function(e){var t=this.get("srcNode");this.get("enableContentEditable")&&t.setAttribute("contenteditable","true");var n=CKEDITOR.inline(t);if(n.config.allowedContent=this.get("allowedContent"),n.config.toolbars=this.get("toolbars"),n.config.removePlugins=this.get("removePlugins"),n.config.extraPlugins=this.get("extraPlugins"),n.config.embedProviders=this.get("embedProviders"),n.config.placeholderClass=this.get("placeholderClass"),n.config.pasteFromWordRemoveStyles=!1,n.config.pasteFromWordRemoveFontStyles=!1,n.config.selectionKeystrokes=this.get("selectionKeystrokes"),n.config.spritemap=this.get("spritemap"),a.default.mix(n.config,e),CKEDITOR.env.ie&&!CKEDITOR.env.edge){var r=11===CKEDITOR.env.version?"ae_dragresize_ie11":"ae_dragresize_ie";n.config.extraPlugins=n.config.extraPlugins.replace("ae_dragresize",r),n.config.removePlugins=n.config.removePlugins.replace("ae_dragresize",r)}n.once("contentDom",function(){this._addReadOnlyLinkClickListener(n);var e=n.editable();e.addClass("ae-editable")}.bind(this)),this._editor=n,AlloyEditor.loadLanguageResources(this._renderUI.bind(this))},destructor:function(){this._destroyed=!0,this._editorUIElement&&(y.default.unmountComponentAtNode(this._editorUIElement),this._editorUIElement.parentNode.removeChild(this._editorUIElement));var e=this.get("nativeEditor");if(e){var t=e.editable();t&&(t.removeClass("ae-editable"),this.get("enableContentEditable")&&this.get("srcNode").setAttribute("contenteditable","false")),this._clearSelections(),e.destroy()}},_clearSelections:function(){var e=this.get("nativeEditor"),t="function"!=typeof window.getSelection;t?e.document.$.selection.empty():e.document.getWindow().$.getSelection().removeAllRanges()},_addReadOnlyLinkClickListener:function(e){e.editable().on("click",this._defaultReadOnlyClickFn,this,{editor:e})},_defaultReadOnlyClickFn:function(e){var t=e.data.$,n=t.ctrlKey||t.metaKey,r=this._editor.config.readOnly||n;if(t.preventDefault(),r&&!1!==e.listenerData.editor.editable().editor.fire("readOnlyClick",e.data)){var o=new CKEDITOR.dom.elementPath(e.data.getTarget(),this),i=o.lastElement;if(i){var a=i.$.attributes.href?i.$.attributes.href.value:null,l=n?"_blank":i.$.attributes.target?i.$.attributes.target.value:null;this._redirectLink(a,l)}}},_getNativeEditor:function(){return this._editor},_redirectLink:function(e,t){t&&e?window.open(e,t):e&&(window.location.href=e)},_renderUI:function(){if(!this._destroyed){var e=document.createElement("div");e.className="ae-ui";var t=this.get("uiNode")||document.body;t.appendChild(e),this._mainUI=y.default.render(h.default.createElement(d.default,{editor:this,eventsDelay:this.get("eventsDelay"),toolbars:this.get("toolbars")}),e),this._editorUIElement=e,this.get("nativeEditor").fire("uiReady")}},_toElement:function(e){return a.default.isString(e)&&(e=document.getElementById(e)),e},_validateAllowedContent:function(e){return a.default.isString(e)||a.default.isObject(e)||a.default.isBoolean(e)},_validateToolbars:function(e){return a.default.isObject(e)||a.default.isNull(e)}},{ATTRS:{allowedContent:{validator:"_validateAllowedContent",value:!0,writeOnce:!0},documentBrowseLinkCallback:{validator:a.default.isFunction,value:void 0},documentBrowseLinkUrl:{validator:a.default.isString,value:void 0},embedProviders:{validator:a.default.isArray,value:[{id:"facebook",tpl:'<iframe allowFullScreen="true" allowTransparency="true"\n                         frameborder="0" height="'+v+'"\n                         src="https://www.facebook.com/plugins/video.php?href={embedId}\'\n                         &show_text=0&width='+g+"&height="+v+'" scrolling="no"\n                         style="border:none;overflow:hidden" width="'+g+'}"></iframe>',urlSchemes:["(https?:\\/\\/(?:www\\.)?facebook.com\\/\\S*\\/videos\\/\\S*)"]},{id:"twitch",tpl:'<iframe allowfullscreen="true" frameborder="0"\n                         height="'+v+'"\n                         src="https://player.twitch.tv/?autoplay=false&video={embedId}"\n                         scrolling="no" width="'+g+'"></iframe>',urlSchemes:["https?:\\/\\/(?:www\\.)?twitch.tv\\/videos\\/(\\S*)$"]},{id:"vimeo",tpl:'<iframe allowfullscreen frameborder="0" height="'+v+'"\n                         mozallowfullscreen src="https://player.vimeo.com/video/{embedId}"\n                         webkitallowfullscreen width="'+g+'"></iframe>',urlSchemes:["https?:\\/\\/(?:www\\.)?vimeo\\.com\\/album\\/.*\\/video\\/(\\S*)","https?:\\/\\/(?:www\\.)?vimeo\\.com\\/channels\\/.*\\/(\\S*)","https?:\\/\\/(?:www\\.)?vimeo\\.com\\/groups\\/.*\\/videos\\/(\\S*)","https?:\\/\\/(?:www\\.)?vimeo\\.com\\/(\\S*)$"]},{id:"youtube",tpl:'<iframe allow="autoplay; encrypted-media" allowfullscreen\n                         height="'+v+'" frameborder="0"\n                         src="https://www.youtube.com/embed/{embedId}?rel=0"\n                         width="'+g+'"></iframe>',urlSchemes:["https?:\\/\\/(?:www\\.)?youtube.com\\/watch\\?v=(\\S*)$"]}]},enableContentEditable:{validator:a.default.isBoolean,value:!0,writeOnce:!0},eventsDelay:{validator:a.default.isNumber,value:100},extraPlugins:{validator:a.default.isString,value:"ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,ae_dragresize_ie11,ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge,font,colorbutton",writeOnce:!0},mode:{validator:a.default.isString,value:"simple"},nativeEditor:{getter:"_getNativeEditor",readOnly:!0},placeholderClass:{validator:a.default.isString,value:"ae-placeholder",writeOnce:!0},removePlugins:{validator:a.default.isString,value:"contextmenu,toolbar,elementspath,resize,liststyle,link",writeOnce:!0},selectionKeystrokes:{validator:a.default.isArray,value:[{keys:CKEDITOR.CTRL+76,selection:"link"},{keys:CKEDITOR.CTRL+CKEDITOR.SHIFT+76,selection:"embed"}]},spritemap:{validator:a.default.isString,value:"alloy-editor/assets/icons/icons.svg",writeOnce:!0},srcNode:{setter:"_toElement",writeOnce:!0},toolbars:{validator:"_validateToolbars",value:{add:{buttons:["image","embed","camera","hline","table"],tabIndex:2},styles:{selections:c.default,tabIndex:1}}},uiNode:{setter:"_toElement",writeOnce:!0}}}),CKEDITOR.event.implementOn(_),t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uicore=t.tools=t.table=t.selectionRegion=t.plugins=t.link=t.debounce=void 0;var r=n(45),o=b(r),i=n(46),a=b(i),l=n(47),s=b(l),u=n(48),c=b(u),f=n(49),d=b(f),p=n(50),h=b(p),m=n(51),y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}t.debounce=o.default,t.link=a.default,t.plugins=s.default,t.selectionRegion=c.default,t.table=d.default,t.tools=h.default,t.uicore=y.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(function(){CKEDITOR.tools.debounce=CKEDITOR.tools.debounce||function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=void 0,a=function(){for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];var u=n||this;clearTimeout(i),i=setTimeout(function(){e.apply(u,[].concat(l,r(o)))},t)};return a.detach=function(){clearTimeout(i)},a}})()},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var e=/^#.*/i,t=/^[a-z0-9\u0430-\u044F._-]+@/i,n=/^(?:[a-z][a-z0-9+\-.]*):|^\//i;function o(e,t){this._editor=e,this.appendProtocol=!t||!1!==t.appendProtocol}o.prototype={constructor:o,advanceSelection:function(e){e=e||this.getFromSelection();var t=this._editor.getSelection().getRanges()[0];if(e){t.moveToElementEditEnd(e);var n=t.getNextEditableNode();if(n&&!this._editor.element.equals(n.getCommonAncestor(e))){var r=/\s/.exec(n.getText()),o=r?r.index+1:0;t.setStart(n,o),t.setEnd(n,o)}}this._editor.getSelection().selectRanges([t])},create:function(e,t,n){var r=this._editor.getSelection(),o=r.getRanges()[0];if(o.collapsed){var i=new CKEDITOR.dom.text(e,this._editor.document);o.insertNode(i),o.selectNodeContents(i)}e=this._getCompleteURI(e);var a=CKEDITOR.tools.merge({"data-cke-saved-href":e,href:e},t),l=new CKEDITOR.style({attributes:a,element:"a"});l.type=CKEDITOR.STYLE_INLINE,l.applyToRange(o,this._editor),n&&n.advance?this.advanceSelection():o.select()},getFromSelection:function(){var e=this._editor.getSelection(),t=e.getSelectedElement();if(t&&t.is("a"))return t;if(t&&CKEDITOR.env.ie)for(var n=t.getChildren(),r=n.count(),o=0;o<r;o++){var i=n.getItem(o);if(i.is("a"))return i}var a=e.getRanges()[0];return a?(a.shrink(CKEDITOR.SHRINK_TEXT),this._editor.elementPath(a.getCommonAncestor()).contains("a",1)):null},remove:function(e,t){var n=this._editor;if(e)t&&t.advance&&this.advanceSelection(),e.remove(n);else{var r=new CKEDITOR.style({alwaysRemoveElement:1,element:"a",type:CKEDITOR.STYLE_INLINE}),o=n.getSelection();o.selectElement(o.getStartElement()),n.removeStyle(r)}},update:function(e,t,n){var o=this;if(t=t||this.getFromSelection(),"string"===typeof e){var i=o._getCompleteURI(e);t.setAttributes({"data-cke-saved-href":i,href:i})}else if("object"===("undefined"===typeof e?"undefined":r(e))){var a=[],l={};Object.keys(e).forEach(function(t){if(null===e[t])"href"===t&&a.push("data-cke-saved-href"),a.push(t);else if("href"===t){var n=o._getCompleteURI(e[t]);l["data-cke-saved-href"]=n,l[t]=n}else l[t]=e[t]}),t.removeAttributes(a),t.setAttributes(l)}n&&n.advance&&this.advanceSelection(t)},_getCompleteURI:function(r){return e.test(r)?r:(t.test(r)?r="mailto:"+r:n.test(r)||(r=this.appendProtocol?"http://"+r:r),r)}},CKEDITOR.Link=CKEDITOR.Link||o})()},function(e,t,n){"use strict";(function(){var e=function(e){var t=["beforeInit","init","afterInit"];t.forEach(function(t){e[t]&&(e[t]=CKEDITOR.tools.override(e[t],function(n){var r={phase:t,plugin:e};return function(e){e.__processingPlugin__=r,n.call(this,e),e.__processingPlugin__=null}}))})},t=function(e){return"string"===typeof e&&(e=e.split(",")),e.filter(function(e){return"toolbar"!==e})};CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(n){return function(r,o,i){n.call(this,r,function(n){o&&(Object.keys(n).forEach(function(r){var o=n[r];o.requires&&(o.requires=t(o.requires)),e(o)}),o.call(i,n))})}})})()},function(e,t,n){"use strict";(function(){function e(){}CKEDITOR.plugins.get("ae_selectionregion")||(CKEDITOR.SELECTION_TOP_TO_BOTTOM=0,CKEDITOR.SELECTION_BOTTOM_TO_TOP=1,CKEDITOR.SELECTION_LEFT_TO_RIGHT=2,CKEDITOR.SELECTION_RIGHT_TO_LEFT=3,e.prototype={constructor:e,createSelectionFromPoint:function(e,t){this.createSelectionFromRange(e,t,e,t)},createSelectionFromRange:function(e,t,n,r){var o=void 0,i=void 0,a=void 0,l=void 0,s=void 0,u=void 0,c=void 0;if("function"===typeof document.caretPositionFromPoint?(s=document.caretPositionFromPoint(e,t),o=document.caretPositionFromPoint(n,r),u=s.offsetNode,i=o.offsetNode,c=s.offset,a=o.offset,l=this.createRange()):"function"===typeof document.caretRangeFromPoint&&(s=document.caretRangeFromPoint(e,t),o=document.caretRangeFromPoint(n,r),u=s.startContainer,i=o.startContainer,c=s.startOffset,a=o.startOffset,l=this.createRange()),l&&document.getSelection)l.setStart(new CKEDITOR.dom.node(u),c),l.setEnd(new CKEDITOR.dom.node(i),a),this.getSelection().selectRanges([l]);else if("function"===typeof document.body.createTextRange){var f=this.getSelection();f.unlock(),l=document.body.createTextRange(),l.moveToPoint(e,t);var d=l.duplicate();d.moveToPoint(n,r),l.setEndPoint("EndToEnd",d),l.select(),this.getSelection().lock()}},getCaretRegion:function(){var e=this.getSelection(),t={bottom:0,left:0,right:0,top:0},n=e.createBookmarks();if(!n.length)return t;var r=n[0].startNode.$;r.style.display="inline-block",t=new CKEDITOR.dom.element(r).getClientRect(),r.parentNode.removeChild(r);var o=new CKEDITOR.dom.window(window).getScrollPosition();return t.bottom=o.y+t.bottom,t.left=o.x+t.left,t.right=o.x+t.right,t.top=o.y+t.top,t},getSelectionData:function(){var e=this.getSelection();if(!e.getNative())return null;var t={element:e.getSelectedElement(),text:e.getSelectedText()};return t.region=this.getSelectionRegion(e),t},getSelectionRegion:function(){var e=this.getClientRectsRegion();return e.direction=this.getSelectionDirection(),e.height=e.bottom-e.top,e.width=e.right-e.left,e},isSelectionEmpty:function(){var e=void 0,t=this.getSelection();return t.getType()===CKEDITOR.SELECTION_NONE||(e=t.getRanges())&&1===e.length&&e[0].collapsed},getClientRectsRegion:function(){var e=this.getSelection(),t=e.getNative(),n={bottom:0,height:0,left:0,right:0,top:0,width:0},r={bottom:0,endRect:n,left:0,right:0,top:0,startRect:n};if(!t)return r;var o=0,i=void 0,a=1/0,l=-1/0,s=1/0;if(i=t.createRange?t.createRange().getClientRects():t.rangeCount>0?t.getRangeAt(0).getClientRects():[],0===i.length)r=this.getCaretRegion();else{for(var u=0,c=i.length;u<c;u++){var f=i[u];f.left<a&&(a=f.left),f.right>l&&(l=f.right),f.top<s&&(s=f.top),f.bottom>o&&(o=f.bottom)}var d=new CKEDITOR.dom.window(window).getScrollPosition();if(r.bottom=d.y+o,r.left=d.x+a,r.right=d.x+l,r.top=d.y+s,i.length){var p=i[i.length-1],h=i[0];r.endRect={bottom:d.y+p.bottom,height:p.height,left:d.x+p.left,right:d.x+p.right,top:d.y+p.top,width:p.width},r.startRect={bottom:d.y+h.bottom,height:h.height,left:d.x+h.left,right:d.x+h.right,top:d.y+h.top,width:h.width}}}return r},getSelectionDirection:function(){var e=CKEDITOR.SELECTION_TOP_TO_BOTTOM,t=this.getSelection(),n=t.getNative();if(!n)return e;var r=void 0;if((r=n.anchorNode)&&r.compareDocumentPosition){var o=r.compareDocumentPosition(n.focusNode);(!o&&n.anchorOffset>n.focusOffset||o===Node.DOCUMENT_POSITION_PRECEDING)&&(e=CKEDITOR.SELECTION_BOTTOM_TO_TOP)}return e}},CKEDITOR.plugins.add("ae_selectionregion",{init:function(t){var n=void 0,r=void 0;for(n in r=Object.prototype.hasOwnProperty,e.prototype)r.call(e.prototype,n)&&"undefined"===typeof t[n]&&(t[n]=e.prototype[n])}}))})()},function(e,t,n){"use strict";(function(){var e={table:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1};function t(e){this._editor=e}t.HEADING_BOTH="Both",t.HEADING_COL="Column",t.HEADING_NONE="None",t.HEADING_ROW="Row",t.prototype={constructor:t,create:function(e){var t=this._editor,n=this._createElement("table");e=e||{};for(var r=n.append(this._createElement("tbody")),o=e.rows||1,i=e.cols||1,a=0;a<o;a++)for(var l=r.append(this._createElement("tr")),s=0;s<i;s++){var u=l.append(this._createElement("td"));u.appendBogus()}this.setAttributes(n,e.attrs),this.setHeading(n,e.heading),t.insertElement(n);var c=new CKEDITOR.dom.element(n.$.rows[0].cells[0]),f=t.createRange();return f.moveToPosition(c,CKEDITOR.POSITION_AFTER_START),f.select(),n},getFromSelection:function(){var e=void 0,t=this._editor.getSelection(),n=t.getSelectedElement();if(n&&n.is("table"))e=n;else{var r=t.getRanges();r.length>0&&(CKEDITOR.env.webkit&&r[0].shrink(CKEDITOR.NODE_ELEMENT),e=this._editor.elementPath(r[0].getCommonAncestor(!0)).contains("table",1))}return e},isEditable:function(t){return CKEDITOR.env.ie&&t.is(e)?t.hasAttribute("contenteditable")?"false"!==t.getAttribute("contenteditable"):this.isEditable(t.getParent()):!t.isReadOnly()},getHeading:function(e){if(e=e||this.getFromSelection(),!e)return null;for(var n=null!==e.$.tHead,r=!0,o=0;o<e.$.rows.length;o++){var i=e.$.rows[o].cells[0];if(i&&"th"!==i.nodeName.toLowerCase()){r=!1;break}}var a=t.HEADING_NONE;return n&&(a=t.HEADING_ROW),r&&(a=a===t.HEADING_ROW?t.HEADING_BOTH:t.HEADING_COL),a},remove:function(e){var t=this._editor;if(e)e.remove();else if(e=t.elementPath().contains("table",1),e){var n=e.getParent(),r=t.editable();1!==n.getChildCount()||n.is("td","th")||n.equals(r)||(e=n);var o=t.createRange();o.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),o.select()}},setAttributes:function(e,t){t&&Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})},setHeading:function(e,n){e=e||this.getFromSelection();var r=void 0,o=void 0,i=void 0,a=e.getElementsByTag("tbody").getItem(0),l=this.getHeading(e),s=l===t.HEADING_COL||l===t.HEADING_BOTH,u=n===t.HEADING_COL||n===t.HEADING_BOTH,c=n===t.HEADING_ROW||n===t.HEADING_BOTH;if(!e.$.tHead&&c){var f=a.getElementsByTag("tr").getItem(0),d=f.getChildCount();for(r=0;r<d;r++){var p=f.getChild(r);p.type!==CKEDITOR.NODE_ELEMENT||p.data("cke-bookmark")||(p.renameNode("th"),p.setAttribute("scope","col"))}i=this._createElement(e.$.createTHead()),i.append(f.remove())}if(null!==e.$.tHead&&!c){i=this._createElement(e.$.tHead);var h=a.getFirst();while(i.getChildCount()>0){var m=i.getFirst(),y=m.getChildCount();for(r=0;r<y;r++)o=m.getChild(r),o.type===CKEDITOR.NODE_ELEMENT&&(o.renameNode("td"),o.removeAttribute("scope"));m.insertBefore(h)}i.remove()}l=this.getHeading(e);var b=l===t.HEADING_COL||l===t.HEADING_BOTH;if(!b&&u)for(r=0;r<e.$.rows.length;r++)"th"!==e.$.rows[r].cells[0].nodeName.toLowerCase()&&(o=new CKEDITOR.dom.element(e.$.rows[r].cells[0]),o.renameNode("th"),o.setAttribute("scope","row"));if(s&&!u)for(r=0;r<e.$.rows.length;r++){var g=new CKEDITOR.dom.element(e.$.rows[r]);"tbody"===g.getParent().getName()&&(o=new CKEDITOR.dom.element(g.$.cells[0]),o.renameNode("td"),o.removeAttribute("scope"))}},_createElement:function(e){return new CKEDITOR.dom.element(e,this._editor.document)}},CKEDITOR.on("instanceReady",function(e){var n=[t.HEADING_NONE,t.HEADING_ROW,t.HEADING_COL,t.HEADING_BOTH],r=new t(e.editor);n.forEach(function(t){e.editor.addCommand("tableHeading"+t,{exec:function(e){r.setHeading(null,t)}})})}),CKEDITOR.Table=CKEDITOR.Table||t})()},function(e,t,n){"use strict";(function(){CKEDITOR.tools.jsonp=function(e,t,n,r){var o=CKEDITOR.tools.getNextNumber();t=t||{},t.callback="CKEDITOR._.jsonpCallbacks["+o+"]",CKEDITOR._.jsonpCallbacks||(CKEDITOR._.jsonpCallbacks={}),CKEDITOR._.jsonpCallbacks[o]=function(e){setTimeout(function(){a(),n(e)})};var i=new CKEDITOR.dom.element("script");function a(){i&&(i.remove(),delete CKEDITOR._.jsonpCallbacks[o],i=null)}return i.setAttribute("src",e.output(t)),i.on("error",function(){a(),r&&r()}),CKEDITOR.document.getBody().append(i),{cancel:a,id:o}},CKEDITOR.tools.merge=CKEDITOR.tools.merge||function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;++o){var i=n[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},CKEDITOR.tools.simulate=function(e,t){var n=document.createEvent("Events");n.initEvent(t,!0,!1),e.dispatchEvent(n)}})()},function(e,t,n){"use strict";(function(){CKEDITOR.plugins.get("ae_uicore")||CKEDITOR.plugins.add("ae_uicore",{init:function(e){var t=[],n=this._createAriaElement(e.id),r=e.config.uicore?e.config.uicore.timeout:50,o=CKEDITOR.tools.debounce(function(n){if(t=[],"keyup"!==n.name||27!==n.data.$.keyCode||e.config.allowEsc){var r=e.getSelectionData();r&&e.fire("editorInteraction",{nativeEvent:n.data.$,selectionData:r})}},r),i=CKEDITOR.tools.debounce(function(e){n.innerHTML=t.join(". ")},r),a=CKEDITOR.tools.debounce(function(e){for(var t=document.querySelectorAll(".ae-ui"),n=void 0,r=0;r<t.length;r++)if(t[r].contains(e.data.$.relatedTarget)){n=!0;break}n||o(e)},r);e.on("ariaUpdate",function(e){t.push(e.data.message),i()}),e.once("contentDom",function(){var t=e.editable(),n=t.attachListener(t,"focus",function(e){n.removeListener(),t.attachListener(t,"keyup",o),t.attachListener(t,"mouseup",o),t.attachListener(t,"mouseleave",a),o(e)})}),e.on("destroy",function(e){n.parentNode.removeChild(n),o.detach()})},_createAriaElement:function(e){var t=document.createElement("div");return t.className="ae-sr-only",t.setAttribute("aria-live","polite"),t.setAttribute("role","status"),t.setAttribute("id",e+"LiveRegion"),document.body.appendChild(t),t}})})()},function(e,t,n){"use strict";(function(){var e=CKEDITOR.env.ie;CKEDITOR.plugins.get("ae_addimages")||CKEDITOR.plugins.add("ae_addimages",{init:function(e){e.once("contentDom",function(){var t=e.editable();t.attachListener(t,"dragenter",this._onDragEnter,this,{editor:e}),t.attachListener(t,"dragover",this._onDragOver,this,{editor:e}),t.attachListener(t,"drop",this._onDragDrop,this,{editor:e}),t.attachListener(t,"paste",this._onPaste,this,{editor:e})}.bind(this))},_handleFiles:function(e,t){var n=void 0,r=void 0,o=[];for(r=0;r<e.length;r++)n=e[r],0===n.type.indexOf("image")&&o.push(n);var i=t.fire("beforeImageAdd",{imageFiles:o});if(i)for(r=0;r<o.length;r++)n=o[r],this._processFile(n,t);return!1},_onDragDrop:function(e){var t=e.data.$,n=t.dataTransfer.files;if(n.length>0){new CKEDITOR.dom.event(t).preventDefault();var r=e.listenerData.editor;e.listenerData.editor.createSelectionFromPoint(t.clientX,t.clientY),this._handleFiles(n,r)}},_onDragEnter:function(t){e&&this._preventEvent(t)},_onDragOver:function(t){e&&this._preventEvent(t)},_onPaste:function(e){if(e.data&&e.data.$&&e.data.$.clipboardData&&e.data.$.clipboardData.items&&e.data.$.clipboardData.items.length>0){var t=e.data.$.clipboardData.items[0];if(0===t.type.indexOf("image")){var n=t.getAsFile();this._processFile(n,e.listenerData.editor)}}},_preventEvent:function(e){e=new CKEDITOR.dom.event(e.data.$),e.preventDefault(),e.stopPropagation()},_processFile:function(e,t){var n=new FileReader;n.addEventListener("loadend",function(){var r=n.result,o=CKEDITOR.dom.element.createFromHtml('<img src="'+r+'">');t.insertElement(o);var i={el:o,file:e};t.fire("imageAdd",i)}),n.readAsDataURL(e)}})})()},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_autolink")){/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)&&document.execCommand("AutoUrlDetect",!1,!1);var e=8,t=188,n=13,r=186,o=32,i=[t,n,r,o],a=/[^\s]+/gim,l="((([A - Za - z]{ 3, 9}: (?: \\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(https?\\:\\/\\/|www.|[-;:&=.\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))((.*):(\\d*)\\/?(.*))?)",s=/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/i;CKEDITOR.plugins.add("ae_autolink",{init:function(e){e.once("contentDom",function(){var t=e.editable();t.attachListener(t,"keyup",this._onKeyUp,this,{editor:e})}.bind(this)),e.on("paste",function(e){if("paste"===e.data.method){if(e.data.dataValue.indexOf("<")>-1||e.data.dataValue.indexOf("&lt;")>-1)return void(e.data.dataValue.indexOf('<u><font color="')>-1&&(e.data.dataValue=e.data.dataValue.replace(/<u><font color="#(.*?)">|<\/font><\/u>/g,"")));var t=this;e.data.dataValue=e.data.dataValue.replace(RegExp(l,"gim"),function(e){if(t._isValidURL(e))return t._isValidEmail(e)?'<a href="mailto:'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"})}}.bind(this))},_getLastWord:function(e){var t=e.getSelection().getRanges()[0],r=t.startOffset,o="";if(this._currentKeyCode===n){var i=t.startContainer.getPrevious(),l=void 0;if(i){while(!i.getLast)i=i.getPrevious();l=i.getLast();while(l&&!l.getText())l=l.getPrevious()}l&&l.$.href||(this._startContainer=l,o=l?l.getText():"",this._offset=o.length)}else this._startContainer=t.startContainer,o=this._startContainer.getText().substring(0,r-1),this._offset=r-1;var s="",u=o.match(a);return u&&(s=u.pop()),s},_isValidEmail:function(e){return s.test(e)},_isValidURL:function(e){return RegExp(l,"i").test(e)},_onKeyDown:function(t){var n=t.data.$,r=t.listenerData.editor,o=r.editable();o.removeListener("keydown",this._onKeyDown),n.keyCode===e&&(t.cancel(),t.data.preventDefault(),this._removeLink(r)),this._ckLink=null},_onKeyUp:function(e){var t=e.data.$;if(this._currentKeyCode=t.keyCode,-1!==i.indexOf(this._currentKeyCode)){var n=e.listenerData.editor,r=this._getLastWord(n);this._isValidURL(r)&&this._replaceContentByLink(n,r)}},_replaceContentByLink:function(e,t){var r=e.createRange(),o=CKEDITOR.dom.element.get(this._startContainer),i=this._offset;r.setStart(o,i-t.length),r.setEnd(o,i),r.select();var a=new CKEDITOR.Link(e);a.create(t),this._ckLink=a;var l=a.getFromSelection();if(e.fire("autolinkAdd",l),this._subscribeToKeyEvent(e),r=e.getSelection().getRanges()[0],this._currentKeyCode===n){var s=r.getNextEditableNode();r.setStart(s,0),r.setEnd(s,0)}else{var u=r.getNextNode();r.setStart(u,1),r.setEnd(u,1)}r.select()},_removeLink:function(e){var t=e.getSelection().getRanges()[0],n=t.startOffset,r=this._startContainer.getNext()||this._startContainer,o=e.createRange();o.setStart(r,0),o.setEndAfter(r),o.select(),this._ckLink.remove(),t.setEnd(t.startContainer,n),t.setStart(t.startContainer,n),t.select()},_subscribeToKeyEvent:function(e){var t=e.editable();t.attachListener(t,"keydown",this._onKeyDown,this,{editor:e},1)}})}})()},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_autolist")){var e=8,t=32,n=[{regex:/^\*$/,type:"bulletedlist"},{regex:/^1\.$/,type:"numberedlist"}];CKEDITOR.plugins.add("ae_autolist",{init:function(e){e.once("contentDom",function(){var t=e.editable();t.attachListener(t,"keydown",this._onKeyDown,this,{editor:e})}.bind(this))},_checkForBackspaceAndUndo:function(t){var n=t.listenerData.editor,r=t.data.$,o=n.editable();o.removeListener("keydown",this._checkForBackspaceAndUndo),r.keyCode===e&&(n.execCommand("undo"),n.insertHtml(t.listenerData.bullet+"&nbsp;"),t.data.preventDefault())},_getListConfig:function(e){var t=e.config.autolist||n,r=e.getSelection().getRanges()[0],o=r.endContainer.getText(),i=o.substring(0,r.startOffset),a=o.substring(r.startOffset,o.length),l=0,s=t.length,u=null;while(!u&&s>l){var c=t[l];if(c.regex.test(i)){u={bullet:i,editor:e,text:a,type:c.type};break}l++}return u},_createList:function(e){var t=e.editor,n=t.getSelection().getRanges()[0];n.endContainer.setText(e.text),t.execCommand(e.type);var r=t.editable();r.attachListener(r,"keydown",this._checkForBackspaceAndUndo,this,{editor:t,bullet:e.bullet},1)},_onKeyDown:function(e){var n=e.data.$;if(n.keyCode===t){var r=this._getListConfig(e.listenerData.editor);r&&(e.data.preventDefault(),this._createList(r))}}})}})()},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_dragresize")){var e={both:["tl","tm","tr","lm","rm","bl","bm","br"],height:["tl","tm","tr","bl","bm","br"],scale:["tl","tr","bl","br"],width:["tl","tr","lm","rm","bl","br"]},t={bl:function(e,t,n,r){f(e,-3+t,r.height-4+n)},bm:function(e,t,n,r){f(e,Math.round(r.width/2)-3+t,r.height-4+n)},br:function(e,t,n,r){f(e,r.width-4+t,r.height-4+n)},lm:function(e,t,n,r){f(e,-3+t,Math.round(r.height/2)-3+n)},tl:function(e,t,n,r){f(e,t-3,n-3)},tm:function(e,t,n,r){f(e,Math.round(r.width/2)-3+t,-3+n)},tr:function(e,t,n,r){f(e,r.width-4+t,-3+n)},rm:function(e,t,n,r){f(e,r.width-4+t,Math.round(r.height/2)-3+n)}},n=7,r="MozAppearance"in document.documentElement.style,o="WebkitAppearance"in document.documentElement.style,i=o||r;i&&CKEDITOR.addCss("img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}"),CKEDITOR.plugins.add("ae_dragresize",{onLoad:function(){},init:function(e){i&&e.once("contentDom",function(t){a(e)})}}),l.prototype={init:function(){var t=this,n=this.container=this.document.createElement("div");n.id="ckimgrsz",this.preview=this.document.createElement("span"),n.appendChild(this.preview);var r=this.handles={};for(var o in e[this.cfg.imageScaleResize].forEach(function(e){r[e]=t.handles[e]=t.createHandle(e)}),r)r.hasOwnProperty(o)&&n.appendChild(r[o])},createHandle:function(e){var t=this.document.createElement("i");return t.classList.add(e),t},isHandle:function(e){var t=this.handles;for(var n in t)if(t[n]===e)return!0;return!1},show:function(e){var t=this.editor.config.uiNode,n=t?t.scrollTop:0;this.el=e,this.cfg.snapToSize&&(this.otherImages=u(this.document.getElementsByTagName("img")),this.otherImages.splice(this.otherImages.indexOf(e),1));var r=this.box=p(this.window,e);f(this.container,r.left,r.top+n),t=t||document.body,t.appendChild(this.container),this.el.classList.add("ckimgrsz"),this.showHandles()},hide:function(){for(var e=this.document.getElementsByClassName("ckimgrsz"),t=0;t<e.length;++t)e[t].classList.remove("ckimgrsz");this.hideHandles(),this.container.parentNode&&this.container.parentNode.removeChild(this.container)},initDrag:function(e){if(0===e.button){var t=this,n=new s(this.window,this.document);n.onStart=function(){t.showPreview(),t.isDragging=!0,t.editor.getSelection().lock()},n.onDrag=function(){t.calculateSize(this),t.updatePreview();var e=t.previewBox;t.updateHandles(e,e.left,e.top)},n.onRelease=function(){t.isDragging=!1,t.hidePreview(),t.hide(),t.editor.getSelection().unlock(),t.editor.fire("saveSnapshot")},n.onComplete=function(){t.resizeComplete(),t.editor.fire("saveSnapshot")},n.start(e)}},updateHandles:function(e,n,r){n=n||0,r=r||0;var o=this.handles;for(var i in o)o.hasOwnProperty(i)&&t[i](o[i],n,r,e)},showHandles:function(){var e=this.handles;for(var t in this.updateHandles(this.box),e)e.hasOwnProperty(t)&&(e[t].style.display="block")},hideHandles:function(){var e=this.handles;for(var t in e)e.hasOwnProperty(t)&&(e[t].style.display="none")},showPreview:function(){this.preview.style.backgroundImage='url("'+this.el.src+'")',this.calculateSize(),this.updatePreview(),this.preview.style.display="block"},updatePreview:function(){var e=this.previewBox;f(this.preview,e.left,e.top),this.preview.style.width=this.previewBox.width+"px",this.preview.style.height=this.previewBox.height+"px"},hidePreview:function(){var e=p(this.window,this.preview);this.result={width:e.width,height:e.height},this.preview.style.display="none"},calculateSize:function(e){var t=this.previewBox={top:0,left:0,width:this.box.width,height:this.box.height};if(e){var n=e.target.className;if(~n.indexOf("r")&&(t.width=Math.max(32,this.box.width+e.delta.x)),~n.indexOf("b")&&(t.height=Math.max(32,this.box.height+e.delta.y)),~n.indexOf("l")&&(t.width=Math.max(32,this.box.width-e.delta.x)),~n.indexOf("t")&&(t.height=Math.max(32,this.box.height-e.delta.y)),n.indexOf("m")<0&&!e.keys.shift){var r=this.box.width/this.box.height;t.width/t.height>r?t.height=Math.round(t.width/r):t.width=Math.round(t.height*r)}var o=this.cfg.snapToSize;if(o)for(var i=this.otherImages,a=0;a<i.length;a++){var l=p(this.window,i[a]);if(Math.abs(t.width-l.width)<=o&&Math.abs(t.height-l.height)<=o){t.width=l.width,t.height=l.height;break}}~n.indexOf("l")&&(t.left=this.box.width-t.width),~n.indexOf("t")&&(t.top=this.box.height-t.height)}},resizeComplete:function(){d.call(this,this.el,this.result.width,this.result.height)}},s.prototype={start:function(e){e.preventDefault(),e.stopPropagation(),this.target=e.target,this.attr=e.target.className,this.startPos={x:e.clientX,y:e.clientY},this.update(e);var t=this.events;this.document.addEventListener("mousemove",t.mousemove,!1),this.document.addEventListener("keydown",t.keydown,!1),this.document.addEventListener("mouseup",t.mouseup,!1),this.document.body.classList.add("dragging-"+this.attr),this.onStart&&this.onStart()},update:function(e){this.currentPos={x:e.clientX,y:e.clientY},this.delta={x:e.clientX-this.startPos.x,y:e.clientY-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey}},mousemove:function(e){this.update(e),this.onDrag&&this.onDrag(),0===e.which&&this.mouseup(e)},keydown:function(e){27===e.keyCode&&this.release()},mouseup:function(e){this.update(e),this.release(),this.onComplete&&this.onComplete()},release:function(){this.document.body.classList.remove("dragging-"+this.attr);var e=this.events;this.document.removeEventListener("mousemove",e.mousemove,!1),this.document.removeEventListener("keydown",e.keydown,!1),this.document.removeEventListener("mouseup",e.mouseup,!1),this.onRelease&&this.onRelease()}}}function a(e){var t=e.window.$,o=e.document.$;r&&o.execCommand("enableObjectResizing",!1,!1);var i="undefined"===typeof n?null:n;e.config.imageScaleResize=e.config.imageScaleResize||"both";var a=new l(e,{imageScaleResize:e.config.imageScaleResize,snapToSize:i}),s=function(e){a.isHandle(e.target)&&a.initDrag(e)};function u(){var n=e.getSelection();n&&(n.getType()!==CKEDITOR.SELECTION_NONE&&n.getStartElement().is("img")?t.event&&t.event.button&&0!==t.event.button||a.show(n.getStartElement().$):a.hide())}o.addEventListener("mousedown",s,!1),e.on("selectionChange",u),e.on("getData",function(e){var t=e.data.dataValue||"";t=t.replace(/<div id="ckimgrsz"([\s\S]*?)<\/div>/i,""),t=t.replace(/\b(ckimgrsz)\b/g,""),e.data.dataValue=t}),e.on("beforeUndoImage",function(){a.hide()}),e.on("afterUndoImage",function(){u()}),e.on("blur",function(){a.hide()}),e.on("beforeModeUnload",function t(){e.removeListener("beforeModeUnload",t),a.hide()}),e.on("destroy",function(){var e=o.getElementById("ckimgrsz");e&&e.remove(),r&&o.execCommand("enableObjectResizing",!1,!0),o.removeEventListener("mousedown",s)});var c=void 0;e.window.on("resize",function(){clearTimeout(c),c=setTimeout(u,50)})}function l(e,t){this.editor=e,this.window=e.window.$,this.document=e.document.$,this.cfg=t||{},this.init()}function s(e,t){this.window=e,this.document=t,this.events={mousemove:c(this.mousemove,this),keydown:c(this.keydown,this),mouseup:c(this.mouseup,this)}}function u(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r];return n}function c(e,t){return e.bind?e.bind(t):function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(t,r)}}function f(e,t,n){e.style.left=String(t)+"px",e.style.top=String(n)+"px"}function d(e,t,n){var r=this.editor.config.imageScaleResize;"both"===r?(e.style.width=String(t)+"px",e.style.height=String(n)+"px"):"width"===r||"scale"===r?(e.style.height="auto",e.style.width=String(t)+"px"):"height"===r&&(e.style.height=String(n)+"px",e.style.width="auto")}function p(e,t){var n=t.getBoundingClientRect();return{left:n.left+e.pageXOffset,top:n.top+e.pageYOffset,width:n.width,height:n.height}}})()},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_dragresize_ie")){var e={center:1,left:0,right:2},t={both:"nwse-resize",height:"ns-resize",scale:"nwse-resize",width:"ew-resize"},n=/^\s*(\d+%)\s*$/i,r='<img alt="" src="" />';CKEDITOR.plugins.add("ae_dragresize_ie",{hidpi:!0,icons:"image",init:function(e){var t=o(e);e.widgets.add("image",t)},onLoad:function(){CKEDITOR.addCss(".cke_image_resizer_nwse-resize{cursor: nwse-resize;}.cke_image_resizer_ns-resize{cursor: ns-resize;}.cke_image_resizer_nwse-resize{cursor: nwse-resize;}.cke_image_resizer_ew-resize{cursor: ew-resize;}.cke_image_nocaption{line-height:0}.cke_image_resizer{display:none;position:absolute;width:10px;height:10px;bottom:-5px;right:-5px;background:#000;outline:1px solid #fff;line-height:0;cursor:nwse-resize;}.cke_image_resizer_wrapper{position:relative;display:inline-block;line-height:0;}.cke_widget_wrapper:hover .cke_image_resizer,.cke_image_resizer.cke_image_resizing{display:block}")},requires:"widget"}),CKEDITOR.plugins.image2={checkHasNaturalRatio:function(e){var t=e.$,n=this.getNatural(e);return Math.round(t.clientWidth/n.width*n.height)==t.clientHeight||Math.round(t.clientHeight/n.height*n.width)==t.clientWidth},getNatural:function(e){var t=void 0;if(e.$.naturalWidth)t={height:e.$.naturalHeigh,width:e.$.naturalWidth};else{var n=new Image;n.src=e.getAttribute("src"),t={height:n.heigh,width:n.width}}return t}}}function o(t){t.config.imageScaleResize=t.config.imageScaleResize||"both",t.on("imageAdd",function(e){t.widgets.initOn(e.data.el,"image")});var n=t.config.image2_alignClasses,o=t.config.image2_captionedClass;return{init:function(){var r=CKEDITOR.plugins.image2,o=this.parts.image,i={alt:o.getAttribute("alt")||"",hasCaption:!!this.parts.caption,height:o.getAttribute("height")||"",lock:!this.ready||r.checkHasNaturalRatio(o),src:o.getAttribute("src"),width:o.getAttribute("width")||""},a=o.getAscendant("a");if(a&&this.wrapper.contains(a)&&(this.parts.link=a),!i.align){var l=i.hasCaption?this.element:o;n?(l.hasClass(n[0])?i.align="left":l.hasClass(n[2])&&(i.align="right"),i.align?l.removeClass(n[e[i.align]]):i.align="none"):(i.align=l.getStyle("float")||"none",l.removeStyle("float"))}this.wrapper[(i.hasCaption?"remove":"add")+"Class"]("cke_image_nocaption"),this.setData(i),!0!==t.config.image2_disableResizer&&c(this)},addClass:function(e){p(this).addClass(e)},allowedContent:f(t),contentTransformations:[["img[width]: sizeToAttribute"]],data:function(){var e=this.features;if(this.data.hasCaption&&!t.filter.checkFeature(e.caption)&&(this.data.hasCaption=!1),"none"==this.data.align||t.filter.checkFeature(e.align)||(this.data.align="none"),this.data.link?this.parts.link||(this.parts.link=this.parts.image.getParent()):this.parts.link&&delete this.parts.link,this.parts.image.setAttributes({alt:this.data.alt,contenteditable:!this.parts.image.getAttribute("contenteditable")||this.parts.image.getAttribute("contenteditable"),"data-cke-saved-src":this.data.src,src:this.data.src}),this.oldData&&!this.oldData.hasCaption&&this.data.hasCaption)for(var n in this.data.classes)this.data.classes.hasOwnProperty(n)&&this.parts.image.removeClass(n);t.filter.checkFeature(e.dimension)&&u(this),this.oldData=CKEDITOR.tools.extend({},this.data)},downcast:a(t),draggable:!1,editables:{caption:{selector:"figcaption",allowedContent:"br em strong sub sup u s; a[!href,target]"}},features:d(t),getClasses:function(){var e=new RegExp("^("+[].concat(o,n).join("|")+")$");return function(){var t=this.repository.parseElementClasses(p(this).getAttribute("class"));for(var n in t)e.test(n)&&delete t[n];return t}}(),getLabel:function(){var e=(this.data.alt||"")+" "+this.pathName;return e},hasClass:function(e){return p(this).hasClass(e)},parts:{caption:"figcaption",image:"img"},removeClass:function(e){p(this).removeClass(e)},requiredContent:"img[src,alt]",styleableElements:"img figure",template:r,upcast:i(t)}}function i(e){var t=l(e),r=e.config.image2_captionedClass;return function(e,o){var i={height:1,width:1},a=e.name,l=void 0;if(!e.attributes["data-cke-realelement"]){if(t(e)){if("div"==a){var u=e.getFirst("figure");u&&(e.replaceWith(u),e=u)}o.align="center",l=e.getFirst("img")||e.getFirst("a").getFirst("img")}else"figure"==a&&e.hasClass(r)?l=e.getFirst("img")||e.getFirst("a").getFirst("img"):s(e)&&(l="a"==e.name?e.children[0]:e);if(l){for(var c in i)if(i.hasOwnProperty(c)){var f=l.attributes[c];f&&f.match(n)&&delete l.attributes[c]}return e}}}}function a(t){var n=t.config.image2_alignClasses;return function(t){var r="a"==t.name?t.getFirst():t;delete r.attributes.contenteditable;var o=r.attributes,i=this.data.align;if(!this.inline){var a=t.getFirst("span");a&&a.replaceWith(a.getFirst({a:1,img:1}))}if(i&&"none"!=i){var l=CKEDITOR.tools.parseCssText(o.style||"");"center"==i&&"figure"==t.name?t=t.wrapWith(new CKEDITOR.htmlParser.element("div",n?{class:n[1]}:{style:"text-align:center"})):i in{left:1,right:1}&&(n?r.addClass(n[e[i]]):l["float"]=i),n||CKEDITOR.tools.isEmpty(l)||(o.style=CKEDITOR.tools.writeCssText(l))}return t}}function l(e){var t=e.config.image2_captionedClass,n=e.config.image2_alignClasses,r={a:1,figure:1,img:1};return function(o){if(!(o.name in{div:1,p:1}))return!1;var i=o.children;if(1!==i.length)return!1;var a=i[0];if(!(a.name in r))return!1;if("p"==o.name){if(!s(a))return!1}else if("figure"==a.name){if(!a.hasClass(t))return!1}else{if(e.enterMode==CKEDITOR.ENTER_P)return!1;if(!s(a))return!1}return!(n?!o.hasClass(n[1]):"center"!=CKEDITOR.tools.parseCssText(o.attributes.style||"",!0)["text-align"])}}function s(e){return"img"==e.name||"a"==e.name&&(1==e.children.length&&e.getFirst("img"))}function u(e){var t=e.data,n={height:t.height,width:t.width},r=e.parts.image;for(var o in n)n[o]?r.setAttribute(o,n[o]):r.removeAttribute(o)}function c(e){var n=e.editor,r=n.editable(),o=n.document,i=e.resizer=o.createElement("span");if(i.addClass("cke_image_resizer"),i.addClass("cke_image_resizer_"+t[n.config.imageScaleResize]),i.append(new CKEDITOR.dom.text("",o)),e.inline)e.wrapper.append(i);else{var a=e.parts.link||e.parts.image,l=a.getParent(),s=o.createElement("span");s.addClass("cke_image_resizer_wrapper"),s.append(a),s.append(i),e.element.append(s,!0),l.is("span")&&l.remove()}i.on("mousedown",function(t){var a=e.parts.image,l="right"==e.data.align?-1:1,s=t.data.$.screenX,u=t.data.$.screenY,c=a.$.clientWidth,f=a.$.clientHeight,d=[],p="cke_image_s"+(~l?"e":"w"),h=void 0,m=void 0,y=void 0,b=void 0,g=void 0,v=void 0;function _(e,t,n){var r=CKEDITOR.document,i=[];if(o.equals(r)||i.push(r.on(e,t)),i.push(o.on(e,t)),n)for(var a=i.length;a--;)n.push(i.pop())}function E(e){var t=n.config.imageScaleResize;h=e.data.$,g=h.screenX-s,v=u-h.screenY,"width"!==t&&"both"!==t&&"scale"!==t||(m=c+l*g),"height"!==t&&"both"!==t||(y=f-v),"scale"===t&&(y="auto"),m=m||c,y=y||f,m>=15&&(y>=15||"auto"===y)?(a.$.style.width=m+"px",a.$.style.height=y+"px",b=!0):b=!1}function w(){var t=void 0;while(t=d.pop())t.removeListener();r.removeClass(p),i.removeClass("cke_image_resizing"),b&&(e.setData({height:y,width:m}),n.fire("saveSnapshot")),b=!1}n.fire("saveSnapshot"),_("mousemove",E,d),_("mouseup",w,d),r.addClass(p),i.addClass("cke_image_resizing")}),e.on("data",function(){i["right"==e.data.align?"addClass":"removeClass"]("cke_image_resizer_left")}),e.parts.image.on("click",function(){var e=n.getSelection();if(e){var t=e.getStartElement();if(t){var r=t.findOne("img");if(r){var o=t.getClientRect(),i=new CKEDITOR.dom.window(window).getScrollPosition();o.left-=i.x,o.top+=i.y,o.direction=CKEDITOR.SELECTION_BOTTOM_TO_TOP,n.fire("editorInteraction",{nativeEvent:event,selectionData:{element:r,region:o}})}}}})}function f(e){var t={figcaption:!0,figure:{classes:"!"+e.config.image2_captionedClass},img:{attributes:"!src,alt,width,height"}};return t}function d(e){var t=e.config.image2_alignClasses,n={align:{requiredContent:"img"+(t?"("+t[0]+")":"{float}")},caption:{requiredContent:"figcaption"},dimension:{requiredContent:"img[width,height]"}};return n}function p(e){return e.data.hasCaption?e.element:e.parts.image}})(),CKEDITOR.config.image2_captionedClass="image"},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_dragresize_ie11")){var e='<img alt="" src="" />',t=new CKEDITOR.template('<figure class="{captionedClass}">'+e+"<figcaption>{captionPlaceholder}</figcaption></figure>"),n={left:0,center:1,right:2},r=/^\s*(\d+%)\s*$/i;CKEDITOR.plugins.add("ae_dragresize_ie11",{requires:"widget",onLoad:function(){CKEDITOR.addCss(".cke_image_nocaption{line-height:0}.cke_editable.cke_image_ne, .cke_editable.cke_image_ne *{cursor:ne-resize !important}.cke_editable.cke_image_nw, .cke_editable.cke_image_nw *{cursor:nw-resize !important}.cke_editable.cke_image_sw, .cke_editable.cke_image_sw *{cursor:sw-resize !important}.cke_editable.cke_image_se, .cke_editable.cke_image_se *{cursor:se-resize !important}.cke_image_resizer{display:none;position:absolute;width:10px;height:10px;background:#000;outline:1px solid #fff;line-height:0;cursor:se-resize;}.cke_image_resizer_wrapper{position:relative;display:inline-block;line-height:0;}.cke_image_resizer.cke_image_resizer_ne{cursor:ne-resize;left:auto;right:-5px;top:-5px;}.cke_image_resizer.cke_image_resizer_nw{cursor:nw-resize;left:-5px;right:auto;top:-5px;}.cke_image_resizer.cke_image_resizer_se{bottom:-5px;cursor:se-resize;left:auto;right:-5px;}.cke_image_resizer.cke_image_resizer_sw{bottom:-5px;cursor:sw-resize;left:-5px;right:auto;}.cke_widget_wrapper:hover .cke_image_resizer,.cke_image_resizer.cke_image_resizing{display:block}.cke_widget_wrapper>a{display:inline-block}")},init:function(e){var t=i(e);e.widgets.add("image",t),e.on("selectionChange",function(t){var n=e.getSelection();if(n){var r=n.getSelectedElement();if(r){var o=r.findOne("img");if(o){var i=r.getClientRect(),a=new CKEDITOR.dom.window(window).getScrollPosition();i.left-=a.x,i.top+=a.y,i.direction=CKEDITOR.SELECTION_BOTTOM_TO_TOP,e.fire("editorInteraction",{nativeEvent:{},selectionData:{element:o,region:i}})}}}})},afterInit:function(e){var t={left:1,right:1,center:1,block:1},n=p(e);for(var r in t)t.hasOwnProperty(r)&&n(r)}}),CKEDITOR.plugins.ae_dragresize_ie11={stateShifter:function(e){var n=e.document,r=e.config.ae_dragresize_ie11_alignClasses,o=e.config.ae_dragresize_ie11_captionedClass,i=e.editable(),a=["hasCaption","align","link"],l={align:function(t,n,o){var i=t.element;t.changed.align?t.newData.hasCaption||("center"==o&&(t.deflate(),t.element=s(e,i)),t.changed.hasCaption||"center"!=n||"center"==o||(t.deflate(),t.element=u(i))):"center"==o&&t.changed.hasCaption&&!t.newData.hasCaption&&(t.deflate(),t.element=s(e,i)),!r&&i.is("figure")&&("center"==o?i.setStyle("display","inline-block"):i.removeStyle("display"))},hasCaption:function(r,i,a){if(r.changed.hasCaption){var l=void 0;if(l=r.element.is({img:1,a:1})?r.element:r.element.findOne("a,img"),r.deflate(),a){var s=CKEDITOR.dom.element.createFromHtml(t.output({captionedClass:o,captionPlaceholder:e.lang.ae_dragresize_ie11.captionPlaceholder}),n);d(s,r.element),l.replace(s.findOne("img")),r.element=s}else l.replace(r.element),r.element=l}},link:function(t,n,r){if(t.changed.link){var o=t.element.is("img")?t.element:t.element.findOne("img"),i=t.element.is("a")?t.element:t.element.findOne("a"),a=t.element.is("a")&&!r||t.element.is("img")&&r,l=void 0;if(a&&t.deflate(),r){n||(l=c(o,t.newData.link));var s=CKEDITOR.plugins.ae_dragresize_ie11.getLinkAttributesGetter()(e,r);CKEDITOR.tools.isEmpty(s.set)||(l||i).setAttributes(s.set),s.removed.length&&(l||i).removeAttributes(s.removed)}else l=f(i);a&&(t.element=l)}}};function s(e,t){var o={};r?o.attributes={class:r[1]}:o.styles={"text-align":"center"};var i=n.createElement(e.activeEnterMode==CKEDITOR.ENTER_P?"p":"div",o);return d(i,t),t.move(i),i}function u(e){var t=e.findOne("a,img");return t.replace(e),t}function c(e,t){var r=n.createElement("a",{attributes:{href:t.url}});return r.replace(e),e.move(r),r}function f(e){var t=e.findOne("img");return t.replace(e),t}function d(t,n){if(n.getParent()){var r=e.createRange();r.moveToPosition(n,CKEDITOR.POSITION_BEFORE_START),n.remove(),i.insertElementIntoRange(t,r)}else t.replace(n)}return function(e){var t=void 0,n=void 0;for(e.changed={},n=0;n<a.length;n++)t=a[n],e.changed[t]=!!e.oldData&&e.oldData[t]!==e.newData[t];for(n=0;n<a.length;n++)t=a[n],l[t](e,e.oldData?e.oldData[t]:null,e.newData[t]);e.inflate()}},checkHasNaturalRatio:function(e){var t=e.$,n=this.getNatural(e);return Math.round(t.clientWidth/n.width*n.height)==t.clientHeight||Math.round(t.clientHeight/n.height*n.width)==t.clientWidth},getNatural:function(e){var t=void 0;if(e.$.naturalWidth)t={width:e.$.naturalWidth,height:e.$.naturalHeight};else{var n=new Image;n.src=e.getAttribute("src"),t={width:n.width,height:n.height}}return t},getLinkAttributesGetter:function(){return CKEDITOR.plugins.link.getLinkAttributes},getLinkAttributesParser:function(){return CKEDITOR.plugins.link.parseLinkAttributes}};var o=function(e,t){"left"===t||"right"===t?e.wrapper.removeStyle("float"):"center"===t&&(e.editor.execCommand("justifyleft"),e.editor.execCommand("justifyleft"))}}function i(t){var r=t.config.ae_dragresize_ie11_alignClasses,o=t.config.ae_dragresize_ie11_captionedClass;function i(){this.deflated||(t.widgets.focused==this.widget&&(this.focused=!0),t.widgets.destroy(this.widget),this.deflated=!0)}function u(){var e=t.editable(),n=t.document;if(this.deflated){if(this.widget=t.widgets.initOn(this.element,"image",this.widget.data),this.widget.inline&&!new CKEDITOR.dom.elementPath(this.widget.wrapper,e).block){var o=n.createElement(t.activeEnterMode==CKEDITOR.ENTER_P?"p":"div");o.replace(this.widget.wrapper),this.widget.wrapper.move(o)}this.focused&&(this.widget.focus(),delete this.focused),delete this.deflated}else a(this.widget,r)}return{allowedContent:m(t),requiredContent:"img[src,alt]",features:y(t),styleableElements:"img figure",contentTransformations:[["img[width]: sizeToAttribute"]],editables:{caption:{selector:"figcaption",allowedContent:"br em strong sub sup u s; a[!href,target]"}},parts:{image:"img",caption:"figcaption"},template:e,data:function(){var e=this.features;if(this.data.hasCaption&&!t.filter.checkFeature(e.caption)&&(this.data.hasCaption=!1),"none"==this.data.align||t.filter.checkFeature(e.align)||(this.data.align="none"),this.shiftState({widget:this,element:this.element,oldData:this.oldData,newData:this.data,deflate:i,inflate:u}),this.data.link?this.parts.link||(this.parts.link=this.parts.image.getParent()):this.parts.link&&delete this.parts.link,this.parts.image.setAttributes({src:this.data.src,"data-cke-saved-src":this.data.src,alt:this.data.alt}),this.oldData&&!this.oldData.hasCaption&&this.data.hasCaption)for(var n in this.data.classes)this.data.classes.hasOwnProperty(n)&&this.parts.image.removeClass(n);t.filter.checkFeature(e.dimension)&&f(this),this.oldData=CKEDITOR.tools.extend({},this.data)},init:function(){var e=CKEDITOR.plugins.ae_dragresize_ie11,o=this.parts.image,i={hasCaption:!!this.parts.caption,src:o.getAttribute("src"),alt:o.getAttribute("alt")||"",width:o.getAttribute("width")||"",height:o.getAttribute("height")||"",lock:!this.ready||e.checkHasNaturalRatio(o)},a=o.getAscendant("a");if(a&&this.wrapper.contains(a)&&(this.parts.link=a),!i.align){var l=i.hasCaption?this.element:o;r?(l.hasClass(r[0])?i.align="left":l.hasClass(r[2])&&(i.align="right"),i.align?l.removeClass(r[n[i.align]]):i.align="none"):(i.align=l.getStyle("float")||"none",l.removeStyle("float"))}if(t.plugins.link&&this.parts.link){i.link=e.getLinkAttributesParser()(t,this.parts.link);var s=i.link.advanced;s&&s.advCSSClasses&&(s.advCSSClasses=CKEDITOR.tools.trim(s.advCSSClasses.replace(/cke_\S+/,"")))}this.wrapper[(i.hasCaption?"remove":"add")+"Class"]("cke_image_nocaption"),this.setData(i),t.filter.checkFeature(this.features.dimension)&&!0!==t.config.ae_dragresize_ie11_disableResizer&&d(this),this.shiftState=e.stateShifter(this.editor),this.on("contextMenu",function(e){e.data.image=CKEDITOR.TRISTATE_OFF,(this.parts.link||this.wrapper.getAscendant("a"))&&(e.data.link=e.data.unlink=CKEDITOR.TRISTATE_OFF)})},addClass:function(e){b(this).addClass(e)},hasClass:function(e){return b(this).hasClass(e)},removeClass:function(e){b(this).removeClass(e)},getClasses:function(){var e=new RegExp("^("+[].concat(o,r).join("|")+")$");return function(){var t=this.repository.parseElementClasses(b(this).getAttribute("class"));for(var n in t)e.test(n)&&delete t[n];return t}}(),upcast:l(t),downcast:s(t),getLabel:function(){var e=(this.data.alt||"")+" "+this.pathName;return this.editor.lang.widget.label.replace(/%1/,e)}}}function a(e,t){var r=e.wrapper,o=e.data.align,i=e.data.hasCaption;if(t){for(var a=3;a--;)r.removeClass(t[a]);"center"==o?i&&r.addClass(t[1]):"none"!=o&&r.addClass(t[n[o]])}else{"center"==o?(i?r.setStyle("text-align","center"):r.removeStyle("text-align"),r.removeStyle("float")):("none"==o?r.removeStyle("float"):r.setStyle("float",o),r.removeStyle("text-align"));var l=r.$.querySelector("img");l.removeAttribute("style")}}function l(e){var t=u(e),n=e.config.ae_dragresize_ie11_captionedClass;return function(e,o){var i={width:1,height:1},a=e.name,l=void 0;if(!e.attributes["data-cke-realelement"]){if(t(e)){if("div"==a){var s=e.getFirst("figure");s&&(e.replaceWith(s),e=s)}o.align="center",l=e.getFirst("img")||e.getFirst("a").getFirst("img")}else"figure"==a&&e.hasClass(n)?l=e.getFirst("img")||e.getFirst("a").getFirst("img"):c(e)&&(l="a"==e.name?e.children[0]:e);if(l){for(var u in i)if(i.hasOwnProperty(u)){var f=l.attributes[u];f&&f.match(r)&&delete l.attributes[u]}return e}}}}function s(e){var t=e.config.ae_dragresize_ie11_alignClasses;return function(e){var r="a"==e.name?e.getFirst():e,o=r.attributes,i=this.data.align;if(!this.inline){var a=e.getFirst("span");a&&a.replaceWith(a.getFirst({img:1,a:1}))}if(i&&"none"!=i){var l=CKEDITOR.tools.parseCssText(o.style||"");"center"==i&&"figure"==e.name?e=e.wrapWith(new CKEDITOR.htmlParser.element("div",t?{class:t[1]}:{style:"text-align:center"})):i in{left:1,right:1}&&(t?r.addClass(t[n[i]]):l["float"]=i),t||CKEDITOR.tools.isEmpty(l)||(o.style=CKEDITOR.tools.writeCssText(l)+";")}return e}}function u(e){var t=e.config.ae_dragresize_ie11_captionedClass,n=e.config.ae_dragresize_ie11_alignClasses,r={figure:1,a:1,img:1};return function(o){if(!(o.name in{div:1,p:1}))return!1;var i=o.children;if(1!==i.length)return!1;var a=i[0];if(!(a.name in r))return!1;if("p"==o.name){if(!c(a))return!1}else if("figure"==a.name){if(!a.hasClass(t))return!1}else{if(e.enterMode==CKEDITOR.ENTER_P)return!1;if(!c(a))return!1}return!(n?!o.hasClass(n[1]):"center"!=CKEDITOR.tools.parseCssText(o.attributes.style||"",!0)["text-align"])}}function c(e){return"img"==e.name||"a"==e.name&&(1==e.children.length&&e.getFirst("img"))}function f(e){var t=e.data,n={width:t.width,height:t.height},r=e.parts.image;for(var o in n)n[o]?r.setAttribute(o,n[o]):r.removeAttribute(o)}function d(e){var t=e.editor,n=t.editable(),r=t.document,o=e.resizer=r.createElement("span"),i=r.createElement("span"),a=r.createElement("span"),l=r.createElement("span"),s=r.createElement("span");if(i.addClass("cke_image_resizer"),i.addClass("cke_image_resizer_ne"),a.addClass("cke_image_resizer"),a.addClass("cke_image_resizer_nw"),l.addClass("cke_image_resizer"),l.addClass("cke_image_resizer_se"),s.addClass("cke_image_resizer"),s.addClass("cke_image_resizer_sw"),o.append(i),o.append(a),o.append(l),o.append(s),o.append(new CKEDITOR.dom.text("",r)),e.inline)e.wrapper.append(o);else{var u=e.parts.link||e.parts.image,c=u.getParent(),f=r.createElement("span");f.addClass("cke_image_resizer_wrapper"),f.append(u),f.append(o),e.element.append(f,!0),c.is("span")&&c.remove()}o.on("mousedown",function(i){var a=e.parts.image,l=i.data.$.screenX,s=i.data.$.screenY,u=a.$.clientWidth,c=a.$.clientHeight,f=u/c,d=[],p=i.data.getTarget(),h=void 0,m=void 0,y=void 0,b=void 0,g=void 0,v=void 0,_=void 0,E=void 0;p.hasClass("cke_image_resizer_ne")?(h=1,m=1):p.hasClass("cke_image_resizer_nw")?(h=-1,m=1):p.hasClass("cke_image_resizer_se")?(h=1,m=-1):p.hasClass("cke_image_resizer_sw")&&(h=-1,m=-1);var w="cke_image_"+(~m?"n":"s")+(~h?"e":"w");function O(e,t,n){var o=CKEDITOR.document,i=[];if(r.equals(o)||i.push(o.on(e,t)),i.push(r.on(e,t)),n)for(var a=i.length;a--;)n.push(i.pop())}function C(){_=u+h*y,v=Math.round(_/f)}function k(){v=c+m*b,_=Math.round(v*f)}function T(e){g=e.data.$,y=g.screenX-l,b=s-g.screenY,1==h?y<=0?k():C():y<=0?C():k(),_>=15&&v>=15?(a.$.style.width=_+"px",a.$.style.height=v+"px",E=!0):E=!1}function S(){var r=void 0;while(r=d.pop())r.removeListener();n.removeClass(w),o.removeClass("cke_image_resizing"),E&&(e.setData({height:v,width:_}),t.fire("saveSnapshot")),E=!1}t.fire("saveSnapshot"),O("mousemove",T,d),O("mouseup",S,d),n.addClass(w),o.addClass("cke_image_resizing")})}function p(e){var t=[],n=void 0;return function(r){var i=e.getCommand("justify"+r);i&&(t.push(function(){i.refresh(e,e.elementPath())}),r in{right:1,left:1,center:1}&&i.on("exec",function(n){var i=h(e);if(i){i.data.align===r?(o(i,r),delete i.data.align):i.setData("align",r);for(var a=t.length;a--;)t[a]();n.cancel()}}),i.on("refresh",function(t){var o=h(e),i={right:1,left:1,center:1};o&&(void 0===n&&(n=e.filter.checkFeature(e.widgets.registered.image.features.align)),n?this.setState(o.data.align==r?CKEDITOR.TRISTATE_ON:r in i?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED):this.setState(CKEDITOR.TRISTATE_DISABLED),t.cancel())}))}}function h(e){var t=e.widgets.focused;return t&&"image"==t.name?t:null}function m(e){var t=e.config.ae_dragresize_ie11_alignClasses,n={div:{match:u(e)},p:{match:u(e)},img:{attributes:"!src,alt,width,height"},figure:{classes:"!"+e.config.ae_dragresize_ie11_captionedClass},figcaption:!0};return t?(n.div.classes=t[1],n.p.classes=n.div.classes,n.img.classes=t[0]+","+t[2],n.figure.classes+=","+n.img.classes):(n.div.styles="text-align",n.p.styles="text-align",n.img.styles="float",n.figure.styles="float,display"),n}function y(e){var t=e.config.ae_dragresize_ie11_alignClasses,n={dimension:{requiredContent:"img[width,height]"},align:{requiredContent:"img"+(t?"("+t[0]+")":"{float}")},caption:{requiredContent:"figcaption"}};return n}function b(e){return e.data.hasCaption?e.element:e.parts.image}})(),CKEDITOR.config.ae_dragresize_ie11_captionedClass="image"},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_embed")){var e=/^https?/,t=/<a href=/;CKEDITOR.DEFAULT_AE_EMBED_URL_TPL="http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}",CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL='<div data-ae-embed-url="{url}"></div>',CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL='<a href="{url}">{url}</a>',CKEDITOR.plugins.add("ae_embed",{requires:"widget",init:function(n){var r=new CKEDITOR.template(n.config.embedUrlTemplate||CKEDITOR.DEFAULT_AE_EMBED_URL_TPL),o=new CKEDITOR.template(n.config.embedWidgetTpl||CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL),i=new CKEDITOR.template(n.config.embedLinkDefaultTpl||CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL),a=function(e,t){if("div"===e.name&&e.attributes["data-ae-embed-url"])return t.url=e.attributes["data-ae-embed-url"],!0};n.addCommand("embedUrl",{exec:function(e,t){e.insertHtml(o.output({url:t.url}))}}),n.widgets.add("ae_embed",{mask:!0,requiredContent:"div[data-ae-embed-url]",data:function(e){var n=this,o=e.data.url;o&&CKEDITOR.tools.jsonp(r,{url:encodeURIComponent(o)},function(e){e.html?t.test(e.html)?n.createATag(o):n.element.setHtml(e.html):n.createATag(o)},function(e){n.createATag(o)})},createATag:function(e){this.editor.execCommand("undo");var t=i.output({url:e});this.editor.insertHtml(t),this.editor.fire("actionPerformed",this)},upcast:function(e,t){var r=n.config.embedWidgetUpcastFn||a;return r(e,t)}}),n.once("contentDom",function(){n.on("paste",function(t){var r=t.data.dataValue;e.test(r)&&(t.stop(),n.execCommand("embedUrl",{url:t.data.dataValue}))})}),n.on("selectionChange",function(e){var t=n.getSelection();if(t){var r=t.getSelectedElement();if(r){var o=r.findOne('[data-widget="ae_embed"]');if(o){var i=r.getClientRect(),a=new CKEDITOR.dom.window(window).getScrollPosition();i.left-=a.x,i.top+=a.y,i.direction=CKEDITOR.SELECTION_BOTTOM_TO_TOP,n.fire("editorInteraction",{nativeEvent:{},selectionData:{element:o,region:i}})}}}}),n.filter.addElementCallback(function(e){if("data-ae-embed-url"in e.attributes)return CKEDITOR.FILTER_SKIP_TREE})}})}})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}if(!CKEDITOR.plugins.get("embedurl")){var a=/^https?/;CKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL='<div data-embed-url="{url}" class="embed-responsive embed-responsive-16by9">{content}<div class="embed-help-message">{helpMessageIcon}<span> {helpMessage}</span></div></div><br>';var l={CENTER:"center",LEFT:"left",RIGHT:"right"},s=[l.CENTER,l.LEFT,l.RIGHT],u=[{name:"display",value:"block"},{name:"margin-left",value:"auto"},{name:"margin-right",value:"auto"}],c=function(e){var t=e.getStyle("float");if(t&&"inherit"!==t&&"none"!==t||(t=e.getAttribute("align")),!t){var n=u.every(function(t){var n=e.getStyle(t.name)===t.value;return!n&&t.vendorPrefixes&&(n=t.vendorPrefixes.some(function(n){return e.getStyle(n+t.name)===t.value})),n});t=n?l.CENTER:null}return t},f=function(e,t){t===l.LEFT||t===l.RIGHT?(e.removeStyle("float"),t===c(e)&&e.removeAttribute("align")):t===l.CENTER&&u.forEach(function(t){e.removeStyle(t.name),t.vendorPrefixes&&t.vendorPrefixes.forEach(function(n){return e.removeStyle(n+t.name)})})},d=function(e,t){f(e,c(e)),t===l.LEFT||t===l.RIGHT?e.setStyle("float",t):t===l.CENTER&&u.forEach(function(t){e.setStyle(t.name,t.value),t.vendorPrefixes&&t.vendorPrefixes.forEach(function(n){return e.setStyle(n+t.name,t.value)})})},p=function(e){var t={alignment:null,element:null},n=e.getSelection();if(n){var r=n.getSelectedElement();r&&r.getAttribute("data-cke-widget-wrapper")&&(t.alignment=c(r),t.element=r)}return t},h=function(e,t,n){var r=e.parentElement;if(r&&t>0&&n>0){var o=r.getBoundingClientRect(),i=t>=o.width?100:Math.floor(t/o.width*100),a="width:"+i+"%;";r.setAttribute("style",a);var l=r.querySelector('[data-widget="embedurl"]');if(l){var s=JSON.parse(l.getAttribute("data-styles"))||{};s.width=t+"px",s.height=n+"px",l.setAttribute("data-styles",JSON.stringify(s));var u=l.querySelector("iframe");u&&(u.setAttribute("width",t),u.setAttribute("height",n))}}},m=function(e){setTimeout(function(){var t=e.getSelection();if(t){var n=t.root.find("[data-cke-widget-wrapper]");if(n){var r=n.$;if(r.length>0){var o=new CKEDITOR.dom.element(r[r.length-1]),i=o.findOne("img"),a=o.findOne('[data-widget="embedurl"]');if(i&&a){var l=e.createRange();l.setStart(a,0),l.setEnd(i,1),t.selectRanges([l]),t.selectElement(o)}}}}},0)},y=null,b=null,g=null;CKEDITOR.plugins.add("embedurl",{requires:"widget",init:function(e){var t=new CKEDITOR.template(e.config.embedWidgetTpl||CKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL),n=e.config.embedProviders||[];n=n.map(function(e){return{id:e.id,tpl:new CKEDITOR.template('<div data-embed-id="{embedId}">'+e.tpl+"</div>"),type:e.type,urlSchemes:e.urlSchemes.map(function(e){return new RegExp(e)})}});var r=function(e,n){return t.output({content:n,helpMessage:AlloyEditor.Strings.videoPlaybackDisabled,helpMessageIcon:Liferay.Util.getLexiconIconTpl("info-circle"),url:e})},i=function(e,t){var n=!1;if("div"===e.name&&e.attributes["data-embed-url"])t.url=e.attributes["data-embed-url"],n=!0;else if("div"===e.name&&e.attributes["data-embed-id"]){var o=e.children[0];t.url=o.attributes.src;var i=r(t.url,e.getOuterHtml()),a=new CKEDITOR.htmlParser.fragment.fromHtml(i);n=a.children[0],n.attributes["data-styles"]=JSON.stringify(e.styles),n.removeClass("embed-responsive"),n.removeClass("embed-responsive-16by9"),e.replaceWith(n)}return n},l=function(t){e.fire("error",t),setTimeout(function(){e.getSelection().removeAllRanges(),e.focus(),g.hide()},0)};e.addCommand("embedUrl",{exec:function(e,t){var o=t.type,i=t.url,s=void 0;if(a.test(i)){var u=n.filter(function(e){return!o||e.type===o}).some(function(e){var t=e.urlSchemes.find(function(e){return e.test(i)});if(t){var n=t.exec(i)[1];s=e.tpl.output({embedId:n})}return t});if(u){e._selectEmbedWidget=i;var c=r(i,s);e.insertHtml(c)}else l(AlloyEditor.Strings.platformNotSupported)}else l(AlloyEditor.Strings.enterValidUrl)}}),e.widgets.add("embedurl",{draggable:!1,mask:!0,requiredContent:"div[data-embed-url]",data:function(t){var n=this,r=n.element.getAttribute("data-styles"),o=r?JSON.parse(r):null;if(!o){var i=n.wrapper.findOne("iframe"),a=n.wrapper.$.getBoundingClientRect(),l=i.getAttribute("width"),s=l>=a.width?100:Math.round(l/a.width*100);o={width:s+"%"}}n.wrapper.setAttribute("style",CKEDITOR.tools.writeCssText(o)),e._selectEmbedWidget===t.data.url&&m(e)},downcast:function(e){var t=e.children[0];return t.attributes.class="embed-responsive embed-responsive-16by9",t.attributes.style=CKEDITOR.tools.writeCssText(e.parent.styles),t},upcast:function(t,n){var r=e.config.embedWidgetUpcastFn||i;return r(t,n)}}),window.addEventListener("resize",function(){g.hide(),m(e)},!1),e.on("selectionChange",function(t){var n=e.getSelection();if(n){var r=n.getSelectedElement();if(r){var o=r.findOne('[data-widget="embedurl"]');if(o){var i=new CKEDITOR.dom.window(window).getScrollPosition(),a=r.getClientRect();a.direction=CKEDITOR.SELECTION_BOTTOM_TO_TOP,a.left-=i.x,a.top+=i.y,e.fire("editorInteraction",{nativeEvent:{},selectionData:{element:o,region:a}})}var l=r.findOne("img.cke_widget_mask");l&&g.show(l.$)}else g.hide()}}),e.on("destroy",function(){var e=document.getElementById("ckimgrsz");e&&e.remove(),document.removeEventListener("mousedown",s)}),e.on("blur",function(){g.hide()}),e.filter.addElementCallback(function(e){if("data-embed-url"in e.attributes)return CKEDITOR.FILTER_SKIP_TREE});var s=function(t){var n=p(e);y=n.alignment,b=n.element,g.isHandle(t.target)&&g.initDrag(t)};g=new o.default(e,{onComplete:function(t,n,r){h(t,n,r),y&&b&&d(b,y),m(e)}}),document.addEventListener("mousedown",s,!1)},afterInit:function(e){s.forEach(function(t){var n=e.getCommand("justify"+t);n&&(n.on("exec",function(n){var r=e.getSelection().getSelectedElement();if(r&&r.getAttribute("data-cke-widget-wrapper")){var o=r.findOne('[data-widget="embedurl"] [data-embed-id]');if(o){var i=c(r);i===t?f(r,t):d(r,t),b=r,y=c(r);var a=r.findOne("img");a&&g.show(a.$),n.cancel();var l=new CKEDITOR.dom.elementPath(r);s.forEach(function(t){var n=e.getCommand("justify"+t);n&&n.refresh(e,l)})}}}),n.on("refresh",function(e){var n=e.data.path.lastElement;if(n&&n.getAttribute("data-cke-widget-wrapper")&&n.findOne("[data-widget] [data-embed-id]")){var r=c(n);e.sender.setState(r===t?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.cancel()}}))})}})}t.default=CKEDITOR.plugins.get("embedurl")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resizer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(61),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=["tl","tr","bl","br"],u={bl:function(e,t,n,r){c(e,-3+t,r.height-4+n)},br:function(e,t,n,r){c(e,r.width-4+t,r.height-4+n)},rm:function(e,t,n,r){c(e,r.width-4+t,Math.round(r.height/2)-3+n)},tl:function(e,t,n,r){c(e,t-3,n-3)},tr:function(e,t,n,r){c(e,r.width-4+t,-3+n)}},c=function(e,t,n){e.style.left=t+"px",e.style.top=n+"px"},f=function(e,t){var n=t.getBoundingClientRect();return{height:n.height,left:n.left+e.pageXOffset,top:n.top+e.pageYOffset,width:n.width}},d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.cfg=n,this.editor=t,this.document=t.document?t.document.$:document,this.window=t.window?t.window.$:window,this.box=null,this.container=null,this.handles={},this.preview=null,this.previewBox=null,this.result=null,this.init()}return r(e,[{key:"init",value:function(){var e=this;this.container=this.document.createElement("div"),this.container.id="ckimgrsz",this.preview=this.document.createElement("span"),this.container.appendChild(this.preview),this.handles={},s.forEach(function(t){e.handles[t]=e.createHandle(t)});for(var t=Object.keys(this.handles),n=0;n<t.length;n++)this.container.appendChild(this.handles[t[n]])}},{key:"createHandle",value:function(e){var t=this.document.createElement("i");return t.classList.add(e),t}},{key:"isHandle",value:function(e){for(var t=Object.keys(this.handles),n=!1,r=0;r<t.length;r++)this.handles[t[r]]===e&&(n=!0);return n}},{key:"show",value:function(e){var t=this.editor.config.uiNode||document.body;this.el=e,this.box=f(this.window,this.el),c(this.container,this.box.left,this.box.top+t.scrollTop),t.appendChild(this.container),this.el.classList.add("ckimgrsz"),this.showHandles()}},{key:"hide",value:function(){for(var e=this.document.getElementsByClassName("ckimgrsz"),t=0;t<e.length;t++)e[t].classList.remove("ckimgrsz");this.hideHandles(),this.container.parentNode&&this.container.parentNode.removeChild(this.container)}},{key:"initDrag",value:function(e){var t=this;if(0===e.button){var n=new i.default(this.window,this.document);n.onStart=function(){t.showPreview(),t.isDragging=!0,t.editor.getSelection().lock()},n.onDrag=function(){t.calculateSize(n);var e=t.editor.element.$.getBoundingClientRect();if(!(t.previewBox.width>=e.width)){t.updatePreview();var r=t.previewBox;t.updateHandles(r,r.left,r.top)}},n.onRelease=function(){t.hidePreview(),t.isDragging=!1,t.hide(),t.editor.getSelection().unlock(),t.editor.fire("saveSnapshot")},n.onComplete=function(){t.resizeComplete(),t.editor.fire("saveSnapshot")},n.start(e)}}},{key:"updateHandles",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object.keys(this.handles),o=0;o<r.length;o++)u[r[o]](this.handles[r[o]],t,n,e)}},{key:"showHandles",value:function(){this.updateHandles(this.box);for(var e=Object.keys(this.handles),t=0;t<e.length;t++)this.handles[e[t]].style.display="block"}},{key:"hideHandles",value:function(){for(var e=Object.keys(this.handles),t=0;t<e.length;t++)this.handles[e[t]].style.display="none"}},{key:"showPreview",value:function(){this.calculateSize(),this.updatePreview(),this.preview.style.display="block"}},{key:"updatePreview",value:function(){c(this.preview,this.previewBox.left,this.previewBox.top),this.preview.style.height=this.previewBox.height+"px",this.preview.style.width=this.previewBox.width+"px"}},{key:"hidePreview",value:function(){var e=f(this.window,this.preview);this.result={height:e.height,width:e.width},this.preview.style.display="none"}},{key:"calculateSize",value:function(e){if(this.previewBox={height:this.box.height,left:0,top:0,width:this.box.width},e){var t=e.target.className;if(t.indexOf("r")>=0&&(this.previewBox.width=Math.max(32,this.box.width+e.delta.x)),t.indexOf("b")>=0&&(this.previewBox.height=Math.max(32,this.box.height+e.delta.y)),t.indexOf("l")>=0&&(this.previewBox.width=Math.max(32,this.box.width-e.delta.x)),t.indexOf("t")>=0&&(this.previewBox.height=Math.max(32,this.box.height-e.delta.y)),t.indexOf("m")<0&&!e.keys.shift){var n=this.box.width/this.box.height;this.previewBox.width/this.previewBox.height>n?this.previewBox.height=Math.round(this.previewBox.width/n):this.previewBox.width=Math.round(this.previewBox.height*n)}t.indexOf("l")>=0&&(this.previewBox.left=this.box.width-this.previewBox.width),t.indexOf("t")>=0&&(this.previewBox.top=this.box.height-this.previewBox.height)}}},{key:"resizeComplete",value:function(){this.cfg.onComplete(this.el,this.result.width,this.result.height)}}]),e}();t.Resizer=d,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t,n){o(this,e),this.document=n,this.window=t,this.events={keydown:this.keydown.bind(this),mousemove:this.mousemove.bind(this),mouseup:this.mouseup.bind(this)}}return r(e,[{key:"start",value:function(e){e.preventDefault(),e.stopPropagation(),this.target=e.target,this.className=this.target.className,this.startPos={x:e.clientX,y:e.clientY},this.update(e),this.document.addEventListener("keydown",this.events.keydown,!1),this.document.addEventListener("mousemove",this.events.mousemove,!1),this.document.addEventListener("mouseup",this.events.mouseup,!1),this.document.body.classList.add("dragging-"+this.className),"function"===typeof this.onStart&&this.onStart()}},{key:"update",value:function(e){this.currentPos={x:e.clientX,y:e.clientY},this.delta={x:e.clientX-this.startPos.x,y:e.clientY-this.startPos.y},this.keys={alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey}}},{key:"mousemove",value:function(e){this.update(e),"function"===typeof this.onDrag&&this.onDrag(),0===e.which&&this.mouseup(e)}},{key:"keydown",value:function(e){27===e.keyCode&&this.release()}},{key:"mouseup",value:function(e){this.update(e),this.release(),"function"===typeof this.onComplete&&this.onComplete()}},{key:"release",value:function(){this.document.body.classList.remove("dragging-"+this.className),this.document.removeEventListener("keydown",this.events.keydown,!1),this.document.removeEventListener("mousemove",this.events.mousemove,!1),this.document.removeEventListener("mouseup",this.events.mouseup,!1),"function"===typeof this.onRelease&&this.onRelease()}}]),e}();t.DragEvent=i,t.default=i},function(e,t,n){"use strict";var r=n(16),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}(function(){if(!CKEDITOR.plugins.get("ae_imagealignment")){var e={CENTER:"center",LEFT:"left",RIGHT:"right"},t=[e.LEFT,e.RIGHT,e.CENTER],n=[{name:"display",value:"block"},{name:"margin-left",value:"auto"},{name:"margin-right",value:"auto"}],r=function(t){var r=t.getStyle("float");if(r&&"inherit"!==r&&"none"!==r||(r=t.getAttribute("align")),!r){var o=n.every(function(e){var n=t.getStyle(e.name)===e.value;return!n&&e.vendorPrefixes&&(n=e.vendorPrefixes.some(function(n){return t.getStyle(n+e.name)===e.value})),n});if(!r){var i=t.$.parentNode;i.style.textAlign==e.CENTER&&(n.forEach(function(e){t.setStyle(e.name,e.value),e.vendorPrefixes&&e.vendorPrefixes.forEach(function(n){t.setStyle(n+e.name,e.value)})}),o=!0)}r=o?e.CENTER:null}return r},i=function(t,o){if(o===e.LEFT||o===e.RIGHT)t.removeStyle("float"),o===r(t)&&t.removeAttribute("align");else if(o===e.CENTER){n.forEach(function(e){t.removeStyle(e.name),e.vendorPrefixes&&e.vendorPrefixes.forEach(function(n){t.removeStyle(n+e.name)})});var i=t.$.parentNode;i.style.textAlign==e.CENTER&&(i.style.textAlign="")}},a=function(t,o){if(i(t,r(t)),o===e.LEFT||o===e.RIGHT)t.setStyle("float",o);else if(o===e.CENTER){n.forEach(function(e){t.setStyle(e.name,e.value),e.vendorPrefixes&&e.vendorPrefixes.forEach(function(n){t.setStyle(n+e.name,e.value)})});var a=t.$.parentNode;a.style.textAlign=e.CENTER}};CKEDITOR.plugins.add("ae_imagealignment",{afterInit:function(e){var n=this;t.forEach(function(t){var l=e.getCommand("justify"+t);l&&(l.on("exec",function(l){var s=e.getSelectionData();if(s&&o.default.image({data:{selectionData:s}})){var u=s.element,c=r(u);c===t?i(u,t):a(u,t),l.cancel(),n.refreshCommands(e,new CKEDITOR.dom.elementPath(u))}}),l.on("refresh",function(e){var n={element:e.data.path.lastElement};if(o.default.image({data:{selectionData:n}})){var i=r(n.element);this.setState(i===t?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.cancel()}}))})},refreshCommands:function(e,n){t.forEach(function(t){var r=e.getCommand("justify"+t);r&&r.refresh(e,n)})}})}})()},function(e,t,n){"use strict";(function(){CKEDITOR.plugins.get("ae_pasteimages")||CKEDITOR.plugins.add("ae_pasteimages",{init:function(e){e.once("contentDom",function(){var t=e.editable();t.attachListener(t,"paste",this._onPaste,this,{editor:e})}.bind(this))},_onPaste:function(e){if(e.data.$.clipboardData){var t=e.data.$.clipboardData.items[0],n=e.listenerData.editor;if(0===t.type.indexOf("image")){var r=new FileReader,o=t.getAsFile();r.onload=function(e){var t=n.fire("beforeImageAdd",{imageFiles:o});if(t){var r=CKEDITOR.dom.element.createFromHtml('<img src="'+e.target.result+'">');n.insertElement(r);var i={el:r,file:o};n.fire("imageAdd",i)}},r.readAsDataURL(o)}}}})})()},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_placeholder")){var e=CKEDITOR.env.needsBrFiller?"<br>":"",t={1:["<p>"+e+"</p>"],2:[""," ",e],3:["<div>"+e+"</div>"]};CKEDITOR.plugins.add("ae_placeholder",{init:function(e){e.on("blur",this._checkEmptyData,this),e.on("change",this._checkEmptyData,this),e.on("focus",this._removePlaceholderClass,this),e.once("contentDom",this._checkEmptyData,this)},_checkEmptyData:function(e){var n=e.editor,r=n.editable(),o=r.$.innerHTML.trim(),i=t[n.config.enterMode].some(function(e){return o===e});i?r.addClass(n.config.placeholderClass):r.removeClass(n.config.placeholderClass)},_removePlaceholderClass:function(e){var t=e.editor,n=new CKEDITOR.dom.element(t.element.$);n.removeClass(t.config.placeholderClass)}})}})()},function(e,t,n){"use strict";(function(){CKEDITOR.plugins.get("ae_selectionkeystrokes")||CKEDITOR.plugins.add("ae_selectionkeystrokes",{requires:"ae_selectionregion",init:function(e){e.config.selectionKeystrokes&&e.config.selectionKeystrokes.forEach(function(t){var n=new CKEDITOR.command(e,{exec:function(e){e.fire("editorInteraction",{manualSelection:t.selection,nativeEvent:{},selectionData:e.getSelectionData()})}}),r="selectionKeystroke"+t.selection;e.addCommand(r,n),e.setKeystroke(t.keys,r)})}})})()},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_tableresize")){var e=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("ae_tableresize",{requires:"ae_tabletools",init:function(e){e.on("contentDom",function(){var t=void 0,n=e.editable();n.attachListener(n.isInline()?n:e.document,"mousemove",function(n){n=n.data;var r=n.getTarget();if(r.type===CKEDITOR.NODE_ELEMENT){var u=n.getPageOffset().x;if(t){if(t.isResizing())return t.move(u),void a(n);t.destroy(),t=null}var c=void 0,f=void 0;if((r.is("table")||r.getAscendant("tbody",1))&&(c=r.getAscendant("table",1),e.editable().contains(c))){(f=c.getCustomData("_cke_table_pillars"))||(c.setCustomData("_cke_table_pillars",f=o(c)),c.on("mouseout",s),c.on("mousedown",s));var d=i(f,u);d&&(t=new l(e,d))}}})})}})}function t(e){return CKEDITOR.env.ie?e.$.clientWidth:parseInt(e.getComputedStyle("width"),10)}function n(e,t){var n=e.getComputedStyle("border-"+t+"-width"),r={thin:"0px",medium:"1px",thick:"2px"};return n.indexOf("px")<0&&(n=n in r&&"none"!=e.getComputedStyle("border-style")?r[n]:0),parseInt(n,10)}function r(e){for(var t=e.$.rows,n=0,r=void 0,o=void 0,i=void 0,a=0,l=t.length;a<l;a++)i=t[a],r=i.cells.length,r>n&&(n=r,o=i);return o}function o(e){for(var t=[],o=-1,i="rtl"===e.getComputedStyle("direction"),a=r(e),l=new CKEDITOR.dom.element(e.$.tBodies[0]),s=l.getDocumentPosition(),u=0,c=a.cells.length;u<c;u++){var f=new CKEDITOR.dom.element(a.cells[u]),d=a.cells[u+1]&&new CKEDITOR.dom.element(a.cells[u+1]);o+=f.$.colSpan||1;var p=void 0,h=void 0,m=void 0,y=f.getDocumentPosition().x;i?h=y+n(f,"left"):p=y+f.$.offsetWidth-n(f,"right"),d?(y=d.getDocumentPosition().x,i?p=y+d.$.offsetWidth-n(d,"right"):h=y+n(d,"left")):(y=e.getDocumentPosition().x,i?p=y:h=y+e.$.offsetWidth),m=Math.max(h-p,4),t.push({table:e,index:o,x:p,y:s.y,width:m,height:l.$.offsetHeight,rtl:i})}return t}function i(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t>=o.x&&t<=o.x+o.width)return o}return null}function a(e){(e.data||e).preventDefault()}function l(r,o){var i=void 0,l=void 0,s=void 0,u=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=void 0,y=void 0;function b(){u.removeListener("mouseup",w),u.removeListener("mousedown",E),u.removeListener("mousemove",O)}function g(){for(var e=o.index,n=CKEDITOR.tools.buildTableMap(o.table),r=[],l=[],s=Number.MAX_VALUE,b=s,g=o.rtl,v=0,_=n.length;v<_;v++){var E=n[v],w=E[e+(g?1:0)],C=E[e+(g?0:1)];w=w&&new CKEDITOR.dom.element(w),C=C&&new CKEDITOR.dom.element(C),w&&C&&w.equals(C)||(w&&(s=Math.min(s,t(w))),C&&(b=Math.min(b,t(C))),r.push(w),l.push(C))}p=r,h=l,m=o.x-s,y=o.x+b,u.setOpacity(.5),f=parseInt(u.getStyle("left"),10),d=0,c=1,u.on("mousemove",O),i.on("dragstart",a)}function v(){c=0,u.setOpacity(0),d&&_();var e=o.table;setTimeout(function(){e.removeCustomData("_cke_table_pillars")},0),i.removeListener("dragstart",a)}function _(){for(var r=this,i=o.rtl,a=i?h.length:p.length,l=function(a){var l=p[a],s=h[a],u=o.table;CKEDITOR.tools.setTimeout(function(t,n,r,o,a,l){t&&t.setStyle("width",e(Math.max(n+l,1))),r&&r.setStyle("width",e(Math.max(o-l,1))),a&&u.setStyle("width",e(a+l*(i?-1:1)))},0,r,[l,l&&t(l),s,s&&t(s),(!l||!s)&&t(u)+n(u,"left")+n(u,"right"),d])},s=0;s<a;s++)l(s)}function E(e){a(e),g(),i.on("mouseup",w,this)}function w(e){e.removeListener(),v()}function O(e){s(e.data.getPageOffset().x)}i=r.document,u=CKEDITOR.dom.element.createFromHtml('<div data-cke-temp=1 contenteditable=false unselectable=on style="position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;padding:0;background-color:#004;background-image:none;border:0px none;z-index:10"></div>',i),r.on("destroy",function(){b(),u.remove()}),i.getDocumentElement().append(u),u.setStyles({width:e(o.width),height:e(o.height),left:e(o.x),top:e(o.y)}),u.on("mousedown",E,this),i.getBody().setStyle("cursor","col-resize"),u.show(),s=this.move=function(t){var n=t-Math.round(u.$.offsetWidth/2);if(l){if(n===m||n===y)return;n=Math.max(n,m),n=Math.min(n,y),d=n-f}u.setStyle("left",e(n))},this.destroy=function(){b(),i.getBody().setStyle("cursor","auto"),u.remove()},l=this.isResizing=function(){return c}}function s(e){var t=e.data.getTarget();if("mouseout"===e.name){if(!t.is("table"))return;var n=new CKEDITOR.dom.element(e.data.$.relatedTarget||e.data.$.toElement);while(n&&n.$&&!n.equals(t)&&!n.is("body"))n=n.getParent();if(!n||n.equals(t))return}t.getAscendant("table",1).removeCustomData("_cke_table_pillars"),e.removeListener()}})()},function(e,t,n){"use strict";(function(){if(!CKEDITOR.plugins.get("ae_tabletools")){var e=/^(?:td|th)$/;CKEDITOR.plugins.add("ae_tabletools",{init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function n(t,n){var r=e.getCommand(t);r||(r=e.addCommand(t,n),e.addFeature(r))}n("rowDelete",t({requiredContent:"table",exec:function(e){var t=e.getSelection();d(o(t))}})),n("rowInsertBefore",t({requiredContent:"table",exec:function(e){var t=e.getSelection();r(t,!0)}})),n("rowInsertAfter",t({requiredContent:"table",exec:function(e){var t=e.getSelection();r(t)}})),n("columnDelete",t({requiredContent:"table",exec:function(e){var t=e.getSelection(),n=s(t);n&&d(n,!0)}})),n("columnInsertBefore",t({requiredContent:"table",exec:function(e){var t=e.getSelection();l(t,!0)}})),n("columnInsertAfter",t({requiredContent:"table",exec:function(e){var t=e.getSelection();l(t)}})),n("cellDelete",t({requiredContent:"table",exec:function(e){var t=e.getSelection();c(t)}})),n("cellMerge",t({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e){d(m(e.getSelection()),!0)}})),n("cellMergeRight",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){d(m(e.getSelection(),"right"),!0)}})),n("cellMergeDown",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){d(m(e.getSelection(),"down"),!0)}})),n("cellVerticalSplit",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){d(y(e.getSelection()))}})),n("cellHorizontalSplit",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){d(b(e.getSelection()))}})),n("cellInsertBefore",t({requiredContent:"table",exec:function(e){var t=e.getSelection();u(t,!0)}})),n("cellInsertAfter",t({requiredContent:"table",exec:function(e){var t=e.getSelection();u(t)}}))},getSelectedCells:t})}function t(t){var n=t.getRanges(),r=[],o={};function i(t){r.length>0||t.type==CKEDITOR.NODE_ELEMENT&&e.test(t.getName())&&!t.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(o,t,"selected_cell",!0),r.push(t))}for(var a=0;a<n.length;a++){var l=n[a];if(l.collapsed){var s=l.getCommonAncestor(),u=s.getAscendant("td",!0)||s.getAscendant("th",!0);u&&r.push(u)}else{var c=new CKEDITOR.dom.walker(l),f=void 0;c.guard=i;while(f=c.next())if(f.type!=CKEDITOR.NODE_ELEMENT||!f.is(CKEDITOR.dtd.table)){var d=f.getAscendant("td",!0)||f.getAscendant("th",!0);d&&!d.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(o,d,"selected_cell",!0),r.push(d))}}}return CKEDITOR.dom.element.clearAllMarkers(o),r}function n(e){var t=0,n=e.length-1,r={},o=void 0,i=void 0,a=void 0;while(o=e[t++])CKEDITOR.dom.element.setMarker(r,o,"delete_cell",!0);t=0;while(o=e[t++])if((i=o.getPrevious())&&!i.getCustomData("delete_cell")||(i=o.getNext())&&!i.getCustomData("delete_cell"))return CKEDITOR.dom.element.clearAllMarkers(r),i;return CKEDITOR.dom.element.clearAllMarkers(r),a=e[0].getParent(),(a=a.getPrevious())?a.getLast():(a=e[n].getParent(),(a=a.getNext())?a.getChild(0):null)}function r(e,n){for(var r=t(e),o=r[0],i=o.getAscendant("table"),a=o.getDocument(),l=r[0].getParent(),s=l.$.rowIndex,u=r[r.length-1],c=u.getParent().$.rowIndex+u.$.rowSpan-1,f=new CKEDITOR.dom.element(i.$.rows[c]),d=n?s:c,p=n?l:f,h=CKEDITOR.tools.buildTableMap(i),m=h[d],y=n?h[d-1]:h[d+1],b=h[0].length,g=a.createElement("tr"),v=0;m[v]&&v<b;v++){var _=void 0;m[v].rowSpan>1&&y&&m[v]==y[v]?(_=m[v],_.rowSpan+=1):(_=new CKEDITOR.dom.element(m[v]).clone(),_.removeAttribute("rowSpan"),_.appendBogus(),g.append(_),_=_.$),v+=_.colSpan-1}n?g.insertBefore(p):g.insertAfter(p)}function o(e){if(e instanceof CKEDITOR.dom.selection){for(var n=t(e),r=n[0],i=r.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(i),l=n[0].getParent(),s=l.$.rowIndex,u=n[n.length-1],c=u.getParent().$.rowIndex+u.$.rowSpan-1,f=[],d=s;d<=c;d++){for(var p=a[d],h=new CKEDITOR.dom.element(i.$.rows[d]),m=0;m<p.length;m++){var y=new CKEDITOR.dom.element(p[m]),b=y.getParent().$.rowIndex;if(1==y.$.rowSpan)y.remove();else if(y.$.rowSpan-=1,b==d){var g=a[d+1];g[m-1]?y.insertAfter(new CKEDITOR.dom.element(g[m-1])):new CKEDITOR.dom.element(i.$.rows[d+1]).append(y,1)}m+=y.$.colSpan-1}f.push(h)}for(var v=i.$.rows,_=new CKEDITOR.dom.element(v[c+1]||(s>0?v[s-1]:null)||i.$.parentNode),E=f.length;E>=0;E--)o(f[E]);return _}if(e instanceof CKEDITOR.dom.element){var w=e.getAscendant("table");1==w.$.rows.length?w.remove():e.remove()}return null}function i(e,t){for(var n=e.getParent(),r=n.$.cells,o=0,i=0;i<r.length;i++){var a=r[i];if(o+=t?1:a.colSpan,a==e.$)break}return o-1}function a(e,t){for(var n=t?1/0:0,r=0;r<e.length;r++){var o=i(e[r],t);(t?o<n:o>n)&&(n=o)}return n}function l(e,n){for(var r=t(e),o=r[0],i=o.getAscendant("table"),l=a(r,1),s=a(r),u=n?l:s,c=CKEDITOR.tools.buildTableMap(i),f=[],d=[],p=c.length,h=0;h<p;h++){f.push(c[h][u]);var m=n?c[h][u-1]:c[h][u+1];d.push(m)}for(var y=0;y<p;y++){var b=void 0;f[y]&&(f[y].colSpan>1&&d[y]==f[y]?(b=f[y],b.colSpan+=1):(b=new CKEDITOR.dom.element(f[y]).clone(),b.removeAttribute("colSpan"),b.appendBogus(),b[n?"insertBefore":"insertAfter"].call(b,new CKEDITOR.dom.element(f[y])),b=b.$),y+=b.rowSpan-1)}}function s(e){for(var n=t(e),r=n[0],o=n[n.length-1],i=r.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(i),l=void 0,s=void 0,u=[],c=void 0,f=0,d=a.length;f<d;f++)for(var p=0,h=a[f].length;p<h;p++)a[f][p]==r.$&&(l=p),a[f][p]==o.$&&(s=p);for(var m=l;m<=s;m++)for(var y=0;y<a.length;y++){var b=a[y],g=new CKEDITOR.dom.element(i.$.rows[y]),v=new CKEDITOR.dom.element(b[m]);v.$&&(1==v.$.colSpan?v.remove():v.$.colSpan-=1,y+=v.$.rowSpan-1,g.$.cells.length||u.push(g))}var _=i.$.rows[0]&&i.$.rows[0].cells,E=new CKEDITOR.dom.element(_[l]||(l?_[l-1]:i.$.parentNode));return u.length==c&&i.remove(),E}function u(e,t){var n=e.getStartElement(),r=n.getAscendant("td",1)||n.getAscendant("th",1);if(r){var o=r.clone();o.appendBogus(),t?o.insertBefore(r):o.insertAfter(r)}}function c(e){if(e instanceof CKEDITOR.dom.selection){for(var r=t(e),o=r[0]&&r[0].getAscendant("table"),i=n(r),a=r.length-1;a>=0;a--)c(r[a]);i?d(i,!0):o&&o.remove()}else if(e instanceof CKEDITOR.dom.element){var l=e.getParent();1==l.getChildCount()?l.remove():e.remove()}}function f(e){var t=e.getBogus();t&&t.remove(),e.trim()}function d(e,t){var n=e.getDocument(),r=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(r.focus(),n.focus());var o=new CKEDITOR.dom.range(n);o["moveToElementEdit"+(t?"End":"Start")](e)||(o.selectNodeContents(e),o.collapse(!t)),o.select(!0)}function p(e,t,n){var r=e[t];if("undefined"==typeof n)return r;for(var o=0;r&&o<r.length;o++){if(n.is&&r[o]==n.$)return o;if(o==n)return new CKEDITOR.dom.element(r[o])}return n.is?-1:null}function h(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(o[t]),o[t].rowSpan>1&&(r+=o[t].rowSpan-1)}return n}function m(e,n,r){var o=t(e),i=void 0;if((n?1!=o.length:o.length<2)||(i=e.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;var a=void 0,l=o[0],s=l.getAscendant("table"),u=CKEDITOR.tools.buildTableMap(s),c=u.length,d=u[0].length,h=l.getParent().$.rowIndex,m=p(u,h,l);if(n){var y=void 0;try{var b=parseInt(l.getAttribute("rowspan"),10)||1,g=parseInt(l.getAttribute("colspan"),10)||1;y=u["up"==n?h-b:"down"==n?h+b:h]["left"==n?m-g:"right"==n?m+g:m]}catch(e){return!1}if(!y||l.$==y)return!1;o["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(y))}for(var v=l.getDocument(),_=h,E=0,w=0,O=!r&&new CKEDITOR.dom.documentFragment(v),C=0,k=0;k<o.length;k++){a=o[k];var T=a.getParent(),S=a.getFirst(),I=a.$.colSpan,x=a.$.rowSpan,P=T.$.rowIndex,R=p(u,P,a);if(C+=I*x,w=Math.max(w,R-m+I),E=Math.max(E,P-h+x),!r){if(f(a),a.getChildren().count()){if(P!=_&&S&&(!S.isBlockBoundary||!S.isBlockBoundary({br:1}))){var D=O.getLast(CKEDITOR.dom.walker.whitespaces(!0));!D||D.is&&D.is("br")||O.append("br")}a.moveChildren(O)}k?a.remove():a.setHtml("")}_=P}if(r)return E*w==C;O.moveChildren(l),l.appendBogus(),w>=d?l.removeAttribute("rowSpan"):l.$.rowSpan=E,E>=c?l.removeAttribute("colSpan"):l.$.colSpan=w;for(var j=new CKEDITOR.dom.nodeList(s.$.rows),A=j.count(),K=A-1;K>=0;K--){var M=j.getItem(K);M.$.cells.length||(M.remove(),A++)}return l}function y(e,n){var r=t(e);if(r.length>1)return!1;if(n)return!0;var o=r[0],i=o.getParent(),a=i.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(a),s=i.$.rowIndex,u=p(l,s,o),c=o.$.rowSpan,f=void 0,d=void 0,h=void 0,m=void 0;if(c>1){d=Math.ceil(c/2),h=Math.floor(c/2),m=s+d;var y=new CKEDITOR.dom.element(a.$.rows[m]),b=p(l,m),g=void 0;f=o.clone();for(var v=0;v<b.length;v++){if(g=b[v],g.parentNode==y.$&&v>u){f.insertBefore(new CKEDITOR.dom.element(g));break}g=null}g||y.append(f)}else{h=d=1;var _=i.clone();_.insertAfter(i),_.append(f=o.clone());for(var E=p(l,s),w=0;w<E.length;w++)E[w].rowSpan++}return f.appendBogus(),o.$.rowSpan=d,f.$.rowSpan=h,1==d&&o.removeAttribute("rowSpan"),1==h&&f.removeAttribute("rowSpan"),f}function b(e,n){var r=t(e);if(r.length>1)return!1;if(n)return!0;var o=r[0],i=o.getParent(),a=i.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(a),s=i.$.rowIndex,u=p(l,s,o),c=o.$.colSpan,f=void 0,d=void 0,m=void 0;if(c>1)d=Math.ceil(c/2),m=Math.floor(c/2);else{m=d=1;for(var y=h(l,u),b=0;b<y.length;b++)y[b].colSpan++}return f=o.clone(),f.insertAfter(o),f.appendBogus(),o.$.colSpan=d,f.$.colSpan=m,1==d&&o.removeAttribute("colSpan"),1==m&&f.removeAttribute("colSpan"),f}})(),CKEDITOR.tools.buildTableMap=function(e){for(var t=e.$.rows,n=-1,r=[],o=0;o<t.length;o++){n++,!r[n]&&(r[n]=[]);for(var i=-1,a=0;a<t[o].cells.length;a++){var l=t[o].cells[a];i++;while(r[n][i])i++;for(var s=isNaN(l.colSpan)?1:l.colSpan,u=isNaN(l.rowSpan)?1:l.rowSpan,c=0;c<u;c++){r[n+c]||(r[n+c]=[]);for(var f=0;f<s;f++)r[n+c][i+f]=t[o].cells[a]}i+=s-1}}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uibridge=t.richcombo=t.panelMenuButton=t.menu=t.menuButton=t.button=void 0;var r=n(69),o=m(r),i=n(70),a=m(i),l=n(71),s=m(l),u=n(72),c=m(u),f=n(73),d=m(f),p=n(74),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}t.button=o.default,t.menuButton=a.default,t.menu=s.default,t.panelMenuButton=c.default,t.richcombo=d.default,t.uibridge=h.default},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(function(){if(!CKEDITOR.plugins.get("ae_buttonbridge")){var e={};CKEDITOR.plugins.get("button")||(CKEDITOR.UI_BUTTON="button",CKEDITOR.plugins.add("button",{})),CKEDITOR.plugins.add("ae_buttonbridge",{requires:["ae_uibridge"],beforeInit:function(e){e.ui.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)},e.ui.addHandler(CKEDITOR.UI_BUTTON,{add:t,create:function(e){var n="buttonBridge"+(1e9*Math.random()>>>0),r=t(n,e);return new r}})}})}function t(t,n,o){var a,c,f=AlloyEditor.Buttons[t];(e[o.name]=e[o.name]||{},e[o.name][t]=e[o.name][t]||n,f)||(c=a=function(n){function o(){var n,r,i,a;l(this,o);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return i=s(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(c))),r=i,i._handleClick=function(){var n=i.props.editor.get("nativeEditor"),r=e[n.name][t].command,o=e[n.name][t].onClick;o?o.call(i):n.execCommand(r),n.fire("actionPerformed",i)},a=r,s(i,a)}return u(o,n),r(o,[{key:"toFeature",value:function(){}},{key:"render",value:function(){var n=this.props.editor.get("nativeEditor"),r="ae-button ae-button-bridge",o=e[n.name][t].name||e[n.name][t].command||t,a=e[n.name][t].label,l="button-"+o,s="ae-icon-"+o,u={},c=CKEDITOR.skin.getIconStyle(o);if(c){var f=c.split(";");u.backgroundImage=f[0].substring(f[0].indexOf(":")+1),u.backgroundPosition=f[1].substring(f[1].indexOf(":")+1),u.backgroundSize=f[2].substring(f[2].indexOf(":")+1)}return i.default.createElement("button",{"aria-label":a,className:r,"data-type":l,onClick:this._handleClick,tabIndex:this.props.tabIndex,title:a},i.default.createElement("span",{className:s,style:u}))}}]),o}(i.default.Component),a.displayName=t,a.key=t,f=c,AlloyEditor.Buttons[t]=f);return f}})()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(function(){if(!CKEDITOR.plugins.get("ae_menubuttonbridge")){var e={};CKEDITOR.plugins.get("menubutton")||(CKEDITOR.UI_MENU_BUTTON="menubutton",CKEDITOR.plugins.add("menubutton",{})),CKEDITOR.plugins.add("ae_menubuttonbridge",{requires:["ae_uibridge","ae_menubridge"],beforeInit:function(e){e.ui.addMenuButton=function(e,t){this.add(e,CKEDITOR.UI_MENUBUTTON,t)},e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,{add:t,create:function(e){var n="buttonBridge"+(1e9*Math.random()>>>0),r=t(n,e);return new r}})}})}function t(t,n,o){var a,s,d=AlloyEditor.Buttons[t];(e[o.name]=e[o.name]||{},e[o.name][t]=e[o.name][t]||n,d)||(s=a=function(o){function a(){return u(this,a),c(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return f(a,o),r(a,[{key:"toFeature",value:function(){}},{key:"render",value:function(){var n=this.props.editor.get("nativeEditor"),r=e[n.name][t].name||e[n.name][t].command||t,o="ae-button ae-button-bridge",a="ae-icon-"+r,s={},u=CKEDITOR.skin.getIconStyle(r);if(u){var c=u.split(";");s.backgroundImage=c[0].substring(c[0].indexOf(":")+1),s.backgroundPosition=c[1].substring(c[1].indexOf(":")+1),s.backgroundSize=c[2].substring(c[2].indexOf(":")+1)}return l.default.createElement("div",{className:"ae-container ae-has-dropdown"},l.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":e[n.name][t].label,className:o,onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:e[n.name][t].label},l.default.createElement("span",{className:a,style:s})),this.props.expanded&&l.default.createElement(i.default,{onDismiss:this.props.toggleDropdown},this._getMenuItems()))}},{key:"_getMenuItems",value:function(){var e=this.props.editor.get("nativeEditor"),t=n.onMenu(),r=Object.keys(t).map(function(n){var r=e.getMenuItem(n);if(!r)return null;var o=r.definition||r,i=t[n],a="ae-toolbar-element "+(i===CKEDITOR.TRISTATE_ON?"active":""),s=i===CKEDITOR.TRISTATE_DISABLED,u=function(){o.command?e.execCommand(o.command):o.onClick&&o.onClick.apply(o)};return l.default.createElement("li",{key:r.name,role:"option"},l.default.createElement("button",{className:a,disabled:s,onClick:u},o.label))});return r}}]),a}(l.default.Component),a.displayName=t,a.key=t,d=s,AlloyEditor.Buttons[t]=d);return d}})()},function(e,t,n){"use strict";(function(){CKEDITOR.plugins.get("ae_menubridge")||CKEDITOR.plugins.add("ae_menubridge",{beforeInit:function(e){if(!CKEDITOR.plugins.get("menu")){for(var t=[],n=e._.menuGroups={},r=e._.menuItems={},o=0;o<t.length;o++)n[t[o]]=o+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(r[e]={name:e,definition:t})},e.addMenuItems=function(e){for(var t in e)e.hasOwnProperty(t)&&this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return r[e]},e.removeMenuItem=function(e){delete r[e]}}}})})()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(function(){if(!CKEDITOR.plugins.get("ae_panelmenubuttonbridge")){var e={},t=function(t,n,o){var a,s,d=AlloyEditor.Buttons[t];(e[o.name]=e[o.name]||{},e[o.name][t]=e[o.name][t]||n,d)||(s=a=function(n){function o(){return u(this,o),c(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return f(o,n),r(o,[{key:"createPanel",value:function(){}},{key:"render",value:function(){var n=this.props.editor.get("nativeEditor"),r=e[n.name][t].name||e[n.name][t].command||t,o="ae-button ae-button-bridge",i="ae-icon-"+r,a={},s=CKEDITOR.skin.getIconStyle(r);if(s){var u=s.split(";");a.backgroundImage=u[0].substring(u[0].indexOf(":")+1),a.backgroundPosition=u[1].substring(u[1].indexOf(":")+1),a.backgroundSize=u[2].substring(u[2].indexOf(":")+1)}var c=void 0;return this.props.expanded&&(c=this._getPanel()),l.default.createElement("div",{className:"ae-container ae-has-dropdown"},l.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":e[n.name][t].label,className:o,onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:e[n.name][t].label},l.default.createElement("span",{className:i,style:a})),c)}},{key:"_getPanel",value:function(){var n=this.props.editor.get("nativeEditor"),r=e[n.name][t].onBlock,o={hide:this.props.toggleDropdown,show:this.props.toggleDropdown},a=new CKEDITOR.dom.element("div"),s={element:a,keys:{}};return r&&r.call(this,o,s),l.default.createElement(i.default,{onDismiss:this.props.toggleDropdown},l.default.createElement("div",{className:a.getAttribute("class"),dangerouslySetInnerHTML:{__html:a.getHtml()}}))}}]),o}(l.default.Component),a.displayName=t,a.key=t,d=s,AlloyEditor.Buttons[t]=d);return d};CKEDITOR.plugins.get("panelmenubutton")||(CKEDITOR.UI_PANELBUTTON="panelmenubutton",CKEDITOR.plugins.add("panelmenubutton",{})),CKEDITOR.plugins.get("panelbutton")||(CKEDITOR.UI_PANELBUTTON="panelbutton",CKEDITOR.plugins.add("panelbutton",{})),CKEDITOR.plugins.add("ae_panelmenubuttonbridge",{requires:["ae_uibridge"],beforeInit:function(e){e.ui.addPanelMenuButton=function(e,t){this.add(e,CKEDITOR.UI_PANELBUTTON,t)},e.ui.addHandler(CKEDITOR.UI_PANELBUTTON,{add:t,create:function(e){var n="panelMenuButtonBridge"+(1e9*Math.random()>>>0),r=t(n,e);return new r}})}})}})()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(function(){if(!CKEDITOR.plugins.get("ae_richcombobridge")){var e={},t=function(t,n,o){var a,s,c=AlloyEditor.Buttons[t];(e[o.name]=e[o.name]||{},e[o.name][t]=e[o.name][t]||n,e[o.name][t].currentValue=void 0,c)||(s=a=function(a){function s(n){f(this,s);var r=d(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,n));return r._onClick=function(n){var o=r.props.editor.get("nativeEditor"),i=e[o.name][t];if(i.onClick){var a=n.currentTarget.getAttribute("data-value");i.onClick.call(r,a),e[o.name][t].currentValue=a,o.fire("actionPerformed",r)}},r.state={value:e[o.name][t].currentValue},r}return p(s,a),r(s,[{key:"commit",value:function(){}},{key:"createPanel",value:function(){}},{key:"disable",value:function(){}},{key:"enable",value:function(){}},{key:"getState",value:function(){}},{key:"hideGroup",value:function(){}},{key:"hideItem",value:function(){}},{key:"mark",value:function(){}},{key:"showAll",value:function(){}},{key:"startGroup",value:function(){}},{key:"unmarkAll",value:function(){}},{key:"add",value:function(e,t,n){this._items.push({preview:t,title:n,value:e})}},{key:"componentWillMount",value:function(){var n=this.props.editor.get("nativeEditor"),r=e[n.name][t];this._items=[],this.setValue=this._setValue,r.init&&r.init.call(this),r.onRender&&r.onRender.call(this)}},{key:"componentWillUnmount",value:function(){this._cacheValue(this.state.value),this.setValue=this._cacheValue}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var r=this.props.editor.get("nativeEditor"),o=e[r.name][t].currentValue||n.label;return u.default.createElement("div",{className:"ae-container-dropdown ae-has-dropdown"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":o,className:"ae-toolbar-element",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:o},u.default.createElement("div",{className:"ae-container"},u.default.createElement("span",{className:"ae-container-dropdown-selected-item"},o),u.default.createElement(l.default,{editor:this.props.editor,symbol:"caret-bottom"}))),this.props.expanded&&u.default.createElement(i.default,{onDismiss:this.props.toggleDropdown},this._getItems()))}},{key:"_cacheValue",value:function(n){var r=this.props.editor.get("nativeEditor");e[r.name][t].currentValue=n}},{key:"_getItems",value:function(){var e=this,t=this._items.map(function(t){var n="ae-toolbar-element "+(t.value===this.state.value?"active":"");return u.default.createElement("li",{key:t.title,role:"option"},u.default.createElement("button",{className:n,dangerouslySetInnerHTML:{__html:t.preview},"data-value":t.value,onClick:e._onClick}))}.bind(this));return t}},{key:"_setValue",value:function(e){this._cacheValue(e),this.setState({value:e})}}]),s}(u.default.Component),a.displayName=t,a.key=t,c=s,AlloyEditor.Buttons[t]=c);return c};CKEDITOR.plugins.get("richcombo")||(CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.plugins.add("richcombo",{})),CKEDITOR.plugins.add("ae_richcombobridge",{requires:["ae_uibridge"],beforeInit:function(e){e.ui.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)},e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,{add:t,create:function(e){var n="richComboBridge"+(1e9*Math.random()>>>0),r=t(n,e);return new r}})}})}})()},function(e,t,n){"use strict";(function(){CKEDITOR.plugins.get("ae_uibridge")||CKEDITOR.plugins.add("ae_uibridge",{beforeInit:function(e){var t=e.ui.add;e.ui.add=function(n,r,o){t.call(this,n,r,o);var i=this._.handlers[r];i&&i.add&&(i.add(n,o,e),AlloyEditor.registerBridgeButton(n,e.__processingPlugin__.plugin.name))}}})})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=u(r),i=n(4),a=u(i),l=n(17),s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){c.superclass.constructor.call(this,e),this.init(e)}(0,s.default)(c,o.default,{init:function(e){this._callChain("initializer",e)},destroy:function(){this._callChain("destructor")},_callChain:function(e,t){var n=[],r=this.constructor;while(r)a.default.isFunction(r.prototype[e])&&n.push(r.prototype[e]),r=r.superclass?r.superclass.constructor:null;n=n.reverse(),t=a.default.isArray(t)?t:[t];for(var o=0;o<n.length;o++){var i=n[o];i.apply(this,t)}}}),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=h(o),a=n(6),l=h(a),s=n(18),u=h(s),c=n(8),f=h(c),d=n(7),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(e){m(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onDismissToolbarFocus=function(){var e=n.props.editor.get("nativeEditor");e.focus()},n.state={hidden:!1},n}return b(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.editor.get("nativeEditor");t.on("editorInteraction",this._onEditorInteraction,this),t.on("actionPerformed",this._onActionPerformed,this),t.on("key",this._onEditorKey,this),this._mousedownListener=function(t){e._setUIHidden(t.target)},this._keyDownListener=CKEDITOR.tools.debounce(function(t){e._setUIHidden(document.activeElement)},this.props.eventsDelay,this),document.addEventListener("mousedown",this._mousedownListener),document.addEventListener("keydown",this._keyDownListener)}},{key:"componentDidUpdate",value:function(e,t){var n=l.default.findDOMNode(this),r=this.props.editor.get("nativeEditor");n&&r.fire("ariaUpdate",{message:this._getAvailableToolbarsMessage(n)}),r.fire("editorUpdate",{prevProps:e,prevState:t,props:this.props,state:this.state})}},{key:"_getAriaUpdateTemplate",value:function(e){return this._ariaUpdateTemplates||(this._ariaUpdateTemplates={}),this._ariaUpdateTemplates[e]||(this._ariaUpdateTemplates[e]=new CKEDITOR.template(this._getAriaUpdates()[e])),this._ariaUpdateTemplates[e]}},{key:"_getAriaUpdates",value:function(){return this.props.ariaUpdates||{noToolbar:AlloyEditor.Strings.ariaUpdateNoToolbar,oneToolbar:AlloyEditor.Strings.ariaUpdateOneToolbar,manyToolbars:AlloyEditor.Strings.ariaUpdateManyToolbars}}},{key:"_getAvailableToolbarsMessage",value:function(e){var t=e.querySelectorAll('[role="toolbar"]');if(t.length){var n=Array.prototype.slice.call(t).map(function(e){return e.getAttribute("aria-label")}),r=1===n.length?"oneToolbar":"manyToolbars";return this._getAriaUpdateTemplate(r).output({toolbars:n.join(",").replace(/,([^,]*)$/," and $1")})}return this._getAriaUpdates().noToolbar}},{key:"componentWillUnmount",value:function(){this._mousedownListener&&document.removeEventListener("mousedown",this._mousedownListener),this._keyDownListener&&(this._keyDownListener.detach(),document.removeEventListener("keydown",this._keyDownListener))}},{key:"render",value:function(){var e=this;if(this.state.hidden)return null;var t=Object.keys(this.props.toolbars).map(function(e){return AlloyEditor.Toolbars[e]||window[e]});return t=this.filterExclusive(t).map(function(t){var n=e.mergeExclusiveProps({config:e.props.toolbars[t.key],editor:e.props.editor,editorEvent:e.state.editorEvent,key:t.key,onDismiss:e._onDismissToolbarFocus,selectionData:e.state.selectionData},t.key);return i.default.createElement(t,n)}),i.default.createElement("div",{className:"ae-toolbars",onKeyDown:this.handleKey},t)}},{key:"_onActionPerformed",value:function(e){var t=this.props.editor.get("nativeEditor");t.focus(),this.setState({itemExclusive:null,selectionData:t.getSelectionData()})}},{key:"_onEditorInteraction",value:function(e){this.setState({editorEvent:e,hidden:!1,itemExclusive:null,selectionData:e.data.selectionData})}},{key:"_onEditorKey",value:function(e){var t=e.data.domEvent.$;t.altKey&&121===t.keyCode&&this.focus()}},{key:"_setUIHidden",value:function(e){var t=l.default.findDOMNode(this);if(t){var n=this.props.editor.get("nativeEditor").editable(),r=e.parentNode,o=new CKEDITOR.dom.node(e);if(n){var i=n.$===e||n.contains(o)||new CKEDITOR.dom.element(t).contains(o);r&&(i=i||"ckimgrsz"===r.id),i||this.setState({hidden:!0})}else this.setState({hidden:!0})}}}]),t}(i.default.Component);g.defaultProps={circular:!0,descendants:"[class^=ae-toolbar-]",eventsDelay:0,keys:{next:9}},g.propTypes={ariaUpdates:p.default.object,editor:p.default.object.isRequired,eventsDelay:p.default.number,toolbars:p.default.object.isRequired},t.default=(0,u.default)((0,f.default)(g))},function(e,t,n){"use strict";var r=n(78);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n(80),i=_t(o),a=n(81),l=_t(a),s=n(82),u=_t(s),c=n(29),f=_t(c),d=n(83),p=_t(d),h=n(84),m=_t(h),y=n(85),b=_t(y),g=n(30),v=_t(g),_=n(13),E=_t(_),w=n(11),O=_t(w),C=n(31),k=_t(C),T=n(86),S=_t(T),I=n(32),x=_t(I),P=n(87),R=_t(P),D=n(88),j=_t(D),A=n(89),K=_t(A),M=n(90),N=_t(M),L=n(91),F=_t(L),B=n(92),z=_t(B),H=n(93),$=_t(H),U=n(94),q=_t(U),W=n(95),V=_t(W),G=n(96),Y=_t(G),X=n(97),J=_t(X),Z=n(98),Q=_t(Z),ee=n(99),te=_t(ee),ne=n(33),re=_t(ne),oe=n(100),ie=_t(oe),ae=n(37),le=_t(ae),se=n(19),ue=_t(se),ce=n(35),fe=_t(ce),de=n(34),pe=_t(de),he=n(101),me=_t(he),ye=n(102),be=_t(ye),ge=n(103),ve=_t(ge),_e=n(104),Ee=_t(_e),we=n(105),Oe=_t(we),Ce=n(106),ke=_t(Ce),Te=n(107),Se=_t(Te),Ie=n(108),xe=_t(Ie),Pe=n(109),Re=_t(Pe),De=n(110),je=_t(De),Ae=n(111),Ke=_t(Ae),Me=n(112),Ne=_t(Me),Le=n(28),Fe=_t(Le),Be=n(27),ze=_t(Be),He=n(26),$e=_t(He),Ue=n(14),qe=_t(Ue),We=n(113),Ve=_t(We),Ge=n(114),Ye=_t(Ge),Xe=n(115),Je=_t(Xe),Ze=n(116),Qe=_t(Ze),et=n(117),tt=_t(et),nt=n(38),rt=_t(nt),ot=n(118),it=_t(ot),at=n(119),lt=_t(at),st=n(120),ut=_t(st),ct=n(121),ft=_t(ct),dt=n(36),pt=_t(dt),ht=n(122),mt=_t(ht),yt=n(123),bt=_t(yt),gt=n(124),vt=_t(gt);function _t(e){return e&&e.__esModule?e:{default:e}}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=(r={},Et(r,i.default.key,i.default),Et(r,l.default.key,l.default),Et(r,u.default.key,u.default),Et(r,f.default.key,f.default),Et(r,p.default.key,p.default),Et(r,m.default.key,m.default),Et(r,b.default.key,b.default),Et(r,v.default.key,v.default),Et(r,E.default.key,E.default),Et(r,O.default.key,O.default),Et(r,k.default.key,k.default),Et(r,S.default.key,S.default),Et(r,x.default.key,x.default),Et(r,R.default.key,R.default),Et(r,j.default.key,j.default),Et(r,K.default.key,K.default),Et(r,N.default.key,N.default),Et(r,F.default.key,F.default),Et(r,z.default.key,z.default),Et(r,$.default.key,$.default),Et(r,q.default.key,q.default),Et(r,V.default.key,V.default),Et(r,Y.default.key,Y.default),Et(r,J.default.key,J.default),Et(r,Q.default.key,Q.default),Et(r,te.default.key,te.default),Et(r,re.default.key,re.default),Et(r,ie.default.key,ie.default),Et(r,le.default.key,le.default),Et(r,ue.default.key,ue.default),Et(r,fe.default.key,fe.default),Et(r,pe.default.key,pe.default),Et(r,me.default.key,me.default),Et(r,be.default.key,be.default),Et(r,ve.default.key,ve.default),Et(r,Ee.default.key,Ee.default),Et(r,Oe.default.key,Oe.default),Et(r,ke.default.key,ke.default),Et(r,Se.default.key,Se.default),Et(r,xe.default.key,xe.default),Et(r,Re.default.key,Re.default),Et(r,je.default.key,je.default),Et(r,Ke.default.key,Ke.default),Et(r,Ne.default.key,Ne.default),Et(r,Fe.default.key,Fe.default),Et(r,ze.default.key,ze.default),Et(r,$e.default.key,$e.default),Et(r,qe.default.key,qe.default),Et(r,Ve.default.key,Ve.default),Et(r,Ye.default.key,Ye.default),Et(r,Je.default.key,Je.default),Et(r,Qe.default.key,Qe.default),Et(r,tt.default.key,tt.default),Et(r,rt.default.key,rt.default),Et(r,it.default.key,it.default),Et(r,lt.default.key,lt.default),Et(r,ut.default.key,ut.default),Et(r,ft.default.key,ft.default),Et(r,pt.default.key,pt.default),Et(r,mt.default.key,mt.default),Et(r,bt.default.key,bt.default),Et(r,vt.default.key,vt.default),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=y(o),a=n(10),l=y(a),s=n(2),u=y(s),c=n(7),f=y(c),d=n(0),p=y(d),h=n(6),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(e,n){b(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));E.call(r);var o=r.props.editor.get("nativeEditor").getSelection().getSelectedElement(),i=o&&o.getAttribute("alt")||"";return r.state={element:o,imageAlt:i},r}return v(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return this.props.renderExclusive?p.default.createElement("div",{className:"ae-container-edit-link"},p.default.createElement("div",{className:"ae-container-input xxl"},p.default.createElement("input",{"aria-label":"alt",className:"ae-input",onChange:this._handleAltChange,onKeyDown:this._handleKeyDown,placeholder:"alt",ref:"refAltInput",title:"alt",type:"text",value:this.state.imageAlt})),p.default.createElement("button",{"aria-label":AlloyEditor.Strings.confirm,className:"ae-button",onClick:this._updateImageAlt,title:AlloyEditor.Strings.confirm},p.default.createElement(i.default,{editor:this.props.editor,symbol:"check"}))):p.default.createElement("button",{className:e,onClick:this._requestExclusive,tabIndex:this.props.tabIndex},p.default.createElement("small",{className:"ae-icon small"},"Alt"))}},{key:"_focusAltInput",value:function(){var e=this,t=function(){m.default.findDOMNode(e.refs.refAltInput).focus()};window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,0)}}]),t}(p.default.Component);_.key="AccessibilityImageAlt",_.propTypes={editor:f.default.object.isRequired};var E=function(){var e=this;this._handleAltChange=function(t){e.setState({imageAlt:t.target.value}),e._focusAltInput()},this._handleKeyDown=function(t){13===t.keyCode&&(t.preventDefault(),e._updateImageAlt())},this._requestExclusive=function(){e.props.requestExclusive(_.key)},this._updateImageAlt=function(){var t=e.props.editor.get("nativeEditor"),n=e.refs.refAltInput.value;e.setState({imageAlt:n}),e.state.element.setAttribute("alt",n),t.fire("actionPerformed",e),e.props.cancelExclusive()}};t.default=(0,l.default)((0,u.default)(_))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=y(o),a=n(10),l=y(a),s=n(2),u=y(s),c=n(14),f=y(c),d=n(7),p=y(d),h=n(0),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),r(t,[{key:"render",value:function(){var e=this,t=AlloyEditor.Strings.normal,n="",r=this._getColors(),o={element:"span",attributes:{class:""}};r.forEach(function(r){o.attributes.class=r.styleClass,e._checkActive(o)&&(t=r.name,n=r.style.attributes.class)});var a=this.props,l=a.editor,s=a.expanded,u=a.tabIndex,c=a.toggleDropdown,d={activeStyle:t,editor:l,onDismiss:c,showRemoveStylesItem:!1,styles:r};return m.default.createElement("div",{className:"ae-container ae-has-dropdown"},m.default.createElement("button",{"aria-expanded":s,className:"ae-toolbar-element",onClick:c,role:"combobox",tabIndex:u},m.default.createElement("span",{className:n},m.default.createElement(i.default,{editor:l,symbol:"textbox"}))),s&&m.default.createElement(f.default,d))}},{key:"_applyStyle",value:function(e){var t=this,n=this.props.editor.get("nativeEditor"),r={element:"span",attributes:{class:e}};n.getSelection().lock(),this._getColors().forEach(function(e){r.attributes.class=e.styleClass,t._checkActive(r)&&n.removeStyle(new CKEDITOR.style(r))}),r.attributes.class=e;var o=new CKEDITOR.style(r);n.applyStyle(o),n.getSelection().unlock(),n.fire("actionPerformed",this)}},{key:"_checkActive",value:function(e){var t=this.props.editor.get("nativeEditor");e=CKEDITOR.tools.merge({element:"span"},e);var n=new CKEDITOR.style(e);return n.checkActive(t.elementPath(),t)}},{key:"_getColors",value:function(){return this.props.styles||[{name:AlloyEditor.Strings.normal,style:{element:"span",attributes:{class:"text-body"}},styleClass:"",styleFn:this._applyStyle.bind(this,"")},{name:AlloyEditor.Strings.primary,style:{element:"span",attributes:{class:"text-primary"}},styleClass:"bg-primary",styleFn:this._applyStyle.bind(this,"bg-primary")},{name:AlloyEditor.Strings.disabled,style:{element:"span",attributes:{class:"text-secondary"}},styleClass:"bg-secondary",styleFn:this._applyStyle.bind(this,"bg-secondary")},{name:AlloyEditor.Strings.success,style:{element:"span",attributes:{class:"text-success"}},styleClass:"bg-success",styleFn:this._applyStyle.bind(this,"bg-success")},{name:AlloyEditor.Strings.danger,style:{element:"span",attributes:{class:"text-danger"}},styleClass:"bg-danger",styleFn:this._applyStyle.bind(this,"bg-danger")},{name:AlloyEditor.Strings.warning,style:{element:"span",attributes:{class:"text-warning"}},styleClass:"bg-warning",styleFn:this._applyStyle.bind(this,"bg-warning")},{name:AlloyEditor.Strings.info,style:{element:"span",attributes:{class:"text-info"}},styleClass:"bg-info",styleFn:this._applyStyle.bind(this,"bg-info")}]}}]),t}(m.default.Component);_.key="backgroundColor",_.propTypes={editor:p.default.object.isRequired,expanded:p.default.bool,label:p.default.string,showRemoveStylesItem:p.default.bool,styles:p.default.arrayOf(p.default.object),tabIndex:p.default.number,toggleDropdown:p.default.func},t.default=(0,l.default)((0,u.default)(_))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=y(o),a=n(12),l=y(a),s=n(2),u=y(s),c=n(5),f=y(c),d=n(1),p=y(d),h=n(0),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),r(t,[{key:"render",value:function(){var e="ae-button  "+this.getStateClasses();return m.default.createElement("button",{"aria-label":AlloyEditor.Strings.bold,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-bold",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.bold},m.default.createElement(p.default,{editor:this.props.editor,symbol:"bold"}))}}]),t}(m.default.Component);_.defaultProps={command:"bold",keystroke:{fn:"execCommand",keys:CKEDITOR.CTRL+66},style:"coreStyles_bold"},_.key="bold",t.default=(0,i.default)((0,l.default)((0,u.default)((0,f.default)(_))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(29),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){if(this.props.renderExclusive)return u.default.createElement(i.default,this.props);var e=!(navigator.getUserMedia||navigator.webkitGetUserMedia&&"https"===location.protocol||navigator.mozGetUserMedia||navigator.msGetUserMedia),n=e?AlloyEditor.Strings.cameraDisabled:AlloyEditor.Strings.camera;return u.default.createElement("button",{"aria-label":n,className:"ae-button","data-type":"button-image-camera",disabled:e,onClick:this.props.requestExclusive.bind(t.key),tabIndex:this.props.tabIndex,title:n},u.default.createElement(l.default,{editor:this.props.editor,symbol:"camera"}))}}]),t}(u.default.Component);h.key="camera",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(15),i=h(o),a=n(2),l=h(a),s=n(5),u=h(s),c=n(1),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.code,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-code",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.code},p.default.createElement(f.default,{editor:this.props.editor,symbol:"code"}))}}]),t}(p.default.Component);g.defaultProps={style:{element:"pre"}},g.key="code",t.default=(0,i.default)((0,l.default)((0,u.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),i=y(o),a=n(2),l=y(a),s=n(1),u=y(s),c=n(14),f=y(c),d=n(0),p=y(d),h=n(7),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),r(t,[{key:"render",value:function(){var e=this,t=AlloyEditor.Strings.normal,n="text-body",r=this._getColors();r.some(function(r){e._checkActive(r.style)&&(t=r.name,n=r.style.attributes.class)});var o=this.props,i=o.editor,a=o.expanded,l=o.tabIndex,s=o.toggleDropdown,c={activeStyle:t,editor:i,onDismiss:s,showRemoveStylesItem:!1,styles:r};return p.default.createElement("div",{className:"ae-container ae-has-dropdown"},p.default.createElement("button",{"aria-expanded":a,className:"ae-toolbar-element",onClick:s,role:"combobox",tabIndex:l},p.default.createElement("span",{className:n},p.default.createElement(u.default,{editor:i,symbol:"text-editor"}))),a&&p.default.createElement(f.default,c))}},{key:"_applyStyle",value:function(e){var t=this,n=this.props.editor.get("nativeEditor"),r={element:"span",attributes:{class:e}},o=new CKEDITOR.style(r);n.getSelection().lock(),this._getColors().forEach(function(e){t._checkActive(e.style)&&n.removeStyle(new CKEDITOR.style(e.style))}),n.applyStyle(o),n.getSelection().unlock(),n.fire("actionPerformed",this)}},{key:"_checkActive",value:function(e){var t=this.props.editor.get("nativeEditor");e=CKEDITOR.tools.merge({element:"span"},e);var n=new CKEDITOR.style(e);return n.checkActive(t.elementPath(),t)}},{key:"_getColors",value:function(){return this.props.styles||[{name:AlloyEditor.Strings.normal,style:{element:"span",attributes:{class:"text-body"}},styleFn:this._applyStyle.bind(this,"")},{name:AlloyEditor.Strings.primary,style:{element:"span",attributes:{class:"text-primary"}},styleFn:this._applyStyle.bind(this,"text-primary")},{name:AlloyEditor.Strings.disabled,style:{element:"span",attributes:{class:"text-secondary"}},styleFn:this._applyStyle.bind(this,"text-secondary")},{name:AlloyEditor.Strings.success,style:{element:"span",attributes:{class:"text-success"}},styleFn:this._applyStyle.bind(this,"text-success")},{name:AlloyEditor.Strings.danger,style:{element:"span",attributes:{class:"text-danger"}},styleFn:this._applyStyle.bind(this,"text-danger")},{name:AlloyEditor.Strings.warning,style:{element:"span",attributes:{class:"text-warning"}},styleFn:this._applyStyle.bind(this,"text-warning")},{name:AlloyEditor.Strings.info,style:{element:"span",attributes:{class:"text-info"}},styleFn:this._applyStyle.bind(this,"text-info")}]}}]),t}(p.default.Component);_.key="color",_.propTypes={editor:m.default.object.isRequired,expanded:m.default.bool,label:m.default.string,showRemoveStylesItem:m.default.bool,styles:m.default.arrayOf(m.default.object),tabIndex:m.default.number,toggleDropdown:m.default.func},t.default=(0,i.default)((0,l.default)(_))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(31),i=d(o),a=n(1),l=d(a),s=n(12),u=d(s),c=n(0),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var e,n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._requestExclusive=function(){r.props.requestExclusive(t.key)},o=n,h(r,o)}return m(t,e),r(t,[{key:"render",value:function(){return this.props.renderExclusive?f.default.createElement(i.default,this.props):f.default.createElement("button",{"aria-label":AlloyEditor.Strings.link,className:"ae-button","data-type":"button-embed",onClick:this._requestExclusive,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.link},f.default.createElement(l.default,{editor:this.props.editor,symbol:"plus"}))}}]),t}(f.default.Component);y.defaultProps={keystroke:{fn:"_requestExclusive",keys:CKEDITOR.CTRL+CKEDITOR.SHIFT+76}},y.key="embed",t.default=(0,u.default)(y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(32),i=h(o),a=n(1),l=h(a),s=n(10),u=h(s),c=n(7),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){return this.props.renderExclusive?p.default.createElement(i.default,this.props):p.default.createElement("button",{className:"ae-button","data-type":"button-embed-video",onClick:this.props.requestExclusive,tabIndex:this.props.tabIndex},p.default.createElement(l.default,{editor:this.props.editor,symbol:"video"}))}}]),t}(p.default.Component);g.key="embedVideo",g.propTypes={editor:f.default.object.isRequired,label:f.default.string,tabIndex:f.default.number},t.default=(0,u.default)(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(15),i=h(o),a=n(2),l=h(a),s=n(5),u=h(s),c=n(1),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.h1,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-h1",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.h1},p.default.createElement(f.default,{editor:this.props.editor,symbol:"h1"}))}}]),t}(p.default.Component);g.defaultProps={style:{element:"h1"}},g.key="h1",t.default=(0,i.default)((0,l.default)((0,u.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(15),i=h(o),a=n(2),l=h(a),s=n(5),u=h(s),c=n(1),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.h2,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-h2",onClick:this.applyStyle,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.h2},p.default.createElement(f.default,{editor:this.props.editor,symbol:"h2"}))}}]),t}(p.default.Component);g.defaultProps={style:{element:"h2"}},g.key="h2",t.default=(0,i.default)((0,l.default)((0,u.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=d(o),a=n(5),l=d(a),s=n(1),u=d(s),c=n(0),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),r(t,[{key:"render",value:function(){return f.default.createElement("button",{"aria-label":AlloyEditor.Strings.horizontalrule,className:"ae-button","data-type":"button-hline",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.horizontalrule},f.default.createElement(u.default,{editor:this.props.editor,symbol:"hr"}))}}]),t}(f.default.Component);y.defaultProps={command:"horizontalrule",style:{element:"hr"}},y.key="hline",t.default=(0,i.default)((0,l.default)(y))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.alignCenter,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-image-align-center",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.alignCenter},p.default.createElement(u.default,{editor:this.props.editor,symbol:"align-image-center"}))}}]),t}(p.default.Component);g.defaultProps={command:"justifycenter"},g.key="imageCenter",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.alignLeft,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-image-align-left",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.alignLeft},p.default.createElement(u.default,{editor:this.props.editor,symbol:"align-image-left"}))}}]),t}(p.default.Component);g.defaultProps={command:"justifyleft"},g.key="imageLeft",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.alignRight,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-image-align-right",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.alignRight},p.default.createElement(u.default,{editor:this.props.editor,symbol:"align-image-right"}))}}]),t}(p.default.Component);g.defaultProps={command:"justifyright"},g.key="imageRight",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(){n.fileInput.current.click()},n.fileInput=l.default.createRef(),n}return f(t,e),r(t,[{key:"render",value:function(){var e={display:"none"};return l.default.createElement("div",null,l.default.createElement("button",{"aria-label":AlloyEditor.Strings.image,className:"ae-button","data-type":"button-image",onClick:this.handleClick,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.image},l.default.createElement(i.default,{editor:this.props.editor,symbol:"document-image"})),l.default.createElement("input",{accept:"image/*",onChange:this._onInputChange,ref:this.fileInput,style:e,type:"file"}))}},{key:"_onInputChange",value:function(){var e=this,t=this.fileInput.current;if(t.files.length){var n=new FileReader,r=t.files[0];n.onload=function(t){var n=e.props.editor.get("nativeEditor"),o=n.fire("beforeImageAdd",{imageFiles:r});if(o){var i=CKEDITOR.dom.element.createFromHtml('<img src="'+t.target.result+'">');n.insertElement(i),n.fire("actionPerformed",e);var a={el:i,file:r};n.fire("imageAdd",a)}},n.readAsDataURL(r),t.value=""}}}]),t}(l.default.Component);d.key="image",t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.indent,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-indent-block",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.indent},p.default.createElement(u.default,{editor:this.props.editor,symbol:"indent-less"}))}}]),t}(p.default.Component);g.defaultProps={command:"indent"},g.key="indentBlock",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=y(o),a=n(1),l=y(a),s=n(12),u=y(s),c=n(2),f=y(c),d=n(5),p=y(d),h=n(0),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return m.default.createElement("button",{"aria-label":AlloyEditor.Strings.italic,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-italic",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.italic},m.default.createElement(l.default,{editor:this.props.editor,symbol:"italic"}))}}]),t}(m.default.Component);_.defaultProps={command:"italic",keystroke:{fn:"execCommand",keys:CKEDITOR.CTRL+73},style:"coreStyles_italic"},_.key="italic",t.default=(0,i.default)((0,u.default)((0,f.default)((0,p.default)(_))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=d(o),a=n(1),l=d(a),s=n(7),u=d(s),c=n(0),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var e,n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._handleClick=function(){r.execCommand(null)},o=n,h(r,o)}return m(t,e),r(t,[{key:"render",value:function(){return f.default.createElement("button",{className:"ae-button","data-type":"button-audio",onClick:this._handleClick,tabIndex:this.props.tabIndex},f.default.createElement(l.default,{editor:this.props.editor,symbol:"audio"}))}}]),t}(f.default.Component);y.defaultProps={command:"audioselector"},y.key="audio",y.propTypes={editor:u.default.object.isRequired},t.default=(0,i.default)(y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=d(o),a=n(1),l=d(a),s=n(7),u=d(s),c=n(0),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var e,n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._handleClick=function(){r.execCommand(null)},o=n,h(r,o)}return m(t,e),r(t,[{key:"render",value:function(){return f.default.createElement("button",{className:"ae-button","data-type":"button-image",onClick:this._handleClick,tabIndex:this.props.tabIndex},f.default.createElement(l.default,{editor:this.props.editor,symbol:"picture"}))}}]),t}(f.default.Component);y.defaultProps={command:"imageselector"},y.key="image",y.propTypes={editor:u.default.object.isRequired},t.default=(0,i.default)(y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=d(o),a=n(1),l=d(a),s=n(7),u=d(s),c=n(0),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var e,n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._handleClick=function(){r.execCommand(null)},o=n,h(r,o)}return m(t,e),r(t,[{key:"render",value:function(){return f.default.createElement("button",{className:"ae-button","data-type":"button-video",onClick:this._handleClick,tabIndex:this.props.tabIndex},f.default.createElement(l.default,{editor:this.props.editor,symbol:"video"}))}}]),t}(f.default.Component);y.defaultProps={command:"videoselector"},y.key="video",y.propTypes={editor:u.default.object.isRequired},t.default=(0,i.default)(y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(12),i=g(o),a=n(34),l=g(a),s=n(37),u=g(s),c=n(10),f=g(c),d=n(2),p=g(d),h=n(7),m=g(h),y=n(0),b=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(){return v(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),r(t,[{key:"render",value:function(){return this.props.renderExclusive?(this.props=this.mergeButtonCfgProps(),b.default.createElement(u.default,this.props)):b.default.createElement(l.default,this.props)}},{key:"_requestExclusive",value:function(){this.props.requestExclusive(t.key)}}]),t}(b.default.Component);w.defaultProps={keystroke:{fn:"_requestExclusive",keys:CKEDITOR.CTRL+76}},w.key="linkBrowse",w.propTypes={editor:m.default.object.isRequired,label:m.default.string,tabIndex:m.default.number},t.default=(0,f.default)((0,p.default)((0,i.default)(w)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(1),l=h(a),s=n(2),u=h(s),c=n(5),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.numberedlist,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-ol",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.numberedlist},p.default.createElement(l.default,{editor:this.props.editor,symbol:"list-ol"}))}}]),t}(p.default.Component);g.defaultProps={command:"numberedlist",style:{element:"ol"}},g.key="ol",t.default=(0,i.default)((0,u.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.outdent,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-outdent-block",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.outdent},p.default.createElement(u.default,{editor:this.props.editor,symbol:"indent-more"}))}}]),t}(p.default.Component);g.defaultProps={command:"outdent"},g.key="outdentBlock",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){var e=void 0,n=void 0;this.props.expanded&&(n=t.key+"List",e=u.default.createElement(i.default,{commands:this._getCommands(),editor:this.props.editor,listId:n,inlineIcons:!1,onDismiss:this.props.toggleDropdown}));var r=this.props.editor.get("nativeEditor"),o=this._getCommands().filter(function(e){var t=r.getCommand(e.command);return!!t&&t.state===CKEDITOR.TRISTATE_ON}).pop(),a=o.icon;return u.default.createElement("div",{className:"ae-container-dropdown ae-container-dropdown-xsmall ae-has-dropdown"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":o.label,"aria-owns":n,className:"ae-toolbar-element",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.row},u.default.createElement("div",{className:"ae-container"},u.default.createElement(l.default,{editor:this.props.editor,symbol:a}),u.default.createElement(l.default,{editor:this.props.editor,symbol:"caret-bottom"}))),e)}},{key:"_getCommands",value:function(){return this.props.commands||[{command:"justifyleft",icon:"align-left",label:AlloyEditor.Strings.alignLeft},{command:"justifycenter",icon:"align-center",label:AlloyEditor.Strings.alignCenter},{command:"justifyright",icon:"align-right",label:AlloyEditor.Strings.alignRight},{command:"justifyblock",icon:"align-justify",label:AlloyEditor.Strings.alignJustify}]}}]),t}(u.default.Component);h.key="paragraphAlign",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.alignLeft,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-align-left",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.alignLeft},p.default.createElement(u.default,{editor:this.props.editor,symbol:"align-left"}))}}]),t}(p.default.Component);g.defaultProps={command:"justifyleft"},g.key="paragraphLeft",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.alignRight,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-align-right",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.alignRight},p.default.createElement(u.default,{editor:this.props.editor,symbol:"align-right"}))}}]),t}(p.default.Component);g.defaultProps={command:"justifyright"},g.key="paragraphRight",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.alignCenter,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-center",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.alignCenter},p.default.createElement(u.default,{editor:this.props.editor,symbol:"align-center"}))}}]),t}(p.default.Component);g.defaultProps={command:"justifycenter"},g.key="paragraphCenter",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(9),l=h(a),s=n(1),u=h(s),c=n(2),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.alignJustify,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-paragraph-justify",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.alignJustify},p.default.createElement(u.default,{editor:this.props.editor,symbol:"align-justify"}))}}]),t}(p.default.Component);g.defaultProps={command:"justifyblock"},g.key="paragraphJustify",t.default=(0,i.default)((0,l.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(1),l=h(a),s=n(2),u=h(s),c=n(5),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.quote,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-quote",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.quote},p.default.createElement(l.default,{editor:this.props.editor,symbol:"quote-right"}))}}]),t}(p.default.Component);g.defaultProps={command:"blockquote",style:{element:"blockquote"}},g.key="quote",t.default=(0,i.default)((0,u.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){return u.default.createElement("button",{"aria-label":AlloyEditor.Strings.removeformat,className:"ae-button","data-type":"button-removeformat",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.removeformat},u.default.createElement(l.default,{editor:this.props.editor,symbol:"remove-style"}))}}]),t}(u.default.Component);h.defaultProps={command:"removeFormat"},h.key="removeFormat",t.default=(0,i.default)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return o.default.createElement("span",{className:"ae-separator"})}a.key="separator",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=y(o),a=n(10),l=y(a),s=n(2),u=y(s),c=n(14),f=y(c),d=n(7),p=y(d),h=n(0),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),r(t,[{key:"render",value:function(){var e=this,t="1.0x",n=this._getSpacings();n.forEach(function(n){e._checkActive(n.style)&&(t=n.name)});var r=this.props,o=r.editor,a=r.expanded,l=r.tabIndex,s=r.toggleDropdown,u={activeStyle:t,editor:o,onDismiss:s,showRemoveStylesItem:!1,styles:n};return m.default.createElement("div",{className:"ae-container ae-container-dropdown-small ae-has-dropdown"},m.default.createElement("button",{"aria-expanded":a,className:"ae-toolbar-element",onClick:s,role:"combobox",tabIndex:l},m.default.createElement("span",null,m.default.createElement(i.default,{editor:o,symbol:"separator"}),"",t)),a&&m.default.createElement(f.default,u))}},{key:"_applyStyle",value:function(e){var t=this,n=this.props.editor.get("nativeEditor"),r={element:"div",attributes:{class:e}},o=new CKEDITOR.style(r);n.getSelection().lock(),this._getSpacings().forEach(function(e){t._checkActive(e.style)&&n.removeStyle(new CKEDITOR.style(e.style))}),n.applyStyle(o),n.getSelection().unlock(),n.fire("actionPerformed",this)}},{key:"_checkActive",value:function(e){var t=this.props.editor.get("nativeEditor"),n=!0,r=t.elementPath();return r&&r.lastElement?e.attributes.class.split(" ").forEach(function(e){n=n&&r.lastElement.hasClass(e)}):n=!1,n}},{key:"_getSpacings",value:function(){return this.props.styles||[{name:"1.0x",style:{element:"div",attributes:{class:""},type:1},styleFn:this._applyStyle.bind(this,"")},{name:"1.5x",style:{element:"div",attributes:{class:"mt-1 mb-1"},type:1},styleFn:this._applyStyle.bind(this,"mt-1 mb-1")},{name:"2.0x",style:{element:"div",attributes:{class:"mt-2 mb-2"},type:1},styleFn:this._applyStyle.bind(this,"mt-2 mb-2")},{name:"3.0x",style:{element:"div",attributes:{class:"mt-3 mb-3"},type:1},styleFn:this._applyStyle.bind(this,"mt-3 mb-3")},{name:"4.0x",style:{element:"div",attributes:{class:"mt-4 mb-4"},type:1},styleFn:this._applyStyle.bind(this,"mt-4 mb-4")},{name:"5.0x",style:{element:"div",attributes:{class:"mt-5 mb-5"},type:1},styleFn:this._applyStyle.bind(this,"mt-5 mb-5")}]}}]),t}(m.default.Component);_.key="spacing",_.propTypes={editor:p.default.object.isRequired,expanded:p.default.bool,label:p.default.string,showRemoveStylesItem:p.default.bool,styles:p.default.arrayOf(p.default.object),tabIndex:p.default.number,toggleDropdown:p.default.func},t.default=(0,l.default)((0,u.default)(_))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(1),l=h(a),s=n(2),u=h(s),c=n(5),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.strike,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-strike",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.strike},p.default.createElement(l.default,{editor:this.props.editor,symbol:"strikethrough"}))}}]),t}(p.default.Component);g.defaultProps={command:"strike",style:"coreStyles_strike"},g.key="strike",t.default=(0,i.default)((0,u.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=c(o),a=n(14),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){var e=this,t=AlloyEditor.Strings.normal,n=this._getStyles();n.forEach(function(n){e._checkActive(n.style)&&(t=n.name)});var r=void 0;return this.props.expanded&&(r=u.default.createElement(l.default,{activeStyle:t,editor:this.props.editor,onDismiss:this.props.toggleDropdown,showRemoveStylesItem:this.props.showRemoveStylesItem,styles:n})),u.default.createElement("div",{className:"ae-container-dropdown ae-has-dropdown"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":AlloyEditor.Strings.styles+" "+t,className:"ae-toolbar-element",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.styles+" "+t},u.default.createElement("div",{className:"ae-container"},u.default.createElement("span",{className:"ae-container-dropdown-selected-item"},t),u.default.createElement(i.default,{editor:this.props.editor,symbol:"caret-bottom"}))),r)}},{key:"_checkActive",value:function(e){var t=this.props.editor.get("nativeEditor");e=CKEDITOR.tools.merge({element:"span"},e);var n=new CKEDITOR.style(e);return n.checkActive(t.elementPath(),t)}},{key:"_getStyles",value:function(){return this.props.styles||[{name:AlloyEditor.Strings.h1,style:{element:"h1"}},{name:AlloyEditor.Strings.h2,style:{element:"h2"}},{name:AlloyEditor.Strings.formatted,style:{element:"pre"}},{name:AlloyEditor.Strings.cite,style:{element:"cite"}},{name:AlloyEditor.Strings.code,style:{element:"code"}}]}}]),t}(u.default.Component);h.key="styles",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(1),l=h(a),s=n(2),u=h(s),c=n(5),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.subscript,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-subscript",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.subscript},p.default.createElement(l.default,{editor:this.props.editor,symbol:"subscript"}))}}]),t}(p.default.Component);g.defaultProps={command:"subscript",style:"coreStyles_subscript"},g.key="subscript",t.default=(0,i.default)((0,u.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(1),l=h(a),s=n(2),u=h(s),c=n(5),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.superscript,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-superscript",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.superscript},p.default.createElement(l.default,{editor:this.props.editor,symbol:"superscript"}))}}]),t}(p.default.Component);g.defaultProps={command:"superscript",style:"coreStyles_superscript"},g.key="superscript",t.default=(0,i.default)((0,u.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){var e=void 0,n=void 0;return this.props.expanded&&(n=t.key+"List",e=u.default.createElement(i.default,{commands:this._getCommands(),editor:this.props.editor,listId:n,onDismiss:this.props.toggleDropdown})),u.default.createElement("div",{className:"ae-container ae-has-dropdown"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":AlloyEditor.Strings.cell,"aria-owns":n,className:"ae-button",onClick:this.props.toggleDropdown,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.cell},u.default.createElement(l.default,{editor:this.props.editor,symbol:"add-cell"})),e)}},{key:"_getCommands",value:function(){return this.props.commands||[{command:"cellInsertBefore",label:AlloyEditor.Strings.cellInsertBefore},{command:"cellInsertAfter",label:AlloyEditor.Strings.cellInsertAfter},{command:"cellDelete",label:AlloyEditor.Strings.cellDelete},{command:"cellMerge",label:AlloyEditor.Strings.cellMerge},{command:"cellMergeDown",label:AlloyEditor.Strings.cellMergeDown},{command:"cellMergeRight",label:AlloyEditor.Strings.cellMergeRight},{command:"cellHorizontalSplit",label:AlloyEditor.Strings.cellSplitHorizontal},{command:"cellVerticalSplit",label:AlloyEditor.Strings.cellSplitVertical}]}}]),t}(u.default.Component);h.key="tableCell",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){var e=void 0,n=void 0;return this.props.expanded&&(n=t.key+"List",e=u.default.createElement(i.default,{commands:this._getCommands(),editor:this.props.editor,listId:n,onDismiss:this.props.toggleDropdown})),u.default.createElement("div",{className:"ae-container ae-has-dropdown"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":AlloyEditor.Strings.column,"aria-owns":n,className:"ae-button",onClick:this.props.toggleDropdown,role:"listbox",tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.column},u.default.createElement(l.default,{editor:this.props.editor,symbol:"add-column"})),e)}},{key:"_getCommands",value:function(){return this.props.commands||[{command:"columnInsertBefore",label:AlloyEditor.Strings.columnInsertBefore},{command:"columnInsertAfter",label:AlloyEditor.Strings.columnInsertAfter},{command:"columnDelete",label:AlloyEditor.Strings.columnDelete}]}}]),t}(u.default.Component);h.key="tableColumn",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){var e=void 0,n=void 0;this.props.expanded&&(n=t.key+"List",e=u.default.createElement(i.default,{commands:this._getCommands(),editor:this.props.editor,listId:n,onDismiss:this.props.toggleDropdown}));var r=new CKEDITOR.Table(this.props.editor.get("nativeEditor")).getHeading(),o=AlloyEditor.Strings.headers+":",a=AlloyEditor.Strings["headers"+r];return u.default.createElement("div",{className:"ae-container-dropdown-xl ae-has-dropdown"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":"",className:"ae-toolbar-element",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:""},u.default.createElement("div",{className:"ae-container"},u.default.createElement("span",{className:"ae-container-dropdown-selected-item"},o," ",u.default.createElement("strong",null,a)),u.default.createElement(l.default,{editor:this.props.editor,symbol:"caret-bottom"}))),e)}},{key:"_getCommands",value:function(){return this.props.commands||[{command:"tableHeadingNone",label:AlloyEditor.Strings.headersNone},{command:"tableHeadingRow",label:AlloyEditor.Strings.headersRow},{command:"tableHeadingColumn",label:AlloyEditor.Strings.headersColumn},{command:"tableHeadingBoth",label:AlloyEditor.Strings.headersBoth}]}}]),t}(u.default.Component);h.key="tableHeading",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=s(o),a=n(0),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){var e,n,r,o;u(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r._removeTable=function(){var e=r.props.editor.get("nativeEditor"),t=new CKEDITOR.Table(e);t.remove(),e.fire("actionPerformed",r)},o=n,c(r,o)}return f(t,e),r(t,[{key:"render",value:function(){return l.default.createElement("button",{"aria-label":AlloyEditor.Strings.deleteTable,className:"ae-button","data-type":"button-table-remove",onClick:this._removeTable,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.deleteTable},l.default.createElement(i.default,{editor:this.props.editor,symbol:"trash"}))}}]),t}(l.default.Component);d.key="tableRemove",t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),i=c(o),a=n(1),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){var e=void 0,n=void 0;return this.props.expanded&&(n=t.key+"List",e=u.default.createElement(i.default,{commands:this._getCommands(),editor:this.props.editor,listId:n,onDismiss:this.props.toggleDropdown})),u.default.createElement("div",{className:"ae-container ae-has-dropdown"},u.default.createElement("button",{"aria-expanded":this.props.expanded,"aria-label":AlloyEditor.Strings.row,"aria-owns":n,className:"ae-button",onClick:this.props.toggleDropdown,role:"combobox",tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.row},u.default.createElement(l.default,{editor:this.props.editor,symbol:"add-row"})),e)}},{key:"_getCommands",value:function(){return this.props.commands||[{command:"rowInsertBefore",label:AlloyEditor.Strings.rowInsertBefore},{command:"rowInsertAfter",label:AlloyEditor.Strings.rowInsertAfter},{command:"rowDelete",label:AlloyEditor.Strings.rowDelete}]}}]),t}(u.default.Component);h.key="tableRow",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=c(o),a=n(38),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"render",value:function(){return this.props.renderExclusive?u.default.createElement(l.default,this.props):u.default.createElement("button",{"aria-label":AlloyEditor.Strings.table,className:"ae-button","data-type":"button-table",onClick:this.props.requestExclusive,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.table},u.default.createElement(i.default,{editor:this.props.editor,symbol:"table"}))}}]),t}(u.default.Component);h.key="table",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=c(o),a=n(2),l=c(a),s=n(0),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=280,m=function(e){function t(){var e,n,r,o;f(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n=r,r.handleClick=function(){var e=r.props.editor.get("nativeEditor"),t=new CKEDITOR.Link(e);r.isActive()?t.remove(t.getFromSelection()):t.create(r._getHref(),{class:"ae-twitter-link",target:"_blank"}),e.fire("actionPerformed",r)},o=n,d(r,o)}return p(t,e),r(t,[{key:"isActive",value:function(){var e=new CKEDITOR.Link(this.props.editor.get("nativeEditor")).getFromSelection();return e&&-1!==e.getAttribute("href").indexOf("twitter.com/intent/tweet")}},{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return u.default.createElement("button",{"aria-label":AlloyEditor.Strings.twitter,className:e,"data-type":"button-twitter",onClick:this.handleClick,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.twitter},u.default.createElement(i.default,{editor:this.props.editor,symbol:"twitter"}))}},{key:"_getHref",value:function(){var e=this.props.editor.get("nativeEditor"),t=e.getSelection().getSelectedText().substring(0,h),n=this.props.url,r=this.props.via,o="https://twitter.com/intent/tweet?text="+t;return n&&(o+="&url="+n),r&&(o+="&via="+r),o}}]),t}(u.default.Component);m.key="twitter",t.default=(0,l.default)(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=h(o),a=n(1),l=h(a),s=n(2),u=h(s),c=n(5),f=h(c),d=n(0),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return p.default.createElement("button",{"aria-label":AlloyEditor.Strings.bulletedlist,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-ul",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.bulletedlist},p.default.createElement(l.default,{editor:this.props.editor,symbol:"list-ul"}))}}]),t}(p.default.Component);g.defaultProps={command:"bulletedlist",style:{element:"ul"}},g.key="ul",t.default=(0,i.default)((0,u.default)((0,f.default)(g)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=y(o),a=n(1),l=y(a),s=n(12),u=y(s),c=n(2),f=y(c),d=n(5),p=y(d),h=n(0),m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),r(t,[{key:"render",value:function(){var e="ae-button "+this.getStateClasses();return m.default.createElement("button",{"aria-label":AlloyEditor.Strings.underline,"aria-pressed":-1!==e.indexOf("pressed"),className:e,"data-type":"button-underline",onClick:this.execCommand,tabIndex:this.props.tabIndex,title:AlloyEditor.Strings.underline},m.default.createElement(l.default,{editor:this.props.editor,symbol:"underline"}))}}]),t}(m.default.Component);_.defaultProps={command:"underline",keystroke:{fn:"execCommand",keys:CKEDITOR.CTRL+85},style:"coreStyles_underline"},_.key="underline",t.default=(0,i.default)((0,u.default)((0,f.default)((0,p.default)(_))))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n(126),i=s(o),a=n(127),l=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=(r={},u(r,i.default.key,i.default),u(r,l.default.key,l.default),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=w(o),a=n(6),l=w(a),s=n(39),u=w(s),c=n(40),f=w(c),d=n(20),p=w(d),h=n(18),m=w(h),y=n(8),b=w(y),g=n(41),v=w(g),_=n(1),E=w(_);function w(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=1,S=2,I=function(e){function t(e){O(this,t);var n=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return k(t,e),r(t,[{key:"componentDidMount",value:function(){this._updatePosition()}},{key:"componentDidUpdate",value:function(e,t){this._updatePosition(),this.props.renderExclusive&&this.focus()}},{key:"render",value:function(){if(!this.state.itemExclusive&&this.props.editorEvent&&this.props.editorEvent.data.nativeEvent.target&&!this.props.editorEvent.data.nativeEvent.target.isContentEditable)return null;var e=this._getButtons(),t=this._getToolbarClassName();return i.default.createElement("div",{"aria-label":AlloyEditor.Strings.add,className:t,"data-tabindex":this.props.config.tabIndex||0,onFocus:this.focus.bind(this),onKeyDown:this.handleKey.bind(this),role:"toolbar",tabIndex:"-1"},i.default.createElement("div",{className:"ae-container"},e))}},{key:"_getButtons",value:function(){var e=void 0;return this.props.renderExclusive?e=this.getToolbarButtons(this.props.config.buttons):this.props.selectionData&&this.props.selectionData.region&&(e=i.default.createElement("button",{"aria-label":AlloyEditor.Strings.add,className:"ae-button ae-button-add",onClick:this.props.requestExclusive.bind(this,t.key),title:AlloyEditor.Strings.add},i.default.createElement(E.default,{editor:this.props.editor,symbol:"plus"}))),e}},{key:"_getToolbarClassName",value:function(){var e="ae-toolbar-add";return this.props.renderExclusive&&(e="ae-toolbar "+this.getArrowBoxClasses()),e}},{key:"_updatePosition",value:function(){var e=void 0;if(l.default.findDOMNode(this))if(this.props.renderExclusive)this.updatePosition(),this.show();else if(this.props.selectionData&&(e=this.props.selectionData.region),e){var t=l.default.findDOMNode(this),n=new CKEDITOR.dom.element(t),r=e.startRect||e,o=this.props.editor.get("nativeEditor"),i=o.editable().getClientRect(),a=void 0,s=this.props.config.position||this.props.position;a=s===T?i.left-t.offsetWidth-this.props.gutterExclusive.left+"px":i.right+this.props.gutterExclusive.left+"px",t.style.left=a,t.style.top=Math.floor((e.bottom+e.top)/2)+"px";var u=this.props.editor.get("uiNode"),c=u?u.scrollTop:0;"auto"!==o.element.getStyle("overflow")?t.style.top=Math.floor(e.top-t.offsetHeight/2+r.height/2+c)+"px":t.style.top=Math.floor(o.element.$.offsetTop+r.height/2-t.offsetHeight/2)+"px",t.style.opacity=1,n.removeClass("ae-arrow-box"),this.cancelAnimation()}}}]),t}(i.default.Component);I.key="add",I.left=T,I.right=S,I.defaultProps={circular:!0,descendants:".ae-button",gutterExclusive:{left:10,top:0},keys:{dismiss:[27],next:[39,40],prev:[37,38]},position:T},t.default=(0,f.default)((0,p.default)((0,m.default)((0,b.default)((0,v.default)((0,u.default)(I))))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=O(i),l=n(0),s=O(l),u=n(6),c=O(u),f=n(39),d=O(f),p=n(40),h=O(p),m=n(20),y=O(m),b=n(18),g=O(b),v=n(8),_=O(v),E=n(41),w=O(E);function O(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(e){C(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return T(t,e),o(t,[{key:"componentDidMount",value:function(){this._updatePosition()}},{key:"componentDidUpdate",value:function(e,t){this._updatePosition()}},{key:"render",value:function(){var e=this._getCurrentSelection();if(e){var t=this._getSelectionFunction(e.getArrowBoxClasses),n=void 0;n=t?t():this.getArrowBoxClasses();var o="ae-toolbar-styles "+n,i=e.buttons;"object"!==("undefined"===typeof i?"undefined":r(i))||Array.isArray(i)||(i=i[this.props.editor.get("mode")]||i["simple"]);var a=this.getToolbarButtonGroups(i,{manualSelection:this.props.editorEvent?this.props.editorEvent.data.manualSelection:null,selectionType:e.name}),l=a.filter(function(e){return Array.isArray(e)}).length>0,u="ae-container";return l&&(u+=" ae-container-column"),s.default.createElement("div",{"aria-label":AlloyEditor.Strings.styles,className:o,"data-tabindex":this.props.config.tabIndex||0,onFocus:this.focus.bind(this),onKeyDown:this.handleKey.bind(this),role:"toolbar",tabIndex:"-1"},s.default.createElement("div",{className:u},a.map(function(e,t){return Array.isArray(e)?s.default.createElement("div",{className:"ae-row",key:t},e.map(function(e){return e})):e})))}return null}},{key:"_getSelectionFunction",value:function(e){var t=void 0;if(a.default.isFunction(e))t=e;else if(a.default.isString(e)){var n=e.split("."),r=window,o=n.shift();while(o&&a.default.isObject(r)&&a.default.isObject(r[o]))r=r[o],o=n.shift();a.default.isFunction(r)&&(t=r)}return t}},{key:"_getCurrentSelection",value:function(){var e=this.props.editorEvent?this.props.editorEvent.data:null,t=void 0;return e&&this.props.config.selections.some(function(n){var r=this._getSelectionFunction(n.test),o=void 0;return r&&(o=e.manualSelection===n.name||r({data:e,editor:this.props.editor})),o&&(t=n),o},this),t}},{key:"_updatePosition",value:function(){if(c.default.findDOMNode(this)){var e=this._getCurrentSelection(),t=void 0;if(e){var n=this._getSelectionFunction(e.setPosition);n&&(t=n.call(this,{editor:this.props.editor,editorEvent:this.props.editorEvent,selectionData:this.props.selectionData}))}t||(this.updatePosition(),this.show())}}}]),t}(s.default.Component);S.defaultProps={circular:!0,descendants:".ae-input, .ae-button:not([disabled]), .ae-toolbar-element",keys:{dismiss:[27],next:[39,40],prev:[37,38]}},S.key="styles",t.default=(0,h.default)((0,y.default)((0,g.default)((0,_.default)((0,w.default)((0,d.default)(S))))))}]);
//# sourceMappingURL=alloy-editor-core-min.js.map